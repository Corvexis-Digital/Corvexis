var VN=e=>{throw TypeError(e)};var ny=(e,t,n)=>t.has(e)||VN("Cannot "+n);var Q=(e,t,n)=>(ny(e,t,"read from private field"),n?n.call(e):t.get(e)),mt=(e,t,n)=>t.has(e)?VN("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),tt=(e,t,n,r)=>(ny(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),Ot=(e,t,n)=>(ny(e,t,"access private method"),n);var Zp=(e,t,n,r)=>({set _(s){tt(e,t,s,n)},get _(){return Q(e,t,r)}});function C4(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in e)){const o=Object.getOwnPropertyDescriptor(r,s);o&&Object.defineProperty(e,s,o.get?o:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();var E4=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ad(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var ry={exports:{}},af={},sy={exports:{}},Bt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var WN;function P4(){if(WN)return Bt;WN=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),m=Symbol.iterator;function x(M){return M===null||typeof M!="object"?null:(M=m&&M[m]||M["@@iterator"],typeof M=="function"?M:null)}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,N={};function _(M,X,B){this.props=M,this.context=X,this.refs=N,this.updater=B||v}_.prototype.isReactComponent={},_.prototype.setState=function(M,X){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,X,"setState")},_.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function P(){}P.prototype=_.prototype;function T(M,X,B){this.props=M,this.context=X,this.refs=N,this.updater=B||v}var I=T.prototype=new P;I.constructor=T,S(I,_.prototype),I.isPureReactComponent=!0;var L=Array.isArray,z=Object.prototype.hasOwnProperty,$={current:null},V={key:!0,ref:!0,__self:!0,__source:!0};function W(M,X,B){var Ee,De={},Te=null,xe=null;if(X!=null)for(Ee in X.ref!==void 0&&(xe=X.ref),X.key!==void 0&&(Te=""+X.key),X)z.call(X,Ee)&&!V.hasOwnProperty(Ee)&&(De[Ee]=X[Ee]);var Pe=arguments.length-2;if(Pe===1)De.children=B;else if(1<Pe){for(var Ue=Array(Pe),Ce=0;Ce<Pe;Ce++)Ue[Ce]=arguments[Ce+2];De.children=Ue}if(M&&M.defaultProps)for(Ee in Pe=M.defaultProps,Pe)De[Ee]===void 0&&(De[Ee]=Pe[Ee]);return{$$typeof:e,type:M,key:Te,ref:xe,props:De,_owner:$.current}}function F(M,X){return{$$typeof:e,type:M.type,key:X,ref:M.ref,props:M.props,_owner:M._owner}}function Y(M){return typeof M=="object"&&M!==null&&M.$$typeof===e}function H(M){var X={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(B){return X[B]})}var ee=/\/+/g;function ve(M,X){return typeof M=="object"&&M!==null&&M.key!=null?H(""+M.key):X.toString(36)}function ae(M,X,B,Ee,De){var Te=typeof M;(Te==="undefined"||Te==="boolean")&&(M=null);var xe=!1;if(M===null)xe=!0;else switch(Te){case"string":case"number":xe=!0;break;case"object":switch(M.$$typeof){case e:case t:xe=!0}}if(xe)return xe=M,De=De(xe),M=Ee===""?"."+ve(xe,0):Ee,L(De)?(B="",M!=null&&(B=M.replace(ee,"$&/")+"/"),ae(De,X,B,"",function(Ce){return Ce})):De!=null&&(Y(De)&&(De=F(De,B+(!De.key||xe&&xe.key===De.key?"":(""+De.key).replace(ee,"$&/")+"/")+M)),X.push(De)),1;if(xe=0,Ee=Ee===""?".":Ee+":",L(M))for(var Pe=0;Pe<M.length;Pe++){Te=M[Pe];var Ue=Ee+ve(Te,Pe);xe+=ae(Te,X,B,Ue,De)}else if(Ue=x(M),typeof Ue=="function")for(M=Ue.call(M),Pe=0;!(Te=M.next()).done;)Te=Te.value,Ue=Ee+ve(Te,Pe++),xe+=ae(Te,X,B,Ue,De);else if(Te==="object")throw X=String(M),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.");return xe}function he(M,X,B){if(M==null)return M;var Ee=[],De=0;return ae(M,Ee,"","",function(Te){return X.call(B,Te,De++)}),Ee}function ge(M){if(M._status===-1){var X=M._result;X=X(),X.then(function(B){(M._status===0||M._status===-1)&&(M._status=1,M._result=B)},function(B){(M._status===0||M._status===-1)&&(M._status=2,M._result=B)}),M._status===-1&&(M._status=0,M._result=X)}if(M._status===1)return M._result.default;throw M._result}var Se={current:null},K={transition:null},fe={ReactCurrentDispatcher:Se,ReactCurrentBatchConfig:K,ReactCurrentOwner:$};function A(){throw Error("act(...) is not supported in production builds of React.")}return Bt.Children={map:he,forEach:function(M,X,B){he(M,function(){X.apply(this,arguments)},B)},count:function(M){var X=0;return he(M,function(){X++}),X},toArray:function(M){return he(M,function(X){return X})||[]},only:function(M){if(!Y(M))throw Error("React.Children.only expected to receive a single React element child.");return M}},Bt.Component=_,Bt.Fragment=n,Bt.Profiler=s,Bt.PureComponent=T,Bt.StrictMode=r,Bt.Suspense=d,Bt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=fe,Bt.act=A,Bt.cloneElement=function(M,X,B){if(M==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+M+".");var Ee=S({},M.props),De=M.key,Te=M.ref,xe=M._owner;if(X!=null){if(X.ref!==void 0&&(Te=X.ref,xe=$.current),X.key!==void 0&&(De=""+X.key),M.type&&M.type.defaultProps)var Pe=M.type.defaultProps;for(Ue in X)z.call(X,Ue)&&!V.hasOwnProperty(Ue)&&(Ee[Ue]=X[Ue]===void 0&&Pe!==void 0?Pe[Ue]:X[Ue])}var Ue=arguments.length-2;if(Ue===1)Ee.children=B;else if(1<Ue){Pe=Array(Ue);for(var Ce=0;Ce<Ue;Ce++)Pe[Ce]=arguments[Ce+2];Ee.children=Pe}return{$$typeof:e,type:M.type,key:De,ref:Te,props:Ee,_owner:xe}},Bt.createContext=function(M){return M={$$typeof:l,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},M.Provider={$$typeof:o,_context:M},M.Consumer=M},Bt.createElement=W,Bt.createFactory=function(M){var X=W.bind(null,M);return X.type=M,X},Bt.createRef=function(){return{current:null}},Bt.forwardRef=function(M){return{$$typeof:u,render:M}},Bt.isValidElement=Y,Bt.lazy=function(M){return{$$typeof:p,_payload:{_status:-1,_result:M},_init:ge}},Bt.memo=function(M,X){return{$$typeof:f,type:M,compare:X===void 0?null:X}},Bt.startTransition=function(M){var X=K.transition;K.transition={};try{M()}finally{K.transition=X}},Bt.unstable_act=A,Bt.useCallback=function(M,X){return Se.current.useCallback(M,X)},Bt.useContext=function(M){return Se.current.useContext(M)},Bt.useDebugValue=function(){},Bt.useDeferredValue=function(M){return Se.current.useDeferredValue(M)},Bt.useEffect=function(M,X){return Se.current.useEffect(M,X)},Bt.useId=function(){return Se.current.useId()},Bt.useImperativeHandle=function(M,X,B){return Se.current.useImperativeHandle(M,X,B)},Bt.useInsertionEffect=function(M,X){return Se.current.useInsertionEffect(M,X)},Bt.useLayoutEffect=function(M,X){return Se.current.useLayoutEffect(M,X)},Bt.useMemo=function(M,X){return Se.current.useMemo(M,X)},Bt.useReducer=function(M,X,B){return Se.current.useReducer(M,X,B)},Bt.useRef=function(M){return Se.current.useRef(M)},Bt.useState=function(M){return Se.current.useState(M)},Bt.useSyncExternalStore=function(M,X,B){return Se.current.useSyncExternalStore(M,X,B)},Bt.useTransition=function(){return Se.current.useTransition()},Bt.version="18.3.1",Bt}var qN;function zb(){return qN||(qN=1,sy.exports=P4()),sy.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var HN;function A4(){if(HN)return af;HN=1;var e=zb(),t=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,s=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function l(u,d,f){var p,m={},x=null,v=null;f!==void 0&&(x=""+f),d.key!==void 0&&(x=""+d.key),d.ref!==void 0&&(v=d.ref);for(p in d)r.call(d,p)&&!o.hasOwnProperty(p)&&(m[p]=d[p]);if(u&&u.defaultProps)for(p in d=u.defaultProps,d)m[p]===void 0&&(m[p]=d[p]);return{$$typeof:t,type:u,key:x,ref:v,props:m,_owner:s.current}}return af.Fragment=n,af.jsx=l,af.jsxs=l,af}var KN;function T4(){return KN||(KN=1,ry.exports=A4()),ry.exports}var i=T4(),b=zb();const jr=ad(b),zg=C4({__proto__:null,default:jr},[b]);var em={},iy={exports:{}},ts={},ay={exports:{}},oy={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var GN;function R4(){return GN||(GN=1,(function(e){function t(K,fe){var A=K.length;K.push(fe);e:for(;0<A;){var M=A-1>>>1,X=K[M];if(0<s(X,fe))K[M]=fe,K[A]=X,A=M;else break e}}function n(K){return K.length===0?null:K[0]}function r(K){if(K.length===0)return null;var fe=K[0],A=K.pop();if(A!==fe){K[0]=A;e:for(var M=0,X=K.length,B=X>>>1;M<B;){var Ee=2*(M+1)-1,De=K[Ee],Te=Ee+1,xe=K[Te];if(0>s(De,A))Te<X&&0>s(xe,De)?(K[M]=xe,K[Te]=A,M=Te):(K[M]=De,K[Ee]=A,M=Ee);else if(Te<X&&0>s(xe,A))K[M]=xe,K[Te]=A,M=Te;else break e}}return fe}function s(K,fe){var A=K.sortIndex-fe.sortIndex;return A!==0?A:K.id-fe.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var l=Date,u=l.now();e.unstable_now=function(){return l.now()-u}}var d=[],f=[],p=1,m=null,x=3,v=!1,S=!1,N=!1,_=typeof setTimeout=="function"?setTimeout:null,P=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function I(K){for(var fe=n(f);fe!==null;){if(fe.callback===null)r(f);else if(fe.startTime<=K)r(f),fe.sortIndex=fe.expirationTime,t(d,fe);else break;fe=n(f)}}function L(K){if(N=!1,I(K),!S)if(n(d)!==null)S=!0,ge(z);else{var fe=n(f);fe!==null&&Se(L,fe.startTime-K)}}function z(K,fe){S=!1,N&&(N=!1,P(W),W=-1),v=!0;var A=x;try{for(I(fe),m=n(d);m!==null&&(!(m.expirationTime>fe)||K&&!H());){var M=m.callback;if(typeof M=="function"){m.callback=null,x=m.priorityLevel;var X=M(m.expirationTime<=fe);fe=e.unstable_now(),typeof X=="function"?m.callback=X:m===n(d)&&r(d),I(fe)}else r(d);m=n(d)}if(m!==null)var B=!0;else{var Ee=n(f);Ee!==null&&Se(L,Ee.startTime-fe),B=!1}return B}finally{m=null,x=A,v=!1}}var $=!1,V=null,W=-1,F=5,Y=-1;function H(){return!(e.unstable_now()-Y<F)}function ee(){if(V!==null){var K=e.unstable_now();Y=K;var fe=!0;try{fe=V(!0,K)}finally{fe?ve():($=!1,V=null)}}else $=!1}var ve;if(typeof T=="function")ve=function(){T(ee)};else if(typeof MessageChannel<"u"){var ae=new MessageChannel,he=ae.port2;ae.port1.onmessage=ee,ve=function(){he.postMessage(null)}}else ve=function(){_(ee,0)};function ge(K){V=K,$||($=!0,ve())}function Se(K,fe){W=_(function(){K(e.unstable_now())},fe)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(K){K.callback=null},e.unstable_continueExecution=function(){S||v||(S=!0,ge(z))},e.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):F=0<K?Math.floor(1e3/K):5},e.unstable_getCurrentPriorityLevel=function(){return x},e.unstable_getFirstCallbackNode=function(){return n(d)},e.unstable_next=function(K){switch(x){case 1:case 2:case 3:var fe=3;break;default:fe=x}var A=x;x=fe;try{return K()}finally{x=A}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(K,fe){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var A=x;x=K;try{return fe()}finally{x=A}},e.unstable_scheduleCallback=function(K,fe,A){var M=e.unstable_now();switch(typeof A=="object"&&A!==null?(A=A.delay,A=typeof A=="number"&&0<A?M+A:M):A=M,K){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=A+X,K={id:p++,callback:fe,priorityLevel:K,startTime:A,expirationTime:X,sortIndex:-1},A>M?(K.sortIndex=A,t(f,K),n(d)===null&&K===n(f)&&(N?(P(W),W=-1):N=!0,Se(L,A-M))):(K.sortIndex=X,t(d,K),S||v||(S=!0,ge(z))),K},e.unstable_shouldYield=H,e.unstable_wrapCallback=function(K){var fe=x;return function(){var A=x;x=fe;try{return K.apply(this,arguments)}finally{x=A}}}})(oy)),oy}var YN;function I4(){return YN||(YN=1,ay.exports=R4()),ay.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var QN;function M4(){if(QN)return ts;QN=1;var e=zb(),t=I4();function n(a){for(var c="https://reactjs.org/docs/error-decoder.html?invariant="+a,h=1;h<arguments.length;h++)c+="&args[]="+encodeURIComponent(arguments[h]);return"Minified React error #"+a+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,s={};function o(a,c){l(a,c),l(a+"Capture",c)}function l(a,c){for(s[a]=c,a=0;a<c.length;a++)r.add(c[a])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},m={};function x(a){return d.call(m,a)?!0:d.call(p,a)?!1:f.test(a)?m[a]=!0:(p[a]=!0,!1)}function v(a,c,h,y){if(h!==null&&h.type===0)return!1;switch(typeof c){case"function":case"symbol":return!0;case"boolean":return y?!1:h!==null?!h.acceptsBooleans:(a=a.toLowerCase().slice(0,5),a!=="data-"&&a!=="aria-");default:return!1}}function S(a,c,h,y){if(c===null||typeof c>"u"||v(a,c,h,y))return!0;if(y)return!1;if(h!==null)switch(h.type){case 3:return!c;case 4:return c===!1;case 5:return isNaN(c);case 6:return isNaN(c)||1>c}return!1}function N(a,c,h,y,j,C,D){this.acceptsBooleans=c===2||c===3||c===4,this.attributeName=y,this.attributeNamespace=j,this.mustUseProperty=h,this.propertyName=a,this.type=c,this.sanitizeURL=C,this.removeEmptyString=D}var _={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(a){_[a]=new N(a,0,!1,a,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(a){var c=a[0];_[c]=new N(c,1,!1,a[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(a){_[a]=new N(a,2,!1,a.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(a){_[a]=new N(a,2,!1,a,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(a){_[a]=new N(a,3,!1,a.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(a){_[a]=new N(a,3,!0,a,null,!1,!1)}),["capture","download"].forEach(function(a){_[a]=new N(a,4,!1,a,null,!1,!1)}),["cols","rows","size","span"].forEach(function(a){_[a]=new N(a,6,!1,a,null,!1,!1)}),["rowSpan","start"].forEach(function(a){_[a]=new N(a,5,!1,a.toLowerCase(),null,!1,!1)});var P=/[\-:]([a-z])/g;function T(a){return a[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(a){var c=a.replace(P,T);_[c]=new N(c,1,!1,a,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(a){var c=a.replace(P,T);_[c]=new N(c,1,!1,a,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(a){var c=a.replace(P,T);_[c]=new N(c,1,!1,a,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(a){_[a]=new N(a,1,!1,a.toLowerCase(),null,!1,!1)}),_.xlinkHref=new N("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(a){_[a]=new N(a,1,!1,a.toLowerCase(),null,!0,!0)});function I(a,c,h,y){var j=_.hasOwnProperty(c)?_[c]:null;(j!==null?j.type!==0:y||!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(S(c,h,j,y)&&(h=null),y||j===null?x(c)&&(h===null?a.removeAttribute(c):a.setAttribute(c,""+h)):j.mustUseProperty?a[j.propertyName]=h===null?j.type===3?!1:"":h:(c=j.attributeName,y=j.attributeNamespace,h===null?a.removeAttribute(c):(j=j.type,h=j===3||j===4&&h===!0?"":""+h,y?a.setAttributeNS(y,c,h):a.setAttribute(c,h))))}var L=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,z=Symbol.for("react.element"),$=Symbol.for("react.portal"),V=Symbol.for("react.fragment"),W=Symbol.for("react.strict_mode"),F=Symbol.for("react.profiler"),Y=Symbol.for("react.provider"),H=Symbol.for("react.context"),ee=Symbol.for("react.forward_ref"),ve=Symbol.for("react.suspense"),ae=Symbol.for("react.suspense_list"),he=Symbol.for("react.memo"),ge=Symbol.for("react.lazy"),Se=Symbol.for("react.offscreen"),K=Symbol.iterator;function fe(a){return a===null||typeof a!="object"?null:(a=K&&a[K]||a["@@iterator"],typeof a=="function"?a:null)}var A=Object.assign,M;function X(a){if(M===void 0)try{throw Error()}catch(h){var c=h.stack.trim().match(/\n( *(at )?)/);M=c&&c[1]||""}return`
`+M+a}var B=!1;function Ee(a,c){if(!a||B)return"";B=!0;var h=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(c)if(c=function(){throw Error()},Object.defineProperty(c.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(c,[])}catch(je){var y=je}Reflect.construct(a,[],c)}else{try{c.call()}catch(je){y=je}a.call(c.prototype)}else{try{throw Error()}catch(je){y=je}a()}}catch(je){if(je&&y&&typeof je.stack=="string"){for(var j=je.stack.split(`
`),C=y.stack.split(`
`),D=j.length-1,G=C.length-1;1<=D&&0<=G&&j[D]!==C[G];)G--;for(;1<=D&&0<=G;D--,G--)if(j[D]!==C[G]){if(D!==1||G!==1)do if(D--,G--,0>G||j[D]!==C[G]){var Z=`
`+j[D].replace(" at new "," at ");return a.displayName&&Z.includes("<anonymous>")&&(Z=Z.replace("<anonymous>",a.displayName)),Z}while(1<=D&&0<=G);break}}}finally{B=!1,Error.prepareStackTrace=h}return(a=a?a.displayName||a.name:"")?X(a):""}function De(a){switch(a.tag){case 5:return X(a.type);case 16:return X("Lazy");case 13:return X("Suspense");case 19:return X("SuspenseList");case 0:case 2:case 15:return a=Ee(a.type,!1),a;case 11:return a=Ee(a.type.render,!1),a;case 1:return a=Ee(a.type,!0),a;default:return""}}function Te(a){if(a==null)return null;if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case V:return"Fragment";case $:return"Portal";case F:return"Profiler";case W:return"StrictMode";case ve:return"Suspense";case ae:return"SuspenseList"}if(typeof a=="object")switch(a.$$typeof){case H:return(a.displayName||"Context")+".Consumer";case Y:return(a._context.displayName||"Context")+".Provider";case ee:var c=a.render;return a=a.displayName,a||(a=c.displayName||c.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case he:return c=a.displayName||null,c!==null?c:Te(a.type)||"Memo";case ge:c=a._payload,a=a._init;try{return Te(a(c))}catch{}}return null}function xe(a){var c=a.type;switch(a.tag){case 24:return"Cache";case 9:return(c.displayName||"Context")+".Consumer";case 10:return(c._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return a=c.render,a=a.displayName||a.name||"",c.displayName||(a!==""?"ForwardRef("+a+")":"ForwardRef");case 7:return"Fragment";case 5:return c;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Te(c);case 8:return c===W?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof c=="function")return c.displayName||c.name||null;if(typeof c=="string")return c}return null}function Pe(a){switch(typeof a){case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function Ue(a){var c=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(c==="checkbox"||c==="radio")}function Ce(a){var c=Ue(a)?"checked":"value",h=Object.getOwnPropertyDescriptor(a.constructor.prototype,c),y=""+a[c];if(!a.hasOwnProperty(c)&&typeof h<"u"&&typeof h.get=="function"&&typeof h.set=="function"){var j=h.get,C=h.set;return Object.defineProperty(a,c,{configurable:!0,get:function(){return j.call(this)},set:function(D){y=""+D,C.call(this,D)}}),Object.defineProperty(a,c,{enumerable:h.enumerable}),{getValue:function(){return y},setValue:function(D){y=""+D},stopTracking:function(){a._valueTracker=null,delete a[c]}}}}function et(a){a._valueTracker||(a._valueTracker=Ce(a))}function Ve(a){if(!a)return!1;var c=a._valueTracker;if(!c)return!0;var h=c.getValue(),y="";return a&&(y=Ue(a)?a.checked?"true":"false":a.value),a=y,a!==h?(c.setValue(a),!0):!1}function _t(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}function yt(a,c){var h=c.checked;return A({},c,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:h??a._wrapperState.initialChecked})}function $t(a,c){var h=c.defaultValue==null?"":c.defaultValue,y=c.checked!=null?c.checked:c.defaultChecked;h=Pe(c.value!=null?c.value:h),a._wrapperState={initialChecked:y,initialValue:h,controlled:c.type==="checkbox"||c.type==="radio"?c.checked!=null:c.value!=null}}function dn(a,c){c=c.checked,c!=null&&I(a,"checked",c,!1)}function ln(a,c){dn(a,c);var h=Pe(c.value),y=c.type;if(h!=null)y==="number"?(h===0&&a.value===""||a.value!=h)&&(a.value=""+h):a.value!==""+h&&(a.value=""+h);else if(y==="submit"||y==="reset"){a.removeAttribute("value");return}c.hasOwnProperty("value")?yn(a,c.type,h):c.hasOwnProperty("defaultValue")&&yn(a,c.type,Pe(c.defaultValue)),c.checked==null&&c.defaultChecked!=null&&(a.defaultChecked=!!c.defaultChecked)}function zn(a,c,h){if(c.hasOwnProperty("value")||c.hasOwnProperty("defaultValue")){var y=c.type;if(!(y!=="submit"&&y!=="reset"||c.value!==void 0&&c.value!==null))return;c=""+a._wrapperState.initialValue,h||c===a.value||(a.value=c),a.defaultValue=c}h=a.name,h!==""&&(a.name=""),a.defaultChecked=!!a._wrapperState.initialChecked,h!==""&&(a.name=h)}function yn(a,c,h){(c!=="number"||_t(a.ownerDocument)!==a)&&(h==null?a.defaultValue=""+a._wrapperState.initialValue:a.defaultValue!==""+h&&(a.defaultValue=""+h))}var fn=Array.isArray;function Pn(a,c,h,y){if(a=a.options,c){c={};for(var j=0;j<h.length;j++)c["$"+h[j]]=!0;for(h=0;h<a.length;h++)j=c.hasOwnProperty("$"+a[h].value),a[h].selected!==j&&(a[h].selected=j),j&&y&&(a[h].defaultSelected=!0)}else{for(h=""+Pe(h),c=null,j=0;j<a.length;j++){if(a[j].value===h){a[j].selected=!0,y&&(a[j].defaultSelected=!0);return}c!==null||a[j].disabled||(c=a[j])}c!==null&&(c.selected=!0)}}function ds(a,c){if(c.dangerouslySetInnerHTML!=null)throw Error(n(91));return A({},c,{value:void 0,defaultValue:void 0,children:""+a._wrapperState.initialValue})}function Cr(a,c){var h=c.value;if(h==null){if(h=c.children,c=c.defaultValue,h!=null){if(c!=null)throw Error(n(92));if(fn(h)){if(1<h.length)throw Error(n(93));h=h[0]}c=h}c==null&&(c=""),h=c}a._wrapperState={initialValue:Pe(h)}}function hn(a,c){var h=Pe(c.value),y=Pe(c.defaultValue);h!=null&&(h=""+h,h!==a.value&&(a.value=h),c.defaultValue==null&&a.defaultValue!==h&&(a.defaultValue=h)),y!=null&&(a.defaultValue=""+y)}function Yr(a){var c=a.textContent;c===a._wrapperState.initialValue&&c!==""&&c!==null&&(a.value=c)}function _e(a){switch(a){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Fe(a,c){return a==null||a==="http://www.w3.org/1999/xhtml"?_e(c):a==="http://www.w3.org/2000/svg"&&c==="foreignObject"?"http://www.w3.org/1999/xhtml":a}var re,$e=(function(a){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(c,h,y,j){MSApp.execUnsafeLocalFunction(function(){return a(c,h,y,j)})}:a})(function(a,c){if(a.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in a)a.innerHTML=c;else{for(re=re||document.createElement("div"),re.innerHTML="<svg>"+c.valueOf().toString()+"</svg>",c=re.firstChild;a.firstChild;)a.removeChild(a.firstChild);for(;c.firstChild;)a.appendChild(c.firstChild)}});function dt(a,c){if(c){var h=a.firstChild;if(h&&h===a.lastChild&&h.nodeType===3){h.nodeValue=c;return}}a.textContent=c}var Tt={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},rn=["Webkit","ms","Moz","O"];Object.keys(Tt).forEach(function(a){rn.forEach(function(c){c=c+a.charAt(0).toUpperCase()+a.substring(1),Tt[c]=Tt[a]})});function Kt(a,c,h){return c==null||typeof c=="boolean"||c===""?"":h||typeof c!="number"||c===0||Tt.hasOwnProperty(a)&&Tt[a]?(""+c).trim():c+"px"}function vn(a,c){a=a.style;for(var h in c)if(c.hasOwnProperty(h)){var y=h.indexOf("--")===0,j=Kt(h,c[h],y);h==="float"&&(h="cssFloat"),y?a.setProperty(h,j):a[h]=j}}var Sn=A({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function He(a,c){if(c){if(Sn[a]&&(c.children!=null||c.dangerouslySetInnerHTML!=null))throw Error(n(137,a));if(c.dangerouslySetInnerHTML!=null){if(c.children!=null)throw Error(n(60));if(typeof c.dangerouslySetInnerHTML!="object"||!("__html"in c.dangerouslySetInnerHTML))throw Error(n(61))}if(c.style!=null&&typeof c.style!="object")throw Error(n(62))}}function Fn(a,c){if(a.indexOf("-")===-1)return typeof c.is=="string";switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var kn=null;function Ks(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var Xe=null,vi=null,ia=null;function Pc(a){if(a=Wd(a)){if(typeof Xe!="function")throw Error(n(280));var c=a.stateNode;c&&(c=pp(c),Xe(a.stateNode,a.type,c))}}function bd(a){vi?ia?ia.push(a):ia=[a]:vi=a}function Ac(){if(vi){var a=vi,c=ia;if(ia=vi=null,Pc(a),c)for(a=0;a<c.length;a++)Pc(c[a])}}function zh(a,c){return a(c)}function Uh(){}var bi=!1;function aa(a,c,h){if(bi)return a(c,h);bi=!0;try{return zh(a,c,h)}finally{bi=!1,(vi!==null||ia!==null)&&(Uh(),Ac())}}function oa(a,c){var h=a.stateNode;if(h===null)return null;var y=pp(h);if(y===null)return null;h=y[c];e:switch(c){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(y=!y.disabled)||(a=a.type,y=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!y;break e;default:a=!1}if(a)return null;if(h&&typeof h!="function")throw Error(n(231,c,typeof h));return h}var Ha=!1;if(u)try{var sn={};Object.defineProperty(sn,"passive",{get:function(){Ha=!0}}),window.addEventListener("test",sn,sn),window.removeEventListener("test",sn,sn)}catch{Ha=!1}function Un(a,c,h,y,j,C,D,G,Z){var je=Array.prototype.slice.call(arguments,3);try{c.apply(h,je)}catch(Le){this.onError(Le)}}var dl=!1,la=null,ca=!1,Ka=null,$x={onError:function(a){dl=!0,la=a}};function wi(a,c,h,y,j,C,D,G,Z){dl=!1,la=null,Un.apply($x,arguments)}function Ga(a,c,h,y,j,C,D,G,Z){if(wi.apply(this,arguments),dl){if(dl){var je=la;dl=!1,la=null}else throw Error(n(198));ca||(ca=!0,Ka=je)}}function Er(a){var c=a,h=a;if(a.alternate)for(;c.return;)c=c.return;else{a=c;do c=a,(c.flags&4098)!==0&&(h=c.return),a=c.return;while(a)}return c.tag===3?h:null}function fl(a){if(a.tag===13){var c=a.memoizedState;if(c===null&&(a=a.alternate,a!==null&&(c=a.memoizedState)),c!==null)return c.dehydrated}return null}function Vh(a){if(Er(a)!==a)throw Error(n(188))}function ji(a){var c=a.alternate;if(!c){if(c=Er(a),c===null)throw Error(n(188));return c!==a?null:a}for(var h=a,y=c;;){var j=h.return;if(j===null)break;var C=j.alternate;if(C===null){if(y=j.return,y!==null){h=y;continue}break}if(j.child===C.child){for(C=j.child;C;){if(C===h)return Vh(j),a;if(C===y)return Vh(j),c;C=C.sibling}throw Error(n(188))}if(h.return!==y.return)h=j,y=C;else{for(var D=!1,G=j.child;G;){if(G===h){D=!0,h=j,y=C;break}if(G===y){D=!0,y=j,h=C;break}G=G.sibling}if(!D){for(G=C.child;G;){if(G===h){D=!0,h=C,y=j;break}if(G===y){D=!0,y=C,h=j;break}G=G.sibling}if(!D)throw Error(n(189))}}if(h.alternate!==y)throw Error(n(190))}if(h.tag!==3)throw Error(n(188));return h.stateNode.current===h?a:c}function wd(a){return a=ji(a),a!==null?Ni(a):null}function Ni(a){if(a.tag===5||a.tag===6)return a;for(a=a.child;a!==null;){var c=Ni(a);if(c!==null)return c;a=a.sibling}return null}var jd=t.unstable_scheduleCallback,Tc=t.unstable_cancelCallback,An=t.unstable_shouldYield,ua=t.unstable_requestPaint,Zt=t.unstable_now,Wh=t.unstable_getCurrentPriorityLevel,Si=t.unstable_ImmediatePriority,hl=t.unstable_UserBlockingPriority,Ya=t.unstable_NormalPriority,Nd=t.unstable_LowPriority,ki=t.unstable_IdlePriority,pl=null,$r=null;function qh(a){if($r&&typeof $r.onCommitFiberRoot=="function")try{$r.onCommitFiberRoot(pl,a,void 0,(a.current.flags&128)===128)}catch{}}var Ct=Math.clz32?Math.clz32:Rc,Hh=Math.log,Kh=Math.LN2;function Rc(a){return a>>>=0,a===0?32:31-(Hh(a)/Kh|0)|0}var _i=64,ml=4194304;function Qa(a){switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return a&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return a}}function gl(a,c){var h=a.pendingLanes;if(h===0)return 0;var y=0,j=a.suspendedLanes,C=a.pingedLanes,D=h&268435455;if(D!==0){var G=D&~j;G!==0?y=Qa(G):(C&=D,C!==0&&(y=Qa(C)))}else D=h&~j,D!==0?y=Qa(D):C!==0&&(y=Qa(C));if(y===0)return 0;if(c!==0&&c!==y&&(c&j)===0&&(j=y&-y,C=c&-c,j>=C||j===16&&(C&4194240)!==0))return c;if((y&4)!==0&&(y|=h&16),c=a.entangledLanes,c!==0)for(a=a.entanglements,c&=y;0<c;)h=31-Ct(c),j=1<<h,y|=a[h],c&=~j;return y}function cn(a,c){switch(a){case 1:case 2:case 4:return c+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function xl(a,c){for(var h=a.suspendedLanes,y=a.pingedLanes,j=a.expirationTimes,C=a.pendingLanes;0<C;){var D=31-Ct(C),G=1<<D,Z=j[D];Z===-1?((G&h)===0||(G&y)!==0)&&(j[D]=cn(G,c)):Z<=c&&(a.expiredLanes|=G),C&=~G}}function da(a){return a=a.pendingLanes&-1073741825,a!==0?a:a&1073741824?1073741824:0}function fa(){var a=_i;return _i<<=1,(_i&4194240)===0&&(_i=64),a}function yl(a){for(var c=[],h=0;31>h;h++)c.push(a);return c}function ha(a,c,h){a.pendingLanes|=c,c!==536870912&&(a.suspendedLanes=0,a.pingedLanes=0),a=a.eventTimes,c=31-Ct(c),a[c]=h}function Ic(a,c){var h=a.pendingLanes&~c;a.pendingLanes=c,a.suspendedLanes=0,a.pingedLanes=0,a.expiredLanes&=c,a.mutableReadLanes&=c,a.entangledLanes&=c,c=a.entanglements;var y=a.eventTimes;for(a=a.expirationTimes;0<h;){var j=31-Ct(h),C=1<<j;c[j]=0,y[j]=-1,a[j]=-1,h&=~C}}function Mc(a,c){var h=a.entangledLanes|=c;for(a=a.entanglements;h;){var y=31-Ct(h),j=1<<y;j&c|a[y]&c&&(a[y]|=c),h&=~j}}var Qt=0;function Sd(a){return a&=-a,1<a?4<a?(a&268435455)!==0?16:536870912:4:1}var Gh,Ht,kd,Yh,Qh,mr=!1,Gs=[],fs=null,gr=null,Ys=null,Xa=new Map,_n=new Map,Qn=[],vl="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ja(a,c){switch(a){case"focusin":case"focusout":fs=null;break;case"dragenter":case"dragleave":gr=null;break;case"mouseover":case"mouseout":Ys=null;break;case"pointerover":case"pointerout":Xa.delete(c.pointerId);break;case"gotpointercapture":case"lostpointercapture":_n.delete(c.pointerId)}}function pa(a,c,h,y,j,C){return a===null||a.nativeEvent!==C?(a={blockedOn:c,domEventName:h,eventSystemFlags:y,nativeEvent:C,targetContainers:[j]},c!==null&&(c=Wd(c),c!==null&&Ht(c)),a):(a.eventSystemFlags|=y,c=a.targetContainers,j!==null&&c.indexOf(j)===-1&&c.push(j),a)}function Ci(a,c,h,y,j){switch(c){case"focusin":return fs=pa(fs,a,c,h,y,j),!0;case"dragenter":return gr=pa(gr,a,c,h,y,j),!0;case"mouseover":return Ys=pa(Ys,a,c,h,y,j),!0;case"pointerover":var C=j.pointerId;return Xa.set(C,pa(Xa.get(C)||null,a,c,h,y,j)),!0;case"gotpointercapture":return C=j.pointerId,_n.set(C,pa(_n.get(C)||null,a,c,h,y,j)),!0}return!1}function Xh(a){var c=Cl(a.target);if(c!==null){var h=Er(c);if(h!==null){if(c=h.tag,c===13){if(c=fl(h),c!==null){a.blockedOn=c,Qh(a.priority,function(){kd(h)});return}}else if(c===3&&h.stateNode.current.memoizedState.isDehydrated){a.blockedOn=h.tag===3?h.stateNode.containerInfo:null;return}}}a.blockedOn=null}function Br(a){if(a.blockedOn!==null)return!1;for(var c=a.targetContainers;0<c.length;){var h=Za(a.domEventName,a.eventSystemFlags,c[0],a.nativeEvent);if(h===null){h=a.nativeEvent;var y=new h.constructor(h.type,h);kn=y,h.target.dispatchEvent(y),kn=null}else return c=Wd(h),c!==null&&Ht(c),a.blockedOn=h,!1;c.shift()}return!0}function Oc(a,c,h){Br(a)&&h.delete(c)}function Jh(){mr=!1,fs!==null&&Br(fs)&&(fs=null),gr!==null&&Br(gr)&&(gr=null),Ys!==null&&Br(Ys)&&(Ys=null),Xa.forEach(Oc),_n.forEach(Oc)}function ma(a,c){a.blockedOn===c&&(a.blockedOn=null,mr||(mr=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,Jh)))}function Qs(a){function c(j){return ma(j,a)}if(0<Gs.length){ma(Gs[0],a);for(var h=1;h<Gs.length;h++){var y=Gs[h];y.blockedOn===a&&(y.blockedOn=null)}}for(fs!==null&&ma(fs,a),gr!==null&&ma(gr,a),Ys!==null&&ma(Ys,a),Xa.forEach(c),_n.forEach(c),h=0;h<Qn.length;h++)y=Qn[h],y.blockedOn===a&&(y.blockedOn=null);for(;0<Qn.length&&(h=Qn[0],h.blockedOn===null);)Xh(h),h.blockedOn===null&&Qn.shift()}var Ei=L.ReactCurrentBatchConfig,bl=!0;function Bx(a,c,h,y){var j=Qt,C=Ei.transition;Ei.transition=null;try{Qt=1,_d(a,c,h,y)}finally{Qt=j,Ei.transition=C}}function wl(a,c,h,y){var j=Qt,C=Ei.transition;Ei.transition=null;try{Qt=4,_d(a,c,h,y)}finally{Qt=j,Ei.transition=C}}function _d(a,c,h,y){if(bl){var j=Za(a,c,h,y);if(j===null)Hx(a,c,y,Dc,h),Ja(a,y);else if(Ci(j,a,c,h,y))y.stopPropagation();else if(Ja(a,y),c&4&&-1<vl.indexOf(a)){for(;j!==null;){var C=Wd(j);if(C!==null&&Gh(C),C=Za(a,c,h,y),C===null&&Hx(a,c,y,Dc,h),C===j)break;j=C}j!==null&&y.stopPropagation()}else Hx(a,c,y,null,h)}}var Dc=null;function Za(a,c,h,y){if(Dc=null,a=Ks(y),a=Cl(a),a!==null)if(c=Er(a),c===null)a=null;else if(h=c.tag,h===13){if(a=fl(c),a!==null)return a;a=null}else if(h===3){if(c.stateNode.current.memoizedState.isDehydrated)return c.tag===3?c.stateNode.containerInfo:null;a=null}else c!==a&&(a=null);return Dc=a,null}function jl(a){switch(a){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Wh()){case Si:return 1;case hl:return 4;case Ya:case Nd:return 16;case ki:return 536870912;default:return 16}default:return 16}}var Cs=null,Cd=null,Lc=null;function Zh(){if(Lc)return Lc;var a,c=Cd,h=c.length,y,j="value"in Cs?Cs.value:Cs.textContent,C=j.length;for(a=0;a<h&&c[a]===j[a];a++);var D=h-a;for(y=1;y<=D&&c[h-y]===j[C-y];y++);return Lc=j.slice(a,1<y?1-y:void 0)}function eo(a){var c=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&c===13&&(a=13)):a=c,a===10&&(a=13),32<=a||a===13?a:0}function to(){return!0}function Ed(){return!1}function ir(a){function c(h,y,j,C,D){this._reactName=h,this._targetInst=j,this.type=y,this.nativeEvent=C,this.target=D,this.currentTarget=null;for(var G in a)a.hasOwnProperty(G)&&(h=a[G],this[G]=h?h(C):C[G]);return this.isDefaultPrevented=(C.defaultPrevented!=null?C.defaultPrevented:C.returnValue===!1)?to:Ed,this.isPropagationStopped=Ed,this}return A(c.prototype,{preventDefault:function(){this.defaultPrevented=!0;var h=this.nativeEvent;h&&(h.preventDefault?h.preventDefault():typeof h.returnValue!="unknown"&&(h.returnValue=!1),this.isDefaultPrevented=to)},stopPropagation:function(){var h=this.nativeEvent;h&&(h.stopPropagation?h.stopPropagation():typeof h.cancelBubble!="unknown"&&(h.cancelBubble=!0),this.isPropagationStopped=to)},persist:function(){},isPersistent:to}),c}var Xs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},no=ir(Xs),ro=A({},Xs,{view:0,detail:0}),zx=ir(ro),Pi,Nl,ga,so=A({},ro,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Vc,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==ga&&(ga&&a.type==="mousemove"?(Pi=a.screenX-ga.screenX,Nl=a.screenY-ga.screenY):Nl=Pi=0,ga=a),Pi)},movementY:function(a){return"movementY"in a?a.movementY:Nl}}),Fc=ir(so),ar=A({},so,{dataTransfer:0}),Sl=ir(ar),kl=A({},ro,{relatedTarget:0}),$c=ir(kl),Bc=A({},Xs,{animationName:0,elapsedTime:0,pseudoElement:0}),ep=ir(Bc),tp=A({},Xs,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),zc=ir(tp),Pd=A({},Xs,{data:0}),Ai=ir(Pd),Ad={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Td={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Uc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Rd(a){var c=this.nativeEvent;return c.getModifierState?c.getModifierState(a):(a=Uc[a])?!!c[a]:!1}function Vc(){return Rd}var Ux=A({},ro,{key:function(a){if(a.key){var c=Ad[a.key]||a.key;if(c!=="Unidentified")return c}return a.type==="keypress"?(a=eo(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?Td[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Vc,charCode:function(a){return a.type==="keypress"?eo(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?eo(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),Id=ir(Ux),Wc=A({},so,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),np=ir(Wc),Md=A({},ro,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Vc}),Od=ir(Md),Vx=A({},Xs,{propertyName:0,elapsedTime:0,pseudoElement:0}),rp=ir(Vx),Wx=A({},so,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),sp=ir(Wx),ip=[9,13,27,32],Dd=u&&"CompositionEvent"in window,io=null;u&&"documentMode"in document&&(io=document.documentMode);var Ld=u&&"TextEvent"in window&&!io,Fd=u&&(!Dd||io&&8<io&&11>=io),$d=" ",ap=!1;function op(a,c){switch(a){case"keyup":return ip.indexOf(c.keyCode)!==-1;case"keydown":return c.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function lp(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var Js=!1;function Zs(a,c){switch(a){case"compositionend":return lp(c);case"keypress":return c.which!==32?null:(ap=!0,$d);case"textInput":return a=c.data,a===$d&&ap?null:a;default:return null}}function Tn(a,c){if(Js)return a==="compositionend"||!Dd&&op(a,c)?(a=Zh(),Lc=Cd=Cs=null,Js=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(c.ctrlKey||c.altKey||c.metaKey)||c.ctrlKey&&c.altKey){if(c.char&&1<c.char.length)return c.char;if(c.which)return String.fromCharCode(c.which)}return null;case"compositionend":return Fd&&c.locale!=="ko"?null:c.data;default:return null}}var qc={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function xa(a){var c=a&&a.nodeName&&a.nodeName.toLowerCase();return c==="input"?!!qc[a.type]:c==="textarea"}function cp(a,c,h,y){bd(y),c=dp(c,"onChange"),0<c.length&&(h=new no("onChange","change",null,h,y),a.push({event:h,listeners:c}))}var ya=null,ao=null;function va(a){ij(a,0)}function oo(a){var c=Yc(a);if(Ve(c))return a}function lo(a,c){if(a==="change")return c}var ei=!1;if(u){var Hc;if(u){var g="oninput"in document;if(!g){var w=document.createElement("div");w.setAttribute("oninput","return;"),g=typeof w.oninput=="function"}Hc=g}else Hc=!1;ei=Hc&&(!document.documentMode||9<document.documentMode)}function k(){ya&&(ya.detachEvent("onpropertychange",E),ao=ya=null)}function E(a){if(a.propertyName==="value"&&oo(ao)){var c=[];cp(c,ao,a,Ks(a)),aa(va,c)}}function R(a,c,h){a==="focusin"?(k(),ya=c,ao=h,ya.attachEvent("onpropertychange",E)):a==="focusout"&&k()}function O(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return oo(ao)}function U(a,c){if(a==="click")return oo(c)}function q(a,c){if(a==="input"||a==="change")return oo(c)}function ie(a,c){return a===c&&(a!==0||1/a===1/c)||a!==a&&c!==c}var ue=typeof Object.is=="function"?Object.is:ie;function te(a,c){if(ue(a,c))return!0;if(typeof a!="object"||a===null||typeof c!="object"||c===null)return!1;var h=Object.keys(a),y=Object.keys(c);if(h.length!==y.length)return!1;for(y=0;y<h.length;y++){var j=h[y];if(!d.call(c,j)||!ue(a[j],c[j]))return!1}return!0}function J(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function oe(a,c){var h=J(a);a=0;for(var y;h;){if(h.nodeType===3){if(y=a+h.textContent.length,a<=c&&y>=c)return{node:h,offset:c-a};a=y}e:{for(;h;){if(h.nextSibling){h=h.nextSibling;break e}h=h.parentNode}h=void 0}h=J(h)}}function le(a,c){return a&&c?a===c?!0:a&&a.nodeType===3?!1:c&&c.nodeType===3?le(a,c.parentNode):"contains"in a?a.contains(c):a.compareDocumentPosition?!!(a.compareDocumentPosition(c)&16):!1:!1}function se(){for(var a=window,c=_t();c instanceof a.HTMLIFrameElement;){try{var h=typeof c.contentWindow.location.href=="string"}catch{h=!1}if(h)a=c.contentWindow;else break;c=_t(a.document)}return c}function ne(a){var c=a&&a.nodeName&&a.nodeName.toLowerCase();return c&&(c==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||c==="textarea"||a.contentEditable==="true")}function me(a){var c=se(),h=a.focusedElem,y=a.selectionRange;if(c!==h&&h&&h.ownerDocument&&le(h.ownerDocument.documentElement,h)){if(y!==null&&ne(h)){if(c=y.start,a=y.end,a===void 0&&(a=c),"selectionStart"in h)h.selectionStart=c,h.selectionEnd=Math.min(a,h.value.length);else if(a=(c=h.ownerDocument||document)&&c.defaultView||window,a.getSelection){a=a.getSelection();var j=h.textContent.length,C=Math.min(y.start,j);y=y.end===void 0?C:Math.min(y.end,j),!a.extend&&C>y&&(j=y,y=C,C=j),j=oe(h,C);var D=oe(h,y);j&&D&&(a.rangeCount!==1||a.anchorNode!==j.node||a.anchorOffset!==j.offset||a.focusNode!==D.node||a.focusOffset!==D.offset)&&(c=c.createRange(),c.setStart(j.node,j.offset),a.removeAllRanges(),C>y?(a.addRange(c),a.extend(D.node,D.offset)):(c.setEnd(D.node,D.offset),a.addRange(c)))}}for(c=[],a=h;a=a.parentNode;)a.nodeType===1&&c.push({element:a,left:a.scrollLeft,top:a.scrollTop});for(typeof h.focus=="function"&&h.focus(),h=0;h<c.length;h++)a=c[h],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}var be=u&&"documentMode"in document&&11>=document.documentMode,de=null,Ae=null,Re=null,Ge=!1;function Qe(a,c,h){var y=h.window===h?h.document:h.nodeType===9?h:h.ownerDocument;Ge||de==null||de!==_t(y)||(y=de,"selectionStart"in y&&ne(y)?y={start:y.selectionStart,end:y.selectionEnd}:(y=(y.ownerDocument&&y.ownerDocument.defaultView||window).getSelection(),y={anchorNode:y.anchorNode,anchorOffset:y.anchorOffset,focusNode:y.focusNode,focusOffset:y.focusOffset}),Re&&te(Re,y)||(Re=y,y=dp(Ae,"onSelect"),0<y.length&&(c=new no("onSelect","select",null,c,h),a.push({event:c,listeners:y}),c.target=de)))}function Me(a,c){var h={};return h[a.toLowerCase()]=c.toLowerCase(),h["Webkit"+a]="webkit"+c,h["Moz"+a]="moz"+c,h}var Ze={animationend:Me("Animation","AnimationEnd"),animationiteration:Me("Animation","AnimationIteration"),animationstart:Me("Animation","AnimationStart"),transitionend:Me("Transition","TransitionEnd")},Je={},We={};u&&(We=document.createElement("div").style,"AnimationEvent"in window||(delete Ze.animationend.animation,delete Ze.animationiteration.animation,delete Ze.animationstart.animation),"TransitionEvent"in window||delete Ze.transitionend.transition);function rt(a){if(Je[a])return Je[a];if(!Ze[a])return a;var c=Ze[a],h;for(h in c)if(c.hasOwnProperty(h)&&h in We)return Je[a]=c[h];return a}var Ut=rt("animationend"),Gt=rt("animationiteration"),gt=rt("animationstart"),Rt=rt("transitionend"),pn=new Map,zr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function en(a,c){pn.set(a,c),o(c,[a])}for(var ti=0;ti<zr.length;ti++){var _l=zr[ti],DO=_l.toLowerCase(),LO=_l[0].toUpperCase()+_l.slice(1);en(DO,"on"+LO)}en(Ut,"onAnimationEnd"),en(Gt,"onAnimationIteration"),en(gt,"onAnimationStart"),en("dblclick","onDoubleClick"),en("focusin","onFocus"),en("focusout","onBlur"),en(Rt,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Bd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),FO=new Set("cancel close invalid load scroll toggle".split(" ").concat(Bd));function sj(a,c,h){var y=a.type||"unknown-event";a.currentTarget=h,Ga(y,c,void 0,a),a.currentTarget=null}function ij(a,c){c=(c&4)!==0;for(var h=0;h<a.length;h++){var y=a[h],j=y.event;y=y.listeners;e:{var C=void 0;if(c)for(var D=y.length-1;0<=D;D--){var G=y[D],Z=G.instance,je=G.currentTarget;if(G=G.listener,Z!==C&&j.isPropagationStopped())break e;sj(j,G,je),C=Z}else for(D=0;D<y.length;D++){if(G=y[D],Z=G.instance,je=G.currentTarget,G=G.listener,Z!==C&&j.isPropagationStopped())break e;sj(j,G,je),C=Z}}}if(ca)throw a=Ka,ca=!1,Ka=null,a}function bn(a,c){var h=c[Jx];h===void 0&&(h=c[Jx]=new Set);var y=a+"__bubble";h.has(y)||(aj(c,a,2,!1),h.add(y))}function qx(a,c,h){var y=0;c&&(y|=4),aj(h,a,y,c)}var up="_reactListening"+Math.random().toString(36).slice(2);function zd(a){if(!a[up]){a[up]=!0,r.forEach(function(h){h!=="selectionchange"&&(FO.has(h)||qx(h,!1,a),qx(h,!0,a))});var c=a.nodeType===9?a:a.ownerDocument;c===null||c[up]||(c[up]=!0,qx("selectionchange",!1,c))}}function aj(a,c,h,y){switch(jl(c)){case 1:var j=Bx;break;case 4:j=wl;break;default:j=_d}h=j.bind(null,c,h,a),j=void 0,!Ha||c!=="touchstart"&&c!=="touchmove"&&c!=="wheel"||(j=!0),y?j!==void 0?a.addEventListener(c,h,{capture:!0,passive:j}):a.addEventListener(c,h,!0):j!==void 0?a.addEventListener(c,h,{passive:j}):a.addEventListener(c,h,!1)}function Hx(a,c,h,y,j){var C=y;if((c&1)===0&&(c&2)===0&&y!==null)e:for(;;){if(y===null)return;var D=y.tag;if(D===3||D===4){var G=y.stateNode.containerInfo;if(G===j||G.nodeType===8&&G.parentNode===j)break;if(D===4)for(D=y.return;D!==null;){var Z=D.tag;if((Z===3||Z===4)&&(Z=D.stateNode.containerInfo,Z===j||Z.nodeType===8&&Z.parentNode===j))return;D=D.return}for(;G!==null;){if(D=Cl(G),D===null)return;if(Z=D.tag,Z===5||Z===6){y=C=D;continue e}G=G.parentNode}}y=y.return}aa(function(){var je=C,Le=Ks(h),Be=[];e:{var Ie=pn.get(a);if(Ie!==void 0){var st=no,lt=a;switch(a){case"keypress":if(eo(h)===0)break e;case"keydown":case"keyup":st=Id;break;case"focusin":lt="focus",st=$c;break;case"focusout":lt="blur",st=$c;break;case"beforeblur":case"afterblur":st=$c;break;case"click":if(h.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":st=Fc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":st=Sl;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":st=Od;break;case Ut:case Gt:case gt:st=ep;break;case Rt:st=rp;break;case"scroll":st=zx;break;case"wheel":st=sp;break;case"copy":case"cut":case"paste":st=zc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":st=np}var ft=(c&4)!==0,$n=!ft&&a==="scroll",pe=ft?Ie!==null?Ie+"Capture":null:Ie;ft=[];for(var ce=je,ye;ce!==null;){ye=ce;var Ke=ye.stateNode;if(ye.tag===5&&Ke!==null&&(ye=Ke,pe!==null&&(Ke=oa(ce,pe),Ke!=null&&ft.push(Ud(ce,Ke,ye)))),$n)break;ce=ce.return}0<ft.length&&(Ie=new st(Ie,lt,null,h,Le),Be.push({event:Ie,listeners:ft}))}}if((c&7)===0){e:{if(Ie=a==="mouseover"||a==="pointerover",st=a==="mouseout"||a==="pointerout",Ie&&h!==kn&&(lt=h.relatedTarget||h.fromElement)&&(Cl(lt)||lt[ba]))break e;if((st||Ie)&&(Ie=Le.window===Le?Le:(Ie=Le.ownerDocument)?Ie.defaultView||Ie.parentWindow:window,st?(lt=h.relatedTarget||h.toElement,st=je,lt=lt?Cl(lt):null,lt!==null&&($n=Er(lt),lt!==$n||lt.tag!==5&&lt.tag!==6)&&(lt=null)):(st=null,lt=je),st!==lt)){if(ft=Fc,Ke="onMouseLeave",pe="onMouseEnter",ce="mouse",(a==="pointerout"||a==="pointerover")&&(ft=np,Ke="onPointerLeave",pe="onPointerEnter",ce="pointer"),$n=st==null?Ie:Yc(st),ye=lt==null?Ie:Yc(lt),Ie=new ft(Ke,ce+"leave",st,h,Le),Ie.target=$n,Ie.relatedTarget=ye,Ke=null,Cl(Le)===je&&(ft=new ft(pe,ce+"enter",lt,h,Le),ft.target=ye,ft.relatedTarget=$n,Ke=ft),$n=Ke,st&&lt)t:{for(ft=st,pe=lt,ce=0,ye=ft;ye;ye=Kc(ye))ce++;for(ye=0,Ke=pe;Ke;Ke=Kc(Ke))ye++;for(;0<ce-ye;)ft=Kc(ft),ce--;for(;0<ye-ce;)pe=Kc(pe),ye--;for(;ce--;){if(ft===pe||pe!==null&&ft===pe.alternate)break t;ft=Kc(ft),pe=Kc(pe)}ft=null}else ft=null;st!==null&&oj(Be,Ie,st,ft,!1),lt!==null&&$n!==null&&oj(Be,$n,lt,ft,!0)}}e:{if(Ie=je?Yc(je):window,st=Ie.nodeName&&Ie.nodeName.toLowerCase(),st==="select"||st==="input"&&Ie.type==="file")var ht=lo;else if(xa(Ie))if(ei)ht=q;else{ht=O;var vt=R}else(st=Ie.nodeName)&&st.toLowerCase()==="input"&&(Ie.type==="checkbox"||Ie.type==="radio")&&(ht=U);if(ht&&(ht=ht(a,je))){cp(Be,ht,h,Le);break e}vt&&vt(a,Ie,je),a==="focusout"&&(vt=Ie._wrapperState)&&vt.controlled&&Ie.type==="number"&&yn(Ie,"number",Ie.value)}switch(vt=je?Yc(je):window,a){case"focusin":(xa(vt)||vt.contentEditable==="true")&&(de=vt,Ae=je,Re=null);break;case"focusout":Re=Ae=de=null;break;case"mousedown":Ge=!0;break;case"contextmenu":case"mouseup":case"dragend":Ge=!1,Qe(Be,h,Le);break;case"selectionchange":if(be)break;case"keydown":case"keyup":Qe(Be,h,Le)}var bt;if(Dd)e:{switch(a){case"compositionstart":var Et="onCompositionStart";break e;case"compositionend":Et="onCompositionEnd";break e;case"compositionupdate":Et="onCompositionUpdate";break e}Et=void 0}else Js?op(a,h)&&(Et="onCompositionEnd"):a==="keydown"&&h.keyCode===229&&(Et="onCompositionStart");Et&&(Fd&&h.locale!=="ko"&&(Js||Et!=="onCompositionStart"?Et==="onCompositionEnd"&&Js&&(bt=Zh()):(Cs=Le,Cd="value"in Cs?Cs.value:Cs.textContent,Js=!0)),vt=dp(je,Et),0<vt.length&&(Et=new Ai(Et,a,null,h,Le),Be.push({event:Et,listeners:vt}),bt?Et.data=bt:(bt=lp(h),bt!==null&&(Et.data=bt)))),(bt=Ld?Zs(a,h):Tn(a,h))&&(je=dp(je,"onBeforeInput"),0<je.length&&(Le=new Ai("onBeforeInput","beforeinput",null,h,Le),Be.push({event:Le,listeners:je}),Le.data=bt))}ij(Be,c)})}function Ud(a,c,h){return{instance:a,listener:c,currentTarget:h}}function dp(a,c){for(var h=c+"Capture",y=[];a!==null;){var j=a,C=j.stateNode;j.tag===5&&C!==null&&(j=C,C=oa(a,h),C!=null&&y.unshift(Ud(a,C,j)),C=oa(a,c),C!=null&&y.push(Ud(a,C,j))),a=a.return}return y}function Kc(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5);return a||null}function oj(a,c,h,y,j){for(var C=c._reactName,D=[];h!==null&&h!==y;){var G=h,Z=G.alternate,je=G.stateNode;if(Z!==null&&Z===y)break;G.tag===5&&je!==null&&(G=je,j?(Z=oa(h,C),Z!=null&&D.unshift(Ud(h,Z,G))):j||(Z=oa(h,C),Z!=null&&D.push(Ud(h,Z,G)))),h=h.return}D.length!==0&&a.push({event:c,listeners:D})}var $O=/\r\n?/g,BO=/\u0000|\uFFFD/g;function lj(a){return(typeof a=="string"?a:""+a).replace($O,`
`).replace(BO,"")}function fp(a,c,h){if(c=lj(c),lj(a)!==c&&h)throw Error(n(425))}function hp(){}var Kx=null,Gx=null;function Yx(a,c){return a==="textarea"||a==="noscript"||typeof c.children=="string"||typeof c.children=="number"||typeof c.dangerouslySetInnerHTML=="object"&&c.dangerouslySetInnerHTML!==null&&c.dangerouslySetInnerHTML.__html!=null}var Qx=typeof setTimeout=="function"?setTimeout:void 0,zO=typeof clearTimeout=="function"?clearTimeout:void 0,cj=typeof Promise=="function"?Promise:void 0,UO=typeof queueMicrotask=="function"?queueMicrotask:typeof cj<"u"?function(a){return cj.resolve(null).then(a).catch(VO)}:Qx;function VO(a){setTimeout(function(){throw a})}function Xx(a,c){var h=c,y=0;do{var j=h.nextSibling;if(a.removeChild(h),j&&j.nodeType===8)if(h=j.data,h==="/$"){if(y===0){a.removeChild(j),Qs(c);return}y--}else h!=="$"&&h!=="$?"&&h!=="$!"||y++;h=j}while(h);Qs(c)}function co(a){for(;a!=null;a=a.nextSibling){var c=a.nodeType;if(c===1||c===3)break;if(c===8){if(c=a.data,c==="$"||c==="$!"||c==="$?")break;if(c==="/$")return null}}return a}function uj(a){a=a.previousSibling;for(var c=0;a;){if(a.nodeType===8){var h=a.data;if(h==="$"||h==="$!"||h==="$?"){if(c===0)return a;c--}else h==="/$"&&c++}a=a.previousSibling}return null}var Gc=Math.random().toString(36).slice(2),Ti="__reactFiber$"+Gc,Vd="__reactProps$"+Gc,ba="__reactContainer$"+Gc,Jx="__reactEvents$"+Gc,WO="__reactListeners$"+Gc,qO="__reactHandles$"+Gc;function Cl(a){var c=a[Ti];if(c)return c;for(var h=a.parentNode;h;){if(c=h[ba]||h[Ti]){if(h=c.alternate,c.child!==null||h!==null&&h.child!==null)for(a=uj(a);a!==null;){if(h=a[Ti])return h;a=uj(a)}return c}a=h,h=a.parentNode}return null}function Wd(a){return a=a[Ti]||a[ba],!a||a.tag!==5&&a.tag!==6&&a.tag!==13&&a.tag!==3?null:a}function Yc(a){if(a.tag===5||a.tag===6)return a.stateNode;throw Error(n(33))}function pp(a){return a[Vd]||null}var Zx=[],Qc=-1;function uo(a){return{current:a}}function wn(a){0>Qc||(a.current=Zx[Qc],Zx[Qc]=null,Qc--)}function mn(a,c){Qc++,Zx[Qc]=a.current,a.current=c}var fo={},Pr=uo(fo),Qr=uo(!1),El=fo;function Xc(a,c){var h=a.type.contextTypes;if(!h)return fo;var y=a.stateNode;if(y&&y.__reactInternalMemoizedUnmaskedChildContext===c)return y.__reactInternalMemoizedMaskedChildContext;var j={},C;for(C in h)j[C]=c[C];return y&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=c,a.__reactInternalMemoizedMaskedChildContext=j),j}function Xr(a){return a=a.childContextTypes,a!=null}function mp(){wn(Qr),wn(Pr)}function dj(a,c,h){if(Pr.current!==fo)throw Error(n(168));mn(Pr,c),mn(Qr,h)}function fj(a,c,h){var y=a.stateNode;if(c=c.childContextTypes,typeof y.getChildContext!="function")return h;y=y.getChildContext();for(var j in y)if(!(j in c))throw Error(n(108,xe(a)||"Unknown",j));return A({},h,y)}function gp(a){return a=(a=a.stateNode)&&a.__reactInternalMemoizedMergedChildContext||fo,El=Pr.current,mn(Pr,a),mn(Qr,Qr.current),!0}function hj(a,c,h){var y=a.stateNode;if(!y)throw Error(n(169));h?(a=fj(a,c,El),y.__reactInternalMemoizedMergedChildContext=a,wn(Qr),wn(Pr),mn(Pr,a)):wn(Qr),mn(Qr,h)}var wa=null,xp=!1,e0=!1;function pj(a){wa===null?wa=[a]:wa.push(a)}function HO(a){xp=!0,pj(a)}function ho(){if(!e0&&wa!==null){e0=!0;var a=0,c=Qt;try{var h=wa;for(Qt=1;a<h.length;a++){var y=h[a];do y=y(!0);while(y!==null)}wa=null,xp=!1}catch(j){throw wa!==null&&(wa=wa.slice(a+1)),jd(Si,ho),j}finally{Qt=c,e0=!1}}return null}var Jc=[],Zc=0,yp=null,vp=0,Es=[],Ps=0,Pl=null,ja=1,Na="";function Al(a,c){Jc[Zc++]=vp,Jc[Zc++]=yp,yp=a,vp=c}function mj(a,c,h){Es[Ps++]=ja,Es[Ps++]=Na,Es[Ps++]=Pl,Pl=a;var y=ja;a=Na;var j=32-Ct(y)-1;y&=~(1<<j),h+=1;var C=32-Ct(c)+j;if(30<C){var D=j-j%5;C=(y&(1<<D)-1).toString(32),y>>=D,j-=D,ja=1<<32-Ct(c)+j|h<<j|y,Na=C+a}else ja=1<<C|h<<j|y,Na=a}function t0(a){a.return!==null&&(Al(a,1),mj(a,1,0))}function n0(a){for(;a===yp;)yp=Jc[--Zc],Jc[Zc]=null,vp=Jc[--Zc],Jc[Zc]=null;for(;a===Pl;)Pl=Es[--Ps],Es[Ps]=null,Na=Es[--Ps],Es[Ps]=null,ja=Es[--Ps],Es[Ps]=null}var hs=null,ps=null,Cn=!1,ni=null;function gj(a,c){var h=Is(5,null,null,0);h.elementType="DELETED",h.stateNode=c,h.return=a,c=a.deletions,c===null?(a.deletions=[h],a.flags|=16):c.push(h)}function xj(a,c){switch(a.tag){case 5:var h=a.type;return c=c.nodeType!==1||h.toLowerCase()!==c.nodeName.toLowerCase()?null:c,c!==null?(a.stateNode=c,hs=a,ps=co(c.firstChild),!0):!1;case 6:return c=a.pendingProps===""||c.nodeType!==3?null:c,c!==null?(a.stateNode=c,hs=a,ps=null,!0):!1;case 13:return c=c.nodeType!==8?null:c,c!==null?(h=Pl!==null?{id:ja,overflow:Na}:null,a.memoizedState={dehydrated:c,treeContext:h,retryLane:1073741824},h=Is(18,null,null,0),h.stateNode=c,h.return=a,a.child=h,hs=a,ps=null,!0):!1;default:return!1}}function r0(a){return(a.mode&1)!==0&&(a.flags&128)===0}function s0(a){if(Cn){var c=ps;if(c){var h=c;if(!xj(a,c)){if(r0(a))throw Error(n(418));c=co(h.nextSibling);var y=hs;c&&xj(a,c)?gj(y,h):(a.flags=a.flags&-4097|2,Cn=!1,hs=a)}}else{if(r0(a))throw Error(n(418));a.flags=a.flags&-4097|2,Cn=!1,hs=a}}}function yj(a){for(a=a.return;a!==null&&a.tag!==5&&a.tag!==3&&a.tag!==13;)a=a.return;hs=a}function bp(a){if(a!==hs)return!1;if(!Cn)return yj(a),Cn=!0,!1;var c;if((c=a.tag!==3)&&!(c=a.tag!==5)&&(c=a.type,c=c!=="head"&&c!=="body"&&!Yx(a.type,a.memoizedProps)),c&&(c=ps)){if(r0(a))throw vj(),Error(n(418));for(;c;)gj(a,c),c=co(c.nextSibling)}if(yj(a),a.tag===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(n(317));e:{for(a=a.nextSibling,c=0;a;){if(a.nodeType===8){var h=a.data;if(h==="/$"){if(c===0){ps=co(a.nextSibling);break e}c--}else h!=="$"&&h!=="$!"&&h!=="$?"||c++}a=a.nextSibling}ps=null}}else ps=hs?co(a.stateNode.nextSibling):null;return!0}function vj(){for(var a=ps;a;)a=co(a.nextSibling)}function eu(){ps=hs=null,Cn=!1}function i0(a){ni===null?ni=[a]:ni.push(a)}var KO=L.ReactCurrentBatchConfig;function qd(a,c,h){if(a=h.ref,a!==null&&typeof a!="function"&&typeof a!="object"){if(h._owner){if(h=h._owner,h){if(h.tag!==1)throw Error(n(309));var y=h.stateNode}if(!y)throw Error(n(147,a));var j=y,C=""+a;return c!==null&&c.ref!==null&&typeof c.ref=="function"&&c.ref._stringRef===C?c.ref:(c=function(D){var G=j.refs;D===null?delete G[C]:G[C]=D},c._stringRef=C,c)}if(typeof a!="string")throw Error(n(284));if(!h._owner)throw Error(n(290,a))}return a}function wp(a,c){throw a=Object.prototype.toString.call(c),Error(n(31,a==="[object Object]"?"object with keys {"+Object.keys(c).join(", ")+"}":a))}function bj(a){var c=a._init;return c(a._payload)}function wj(a){function c(pe,ce){if(a){var ye=pe.deletions;ye===null?(pe.deletions=[ce],pe.flags|=16):ye.push(ce)}}function h(pe,ce){if(!a)return null;for(;ce!==null;)c(pe,ce),ce=ce.sibling;return null}function y(pe,ce){for(pe=new Map;ce!==null;)ce.key!==null?pe.set(ce.key,ce):pe.set(ce.index,ce),ce=ce.sibling;return pe}function j(pe,ce){return pe=wo(pe,ce),pe.index=0,pe.sibling=null,pe}function C(pe,ce,ye){return pe.index=ye,a?(ye=pe.alternate,ye!==null?(ye=ye.index,ye<ce?(pe.flags|=2,ce):ye):(pe.flags|=2,ce)):(pe.flags|=1048576,ce)}function D(pe){return a&&pe.alternate===null&&(pe.flags|=2),pe}function G(pe,ce,ye,Ke){return ce===null||ce.tag!==6?(ce=Q0(ye,pe.mode,Ke),ce.return=pe,ce):(ce=j(ce,ye),ce.return=pe,ce)}function Z(pe,ce,ye,Ke){var ht=ye.type;return ht===V?Le(pe,ce,ye.props.children,Ke,ye.key):ce!==null&&(ce.elementType===ht||typeof ht=="object"&&ht!==null&&ht.$$typeof===ge&&bj(ht)===ce.type)?(Ke=j(ce,ye.props),Ke.ref=qd(pe,ce,ye),Ke.return=pe,Ke):(Ke=qp(ye.type,ye.key,ye.props,null,pe.mode,Ke),Ke.ref=qd(pe,ce,ye),Ke.return=pe,Ke)}function je(pe,ce,ye,Ke){return ce===null||ce.tag!==4||ce.stateNode.containerInfo!==ye.containerInfo||ce.stateNode.implementation!==ye.implementation?(ce=X0(ye,pe.mode,Ke),ce.return=pe,ce):(ce=j(ce,ye.children||[]),ce.return=pe,ce)}function Le(pe,ce,ye,Ke,ht){return ce===null||ce.tag!==7?(ce=Fl(ye,pe.mode,Ke,ht),ce.return=pe,ce):(ce=j(ce,ye),ce.return=pe,ce)}function Be(pe,ce,ye){if(typeof ce=="string"&&ce!==""||typeof ce=="number")return ce=Q0(""+ce,pe.mode,ye),ce.return=pe,ce;if(typeof ce=="object"&&ce!==null){switch(ce.$$typeof){case z:return ye=qp(ce.type,ce.key,ce.props,null,pe.mode,ye),ye.ref=qd(pe,null,ce),ye.return=pe,ye;case $:return ce=X0(ce,pe.mode,ye),ce.return=pe,ce;case ge:var Ke=ce._init;return Be(pe,Ke(ce._payload),ye)}if(fn(ce)||fe(ce))return ce=Fl(ce,pe.mode,ye,null),ce.return=pe,ce;wp(pe,ce)}return null}function Ie(pe,ce,ye,Ke){var ht=ce!==null?ce.key:null;if(typeof ye=="string"&&ye!==""||typeof ye=="number")return ht!==null?null:G(pe,ce,""+ye,Ke);if(typeof ye=="object"&&ye!==null){switch(ye.$$typeof){case z:return ye.key===ht?Z(pe,ce,ye,Ke):null;case $:return ye.key===ht?je(pe,ce,ye,Ke):null;case ge:return ht=ye._init,Ie(pe,ce,ht(ye._payload),Ke)}if(fn(ye)||fe(ye))return ht!==null?null:Le(pe,ce,ye,Ke,null);wp(pe,ye)}return null}function st(pe,ce,ye,Ke,ht){if(typeof Ke=="string"&&Ke!==""||typeof Ke=="number")return pe=pe.get(ye)||null,G(ce,pe,""+Ke,ht);if(typeof Ke=="object"&&Ke!==null){switch(Ke.$$typeof){case z:return pe=pe.get(Ke.key===null?ye:Ke.key)||null,Z(ce,pe,Ke,ht);case $:return pe=pe.get(Ke.key===null?ye:Ke.key)||null,je(ce,pe,Ke,ht);case ge:var vt=Ke._init;return st(pe,ce,ye,vt(Ke._payload),ht)}if(fn(Ke)||fe(Ke))return pe=pe.get(ye)||null,Le(ce,pe,Ke,ht,null);wp(ce,Ke)}return null}function lt(pe,ce,ye,Ke){for(var ht=null,vt=null,bt=ce,Et=ce=0,cr=null;bt!==null&&Et<ye.length;Et++){bt.index>Et?(cr=bt,bt=null):cr=bt.sibling;var Jt=Ie(pe,bt,ye[Et],Ke);if(Jt===null){bt===null&&(bt=cr);break}a&&bt&&Jt.alternate===null&&c(pe,bt),ce=C(Jt,ce,Et),vt===null?ht=Jt:vt.sibling=Jt,vt=Jt,bt=cr}if(Et===ye.length)return h(pe,bt),Cn&&Al(pe,Et),ht;if(bt===null){for(;Et<ye.length;Et++)bt=Be(pe,ye[Et],Ke),bt!==null&&(ce=C(bt,ce,Et),vt===null?ht=bt:vt.sibling=bt,vt=bt);return Cn&&Al(pe,Et),ht}for(bt=y(pe,bt);Et<ye.length;Et++)cr=st(bt,pe,Et,ye[Et],Ke),cr!==null&&(a&&cr.alternate!==null&&bt.delete(cr.key===null?Et:cr.key),ce=C(cr,ce,Et),vt===null?ht=cr:vt.sibling=cr,vt=cr);return a&&bt.forEach(function(jo){return c(pe,jo)}),Cn&&Al(pe,Et),ht}function ft(pe,ce,ye,Ke){var ht=fe(ye);if(typeof ht!="function")throw Error(n(150));if(ye=ht.call(ye),ye==null)throw Error(n(151));for(var vt=ht=null,bt=ce,Et=ce=0,cr=null,Jt=ye.next();bt!==null&&!Jt.done;Et++,Jt=ye.next()){bt.index>Et?(cr=bt,bt=null):cr=bt.sibling;var jo=Ie(pe,bt,Jt.value,Ke);if(jo===null){bt===null&&(bt=cr);break}a&&bt&&jo.alternate===null&&c(pe,bt),ce=C(jo,ce,Et),vt===null?ht=jo:vt.sibling=jo,vt=jo,bt=cr}if(Jt.done)return h(pe,bt),Cn&&Al(pe,Et),ht;if(bt===null){for(;!Jt.done;Et++,Jt=ye.next())Jt=Be(pe,Jt.value,Ke),Jt!==null&&(ce=C(Jt,ce,Et),vt===null?ht=Jt:vt.sibling=Jt,vt=Jt);return Cn&&Al(pe,Et),ht}for(bt=y(pe,bt);!Jt.done;Et++,Jt=ye.next())Jt=st(bt,pe,Et,Jt.value,Ke),Jt!==null&&(a&&Jt.alternate!==null&&bt.delete(Jt.key===null?Et:Jt.key),ce=C(Jt,ce,Et),vt===null?ht=Jt:vt.sibling=Jt,vt=Jt);return a&&bt.forEach(function(_4){return c(pe,_4)}),Cn&&Al(pe,Et),ht}function $n(pe,ce,ye,Ke){if(typeof ye=="object"&&ye!==null&&ye.type===V&&ye.key===null&&(ye=ye.props.children),typeof ye=="object"&&ye!==null){switch(ye.$$typeof){case z:e:{for(var ht=ye.key,vt=ce;vt!==null;){if(vt.key===ht){if(ht=ye.type,ht===V){if(vt.tag===7){h(pe,vt.sibling),ce=j(vt,ye.props.children),ce.return=pe,pe=ce;break e}}else if(vt.elementType===ht||typeof ht=="object"&&ht!==null&&ht.$$typeof===ge&&bj(ht)===vt.type){h(pe,vt.sibling),ce=j(vt,ye.props),ce.ref=qd(pe,vt,ye),ce.return=pe,pe=ce;break e}h(pe,vt);break}else c(pe,vt);vt=vt.sibling}ye.type===V?(ce=Fl(ye.props.children,pe.mode,Ke,ye.key),ce.return=pe,pe=ce):(Ke=qp(ye.type,ye.key,ye.props,null,pe.mode,Ke),Ke.ref=qd(pe,ce,ye),Ke.return=pe,pe=Ke)}return D(pe);case $:e:{for(vt=ye.key;ce!==null;){if(ce.key===vt)if(ce.tag===4&&ce.stateNode.containerInfo===ye.containerInfo&&ce.stateNode.implementation===ye.implementation){h(pe,ce.sibling),ce=j(ce,ye.children||[]),ce.return=pe,pe=ce;break e}else{h(pe,ce);break}else c(pe,ce);ce=ce.sibling}ce=X0(ye,pe.mode,Ke),ce.return=pe,pe=ce}return D(pe);case ge:return vt=ye._init,$n(pe,ce,vt(ye._payload),Ke)}if(fn(ye))return lt(pe,ce,ye,Ke);if(fe(ye))return ft(pe,ce,ye,Ke);wp(pe,ye)}return typeof ye=="string"&&ye!==""||typeof ye=="number"?(ye=""+ye,ce!==null&&ce.tag===6?(h(pe,ce.sibling),ce=j(ce,ye),ce.return=pe,pe=ce):(h(pe,ce),ce=Q0(ye,pe.mode,Ke),ce.return=pe,pe=ce),D(pe)):h(pe,ce)}return $n}var tu=wj(!0),jj=wj(!1),jp=uo(null),Np=null,nu=null,a0=null;function o0(){a0=nu=Np=null}function l0(a){var c=jp.current;wn(jp),a._currentValue=c}function c0(a,c,h){for(;a!==null;){var y=a.alternate;if((a.childLanes&c)!==c?(a.childLanes|=c,y!==null&&(y.childLanes|=c)):y!==null&&(y.childLanes&c)!==c&&(y.childLanes|=c),a===h)break;a=a.return}}function ru(a,c){Np=a,a0=nu=null,a=a.dependencies,a!==null&&a.firstContext!==null&&((a.lanes&c)!==0&&(Jr=!0),a.firstContext=null)}function As(a){var c=a._currentValue;if(a0!==a)if(a={context:a,memoizedValue:c,next:null},nu===null){if(Np===null)throw Error(n(308));nu=a,Np.dependencies={lanes:0,firstContext:a}}else nu=nu.next=a;return c}var Tl=null;function u0(a){Tl===null?Tl=[a]:Tl.push(a)}function Nj(a,c,h,y){var j=c.interleaved;return j===null?(h.next=h,u0(c)):(h.next=j.next,j.next=h),c.interleaved=h,Sa(a,y)}function Sa(a,c){a.lanes|=c;var h=a.alternate;for(h!==null&&(h.lanes|=c),h=a,a=a.return;a!==null;)a.childLanes|=c,h=a.alternate,h!==null&&(h.childLanes|=c),h=a,a=a.return;return h.tag===3?h.stateNode:null}var po=!1;function d0(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Sj(a,c){a=a.updateQueue,c.updateQueue===a&&(c.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,effects:a.effects})}function ka(a,c){return{eventTime:a,lane:c,tag:0,payload:null,callback:null,next:null}}function mo(a,c,h){var y=a.updateQueue;if(y===null)return null;if(y=y.shared,(Xt&2)!==0){var j=y.pending;return j===null?c.next=c:(c.next=j.next,j.next=c),y.pending=c,Sa(a,h)}return j=y.interleaved,j===null?(c.next=c,u0(y)):(c.next=j.next,j.next=c),y.interleaved=c,Sa(a,h)}function Sp(a,c,h){if(c=c.updateQueue,c!==null&&(c=c.shared,(h&4194240)!==0)){var y=c.lanes;y&=a.pendingLanes,h|=y,c.lanes=h,Mc(a,h)}}function kj(a,c){var h=a.updateQueue,y=a.alternate;if(y!==null&&(y=y.updateQueue,h===y)){var j=null,C=null;if(h=h.firstBaseUpdate,h!==null){do{var D={eventTime:h.eventTime,lane:h.lane,tag:h.tag,payload:h.payload,callback:h.callback,next:null};C===null?j=C=D:C=C.next=D,h=h.next}while(h!==null);C===null?j=C=c:C=C.next=c}else j=C=c;h={baseState:y.baseState,firstBaseUpdate:j,lastBaseUpdate:C,shared:y.shared,effects:y.effects},a.updateQueue=h;return}a=h.lastBaseUpdate,a===null?h.firstBaseUpdate=c:a.next=c,h.lastBaseUpdate=c}function kp(a,c,h,y){var j=a.updateQueue;po=!1;var C=j.firstBaseUpdate,D=j.lastBaseUpdate,G=j.shared.pending;if(G!==null){j.shared.pending=null;var Z=G,je=Z.next;Z.next=null,D===null?C=je:D.next=je,D=Z;var Le=a.alternate;Le!==null&&(Le=Le.updateQueue,G=Le.lastBaseUpdate,G!==D&&(G===null?Le.firstBaseUpdate=je:G.next=je,Le.lastBaseUpdate=Z))}if(C!==null){var Be=j.baseState;D=0,Le=je=Z=null,G=C;do{var Ie=G.lane,st=G.eventTime;if((y&Ie)===Ie){Le!==null&&(Le=Le.next={eventTime:st,lane:0,tag:G.tag,payload:G.payload,callback:G.callback,next:null});e:{var lt=a,ft=G;switch(Ie=c,st=h,ft.tag){case 1:if(lt=ft.payload,typeof lt=="function"){Be=lt.call(st,Be,Ie);break e}Be=lt;break e;case 3:lt.flags=lt.flags&-65537|128;case 0:if(lt=ft.payload,Ie=typeof lt=="function"?lt.call(st,Be,Ie):lt,Ie==null)break e;Be=A({},Be,Ie);break e;case 2:po=!0}}G.callback!==null&&G.lane!==0&&(a.flags|=64,Ie=j.effects,Ie===null?j.effects=[G]:Ie.push(G))}else st={eventTime:st,lane:Ie,tag:G.tag,payload:G.payload,callback:G.callback,next:null},Le===null?(je=Le=st,Z=Be):Le=Le.next=st,D|=Ie;if(G=G.next,G===null){if(G=j.shared.pending,G===null)break;Ie=G,G=Ie.next,Ie.next=null,j.lastBaseUpdate=Ie,j.shared.pending=null}}while(!0);if(Le===null&&(Z=Be),j.baseState=Z,j.firstBaseUpdate=je,j.lastBaseUpdate=Le,c=j.shared.interleaved,c!==null){j=c;do D|=j.lane,j=j.next;while(j!==c)}else C===null&&(j.shared.lanes=0);Ml|=D,a.lanes=D,a.memoizedState=Be}}function _j(a,c,h){if(a=c.effects,c.effects=null,a!==null)for(c=0;c<a.length;c++){var y=a[c],j=y.callback;if(j!==null){if(y.callback=null,y=h,typeof j!="function")throw Error(n(191,j));j.call(y)}}}var Hd={},Ri=uo(Hd),Kd=uo(Hd),Gd=uo(Hd);function Rl(a){if(a===Hd)throw Error(n(174));return a}function f0(a,c){switch(mn(Gd,c),mn(Kd,a),mn(Ri,Hd),a=c.nodeType,a){case 9:case 11:c=(c=c.documentElement)?c.namespaceURI:Fe(null,"");break;default:a=a===8?c.parentNode:c,c=a.namespaceURI||null,a=a.tagName,c=Fe(c,a)}wn(Ri),mn(Ri,c)}function su(){wn(Ri),wn(Kd),wn(Gd)}function Cj(a){Rl(Gd.current);var c=Rl(Ri.current),h=Fe(c,a.type);c!==h&&(mn(Kd,a),mn(Ri,h))}function h0(a){Kd.current===a&&(wn(Ri),wn(Kd))}var Rn=uo(0);function _p(a){for(var c=a;c!==null;){if(c.tag===13){var h=c.memoizedState;if(h!==null&&(h=h.dehydrated,h===null||h.data==="$?"||h.data==="$!"))return c}else if(c.tag===19&&c.memoizedProps.revealOrder!==void 0){if((c.flags&128)!==0)return c}else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===a)break;for(;c.sibling===null;){if(c.return===null||c.return===a)return null;c=c.return}c.sibling.return=c.return,c=c.sibling}return null}var p0=[];function m0(){for(var a=0;a<p0.length;a++)p0[a]._workInProgressVersionPrimary=null;p0.length=0}var Cp=L.ReactCurrentDispatcher,g0=L.ReactCurrentBatchConfig,Il=0,In=null,Xn=null,or=null,Ep=!1,Yd=!1,Qd=0,GO=0;function Ar(){throw Error(n(321))}function x0(a,c){if(c===null)return!1;for(var h=0;h<c.length&&h<a.length;h++)if(!ue(a[h],c[h]))return!1;return!0}function y0(a,c,h,y,j,C){if(Il=C,In=c,c.memoizedState=null,c.updateQueue=null,c.lanes=0,Cp.current=a===null||a.memoizedState===null?JO:ZO,a=h(y,j),Yd){C=0;do{if(Yd=!1,Qd=0,25<=C)throw Error(n(301));C+=1,or=Xn=null,c.updateQueue=null,Cp.current=e4,a=h(y,j)}while(Yd)}if(Cp.current=Tp,c=Xn!==null&&Xn.next!==null,Il=0,or=Xn=In=null,Ep=!1,c)throw Error(n(300));return a}function v0(){var a=Qd!==0;return Qd=0,a}function Ii(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return or===null?In.memoizedState=or=a:or=or.next=a,or}function Ts(){if(Xn===null){var a=In.alternate;a=a!==null?a.memoizedState:null}else a=Xn.next;var c=or===null?In.memoizedState:or.next;if(c!==null)or=c,Xn=a;else{if(a===null)throw Error(n(310));Xn=a,a={memoizedState:Xn.memoizedState,baseState:Xn.baseState,baseQueue:Xn.baseQueue,queue:Xn.queue,next:null},or===null?In.memoizedState=or=a:or=or.next=a}return or}function Xd(a,c){return typeof c=="function"?c(a):c}function b0(a){var c=Ts(),h=c.queue;if(h===null)throw Error(n(311));h.lastRenderedReducer=a;var y=Xn,j=y.baseQueue,C=h.pending;if(C!==null){if(j!==null){var D=j.next;j.next=C.next,C.next=D}y.baseQueue=j=C,h.pending=null}if(j!==null){C=j.next,y=y.baseState;var G=D=null,Z=null,je=C;do{var Le=je.lane;if((Il&Le)===Le)Z!==null&&(Z=Z.next={lane:0,action:je.action,hasEagerState:je.hasEagerState,eagerState:je.eagerState,next:null}),y=je.hasEagerState?je.eagerState:a(y,je.action);else{var Be={lane:Le,action:je.action,hasEagerState:je.hasEagerState,eagerState:je.eagerState,next:null};Z===null?(G=Z=Be,D=y):Z=Z.next=Be,In.lanes|=Le,Ml|=Le}je=je.next}while(je!==null&&je!==C);Z===null?D=y:Z.next=G,ue(y,c.memoizedState)||(Jr=!0),c.memoizedState=y,c.baseState=D,c.baseQueue=Z,h.lastRenderedState=y}if(a=h.interleaved,a!==null){j=a;do C=j.lane,In.lanes|=C,Ml|=C,j=j.next;while(j!==a)}else j===null&&(h.lanes=0);return[c.memoizedState,h.dispatch]}function w0(a){var c=Ts(),h=c.queue;if(h===null)throw Error(n(311));h.lastRenderedReducer=a;var y=h.dispatch,j=h.pending,C=c.memoizedState;if(j!==null){h.pending=null;var D=j=j.next;do C=a(C,D.action),D=D.next;while(D!==j);ue(C,c.memoizedState)||(Jr=!0),c.memoizedState=C,c.baseQueue===null&&(c.baseState=C),h.lastRenderedState=C}return[C,y]}function Ej(){}function Pj(a,c){var h=In,y=Ts(),j=c(),C=!ue(y.memoizedState,j);if(C&&(y.memoizedState=j,Jr=!0),y=y.queue,j0(Rj.bind(null,h,y,a),[a]),y.getSnapshot!==c||C||or!==null&&or.memoizedState.tag&1){if(h.flags|=2048,Jd(9,Tj.bind(null,h,y,j,c),void 0,null),lr===null)throw Error(n(349));(Il&30)!==0||Aj(h,c,j)}return j}function Aj(a,c,h){a.flags|=16384,a={getSnapshot:c,value:h},c=In.updateQueue,c===null?(c={lastEffect:null,stores:null},In.updateQueue=c,c.stores=[a]):(h=c.stores,h===null?c.stores=[a]:h.push(a))}function Tj(a,c,h,y){c.value=h,c.getSnapshot=y,Ij(c)&&Mj(a)}function Rj(a,c,h){return h(function(){Ij(c)&&Mj(a)})}function Ij(a){var c=a.getSnapshot;a=a.value;try{var h=c();return!ue(a,h)}catch{return!0}}function Mj(a){var c=Sa(a,1);c!==null&&ai(c,a,1,-1)}function Oj(a){var c=Ii();return typeof a=="function"&&(a=a()),c.memoizedState=c.baseState=a,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Xd,lastRenderedState:a},c.queue=a,a=a.dispatch=XO.bind(null,In,a),[c.memoizedState,a]}function Jd(a,c,h,y){return a={tag:a,create:c,destroy:h,deps:y,next:null},c=In.updateQueue,c===null?(c={lastEffect:null,stores:null},In.updateQueue=c,c.lastEffect=a.next=a):(h=c.lastEffect,h===null?c.lastEffect=a.next=a:(y=h.next,h.next=a,a.next=y,c.lastEffect=a)),a}function Dj(){return Ts().memoizedState}function Pp(a,c,h,y){var j=Ii();In.flags|=a,j.memoizedState=Jd(1|c,h,void 0,y===void 0?null:y)}function Ap(a,c,h,y){var j=Ts();y=y===void 0?null:y;var C=void 0;if(Xn!==null){var D=Xn.memoizedState;if(C=D.destroy,y!==null&&x0(y,D.deps)){j.memoizedState=Jd(c,h,C,y);return}}In.flags|=a,j.memoizedState=Jd(1|c,h,C,y)}function Lj(a,c){return Pp(8390656,8,a,c)}function j0(a,c){return Ap(2048,8,a,c)}function Fj(a,c){return Ap(4,2,a,c)}function $j(a,c){return Ap(4,4,a,c)}function Bj(a,c){if(typeof c=="function")return a=a(),c(a),function(){c(null)};if(c!=null)return a=a(),c.current=a,function(){c.current=null}}function zj(a,c,h){return h=h!=null?h.concat([a]):null,Ap(4,4,Bj.bind(null,c,a),h)}function N0(){}function Uj(a,c){var h=Ts();c=c===void 0?null:c;var y=h.memoizedState;return y!==null&&c!==null&&x0(c,y[1])?y[0]:(h.memoizedState=[a,c],a)}function Vj(a,c){var h=Ts();c=c===void 0?null:c;var y=h.memoizedState;return y!==null&&c!==null&&x0(c,y[1])?y[0]:(a=a(),h.memoizedState=[a,c],a)}function Wj(a,c,h){return(Il&21)===0?(a.baseState&&(a.baseState=!1,Jr=!0),a.memoizedState=h):(ue(h,c)||(h=fa(),In.lanes|=h,Ml|=h,a.baseState=!0),c)}function YO(a,c){var h=Qt;Qt=h!==0&&4>h?h:4,a(!0);var y=g0.transition;g0.transition={};try{a(!1),c()}finally{Qt=h,g0.transition=y}}function qj(){return Ts().memoizedState}function QO(a,c,h){var y=vo(a);if(h={lane:y,action:h,hasEagerState:!1,eagerState:null,next:null},Hj(a))Kj(c,h);else if(h=Nj(a,c,h,y),h!==null){var j=Vr();ai(h,a,y,j),Gj(h,c,y)}}function XO(a,c,h){var y=vo(a),j={lane:y,action:h,hasEagerState:!1,eagerState:null,next:null};if(Hj(a))Kj(c,j);else{var C=a.alternate;if(a.lanes===0&&(C===null||C.lanes===0)&&(C=c.lastRenderedReducer,C!==null))try{var D=c.lastRenderedState,G=C(D,h);if(j.hasEagerState=!0,j.eagerState=G,ue(G,D)){var Z=c.interleaved;Z===null?(j.next=j,u0(c)):(j.next=Z.next,Z.next=j),c.interleaved=j;return}}catch{}finally{}h=Nj(a,c,j,y),h!==null&&(j=Vr(),ai(h,a,y,j),Gj(h,c,y))}}function Hj(a){var c=a.alternate;return a===In||c!==null&&c===In}function Kj(a,c){Yd=Ep=!0;var h=a.pending;h===null?c.next=c:(c.next=h.next,h.next=c),a.pending=c}function Gj(a,c,h){if((h&4194240)!==0){var y=c.lanes;y&=a.pendingLanes,h|=y,c.lanes=h,Mc(a,h)}}var Tp={readContext:As,useCallback:Ar,useContext:Ar,useEffect:Ar,useImperativeHandle:Ar,useInsertionEffect:Ar,useLayoutEffect:Ar,useMemo:Ar,useReducer:Ar,useRef:Ar,useState:Ar,useDebugValue:Ar,useDeferredValue:Ar,useTransition:Ar,useMutableSource:Ar,useSyncExternalStore:Ar,useId:Ar,unstable_isNewReconciler:!1},JO={readContext:As,useCallback:function(a,c){return Ii().memoizedState=[a,c===void 0?null:c],a},useContext:As,useEffect:Lj,useImperativeHandle:function(a,c,h){return h=h!=null?h.concat([a]):null,Pp(4194308,4,Bj.bind(null,c,a),h)},useLayoutEffect:function(a,c){return Pp(4194308,4,a,c)},useInsertionEffect:function(a,c){return Pp(4,2,a,c)},useMemo:function(a,c){var h=Ii();return c=c===void 0?null:c,a=a(),h.memoizedState=[a,c],a},useReducer:function(a,c,h){var y=Ii();return c=h!==void 0?h(c):c,y.memoizedState=y.baseState=c,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:c},y.queue=a,a=a.dispatch=QO.bind(null,In,a),[y.memoizedState,a]},useRef:function(a){var c=Ii();return a={current:a},c.memoizedState=a},useState:Oj,useDebugValue:N0,useDeferredValue:function(a){return Ii().memoizedState=a},useTransition:function(){var a=Oj(!1),c=a[0];return a=YO.bind(null,a[1]),Ii().memoizedState=a,[c,a]},useMutableSource:function(){},useSyncExternalStore:function(a,c,h){var y=In,j=Ii();if(Cn){if(h===void 0)throw Error(n(407));h=h()}else{if(h=c(),lr===null)throw Error(n(349));(Il&30)!==0||Aj(y,c,h)}j.memoizedState=h;var C={value:h,getSnapshot:c};return j.queue=C,Lj(Rj.bind(null,y,C,a),[a]),y.flags|=2048,Jd(9,Tj.bind(null,y,C,h,c),void 0,null),h},useId:function(){var a=Ii(),c=lr.identifierPrefix;if(Cn){var h=Na,y=ja;h=(y&~(1<<32-Ct(y)-1)).toString(32)+h,c=":"+c+"R"+h,h=Qd++,0<h&&(c+="H"+h.toString(32)),c+=":"}else h=GO++,c=":"+c+"r"+h.toString(32)+":";return a.memoizedState=c},unstable_isNewReconciler:!1},ZO={readContext:As,useCallback:Uj,useContext:As,useEffect:j0,useImperativeHandle:zj,useInsertionEffect:Fj,useLayoutEffect:$j,useMemo:Vj,useReducer:b0,useRef:Dj,useState:function(){return b0(Xd)},useDebugValue:N0,useDeferredValue:function(a){var c=Ts();return Wj(c,Xn.memoizedState,a)},useTransition:function(){var a=b0(Xd)[0],c=Ts().memoizedState;return[a,c]},useMutableSource:Ej,useSyncExternalStore:Pj,useId:qj,unstable_isNewReconciler:!1},e4={readContext:As,useCallback:Uj,useContext:As,useEffect:j0,useImperativeHandle:zj,useInsertionEffect:Fj,useLayoutEffect:$j,useMemo:Vj,useReducer:w0,useRef:Dj,useState:function(){return w0(Xd)},useDebugValue:N0,useDeferredValue:function(a){var c=Ts();return Xn===null?c.memoizedState=a:Wj(c,Xn.memoizedState,a)},useTransition:function(){var a=w0(Xd)[0],c=Ts().memoizedState;return[a,c]},useMutableSource:Ej,useSyncExternalStore:Pj,useId:qj,unstable_isNewReconciler:!1};function ri(a,c){if(a&&a.defaultProps){c=A({},c),a=a.defaultProps;for(var h in a)c[h]===void 0&&(c[h]=a[h]);return c}return c}function S0(a,c,h,y){c=a.memoizedState,h=h(y,c),h=h==null?c:A({},c,h),a.memoizedState=h,a.lanes===0&&(a.updateQueue.baseState=h)}var Rp={isMounted:function(a){return(a=a._reactInternals)?Er(a)===a:!1},enqueueSetState:function(a,c,h){a=a._reactInternals;var y=Vr(),j=vo(a),C=ka(y,j);C.payload=c,h!=null&&(C.callback=h),c=mo(a,C,j),c!==null&&(ai(c,a,j,y),Sp(c,a,j))},enqueueReplaceState:function(a,c,h){a=a._reactInternals;var y=Vr(),j=vo(a),C=ka(y,j);C.tag=1,C.payload=c,h!=null&&(C.callback=h),c=mo(a,C,j),c!==null&&(ai(c,a,j,y),Sp(c,a,j))},enqueueForceUpdate:function(a,c){a=a._reactInternals;var h=Vr(),y=vo(a),j=ka(h,y);j.tag=2,c!=null&&(j.callback=c),c=mo(a,j,y),c!==null&&(ai(c,a,y,h),Sp(c,a,y))}};function Yj(a,c,h,y,j,C,D){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(y,C,D):c.prototype&&c.prototype.isPureReactComponent?!te(h,y)||!te(j,C):!0}function Qj(a,c,h){var y=!1,j=fo,C=c.contextType;return typeof C=="object"&&C!==null?C=As(C):(j=Xr(c)?El:Pr.current,y=c.contextTypes,C=(y=y!=null)?Xc(a,j):fo),c=new c(h,C),a.memoizedState=c.state!==null&&c.state!==void 0?c.state:null,c.updater=Rp,a.stateNode=c,c._reactInternals=a,y&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=j,a.__reactInternalMemoizedMaskedChildContext=C),c}function Xj(a,c,h,y){a=c.state,typeof c.componentWillReceiveProps=="function"&&c.componentWillReceiveProps(h,y),typeof c.UNSAFE_componentWillReceiveProps=="function"&&c.UNSAFE_componentWillReceiveProps(h,y),c.state!==a&&Rp.enqueueReplaceState(c,c.state,null)}function k0(a,c,h,y){var j=a.stateNode;j.props=h,j.state=a.memoizedState,j.refs={},d0(a);var C=c.contextType;typeof C=="object"&&C!==null?j.context=As(C):(C=Xr(c)?El:Pr.current,j.context=Xc(a,C)),j.state=a.memoizedState,C=c.getDerivedStateFromProps,typeof C=="function"&&(S0(a,c,C,h),j.state=a.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof j.getSnapshotBeforeUpdate=="function"||typeof j.UNSAFE_componentWillMount!="function"&&typeof j.componentWillMount!="function"||(c=j.state,typeof j.componentWillMount=="function"&&j.componentWillMount(),typeof j.UNSAFE_componentWillMount=="function"&&j.UNSAFE_componentWillMount(),c!==j.state&&Rp.enqueueReplaceState(j,j.state,null),kp(a,h,j,y),j.state=a.memoizedState),typeof j.componentDidMount=="function"&&(a.flags|=4194308)}function iu(a,c){try{var h="",y=c;do h+=De(y),y=y.return;while(y);var j=h}catch(C){j=`
Error generating stack: `+C.message+`
`+C.stack}return{value:a,source:c,stack:j,digest:null}}function _0(a,c,h){return{value:a,source:null,stack:h??null,digest:c??null}}function C0(a,c){try{console.error(c.value)}catch(h){setTimeout(function(){throw h})}}var t4=typeof WeakMap=="function"?WeakMap:Map;function Jj(a,c,h){h=ka(-1,h),h.tag=3,h.payload={element:null};var y=c.value;return h.callback=function(){$p||($p=!0,U0=y),C0(a,c)},h}function Zj(a,c,h){h=ka(-1,h),h.tag=3;var y=a.type.getDerivedStateFromError;if(typeof y=="function"){var j=c.value;h.payload=function(){return y(j)},h.callback=function(){C0(a,c)}}var C=a.stateNode;return C!==null&&typeof C.componentDidCatch=="function"&&(h.callback=function(){C0(a,c),typeof y!="function"&&(xo===null?xo=new Set([this]):xo.add(this));var D=c.stack;this.componentDidCatch(c.value,{componentStack:D!==null?D:""})}),h}function eN(a,c,h){var y=a.pingCache;if(y===null){y=a.pingCache=new t4;var j=new Set;y.set(c,j)}else j=y.get(c),j===void 0&&(j=new Set,y.set(c,j));j.has(h)||(j.add(h),a=m4.bind(null,a,c,h),c.then(a,a))}function tN(a){do{var c;if((c=a.tag===13)&&(c=a.memoizedState,c=c!==null?c.dehydrated!==null:!0),c)return a;a=a.return}while(a!==null);return null}function nN(a,c,h,y,j){return(a.mode&1)===0?(a===c?a.flags|=65536:(a.flags|=128,h.flags|=131072,h.flags&=-52805,h.tag===1&&(h.alternate===null?h.tag=17:(c=ka(-1,1),c.tag=2,mo(h,c,1))),h.lanes|=1),a):(a.flags|=65536,a.lanes=j,a)}var n4=L.ReactCurrentOwner,Jr=!1;function Ur(a,c,h,y){c.child=a===null?jj(c,null,h,y):tu(c,a.child,h,y)}function rN(a,c,h,y,j){h=h.render;var C=c.ref;return ru(c,j),y=y0(a,c,h,y,C,j),h=v0(),a!==null&&!Jr?(c.updateQueue=a.updateQueue,c.flags&=-2053,a.lanes&=~j,_a(a,c,j)):(Cn&&h&&t0(c),c.flags|=1,Ur(a,c,y,j),c.child)}function sN(a,c,h,y,j){if(a===null){var C=h.type;return typeof C=="function"&&!Y0(C)&&C.defaultProps===void 0&&h.compare===null&&h.defaultProps===void 0?(c.tag=15,c.type=C,iN(a,c,C,y,j)):(a=qp(h.type,null,y,c,c.mode,j),a.ref=c.ref,a.return=c,c.child=a)}if(C=a.child,(a.lanes&j)===0){var D=C.memoizedProps;if(h=h.compare,h=h!==null?h:te,h(D,y)&&a.ref===c.ref)return _a(a,c,j)}return c.flags|=1,a=wo(C,y),a.ref=c.ref,a.return=c,c.child=a}function iN(a,c,h,y,j){if(a!==null){var C=a.memoizedProps;if(te(C,y)&&a.ref===c.ref)if(Jr=!1,c.pendingProps=y=C,(a.lanes&j)!==0)(a.flags&131072)!==0&&(Jr=!0);else return c.lanes=a.lanes,_a(a,c,j)}return E0(a,c,h,y,j)}function aN(a,c,h){var y=c.pendingProps,j=y.children,C=a!==null?a.memoizedState:null;if(y.mode==="hidden")if((c.mode&1)===0)c.memoizedState={baseLanes:0,cachePool:null,transitions:null},mn(ou,ms),ms|=h;else{if((h&1073741824)===0)return a=C!==null?C.baseLanes|h:h,c.lanes=c.childLanes=1073741824,c.memoizedState={baseLanes:a,cachePool:null,transitions:null},c.updateQueue=null,mn(ou,ms),ms|=a,null;c.memoizedState={baseLanes:0,cachePool:null,transitions:null},y=C!==null?C.baseLanes:h,mn(ou,ms),ms|=y}else C!==null?(y=C.baseLanes|h,c.memoizedState=null):y=h,mn(ou,ms),ms|=y;return Ur(a,c,j,h),c.child}function oN(a,c){var h=c.ref;(a===null&&h!==null||a!==null&&a.ref!==h)&&(c.flags|=512,c.flags|=2097152)}function E0(a,c,h,y,j){var C=Xr(h)?El:Pr.current;return C=Xc(c,C),ru(c,j),h=y0(a,c,h,y,C,j),y=v0(),a!==null&&!Jr?(c.updateQueue=a.updateQueue,c.flags&=-2053,a.lanes&=~j,_a(a,c,j)):(Cn&&y&&t0(c),c.flags|=1,Ur(a,c,h,j),c.child)}function lN(a,c,h,y,j){if(Xr(h)){var C=!0;gp(c)}else C=!1;if(ru(c,j),c.stateNode===null)Mp(a,c),Qj(c,h,y),k0(c,h,y,j),y=!0;else if(a===null){var D=c.stateNode,G=c.memoizedProps;D.props=G;var Z=D.context,je=h.contextType;typeof je=="object"&&je!==null?je=As(je):(je=Xr(h)?El:Pr.current,je=Xc(c,je));var Le=h.getDerivedStateFromProps,Be=typeof Le=="function"||typeof D.getSnapshotBeforeUpdate=="function";Be||typeof D.UNSAFE_componentWillReceiveProps!="function"&&typeof D.componentWillReceiveProps!="function"||(G!==y||Z!==je)&&Xj(c,D,y,je),po=!1;var Ie=c.memoizedState;D.state=Ie,kp(c,y,D,j),Z=c.memoizedState,G!==y||Ie!==Z||Qr.current||po?(typeof Le=="function"&&(S0(c,h,Le,y),Z=c.memoizedState),(G=po||Yj(c,h,G,y,Ie,Z,je))?(Be||typeof D.UNSAFE_componentWillMount!="function"&&typeof D.componentWillMount!="function"||(typeof D.componentWillMount=="function"&&D.componentWillMount(),typeof D.UNSAFE_componentWillMount=="function"&&D.UNSAFE_componentWillMount()),typeof D.componentDidMount=="function"&&(c.flags|=4194308)):(typeof D.componentDidMount=="function"&&(c.flags|=4194308),c.memoizedProps=y,c.memoizedState=Z),D.props=y,D.state=Z,D.context=je,y=G):(typeof D.componentDidMount=="function"&&(c.flags|=4194308),y=!1)}else{D=c.stateNode,Sj(a,c),G=c.memoizedProps,je=c.type===c.elementType?G:ri(c.type,G),D.props=je,Be=c.pendingProps,Ie=D.context,Z=h.contextType,typeof Z=="object"&&Z!==null?Z=As(Z):(Z=Xr(h)?El:Pr.current,Z=Xc(c,Z));var st=h.getDerivedStateFromProps;(Le=typeof st=="function"||typeof D.getSnapshotBeforeUpdate=="function")||typeof D.UNSAFE_componentWillReceiveProps!="function"&&typeof D.componentWillReceiveProps!="function"||(G!==Be||Ie!==Z)&&Xj(c,D,y,Z),po=!1,Ie=c.memoizedState,D.state=Ie,kp(c,y,D,j);var lt=c.memoizedState;G!==Be||Ie!==lt||Qr.current||po?(typeof st=="function"&&(S0(c,h,st,y),lt=c.memoizedState),(je=po||Yj(c,h,je,y,Ie,lt,Z)||!1)?(Le||typeof D.UNSAFE_componentWillUpdate!="function"&&typeof D.componentWillUpdate!="function"||(typeof D.componentWillUpdate=="function"&&D.componentWillUpdate(y,lt,Z),typeof D.UNSAFE_componentWillUpdate=="function"&&D.UNSAFE_componentWillUpdate(y,lt,Z)),typeof D.componentDidUpdate=="function"&&(c.flags|=4),typeof D.getSnapshotBeforeUpdate=="function"&&(c.flags|=1024)):(typeof D.componentDidUpdate!="function"||G===a.memoizedProps&&Ie===a.memoizedState||(c.flags|=4),typeof D.getSnapshotBeforeUpdate!="function"||G===a.memoizedProps&&Ie===a.memoizedState||(c.flags|=1024),c.memoizedProps=y,c.memoizedState=lt),D.props=y,D.state=lt,D.context=Z,y=je):(typeof D.componentDidUpdate!="function"||G===a.memoizedProps&&Ie===a.memoizedState||(c.flags|=4),typeof D.getSnapshotBeforeUpdate!="function"||G===a.memoizedProps&&Ie===a.memoizedState||(c.flags|=1024),y=!1)}return P0(a,c,h,y,C,j)}function P0(a,c,h,y,j,C){oN(a,c);var D=(c.flags&128)!==0;if(!y&&!D)return j&&hj(c,h,!1),_a(a,c,C);y=c.stateNode,n4.current=c;var G=D&&typeof h.getDerivedStateFromError!="function"?null:y.render();return c.flags|=1,a!==null&&D?(c.child=tu(c,a.child,null,C),c.child=tu(c,null,G,C)):Ur(a,c,G,C),c.memoizedState=y.state,j&&hj(c,h,!0),c.child}function cN(a){var c=a.stateNode;c.pendingContext?dj(a,c.pendingContext,c.pendingContext!==c.context):c.context&&dj(a,c.context,!1),f0(a,c.containerInfo)}function uN(a,c,h,y,j){return eu(),i0(j),c.flags|=256,Ur(a,c,h,y),c.child}var A0={dehydrated:null,treeContext:null,retryLane:0};function T0(a){return{baseLanes:a,cachePool:null,transitions:null}}function dN(a,c,h){var y=c.pendingProps,j=Rn.current,C=!1,D=(c.flags&128)!==0,G;if((G=D)||(G=a!==null&&a.memoizedState===null?!1:(j&2)!==0),G?(C=!0,c.flags&=-129):(a===null||a.memoizedState!==null)&&(j|=1),mn(Rn,j&1),a===null)return s0(c),a=c.memoizedState,a!==null&&(a=a.dehydrated,a!==null)?((c.mode&1)===0?c.lanes=1:a.data==="$!"?c.lanes=8:c.lanes=1073741824,null):(D=y.children,a=y.fallback,C?(y=c.mode,C=c.child,D={mode:"hidden",children:D},(y&1)===0&&C!==null?(C.childLanes=0,C.pendingProps=D):C=Hp(D,y,0,null),a=Fl(a,y,h,null),C.return=c,a.return=c,C.sibling=a,c.child=C,c.child.memoizedState=T0(h),c.memoizedState=A0,a):R0(c,D));if(j=a.memoizedState,j!==null&&(G=j.dehydrated,G!==null))return r4(a,c,D,y,G,j,h);if(C){C=y.fallback,D=c.mode,j=a.child,G=j.sibling;var Z={mode:"hidden",children:y.children};return(D&1)===0&&c.child!==j?(y=c.child,y.childLanes=0,y.pendingProps=Z,c.deletions=null):(y=wo(j,Z),y.subtreeFlags=j.subtreeFlags&14680064),G!==null?C=wo(G,C):(C=Fl(C,D,h,null),C.flags|=2),C.return=c,y.return=c,y.sibling=C,c.child=y,y=C,C=c.child,D=a.child.memoizedState,D=D===null?T0(h):{baseLanes:D.baseLanes|h,cachePool:null,transitions:D.transitions},C.memoizedState=D,C.childLanes=a.childLanes&~h,c.memoizedState=A0,y}return C=a.child,a=C.sibling,y=wo(C,{mode:"visible",children:y.children}),(c.mode&1)===0&&(y.lanes=h),y.return=c,y.sibling=null,a!==null&&(h=c.deletions,h===null?(c.deletions=[a],c.flags|=16):h.push(a)),c.child=y,c.memoizedState=null,y}function R0(a,c){return c=Hp({mode:"visible",children:c},a.mode,0,null),c.return=a,a.child=c}function Ip(a,c,h,y){return y!==null&&i0(y),tu(c,a.child,null,h),a=R0(c,c.pendingProps.children),a.flags|=2,c.memoizedState=null,a}function r4(a,c,h,y,j,C,D){if(h)return c.flags&256?(c.flags&=-257,y=_0(Error(n(422))),Ip(a,c,D,y)):c.memoizedState!==null?(c.child=a.child,c.flags|=128,null):(C=y.fallback,j=c.mode,y=Hp({mode:"visible",children:y.children},j,0,null),C=Fl(C,j,D,null),C.flags|=2,y.return=c,C.return=c,y.sibling=C,c.child=y,(c.mode&1)!==0&&tu(c,a.child,null,D),c.child.memoizedState=T0(D),c.memoizedState=A0,C);if((c.mode&1)===0)return Ip(a,c,D,null);if(j.data==="$!"){if(y=j.nextSibling&&j.nextSibling.dataset,y)var G=y.dgst;return y=G,C=Error(n(419)),y=_0(C,y,void 0),Ip(a,c,D,y)}if(G=(D&a.childLanes)!==0,Jr||G){if(y=lr,y!==null){switch(D&-D){case 4:j=2;break;case 16:j=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:j=32;break;case 536870912:j=268435456;break;default:j=0}j=(j&(y.suspendedLanes|D))!==0?0:j,j!==0&&j!==C.retryLane&&(C.retryLane=j,Sa(a,j),ai(y,a,j,-1))}return G0(),y=_0(Error(n(421))),Ip(a,c,D,y)}return j.data==="$?"?(c.flags|=128,c.child=a.child,c=g4.bind(null,a),j._reactRetry=c,null):(a=C.treeContext,ps=co(j.nextSibling),hs=c,Cn=!0,ni=null,a!==null&&(Es[Ps++]=ja,Es[Ps++]=Na,Es[Ps++]=Pl,ja=a.id,Na=a.overflow,Pl=c),c=R0(c,y.children),c.flags|=4096,c)}function fN(a,c,h){a.lanes|=c;var y=a.alternate;y!==null&&(y.lanes|=c),c0(a.return,c,h)}function I0(a,c,h,y,j){var C=a.memoizedState;C===null?a.memoizedState={isBackwards:c,rendering:null,renderingStartTime:0,last:y,tail:h,tailMode:j}:(C.isBackwards=c,C.rendering=null,C.renderingStartTime=0,C.last=y,C.tail=h,C.tailMode=j)}function hN(a,c,h){var y=c.pendingProps,j=y.revealOrder,C=y.tail;if(Ur(a,c,y.children,h),y=Rn.current,(y&2)!==0)y=y&1|2,c.flags|=128;else{if(a!==null&&(a.flags&128)!==0)e:for(a=c.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&fN(a,h,c);else if(a.tag===19)fN(a,h,c);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===c)break e;for(;a.sibling===null;){if(a.return===null||a.return===c)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}y&=1}if(mn(Rn,y),(c.mode&1)===0)c.memoizedState=null;else switch(j){case"forwards":for(h=c.child,j=null;h!==null;)a=h.alternate,a!==null&&_p(a)===null&&(j=h),h=h.sibling;h=j,h===null?(j=c.child,c.child=null):(j=h.sibling,h.sibling=null),I0(c,!1,j,h,C);break;case"backwards":for(h=null,j=c.child,c.child=null;j!==null;){if(a=j.alternate,a!==null&&_p(a)===null){c.child=j;break}a=j.sibling,j.sibling=h,h=j,j=a}I0(c,!0,h,null,C);break;case"together":I0(c,!1,null,null,void 0);break;default:c.memoizedState=null}return c.child}function Mp(a,c){(c.mode&1)===0&&a!==null&&(a.alternate=null,c.alternate=null,c.flags|=2)}function _a(a,c,h){if(a!==null&&(c.dependencies=a.dependencies),Ml|=c.lanes,(h&c.childLanes)===0)return null;if(a!==null&&c.child!==a.child)throw Error(n(153));if(c.child!==null){for(a=c.child,h=wo(a,a.pendingProps),c.child=h,h.return=c;a.sibling!==null;)a=a.sibling,h=h.sibling=wo(a,a.pendingProps),h.return=c;h.sibling=null}return c.child}function s4(a,c,h){switch(c.tag){case 3:cN(c),eu();break;case 5:Cj(c);break;case 1:Xr(c.type)&&gp(c);break;case 4:f0(c,c.stateNode.containerInfo);break;case 10:var y=c.type._context,j=c.memoizedProps.value;mn(jp,y._currentValue),y._currentValue=j;break;case 13:if(y=c.memoizedState,y!==null)return y.dehydrated!==null?(mn(Rn,Rn.current&1),c.flags|=128,null):(h&c.child.childLanes)!==0?dN(a,c,h):(mn(Rn,Rn.current&1),a=_a(a,c,h),a!==null?a.sibling:null);mn(Rn,Rn.current&1);break;case 19:if(y=(h&c.childLanes)!==0,(a.flags&128)!==0){if(y)return hN(a,c,h);c.flags|=128}if(j=c.memoizedState,j!==null&&(j.rendering=null,j.tail=null,j.lastEffect=null),mn(Rn,Rn.current),y)break;return null;case 22:case 23:return c.lanes=0,aN(a,c,h)}return _a(a,c,h)}var pN,M0,mN,gN;pN=function(a,c){for(var h=c.child;h!==null;){if(h.tag===5||h.tag===6)a.appendChild(h.stateNode);else if(h.tag!==4&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===c)break;for(;h.sibling===null;){if(h.return===null||h.return===c)return;h=h.return}h.sibling.return=h.return,h=h.sibling}},M0=function(){},mN=function(a,c,h,y){var j=a.memoizedProps;if(j!==y){a=c.stateNode,Rl(Ri.current);var C=null;switch(h){case"input":j=yt(a,j),y=yt(a,y),C=[];break;case"select":j=A({},j,{value:void 0}),y=A({},y,{value:void 0}),C=[];break;case"textarea":j=ds(a,j),y=ds(a,y),C=[];break;default:typeof j.onClick!="function"&&typeof y.onClick=="function"&&(a.onclick=hp)}He(h,y);var D;h=null;for(je in j)if(!y.hasOwnProperty(je)&&j.hasOwnProperty(je)&&j[je]!=null)if(je==="style"){var G=j[je];for(D in G)G.hasOwnProperty(D)&&(h||(h={}),h[D]="")}else je!=="dangerouslySetInnerHTML"&&je!=="children"&&je!=="suppressContentEditableWarning"&&je!=="suppressHydrationWarning"&&je!=="autoFocus"&&(s.hasOwnProperty(je)?C||(C=[]):(C=C||[]).push(je,null));for(je in y){var Z=y[je];if(G=j!=null?j[je]:void 0,y.hasOwnProperty(je)&&Z!==G&&(Z!=null||G!=null))if(je==="style")if(G){for(D in G)!G.hasOwnProperty(D)||Z&&Z.hasOwnProperty(D)||(h||(h={}),h[D]="");for(D in Z)Z.hasOwnProperty(D)&&G[D]!==Z[D]&&(h||(h={}),h[D]=Z[D])}else h||(C||(C=[]),C.push(je,h)),h=Z;else je==="dangerouslySetInnerHTML"?(Z=Z?Z.__html:void 0,G=G?G.__html:void 0,Z!=null&&G!==Z&&(C=C||[]).push(je,Z)):je==="children"?typeof Z!="string"&&typeof Z!="number"||(C=C||[]).push(je,""+Z):je!=="suppressContentEditableWarning"&&je!=="suppressHydrationWarning"&&(s.hasOwnProperty(je)?(Z!=null&&je==="onScroll"&&bn("scroll",a),C||G===Z||(C=[])):(C=C||[]).push(je,Z))}h&&(C=C||[]).push("style",h);var je=C;(c.updateQueue=je)&&(c.flags|=4)}},gN=function(a,c,h,y){h!==y&&(c.flags|=4)};function Zd(a,c){if(!Cn)switch(a.tailMode){case"hidden":c=a.tail;for(var h=null;c!==null;)c.alternate!==null&&(h=c),c=c.sibling;h===null?a.tail=null:h.sibling=null;break;case"collapsed":h=a.tail;for(var y=null;h!==null;)h.alternate!==null&&(y=h),h=h.sibling;y===null?c||a.tail===null?a.tail=null:a.tail.sibling=null:y.sibling=null}}function Tr(a){var c=a.alternate!==null&&a.alternate.child===a.child,h=0,y=0;if(c)for(var j=a.child;j!==null;)h|=j.lanes|j.childLanes,y|=j.subtreeFlags&14680064,y|=j.flags&14680064,j.return=a,j=j.sibling;else for(j=a.child;j!==null;)h|=j.lanes|j.childLanes,y|=j.subtreeFlags,y|=j.flags,j.return=a,j=j.sibling;return a.subtreeFlags|=y,a.childLanes=h,c}function i4(a,c,h){var y=c.pendingProps;switch(n0(c),c.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Tr(c),null;case 1:return Xr(c.type)&&mp(),Tr(c),null;case 3:return y=c.stateNode,su(),wn(Qr),wn(Pr),m0(),y.pendingContext&&(y.context=y.pendingContext,y.pendingContext=null),(a===null||a.child===null)&&(bp(c)?c.flags|=4:a===null||a.memoizedState.isDehydrated&&(c.flags&256)===0||(c.flags|=1024,ni!==null&&(q0(ni),ni=null))),M0(a,c),Tr(c),null;case 5:h0(c);var j=Rl(Gd.current);if(h=c.type,a!==null&&c.stateNode!=null)mN(a,c,h,y,j),a.ref!==c.ref&&(c.flags|=512,c.flags|=2097152);else{if(!y){if(c.stateNode===null)throw Error(n(166));return Tr(c),null}if(a=Rl(Ri.current),bp(c)){y=c.stateNode,h=c.type;var C=c.memoizedProps;switch(y[Ti]=c,y[Vd]=C,a=(c.mode&1)!==0,h){case"dialog":bn("cancel",y),bn("close",y);break;case"iframe":case"object":case"embed":bn("load",y);break;case"video":case"audio":for(j=0;j<Bd.length;j++)bn(Bd[j],y);break;case"source":bn("error",y);break;case"img":case"image":case"link":bn("error",y),bn("load",y);break;case"details":bn("toggle",y);break;case"input":$t(y,C),bn("invalid",y);break;case"select":y._wrapperState={wasMultiple:!!C.multiple},bn("invalid",y);break;case"textarea":Cr(y,C),bn("invalid",y)}He(h,C),j=null;for(var D in C)if(C.hasOwnProperty(D)){var G=C[D];D==="children"?typeof G=="string"?y.textContent!==G&&(C.suppressHydrationWarning!==!0&&fp(y.textContent,G,a),j=["children",G]):typeof G=="number"&&y.textContent!==""+G&&(C.suppressHydrationWarning!==!0&&fp(y.textContent,G,a),j=["children",""+G]):s.hasOwnProperty(D)&&G!=null&&D==="onScroll"&&bn("scroll",y)}switch(h){case"input":et(y),zn(y,C,!0);break;case"textarea":et(y),Yr(y);break;case"select":case"option":break;default:typeof C.onClick=="function"&&(y.onclick=hp)}y=j,c.updateQueue=y,y!==null&&(c.flags|=4)}else{D=j.nodeType===9?j:j.ownerDocument,a==="http://www.w3.org/1999/xhtml"&&(a=_e(h)),a==="http://www.w3.org/1999/xhtml"?h==="script"?(a=D.createElement("div"),a.innerHTML="<script><\/script>",a=a.removeChild(a.firstChild)):typeof y.is=="string"?a=D.createElement(h,{is:y.is}):(a=D.createElement(h),h==="select"&&(D=a,y.multiple?D.multiple=!0:y.size&&(D.size=y.size))):a=D.createElementNS(a,h),a[Ti]=c,a[Vd]=y,pN(a,c,!1,!1),c.stateNode=a;e:{switch(D=Fn(h,y),h){case"dialog":bn("cancel",a),bn("close",a),j=y;break;case"iframe":case"object":case"embed":bn("load",a),j=y;break;case"video":case"audio":for(j=0;j<Bd.length;j++)bn(Bd[j],a);j=y;break;case"source":bn("error",a),j=y;break;case"img":case"image":case"link":bn("error",a),bn("load",a),j=y;break;case"details":bn("toggle",a),j=y;break;case"input":$t(a,y),j=yt(a,y),bn("invalid",a);break;case"option":j=y;break;case"select":a._wrapperState={wasMultiple:!!y.multiple},j=A({},y,{value:void 0}),bn("invalid",a);break;case"textarea":Cr(a,y),j=ds(a,y),bn("invalid",a);break;default:j=y}He(h,j),G=j;for(C in G)if(G.hasOwnProperty(C)){var Z=G[C];C==="style"?vn(a,Z):C==="dangerouslySetInnerHTML"?(Z=Z?Z.__html:void 0,Z!=null&&$e(a,Z)):C==="children"?typeof Z=="string"?(h!=="textarea"||Z!=="")&&dt(a,Z):typeof Z=="number"&&dt(a,""+Z):C!=="suppressContentEditableWarning"&&C!=="suppressHydrationWarning"&&C!=="autoFocus"&&(s.hasOwnProperty(C)?Z!=null&&C==="onScroll"&&bn("scroll",a):Z!=null&&I(a,C,Z,D))}switch(h){case"input":et(a),zn(a,y,!1);break;case"textarea":et(a),Yr(a);break;case"option":y.value!=null&&a.setAttribute("value",""+Pe(y.value));break;case"select":a.multiple=!!y.multiple,C=y.value,C!=null?Pn(a,!!y.multiple,C,!1):y.defaultValue!=null&&Pn(a,!!y.multiple,y.defaultValue,!0);break;default:typeof j.onClick=="function"&&(a.onclick=hp)}switch(h){case"button":case"input":case"select":case"textarea":y=!!y.autoFocus;break e;case"img":y=!0;break e;default:y=!1}}y&&(c.flags|=4)}c.ref!==null&&(c.flags|=512,c.flags|=2097152)}return Tr(c),null;case 6:if(a&&c.stateNode!=null)gN(a,c,a.memoizedProps,y);else{if(typeof y!="string"&&c.stateNode===null)throw Error(n(166));if(h=Rl(Gd.current),Rl(Ri.current),bp(c)){if(y=c.stateNode,h=c.memoizedProps,y[Ti]=c,(C=y.nodeValue!==h)&&(a=hs,a!==null))switch(a.tag){case 3:fp(y.nodeValue,h,(a.mode&1)!==0);break;case 5:a.memoizedProps.suppressHydrationWarning!==!0&&fp(y.nodeValue,h,(a.mode&1)!==0)}C&&(c.flags|=4)}else y=(h.nodeType===9?h:h.ownerDocument).createTextNode(y),y[Ti]=c,c.stateNode=y}return Tr(c),null;case 13:if(wn(Rn),y=c.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(Cn&&ps!==null&&(c.mode&1)!==0&&(c.flags&128)===0)vj(),eu(),c.flags|=98560,C=!1;else if(C=bp(c),y!==null&&y.dehydrated!==null){if(a===null){if(!C)throw Error(n(318));if(C=c.memoizedState,C=C!==null?C.dehydrated:null,!C)throw Error(n(317));C[Ti]=c}else eu(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;Tr(c),C=!1}else ni!==null&&(q0(ni),ni=null),C=!0;if(!C)return c.flags&65536?c:null}return(c.flags&128)!==0?(c.lanes=h,c):(y=y!==null,y!==(a!==null&&a.memoizedState!==null)&&y&&(c.child.flags|=8192,(c.mode&1)!==0&&(a===null||(Rn.current&1)!==0?Jn===0&&(Jn=3):G0())),c.updateQueue!==null&&(c.flags|=4),Tr(c),null);case 4:return su(),M0(a,c),a===null&&zd(c.stateNode.containerInfo),Tr(c),null;case 10:return l0(c.type._context),Tr(c),null;case 17:return Xr(c.type)&&mp(),Tr(c),null;case 19:if(wn(Rn),C=c.memoizedState,C===null)return Tr(c),null;if(y=(c.flags&128)!==0,D=C.rendering,D===null)if(y)Zd(C,!1);else{if(Jn!==0||a!==null&&(a.flags&128)!==0)for(a=c.child;a!==null;){if(D=_p(a),D!==null){for(c.flags|=128,Zd(C,!1),y=D.updateQueue,y!==null&&(c.updateQueue=y,c.flags|=4),c.subtreeFlags=0,y=h,h=c.child;h!==null;)C=h,a=y,C.flags&=14680066,D=C.alternate,D===null?(C.childLanes=0,C.lanes=a,C.child=null,C.subtreeFlags=0,C.memoizedProps=null,C.memoizedState=null,C.updateQueue=null,C.dependencies=null,C.stateNode=null):(C.childLanes=D.childLanes,C.lanes=D.lanes,C.child=D.child,C.subtreeFlags=0,C.deletions=null,C.memoizedProps=D.memoizedProps,C.memoizedState=D.memoizedState,C.updateQueue=D.updateQueue,C.type=D.type,a=D.dependencies,C.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),h=h.sibling;return mn(Rn,Rn.current&1|2),c.child}a=a.sibling}C.tail!==null&&Zt()>lu&&(c.flags|=128,y=!0,Zd(C,!1),c.lanes=4194304)}else{if(!y)if(a=_p(D),a!==null){if(c.flags|=128,y=!0,h=a.updateQueue,h!==null&&(c.updateQueue=h,c.flags|=4),Zd(C,!0),C.tail===null&&C.tailMode==="hidden"&&!D.alternate&&!Cn)return Tr(c),null}else 2*Zt()-C.renderingStartTime>lu&&h!==1073741824&&(c.flags|=128,y=!0,Zd(C,!1),c.lanes=4194304);C.isBackwards?(D.sibling=c.child,c.child=D):(h=C.last,h!==null?h.sibling=D:c.child=D,C.last=D)}return C.tail!==null?(c=C.tail,C.rendering=c,C.tail=c.sibling,C.renderingStartTime=Zt(),c.sibling=null,h=Rn.current,mn(Rn,y?h&1|2:h&1),c):(Tr(c),null);case 22:case 23:return K0(),y=c.memoizedState!==null,a!==null&&a.memoizedState!==null!==y&&(c.flags|=8192),y&&(c.mode&1)!==0?(ms&1073741824)!==0&&(Tr(c),c.subtreeFlags&6&&(c.flags|=8192)):Tr(c),null;case 24:return null;case 25:return null}throw Error(n(156,c.tag))}function a4(a,c){switch(n0(c),c.tag){case 1:return Xr(c.type)&&mp(),a=c.flags,a&65536?(c.flags=a&-65537|128,c):null;case 3:return su(),wn(Qr),wn(Pr),m0(),a=c.flags,(a&65536)!==0&&(a&128)===0?(c.flags=a&-65537|128,c):null;case 5:return h0(c),null;case 13:if(wn(Rn),a=c.memoizedState,a!==null&&a.dehydrated!==null){if(c.alternate===null)throw Error(n(340));eu()}return a=c.flags,a&65536?(c.flags=a&-65537|128,c):null;case 19:return wn(Rn),null;case 4:return su(),null;case 10:return l0(c.type._context),null;case 22:case 23:return K0(),null;case 24:return null;default:return null}}var Op=!1,Rr=!1,o4=typeof WeakSet=="function"?WeakSet:Set,it=null;function au(a,c){var h=a.ref;if(h!==null)if(typeof h=="function")try{h(null)}catch(y){On(a,c,y)}else h.current=null}function O0(a,c,h){try{h()}catch(y){On(a,c,y)}}var xN=!1;function l4(a,c){if(Kx=bl,a=se(),ne(a)){if("selectionStart"in a)var h={start:a.selectionStart,end:a.selectionEnd};else e:{h=(h=a.ownerDocument)&&h.defaultView||window;var y=h.getSelection&&h.getSelection();if(y&&y.rangeCount!==0){h=y.anchorNode;var j=y.anchorOffset,C=y.focusNode;y=y.focusOffset;try{h.nodeType,C.nodeType}catch{h=null;break e}var D=0,G=-1,Z=-1,je=0,Le=0,Be=a,Ie=null;t:for(;;){for(var st;Be!==h||j!==0&&Be.nodeType!==3||(G=D+j),Be!==C||y!==0&&Be.nodeType!==3||(Z=D+y),Be.nodeType===3&&(D+=Be.nodeValue.length),(st=Be.firstChild)!==null;)Ie=Be,Be=st;for(;;){if(Be===a)break t;if(Ie===h&&++je===j&&(G=D),Ie===C&&++Le===y&&(Z=D),(st=Be.nextSibling)!==null)break;Be=Ie,Ie=Be.parentNode}Be=st}h=G===-1||Z===-1?null:{start:G,end:Z}}else h=null}h=h||{start:0,end:0}}else h=null;for(Gx={focusedElem:a,selectionRange:h},bl=!1,it=c;it!==null;)if(c=it,a=c.child,(c.subtreeFlags&1028)!==0&&a!==null)a.return=c,it=a;else for(;it!==null;){c=it;try{var lt=c.alternate;if((c.flags&1024)!==0)switch(c.tag){case 0:case 11:case 15:break;case 1:if(lt!==null){var ft=lt.memoizedProps,$n=lt.memoizedState,pe=c.stateNode,ce=pe.getSnapshotBeforeUpdate(c.elementType===c.type?ft:ri(c.type,ft),$n);pe.__reactInternalSnapshotBeforeUpdate=ce}break;case 3:var ye=c.stateNode.containerInfo;ye.nodeType===1?ye.textContent="":ye.nodeType===9&&ye.documentElement&&ye.removeChild(ye.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(Ke){On(c,c.return,Ke)}if(a=c.sibling,a!==null){a.return=c.return,it=a;break}it=c.return}return lt=xN,xN=!1,lt}function ef(a,c,h){var y=c.updateQueue;if(y=y!==null?y.lastEffect:null,y!==null){var j=y=y.next;do{if((j.tag&a)===a){var C=j.destroy;j.destroy=void 0,C!==void 0&&O0(c,h,C)}j=j.next}while(j!==y)}}function Dp(a,c){if(c=c.updateQueue,c=c!==null?c.lastEffect:null,c!==null){var h=c=c.next;do{if((h.tag&a)===a){var y=h.create;h.destroy=y()}h=h.next}while(h!==c)}}function D0(a){var c=a.ref;if(c!==null){var h=a.stateNode;switch(a.tag){case 5:a=h;break;default:a=h}typeof c=="function"?c(a):c.current=a}}function yN(a){var c=a.alternate;c!==null&&(a.alternate=null,yN(c)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(c=a.stateNode,c!==null&&(delete c[Ti],delete c[Vd],delete c[Jx],delete c[WO],delete c[qO])),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}function vN(a){return a.tag===5||a.tag===3||a.tag===4}function bN(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||vN(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function L0(a,c,h){var y=a.tag;if(y===5||y===6)a=a.stateNode,c?h.nodeType===8?h.parentNode.insertBefore(a,c):h.insertBefore(a,c):(h.nodeType===8?(c=h.parentNode,c.insertBefore(a,h)):(c=h,c.appendChild(a)),h=h._reactRootContainer,h!=null||c.onclick!==null||(c.onclick=hp));else if(y!==4&&(a=a.child,a!==null))for(L0(a,c,h),a=a.sibling;a!==null;)L0(a,c,h),a=a.sibling}function F0(a,c,h){var y=a.tag;if(y===5||y===6)a=a.stateNode,c?h.insertBefore(a,c):h.appendChild(a);else if(y!==4&&(a=a.child,a!==null))for(F0(a,c,h),a=a.sibling;a!==null;)F0(a,c,h),a=a.sibling}var xr=null,si=!1;function go(a,c,h){for(h=h.child;h!==null;)wN(a,c,h),h=h.sibling}function wN(a,c,h){if($r&&typeof $r.onCommitFiberUnmount=="function")try{$r.onCommitFiberUnmount(pl,h)}catch{}switch(h.tag){case 5:Rr||au(h,c);case 6:var y=xr,j=si;xr=null,go(a,c,h),xr=y,si=j,xr!==null&&(si?(a=xr,h=h.stateNode,a.nodeType===8?a.parentNode.removeChild(h):a.removeChild(h)):xr.removeChild(h.stateNode));break;case 18:xr!==null&&(si?(a=xr,h=h.stateNode,a.nodeType===8?Xx(a.parentNode,h):a.nodeType===1&&Xx(a,h),Qs(a)):Xx(xr,h.stateNode));break;case 4:y=xr,j=si,xr=h.stateNode.containerInfo,si=!0,go(a,c,h),xr=y,si=j;break;case 0:case 11:case 14:case 15:if(!Rr&&(y=h.updateQueue,y!==null&&(y=y.lastEffect,y!==null))){j=y=y.next;do{var C=j,D=C.destroy;C=C.tag,D!==void 0&&((C&2)!==0||(C&4)!==0)&&O0(h,c,D),j=j.next}while(j!==y)}go(a,c,h);break;case 1:if(!Rr&&(au(h,c),y=h.stateNode,typeof y.componentWillUnmount=="function"))try{y.props=h.memoizedProps,y.state=h.memoizedState,y.componentWillUnmount()}catch(G){On(h,c,G)}go(a,c,h);break;case 21:go(a,c,h);break;case 22:h.mode&1?(Rr=(y=Rr)||h.memoizedState!==null,go(a,c,h),Rr=y):go(a,c,h);break;default:go(a,c,h)}}function jN(a){var c=a.updateQueue;if(c!==null){a.updateQueue=null;var h=a.stateNode;h===null&&(h=a.stateNode=new o4),c.forEach(function(y){var j=x4.bind(null,a,y);h.has(y)||(h.add(y),y.then(j,j))})}}function ii(a,c){var h=c.deletions;if(h!==null)for(var y=0;y<h.length;y++){var j=h[y];try{var C=a,D=c,G=D;e:for(;G!==null;){switch(G.tag){case 5:xr=G.stateNode,si=!1;break e;case 3:xr=G.stateNode.containerInfo,si=!0;break e;case 4:xr=G.stateNode.containerInfo,si=!0;break e}G=G.return}if(xr===null)throw Error(n(160));wN(C,D,j),xr=null,si=!1;var Z=j.alternate;Z!==null&&(Z.return=null),j.return=null}catch(je){On(j,c,je)}}if(c.subtreeFlags&12854)for(c=c.child;c!==null;)NN(c,a),c=c.sibling}function NN(a,c){var h=a.alternate,y=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:if(ii(c,a),Mi(a),y&4){try{ef(3,a,a.return),Dp(3,a)}catch(ft){On(a,a.return,ft)}try{ef(5,a,a.return)}catch(ft){On(a,a.return,ft)}}break;case 1:ii(c,a),Mi(a),y&512&&h!==null&&au(h,h.return);break;case 5:if(ii(c,a),Mi(a),y&512&&h!==null&&au(h,h.return),a.flags&32){var j=a.stateNode;try{dt(j,"")}catch(ft){On(a,a.return,ft)}}if(y&4&&(j=a.stateNode,j!=null)){var C=a.memoizedProps,D=h!==null?h.memoizedProps:C,G=a.type,Z=a.updateQueue;if(a.updateQueue=null,Z!==null)try{G==="input"&&C.type==="radio"&&C.name!=null&&dn(j,C),Fn(G,D);var je=Fn(G,C);for(D=0;D<Z.length;D+=2){var Le=Z[D],Be=Z[D+1];Le==="style"?vn(j,Be):Le==="dangerouslySetInnerHTML"?$e(j,Be):Le==="children"?dt(j,Be):I(j,Le,Be,je)}switch(G){case"input":ln(j,C);break;case"textarea":hn(j,C);break;case"select":var Ie=j._wrapperState.wasMultiple;j._wrapperState.wasMultiple=!!C.multiple;var st=C.value;st!=null?Pn(j,!!C.multiple,st,!1):Ie!==!!C.multiple&&(C.defaultValue!=null?Pn(j,!!C.multiple,C.defaultValue,!0):Pn(j,!!C.multiple,C.multiple?[]:"",!1))}j[Vd]=C}catch(ft){On(a,a.return,ft)}}break;case 6:if(ii(c,a),Mi(a),y&4){if(a.stateNode===null)throw Error(n(162));j=a.stateNode,C=a.memoizedProps;try{j.nodeValue=C}catch(ft){On(a,a.return,ft)}}break;case 3:if(ii(c,a),Mi(a),y&4&&h!==null&&h.memoizedState.isDehydrated)try{Qs(c.containerInfo)}catch(ft){On(a,a.return,ft)}break;case 4:ii(c,a),Mi(a);break;case 13:ii(c,a),Mi(a),j=a.child,j.flags&8192&&(C=j.memoizedState!==null,j.stateNode.isHidden=C,!C||j.alternate!==null&&j.alternate.memoizedState!==null||(z0=Zt())),y&4&&jN(a);break;case 22:if(Le=h!==null&&h.memoizedState!==null,a.mode&1?(Rr=(je=Rr)||Le,ii(c,a),Rr=je):ii(c,a),Mi(a),y&8192){if(je=a.memoizedState!==null,(a.stateNode.isHidden=je)&&!Le&&(a.mode&1)!==0)for(it=a,Le=a.child;Le!==null;){for(Be=it=Le;it!==null;){switch(Ie=it,st=Ie.child,Ie.tag){case 0:case 11:case 14:case 15:ef(4,Ie,Ie.return);break;case 1:au(Ie,Ie.return);var lt=Ie.stateNode;if(typeof lt.componentWillUnmount=="function"){y=Ie,h=Ie.return;try{c=y,lt.props=c.memoizedProps,lt.state=c.memoizedState,lt.componentWillUnmount()}catch(ft){On(y,h,ft)}}break;case 5:au(Ie,Ie.return);break;case 22:if(Ie.memoizedState!==null){_N(Be);continue}}st!==null?(st.return=Ie,it=st):_N(Be)}Le=Le.sibling}e:for(Le=null,Be=a;;){if(Be.tag===5){if(Le===null){Le=Be;try{j=Be.stateNode,je?(C=j.style,typeof C.setProperty=="function"?C.setProperty("display","none","important"):C.display="none"):(G=Be.stateNode,Z=Be.memoizedProps.style,D=Z!=null&&Z.hasOwnProperty("display")?Z.display:null,G.style.display=Kt("display",D))}catch(ft){On(a,a.return,ft)}}}else if(Be.tag===6){if(Le===null)try{Be.stateNode.nodeValue=je?"":Be.memoizedProps}catch(ft){On(a,a.return,ft)}}else if((Be.tag!==22&&Be.tag!==23||Be.memoizedState===null||Be===a)&&Be.child!==null){Be.child.return=Be,Be=Be.child;continue}if(Be===a)break e;for(;Be.sibling===null;){if(Be.return===null||Be.return===a)break e;Le===Be&&(Le=null),Be=Be.return}Le===Be&&(Le=null),Be.sibling.return=Be.return,Be=Be.sibling}}break;case 19:ii(c,a),Mi(a),y&4&&jN(a);break;case 21:break;default:ii(c,a),Mi(a)}}function Mi(a){var c=a.flags;if(c&2){try{e:{for(var h=a.return;h!==null;){if(vN(h)){var y=h;break e}h=h.return}throw Error(n(160))}switch(y.tag){case 5:var j=y.stateNode;y.flags&32&&(dt(j,""),y.flags&=-33);var C=bN(a);F0(a,C,j);break;case 3:case 4:var D=y.stateNode.containerInfo,G=bN(a);L0(a,G,D);break;default:throw Error(n(161))}}catch(Z){On(a,a.return,Z)}a.flags&=-3}c&4096&&(a.flags&=-4097)}function c4(a,c,h){it=a,SN(a)}function SN(a,c,h){for(var y=(a.mode&1)!==0;it!==null;){var j=it,C=j.child;if(j.tag===22&&y){var D=j.memoizedState!==null||Op;if(!D){var G=j.alternate,Z=G!==null&&G.memoizedState!==null||Rr;G=Op;var je=Rr;if(Op=D,(Rr=Z)&&!je)for(it=j;it!==null;)D=it,Z=D.child,D.tag===22&&D.memoizedState!==null?CN(j):Z!==null?(Z.return=D,it=Z):CN(j);for(;C!==null;)it=C,SN(C),C=C.sibling;it=j,Op=G,Rr=je}kN(a)}else(j.subtreeFlags&8772)!==0&&C!==null?(C.return=j,it=C):kN(a)}}function kN(a){for(;it!==null;){var c=it;if((c.flags&8772)!==0){var h=c.alternate;try{if((c.flags&8772)!==0)switch(c.tag){case 0:case 11:case 15:Rr||Dp(5,c);break;case 1:var y=c.stateNode;if(c.flags&4&&!Rr)if(h===null)y.componentDidMount();else{var j=c.elementType===c.type?h.memoizedProps:ri(c.type,h.memoizedProps);y.componentDidUpdate(j,h.memoizedState,y.__reactInternalSnapshotBeforeUpdate)}var C=c.updateQueue;C!==null&&_j(c,C,y);break;case 3:var D=c.updateQueue;if(D!==null){if(h=null,c.child!==null)switch(c.child.tag){case 5:h=c.child.stateNode;break;case 1:h=c.child.stateNode}_j(c,D,h)}break;case 5:var G=c.stateNode;if(h===null&&c.flags&4){h=G;var Z=c.memoizedProps;switch(c.type){case"button":case"input":case"select":case"textarea":Z.autoFocus&&h.focus();break;case"img":Z.src&&(h.src=Z.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(c.memoizedState===null){var je=c.alternate;if(je!==null){var Le=je.memoizedState;if(Le!==null){var Be=Le.dehydrated;Be!==null&&Qs(Be)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Rr||c.flags&512&&D0(c)}catch(Ie){On(c,c.return,Ie)}}if(c===a){it=null;break}if(h=c.sibling,h!==null){h.return=c.return,it=h;break}it=c.return}}function _N(a){for(;it!==null;){var c=it;if(c===a){it=null;break}var h=c.sibling;if(h!==null){h.return=c.return,it=h;break}it=c.return}}function CN(a){for(;it!==null;){var c=it;try{switch(c.tag){case 0:case 11:case 15:var h=c.return;try{Dp(4,c)}catch(Z){On(c,h,Z)}break;case 1:var y=c.stateNode;if(typeof y.componentDidMount=="function"){var j=c.return;try{y.componentDidMount()}catch(Z){On(c,j,Z)}}var C=c.return;try{D0(c)}catch(Z){On(c,C,Z)}break;case 5:var D=c.return;try{D0(c)}catch(Z){On(c,D,Z)}}}catch(Z){On(c,c.return,Z)}if(c===a){it=null;break}var G=c.sibling;if(G!==null){G.return=c.return,it=G;break}it=c.return}}var u4=Math.ceil,Lp=L.ReactCurrentDispatcher,$0=L.ReactCurrentOwner,Rs=L.ReactCurrentBatchConfig,Xt=0,lr=null,Vn=null,yr=0,ms=0,ou=uo(0),Jn=0,tf=null,Ml=0,Fp=0,B0=0,nf=null,Zr=null,z0=0,lu=1/0,Ca=null,$p=!1,U0=null,xo=null,Bp=!1,yo=null,zp=0,rf=0,V0=null,Up=-1,Vp=0;function Vr(){return(Xt&6)!==0?Zt():Up!==-1?Up:Up=Zt()}function vo(a){return(a.mode&1)===0?1:(Xt&2)!==0&&yr!==0?yr&-yr:KO.transition!==null?(Vp===0&&(Vp=fa()),Vp):(a=Qt,a!==0||(a=window.event,a=a===void 0?16:jl(a.type)),a)}function ai(a,c,h,y){if(50<rf)throw rf=0,V0=null,Error(n(185));ha(a,h,y),((Xt&2)===0||a!==lr)&&(a===lr&&((Xt&2)===0&&(Fp|=h),Jn===4&&bo(a,yr)),es(a,y),h===1&&Xt===0&&(c.mode&1)===0&&(lu=Zt()+500,xp&&ho()))}function es(a,c){var h=a.callbackNode;xl(a,c);var y=gl(a,a===lr?yr:0);if(y===0)h!==null&&Tc(h),a.callbackNode=null,a.callbackPriority=0;else if(c=y&-y,a.callbackPriority!==c){if(h!=null&&Tc(h),c===1)a.tag===0?HO(PN.bind(null,a)):pj(PN.bind(null,a)),UO(function(){(Xt&6)===0&&ho()}),h=null;else{switch(Sd(y)){case 1:h=Si;break;case 4:h=hl;break;case 16:h=Ya;break;case 536870912:h=ki;break;default:h=Ya}h=LN(h,EN.bind(null,a))}a.callbackPriority=c,a.callbackNode=h}}function EN(a,c){if(Up=-1,Vp=0,(Xt&6)!==0)throw Error(n(327));var h=a.callbackNode;if(cu()&&a.callbackNode!==h)return null;var y=gl(a,a===lr?yr:0);if(y===0)return null;if((y&30)!==0||(y&a.expiredLanes)!==0||c)c=Wp(a,y);else{c=y;var j=Xt;Xt|=2;var C=TN();(lr!==a||yr!==c)&&(Ca=null,lu=Zt()+500,Dl(a,c));do try{h4();break}catch(G){AN(a,G)}while(!0);o0(),Lp.current=C,Xt=j,Vn!==null?c=0:(lr=null,yr=0,c=Jn)}if(c!==0){if(c===2&&(j=da(a),j!==0&&(y=j,c=W0(a,j))),c===1)throw h=tf,Dl(a,0),bo(a,y),es(a,Zt()),h;if(c===6)bo(a,y);else{if(j=a.current.alternate,(y&30)===0&&!d4(j)&&(c=Wp(a,y),c===2&&(C=da(a),C!==0&&(y=C,c=W0(a,C))),c===1))throw h=tf,Dl(a,0),bo(a,y),es(a,Zt()),h;switch(a.finishedWork=j,a.finishedLanes=y,c){case 0:case 1:throw Error(n(345));case 2:Ll(a,Zr,Ca);break;case 3:if(bo(a,y),(y&130023424)===y&&(c=z0+500-Zt(),10<c)){if(gl(a,0)!==0)break;if(j=a.suspendedLanes,(j&y)!==y){Vr(),a.pingedLanes|=a.suspendedLanes&j;break}a.timeoutHandle=Qx(Ll.bind(null,a,Zr,Ca),c);break}Ll(a,Zr,Ca);break;case 4:if(bo(a,y),(y&4194240)===y)break;for(c=a.eventTimes,j=-1;0<y;){var D=31-Ct(y);C=1<<D,D=c[D],D>j&&(j=D),y&=~C}if(y=j,y=Zt()-y,y=(120>y?120:480>y?480:1080>y?1080:1920>y?1920:3e3>y?3e3:4320>y?4320:1960*u4(y/1960))-y,10<y){a.timeoutHandle=Qx(Ll.bind(null,a,Zr,Ca),y);break}Ll(a,Zr,Ca);break;case 5:Ll(a,Zr,Ca);break;default:throw Error(n(329))}}}return es(a,Zt()),a.callbackNode===h?EN.bind(null,a):null}function W0(a,c){var h=nf;return a.current.memoizedState.isDehydrated&&(Dl(a,c).flags|=256),a=Wp(a,c),a!==2&&(c=Zr,Zr=h,c!==null&&q0(c)),a}function q0(a){Zr===null?Zr=a:Zr.push.apply(Zr,a)}function d4(a){for(var c=a;;){if(c.flags&16384){var h=c.updateQueue;if(h!==null&&(h=h.stores,h!==null))for(var y=0;y<h.length;y++){var j=h[y],C=j.getSnapshot;j=j.value;try{if(!ue(C(),j))return!1}catch{return!1}}}if(h=c.child,c.subtreeFlags&16384&&h!==null)h.return=c,c=h;else{if(c===a)break;for(;c.sibling===null;){if(c.return===null||c.return===a)return!0;c=c.return}c.sibling.return=c.return,c=c.sibling}}return!0}function bo(a,c){for(c&=~B0,c&=~Fp,a.suspendedLanes|=c,a.pingedLanes&=~c,a=a.expirationTimes;0<c;){var h=31-Ct(c),y=1<<h;a[h]=-1,c&=~y}}function PN(a){if((Xt&6)!==0)throw Error(n(327));cu();var c=gl(a,0);if((c&1)===0)return es(a,Zt()),null;var h=Wp(a,c);if(a.tag!==0&&h===2){var y=da(a);y!==0&&(c=y,h=W0(a,y))}if(h===1)throw h=tf,Dl(a,0),bo(a,c),es(a,Zt()),h;if(h===6)throw Error(n(345));return a.finishedWork=a.current.alternate,a.finishedLanes=c,Ll(a,Zr,Ca),es(a,Zt()),null}function H0(a,c){var h=Xt;Xt|=1;try{return a(c)}finally{Xt=h,Xt===0&&(lu=Zt()+500,xp&&ho())}}function Ol(a){yo!==null&&yo.tag===0&&(Xt&6)===0&&cu();var c=Xt;Xt|=1;var h=Rs.transition,y=Qt;try{if(Rs.transition=null,Qt=1,a)return a()}finally{Qt=y,Rs.transition=h,Xt=c,(Xt&6)===0&&ho()}}function K0(){ms=ou.current,wn(ou)}function Dl(a,c){a.finishedWork=null,a.finishedLanes=0;var h=a.timeoutHandle;if(h!==-1&&(a.timeoutHandle=-1,zO(h)),Vn!==null)for(h=Vn.return;h!==null;){var y=h;switch(n0(y),y.tag){case 1:y=y.type.childContextTypes,y!=null&&mp();break;case 3:su(),wn(Qr),wn(Pr),m0();break;case 5:h0(y);break;case 4:su();break;case 13:wn(Rn);break;case 19:wn(Rn);break;case 10:l0(y.type._context);break;case 22:case 23:K0()}h=h.return}if(lr=a,Vn=a=wo(a.current,null),yr=ms=c,Jn=0,tf=null,B0=Fp=Ml=0,Zr=nf=null,Tl!==null){for(c=0;c<Tl.length;c++)if(h=Tl[c],y=h.interleaved,y!==null){h.interleaved=null;var j=y.next,C=h.pending;if(C!==null){var D=C.next;C.next=j,y.next=D}h.pending=y}Tl=null}return a}function AN(a,c){do{var h=Vn;try{if(o0(),Cp.current=Tp,Ep){for(var y=In.memoizedState;y!==null;){var j=y.queue;j!==null&&(j.pending=null),y=y.next}Ep=!1}if(Il=0,or=Xn=In=null,Yd=!1,Qd=0,$0.current=null,h===null||h.return===null){Jn=1,tf=c,Vn=null;break}e:{var C=a,D=h.return,G=h,Z=c;if(c=yr,G.flags|=32768,Z!==null&&typeof Z=="object"&&typeof Z.then=="function"){var je=Z,Le=G,Be=Le.tag;if((Le.mode&1)===0&&(Be===0||Be===11||Be===15)){var Ie=Le.alternate;Ie?(Le.updateQueue=Ie.updateQueue,Le.memoizedState=Ie.memoizedState,Le.lanes=Ie.lanes):(Le.updateQueue=null,Le.memoizedState=null)}var st=tN(D);if(st!==null){st.flags&=-257,nN(st,D,G,C,c),st.mode&1&&eN(C,je,c),c=st,Z=je;var lt=c.updateQueue;if(lt===null){var ft=new Set;ft.add(Z),c.updateQueue=ft}else lt.add(Z);break e}else{if((c&1)===0){eN(C,je,c),G0();break e}Z=Error(n(426))}}else if(Cn&&G.mode&1){var $n=tN(D);if($n!==null){($n.flags&65536)===0&&($n.flags|=256),nN($n,D,G,C,c),i0(iu(Z,G));break e}}C=Z=iu(Z,G),Jn!==4&&(Jn=2),nf===null?nf=[C]:nf.push(C),C=D;do{switch(C.tag){case 3:C.flags|=65536,c&=-c,C.lanes|=c;var pe=Jj(C,Z,c);kj(C,pe);break e;case 1:G=Z;var ce=C.type,ye=C.stateNode;if((C.flags&128)===0&&(typeof ce.getDerivedStateFromError=="function"||ye!==null&&typeof ye.componentDidCatch=="function"&&(xo===null||!xo.has(ye)))){C.flags|=65536,c&=-c,C.lanes|=c;var Ke=Zj(C,G,c);kj(C,Ke);break e}}C=C.return}while(C!==null)}IN(h)}catch(ht){c=ht,Vn===h&&h!==null&&(Vn=h=h.return);continue}break}while(!0)}function TN(){var a=Lp.current;return Lp.current=Tp,a===null?Tp:a}function G0(){(Jn===0||Jn===3||Jn===2)&&(Jn=4),lr===null||(Ml&268435455)===0&&(Fp&268435455)===0||bo(lr,yr)}function Wp(a,c){var h=Xt;Xt|=2;var y=TN();(lr!==a||yr!==c)&&(Ca=null,Dl(a,c));do try{f4();break}catch(j){AN(a,j)}while(!0);if(o0(),Xt=h,Lp.current=y,Vn!==null)throw Error(n(261));return lr=null,yr=0,Jn}function f4(){for(;Vn!==null;)RN(Vn)}function h4(){for(;Vn!==null&&!An();)RN(Vn)}function RN(a){var c=DN(a.alternate,a,ms);a.memoizedProps=a.pendingProps,c===null?IN(a):Vn=c,$0.current=null}function IN(a){var c=a;do{var h=c.alternate;if(a=c.return,(c.flags&32768)===0){if(h=i4(h,c,ms),h!==null){Vn=h;return}}else{if(h=a4(h,c),h!==null){h.flags&=32767,Vn=h;return}if(a!==null)a.flags|=32768,a.subtreeFlags=0,a.deletions=null;else{Jn=6,Vn=null;return}}if(c=c.sibling,c!==null){Vn=c;return}Vn=c=a}while(c!==null);Jn===0&&(Jn=5)}function Ll(a,c,h){var y=Qt,j=Rs.transition;try{Rs.transition=null,Qt=1,p4(a,c,h,y)}finally{Rs.transition=j,Qt=y}return null}function p4(a,c,h,y){do cu();while(yo!==null);if((Xt&6)!==0)throw Error(n(327));h=a.finishedWork;var j=a.finishedLanes;if(h===null)return null;if(a.finishedWork=null,a.finishedLanes=0,h===a.current)throw Error(n(177));a.callbackNode=null,a.callbackPriority=0;var C=h.lanes|h.childLanes;if(Ic(a,C),a===lr&&(Vn=lr=null,yr=0),(h.subtreeFlags&2064)===0&&(h.flags&2064)===0||Bp||(Bp=!0,LN(Ya,function(){return cu(),null})),C=(h.flags&15990)!==0,(h.subtreeFlags&15990)!==0||C){C=Rs.transition,Rs.transition=null;var D=Qt;Qt=1;var G=Xt;Xt|=4,$0.current=null,l4(a,h),NN(h,a),me(Gx),bl=!!Kx,Gx=Kx=null,a.current=h,c4(h),ua(),Xt=G,Qt=D,Rs.transition=C}else a.current=h;if(Bp&&(Bp=!1,yo=a,zp=j),C=a.pendingLanes,C===0&&(xo=null),qh(h.stateNode),es(a,Zt()),c!==null)for(y=a.onRecoverableError,h=0;h<c.length;h++)j=c[h],y(j.value,{componentStack:j.stack,digest:j.digest});if($p)throw $p=!1,a=U0,U0=null,a;return(zp&1)!==0&&a.tag!==0&&cu(),C=a.pendingLanes,(C&1)!==0?a===V0?rf++:(rf=0,V0=a):rf=0,ho(),null}function cu(){if(yo!==null){var a=Sd(zp),c=Rs.transition,h=Qt;try{if(Rs.transition=null,Qt=16>a?16:a,yo===null)var y=!1;else{if(a=yo,yo=null,zp=0,(Xt&6)!==0)throw Error(n(331));var j=Xt;for(Xt|=4,it=a.current;it!==null;){var C=it,D=C.child;if((it.flags&16)!==0){var G=C.deletions;if(G!==null){for(var Z=0;Z<G.length;Z++){var je=G[Z];for(it=je;it!==null;){var Le=it;switch(Le.tag){case 0:case 11:case 15:ef(8,Le,C)}var Be=Le.child;if(Be!==null)Be.return=Le,it=Be;else for(;it!==null;){Le=it;var Ie=Le.sibling,st=Le.return;if(yN(Le),Le===je){it=null;break}if(Ie!==null){Ie.return=st,it=Ie;break}it=st}}}var lt=C.alternate;if(lt!==null){var ft=lt.child;if(ft!==null){lt.child=null;do{var $n=ft.sibling;ft.sibling=null,ft=$n}while(ft!==null)}}it=C}}if((C.subtreeFlags&2064)!==0&&D!==null)D.return=C,it=D;else e:for(;it!==null;){if(C=it,(C.flags&2048)!==0)switch(C.tag){case 0:case 11:case 15:ef(9,C,C.return)}var pe=C.sibling;if(pe!==null){pe.return=C.return,it=pe;break e}it=C.return}}var ce=a.current;for(it=ce;it!==null;){D=it;var ye=D.child;if((D.subtreeFlags&2064)!==0&&ye!==null)ye.return=D,it=ye;else e:for(D=ce;it!==null;){if(G=it,(G.flags&2048)!==0)try{switch(G.tag){case 0:case 11:case 15:Dp(9,G)}}catch(ht){On(G,G.return,ht)}if(G===D){it=null;break e}var Ke=G.sibling;if(Ke!==null){Ke.return=G.return,it=Ke;break e}it=G.return}}if(Xt=j,ho(),$r&&typeof $r.onPostCommitFiberRoot=="function")try{$r.onPostCommitFiberRoot(pl,a)}catch{}y=!0}return y}finally{Qt=h,Rs.transition=c}}return!1}function MN(a,c,h){c=iu(h,c),c=Jj(a,c,1),a=mo(a,c,1),c=Vr(),a!==null&&(ha(a,1,c),es(a,c))}function On(a,c,h){if(a.tag===3)MN(a,a,h);else for(;c!==null;){if(c.tag===3){MN(c,a,h);break}else if(c.tag===1){var y=c.stateNode;if(typeof c.type.getDerivedStateFromError=="function"||typeof y.componentDidCatch=="function"&&(xo===null||!xo.has(y))){a=iu(h,a),a=Zj(c,a,1),c=mo(c,a,1),a=Vr(),c!==null&&(ha(c,1,a),es(c,a));break}}c=c.return}}function m4(a,c,h){var y=a.pingCache;y!==null&&y.delete(c),c=Vr(),a.pingedLanes|=a.suspendedLanes&h,lr===a&&(yr&h)===h&&(Jn===4||Jn===3&&(yr&130023424)===yr&&500>Zt()-z0?Dl(a,0):B0|=h),es(a,c)}function ON(a,c){c===0&&((a.mode&1)===0?c=1:(c=ml,ml<<=1,(ml&130023424)===0&&(ml=4194304)));var h=Vr();a=Sa(a,c),a!==null&&(ha(a,c,h),es(a,h))}function g4(a){var c=a.memoizedState,h=0;c!==null&&(h=c.retryLane),ON(a,h)}function x4(a,c){var h=0;switch(a.tag){case 13:var y=a.stateNode,j=a.memoizedState;j!==null&&(h=j.retryLane);break;case 19:y=a.stateNode;break;default:throw Error(n(314))}y!==null&&y.delete(c),ON(a,h)}var DN;DN=function(a,c,h){if(a!==null)if(a.memoizedProps!==c.pendingProps||Qr.current)Jr=!0;else{if((a.lanes&h)===0&&(c.flags&128)===0)return Jr=!1,s4(a,c,h);Jr=(a.flags&131072)!==0}else Jr=!1,Cn&&(c.flags&1048576)!==0&&mj(c,vp,c.index);switch(c.lanes=0,c.tag){case 2:var y=c.type;Mp(a,c),a=c.pendingProps;var j=Xc(c,Pr.current);ru(c,h),j=y0(null,c,y,a,j,h);var C=v0();return c.flags|=1,typeof j=="object"&&j!==null&&typeof j.render=="function"&&j.$$typeof===void 0?(c.tag=1,c.memoizedState=null,c.updateQueue=null,Xr(y)?(C=!0,gp(c)):C=!1,c.memoizedState=j.state!==null&&j.state!==void 0?j.state:null,d0(c),j.updater=Rp,c.stateNode=j,j._reactInternals=c,k0(c,y,a,h),c=P0(null,c,y,!0,C,h)):(c.tag=0,Cn&&C&&t0(c),Ur(null,c,j,h),c=c.child),c;case 16:y=c.elementType;e:{switch(Mp(a,c),a=c.pendingProps,j=y._init,y=j(y._payload),c.type=y,j=c.tag=v4(y),a=ri(y,a),j){case 0:c=E0(null,c,y,a,h);break e;case 1:c=lN(null,c,y,a,h);break e;case 11:c=rN(null,c,y,a,h);break e;case 14:c=sN(null,c,y,ri(y.type,a),h);break e}throw Error(n(306,y,""))}return c;case 0:return y=c.type,j=c.pendingProps,j=c.elementType===y?j:ri(y,j),E0(a,c,y,j,h);case 1:return y=c.type,j=c.pendingProps,j=c.elementType===y?j:ri(y,j),lN(a,c,y,j,h);case 3:e:{if(cN(c),a===null)throw Error(n(387));y=c.pendingProps,C=c.memoizedState,j=C.element,Sj(a,c),kp(c,y,null,h);var D=c.memoizedState;if(y=D.element,C.isDehydrated)if(C={element:y,isDehydrated:!1,cache:D.cache,pendingSuspenseBoundaries:D.pendingSuspenseBoundaries,transitions:D.transitions},c.updateQueue.baseState=C,c.memoizedState=C,c.flags&256){j=iu(Error(n(423)),c),c=uN(a,c,y,h,j);break e}else if(y!==j){j=iu(Error(n(424)),c),c=uN(a,c,y,h,j);break e}else for(ps=co(c.stateNode.containerInfo.firstChild),hs=c,Cn=!0,ni=null,h=jj(c,null,y,h),c.child=h;h;)h.flags=h.flags&-3|4096,h=h.sibling;else{if(eu(),y===j){c=_a(a,c,h);break e}Ur(a,c,y,h)}c=c.child}return c;case 5:return Cj(c),a===null&&s0(c),y=c.type,j=c.pendingProps,C=a!==null?a.memoizedProps:null,D=j.children,Yx(y,j)?D=null:C!==null&&Yx(y,C)&&(c.flags|=32),oN(a,c),Ur(a,c,D,h),c.child;case 6:return a===null&&s0(c),null;case 13:return dN(a,c,h);case 4:return f0(c,c.stateNode.containerInfo),y=c.pendingProps,a===null?c.child=tu(c,null,y,h):Ur(a,c,y,h),c.child;case 11:return y=c.type,j=c.pendingProps,j=c.elementType===y?j:ri(y,j),rN(a,c,y,j,h);case 7:return Ur(a,c,c.pendingProps,h),c.child;case 8:return Ur(a,c,c.pendingProps.children,h),c.child;case 12:return Ur(a,c,c.pendingProps.children,h),c.child;case 10:e:{if(y=c.type._context,j=c.pendingProps,C=c.memoizedProps,D=j.value,mn(jp,y._currentValue),y._currentValue=D,C!==null)if(ue(C.value,D)){if(C.children===j.children&&!Qr.current){c=_a(a,c,h);break e}}else for(C=c.child,C!==null&&(C.return=c);C!==null;){var G=C.dependencies;if(G!==null){D=C.child;for(var Z=G.firstContext;Z!==null;){if(Z.context===y){if(C.tag===1){Z=ka(-1,h&-h),Z.tag=2;var je=C.updateQueue;if(je!==null){je=je.shared;var Le=je.pending;Le===null?Z.next=Z:(Z.next=Le.next,Le.next=Z),je.pending=Z}}C.lanes|=h,Z=C.alternate,Z!==null&&(Z.lanes|=h),c0(C.return,h,c),G.lanes|=h;break}Z=Z.next}}else if(C.tag===10)D=C.type===c.type?null:C.child;else if(C.tag===18){if(D=C.return,D===null)throw Error(n(341));D.lanes|=h,G=D.alternate,G!==null&&(G.lanes|=h),c0(D,h,c),D=C.sibling}else D=C.child;if(D!==null)D.return=C;else for(D=C;D!==null;){if(D===c){D=null;break}if(C=D.sibling,C!==null){C.return=D.return,D=C;break}D=D.return}C=D}Ur(a,c,j.children,h),c=c.child}return c;case 9:return j=c.type,y=c.pendingProps.children,ru(c,h),j=As(j),y=y(j),c.flags|=1,Ur(a,c,y,h),c.child;case 14:return y=c.type,j=ri(y,c.pendingProps),j=ri(y.type,j),sN(a,c,y,j,h);case 15:return iN(a,c,c.type,c.pendingProps,h);case 17:return y=c.type,j=c.pendingProps,j=c.elementType===y?j:ri(y,j),Mp(a,c),c.tag=1,Xr(y)?(a=!0,gp(c)):a=!1,ru(c,h),Qj(c,y,j),k0(c,y,j,h),P0(null,c,y,!0,a,h);case 19:return hN(a,c,h);case 22:return aN(a,c,h)}throw Error(n(156,c.tag))};function LN(a,c){return jd(a,c)}function y4(a,c,h,y){this.tag=a,this.key=h,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=c,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=y,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Is(a,c,h,y){return new y4(a,c,h,y)}function Y0(a){return a=a.prototype,!(!a||!a.isReactComponent)}function v4(a){if(typeof a=="function")return Y0(a)?1:0;if(a!=null){if(a=a.$$typeof,a===ee)return 11;if(a===he)return 14}return 2}function wo(a,c){var h=a.alternate;return h===null?(h=Is(a.tag,c,a.key,a.mode),h.elementType=a.elementType,h.type=a.type,h.stateNode=a.stateNode,h.alternate=a,a.alternate=h):(h.pendingProps=c,h.type=a.type,h.flags=0,h.subtreeFlags=0,h.deletions=null),h.flags=a.flags&14680064,h.childLanes=a.childLanes,h.lanes=a.lanes,h.child=a.child,h.memoizedProps=a.memoizedProps,h.memoizedState=a.memoizedState,h.updateQueue=a.updateQueue,c=a.dependencies,h.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext},h.sibling=a.sibling,h.index=a.index,h.ref=a.ref,h}function qp(a,c,h,y,j,C){var D=2;if(y=a,typeof a=="function")Y0(a)&&(D=1);else if(typeof a=="string")D=5;else e:switch(a){case V:return Fl(h.children,j,C,c);case W:D=8,j|=8;break;case F:return a=Is(12,h,c,j|2),a.elementType=F,a.lanes=C,a;case ve:return a=Is(13,h,c,j),a.elementType=ve,a.lanes=C,a;case ae:return a=Is(19,h,c,j),a.elementType=ae,a.lanes=C,a;case Se:return Hp(h,j,C,c);default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case Y:D=10;break e;case H:D=9;break e;case ee:D=11;break e;case he:D=14;break e;case ge:D=16,y=null;break e}throw Error(n(130,a==null?a:typeof a,""))}return c=Is(D,h,c,j),c.elementType=a,c.type=y,c.lanes=C,c}function Fl(a,c,h,y){return a=Is(7,a,y,c),a.lanes=h,a}function Hp(a,c,h,y){return a=Is(22,a,y,c),a.elementType=Se,a.lanes=h,a.stateNode={isHidden:!1},a}function Q0(a,c,h){return a=Is(6,a,null,c),a.lanes=h,a}function X0(a,c,h){return c=Is(4,a.children!==null?a.children:[],a.key,c),c.lanes=h,c.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},c}function b4(a,c,h,y,j){this.tag=c,this.containerInfo=a,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=yl(0),this.expirationTimes=yl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=yl(0),this.identifierPrefix=y,this.onRecoverableError=j,this.mutableSourceEagerHydrationData=null}function J0(a,c,h,y,j,C,D,G,Z){return a=new b4(a,c,h,G,Z),c===1?(c=1,C===!0&&(c|=8)):c=0,C=Is(3,null,null,c),a.current=C,C.stateNode=a,C.memoizedState={element:y,isDehydrated:h,cache:null,transitions:null,pendingSuspenseBoundaries:null},d0(C),a}function w4(a,c,h){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:$,key:y==null?null:""+y,children:a,containerInfo:c,implementation:h}}function FN(a){if(!a)return fo;a=a._reactInternals;e:{if(Er(a)!==a||a.tag!==1)throw Error(n(170));var c=a;do{switch(c.tag){case 3:c=c.stateNode.context;break e;case 1:if(Xr(c.type)){c=c.stateNode.__reactInternalMemoizedMergedChildContext;break e}}c=c.return}while(c!==null);throw Error(n(171))}if(a.tag===1){var h=a.type;if(Xr(h))return fj(a,h,c)}return c}function $N(a,c,h,y,j,C,D,G,Z){return a=J0(h,y,!0,a,j,C,D,G,Z),a.context=FN(null),h=a.current,y=Vr(),j=vo(h),C=ka(y,j),C.callback=c??null,mo(h,C,j),a.current.lanes=j,ha(a,j,y),es(a,y),a}function Kp(a,c,h,y){var j=c.current,C=Vr(),D=vo(j);return h=FN(h),c.context===null?c.context=h:c.pendingContext=h,c=ka(C,D),c.payload={element:a},y=y===void 0?null:y,y!==null&&(c.callback=y),a=mo(j,c,D),a!==null&&(ai(a,j,D,C),Sp(a,j,D)),D}function Gp(a){if(a=a.current,!a.child)return null;switch(a.child.tag){case 5:return a.child.stateNode;default:return a.child.stateNode}}function BN(a,c){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var h=a.retryLane;a.retryLane=h!==0&&h<c?h:c}}function Z0(a,c){BN(a,c),(a=a.alternate)&&BN(a,c)}function j4(){return null}var zN=typeof reportError=="function"?reportError:function(a){console.error(a)};function ey(a){this._internalRoot=a}Yp.prototype.render=ey.prototype.render=function(a){var c=this._internalRoot;if(c===null)throw Error(n(409));Kp(a,c,null,null)},Yp.prototype.unmount=ey.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var c=a.containerInfo;Ol(function(){Kp(null,a,null,null)}),c[ba]=null}};function Yp(a){this._internalRoot=a}Yp.prototype.unstable_scheduleHydration=function(a){if(a){var c=Yh();a={blockedOn:null,target:a,priority:c};for(var h=0;h<Qn.length&&c!==0&&c<Qn[h].priority;h++);Qn.splice(h,0,a),h===0&&Xh(a)}};function ty(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function Qp(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11&&(a.nodeType!==8||a.nodeValue!==" react-mount-point-unstable "))}function UN(){}function N4(a,c,h,y,j){if(j){if(typeof y=="function"){var C=y;y=function(){var je=Gp(D);C.call(je)}}var D=$N(c,y,a,0,null,!1,!1,"",UN);return a._reactRootContainer=D,a[ba]=D.current,zd(a.nodeType===8?a.parentNode:a),Ol(),D}for(;j=a.lastChild;)a.removeChild(j);if(typeof y=="function"){var G=y;y=function(){var je=Gp(Z);G.call(je)}}var Z=J0(a,0,!1,null,null,!1,!1,"",UN);return a._reactRootContainer=Z,a[ba]=Z.current,zd(a.nodeType===8?a.parentNode:a),Ol(function(){Kp(c,Z,h,y)}),Z}function Xp(a,c,h,y,j){var C=h._reactRootContainer;if(C){var D=C;if(typeof j=="function"){var G=j;j=function(){var Z=Gp(D);G.call(Z)}}Kp(c,D,a,j)}else D=N4(h,c,a,j,y);return Gp(D)}Gh=function(a){switch(a.tag){case 3:var c=a.stateNode;if(c.current.memoizedState.isDehydrated){var h=Qa(c.pendingLanes);h!==0&&(Mc(c,h|1),es(c,Zt()),(Xt&6)===0&&(lu=Zt()+500,ho()))}break;case 13:Ol(function(){var y=Sa(a,1);if(y!==null){var j=Vr();ai(y,a,1,j)}}),Z0(a,1)}},Ht=function(a){if(a.tag===13){var c=Sa(a,134217728);if(c!==null){var h=Vr();ai(c,a,134217728,h)}Z0(a,134217728)}},kd=function(a){if(a.tag===13){var c=vo(a),h=Sa(a,c);if(h!==null){var y=Vr();ai(h,a,c,y)}Z0(a,c)}},Yh=function(){return Qt},Qh=function(a,c){var h=Qt;try{return Qt=a,c()}finally{Qt=h}},Xe=function(a,c,h){switch(c){case"input":if(ln(a,h),c=h.name,h.type==="radio"&&c!=null){for(h=a;h.parentNode;)h=h.parentNode;for(h=h.querySelectorAll("input[name="+JSON.stringify(""+c)+'][type="radio"]'),c=0;c<h.length;c++){var y=h[c];if(y!==a&&y.form===a.form){var j=pp(y);if(!j)throw Error(n(90));Ve(y),ln(y,j)}}}break;case"textarea":hn(a,h);break;case"select":c=h.value,c!=null&&Pn(a,!!h.multiple,c,!1)}},zh=H0,Uh=Ol;var S4={usingClientEntryPoint:!1,Events:[Wd,Yc,pp,bd,Ac,H0]},sf={findFiberByHostInstance:Cl,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},k4={bundleType:sf.bundleType,version:sf.version,rendererPackageName:sf.rendererPackageName,rendererConfig:sf.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:L.ReactCurrentDispatcher,findHostInstanceByFiber:function(a){return a=wd(a),a===null?null:a.stateNode},findFiberByHostInstance:sf.findFiberByHostInstance||j4,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Jp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Jp.isDisabled&&Jp.supportsFiber)try{pl=Jp.inject(k4),$r=Jp}catch{}}return ts.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=S4,ts.createPortal=function(a,c){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ty(c))throw Error(n(200));return w4(a,c,null,h)},ts.createRoot=function(a,c){if(!ty(a))throw Error(n(299));var h=!1,y="",j=zN;return c!=null&&(c.unstable_strictMode===!0&&(h=!0),c.identifierPrefix!==void 0&&(y=c.identifierPrefix),c.onRecoverableError!==void 0&&(j=c.onRecoverableError)),c=J0(a,1,!1,null,null,h,!1,y,j),a[ba]=c.current,zd(a.nodeType===8?a.parentNode:a),new ey(c)},ts.findDOMNode=function(a){if(a==null)return null;if(a.nodeType===1)return a;var c=a._reactInternals;if(c===void 0)throw typeof a.render=="function"?Error(n(188)):(a=Object.keys(a).join(","),Error(n(268,a)));return a=wd(c),a=a===null?null:a.stateNode,a},ts.flushSync=function(a){return Ol(a)},ts.hydrate=function(a,c,h){if(!Qp(c))throw Error(n(200));return Xp(null,a,c,!0,h)},ts.hydrateRoot=function(a,c,h){if(!ty(a))throw Error(n(405));var y=h!=null&&h.hydratedSources||null,j=!1,C="",D=zN;if(h!=null&&(h.unstable_strictMode===!0&&(j=!0),h.identifierPrefix!==void 0&&(C=h.identifierPrefix),h.onRecoverableError!==void 0&&(D=h.onRecoverableError)),c=$N(c,null,a,1,h??null,j,!1,C,D),a[ba]=c.current,zd(a),y)for(a=0;a<y.length;a++)h=y[a],j=h._getVersion,j=j(h._source),c.mutableSourceEagerHydrationData==null?c.mutableSourceEagerHydrationData=[h,j]:c.mutableSourceEagerHydrationData.push(h,j);return new Yp(c)},ts.render=function(a,c,h){if(!Qp(c))throw Error(n(200));return Xp(null,a,c,!1,h)},ts.unmountComponentAtNode=function(a){if(!Qp(a))throw Error(n(40));return a._reactRootContainer?(Ol(function(){Xp(null,null,a,!1,function(){a._reactRootContainer=null,a[ba]=null})}),!0):!1},ts.unstable_batchedUpdates=H0,ts.unstable_renderSubtreeIntoContainer=function(a,c,h,y){if(!Qp(h))throw Error(n(200));if(a==null||a._reactInternals===void 0)throw Error(n(38));return Xp(a,c,h,!1,y)},ts.version="18.3.1-next-f1338f8080-20240426",ts}var XN;function CC(){if(XN)return iy.exports;XN=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),iy.exports=M4(),iy.exports}var JN;function O4(){if(JN)return em;JN=1;var e=CC();return em.createRoot=e.createRoot,em.hydrateRoot=e.hydrateRoot,em}var D4=O4();const L4=ad(D4),F4=20,$4=1e6,La={ADD_TOAST:"ADD_TOAST",UPDATE_TOAST:"UPDATE_TOAST",DISMISS_TOAST:"DISMISS_TOAST",REMOVE_TOAST:"REMOVE_TOAST"};let ly=0;function B4(){return ly=(ly+1)%Number.MAX_VALUE,ly.toString()}const cy=new Map,ZN=e=>{if(cy.has(e))return;const t=setTimeout(()=>{cy.delete(e),Df({type:La.REMOVE_TOAST,toastId:e})},$4);cy.set(e,t)},z4=(e,t)=>{switch(t.type){case La.ADD_TOAST:return{...e,toasts:[t.toast,...e.toasts].slice(0,F4)};case La.UPDATE_TOAST:return{...e,toasts:e.toasts.map(n=>n.id===t.toast.id?{...n,...t.toast}:n)};case La.DISMISS_TOAST:{const{toastId:n}=t;return n?ZN(n):e.toasts.forEach(r=>{ZN(r.id)}),{...e,toasts:e.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case La.REMOVE_TOAST:return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(n=>n.id!==t.toastId)}}},_m=[];let Cm={toasts:[]};function Df(e){Cm=z4(Cm,e),_m.forEach(t=>{t(Cm)})}function U4({...e}){const t=B4(),n=s=>Df({type:La.UPDATE_TOAST,toast:{...s,id:t}}),r=()=>Df({type:La.DISMISS_TOAST,toastId:t});return Df({type:La.ADD_TOAST,toast:{...e,id:t,open:!0,onOpenChange:s=>{s||r()}}}),{id:t,dismiss:r,update:n}}function V4(){const[e,t]=b.useState(Cm);return b.useEffect(()=>(_m.push(t),()=>{const n=_m.indexOf(t);n>-1&&_m.splice(n,1)}),[e]),{...e,toast:U4,dismiss:n=>Df({type:La.DISMISS_TOAST,toastId:n})}}function EC(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(n=EC(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function PC(){for(var e,t,n=0,r="",s=arguments.length;n<s;n++)(e=arguments[n])&&(t=EC(e))&&(r&&(r+=" "),r+=t);return r}const eS=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,tS=PC,Ug=(e,t)=>n=>{var r;if((t==null?void 0:t.variants)==null)return tS(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:o}=t,l=Object.keys(s).map(f=>{const p=n==null?void 0:n[f],m=o==null?void 0:o[f];if(p===null)return null;const x=eS(p)||eS(m);return s[f][x]}),u=n&&Object.entries(n).reduce((f,p)=>{let[m,x]=p;return x===void 0||(f[m]=x),f},{}),d=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((f,p)=>{let{class:m,className:x,...v}=p;return Object.entries(v).every(S=>{let[N,_]=S;return Array.isArray(_)?_.includes({...o,...u}[N]):{...o,...u}[N]===_})?[...f,m,x]:f},[]);return tS(e,l,d,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W4=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),AC=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim();/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var q4={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H4=b.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:o,iconNode:l,...u},d)=>b.createElement("svg",{ref:d,...q4,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:AC("lucide",s),...u},[...l.map(([f,p])=>b.createElement(f,p)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ye=(e,t)=>{const n=b.forwardRef(({className:r,...s},o)=>b.createElement(H4,{ref:o,iconNode:t,className:AC(`lucide-${W4(e)}`,r),...s}));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K4=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],uy=Ye("Activity",K4);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G4=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],TC=Ye("ArrowRight",G4);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y4=[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]],Q4=Ye("ArrowUpDown",Y4);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X4=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],J4=Ye("Award",X4);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z4=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M22 8c0-2.3-.8-4.3-2-6",key:"5bb3ad"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}],["path",{d:"M4 2C2.8 3.7 2 5.7 2 8",key:"tap9e0"}]],eD=Ye("BellRing",Z4);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tD=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],fv=Ye("Bell",tD);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nD=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],Hn=Ye("BookOpen",nD);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rD=[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]],sD=Ye("Book",rD);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iD=[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]],aD=Ye("Bookmark",iD);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oD=[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]],dy=Ye("Bot",oD);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lD=[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M9 13a4.5 4.5 0 0 0 3-4",key:"10igwf"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M12 13h4",key:"1ku699"}],["path",{d:"M12 18h6a2 2 0 0 1 2 2v1",key:"105ag5"}],["path",{d:"M12 8h8",key:"1lhi5i"}],["path",{d:"M16 8V5a2 2 0 0 1 2-2",key:"u6izg6"}],["circle",{cx:"16",cy:"13",r:".5",key:"ry7gng"}],["circle",{cx:"18",cy:"3",r:".5",key:"1aiba7"}],["circle",{cx:"20",cy:"21",r:".5",key:"yhc1fs"}],["circle",{cx:"20",cy:"8",r:".5",key:"1e43v0"}]],cD=Ye("BrainCircuit",lD);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uD=[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]],Kn=Ye("Brain",uD);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dD=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Xo=Ye("Calendar",dD);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fD=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],hD=Ye("ChartColumn",fD);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pD=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Qu=Ye("Check",pD);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mD=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Vg=Ye("ChevronDown",mD);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gD=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Hi=Ye("ChevronRight",gD);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xD=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],yD=Ye("ChevronUp",xD);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vD=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Jo=Ye("CircleAlert",vD);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bD=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Us=Ye("CircleCheckBig",bD);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wD=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Ki=Ye("CircleCheck",wD);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jD=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"10 8 16 12 10 16 10 8",key:"1cimsy"}]],ND=Ye("CirclePlay",jD);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SD=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],kD=Ye("CirclePlus",SD);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _D=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],RC=Ye("CircleX",_D);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CD=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Qm=Ye("Circle",CD);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ED=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],IC=Ye("ClipboardList",ED);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PD=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],pi=Ye("Clock",PD);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AD=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],MC=Ye("Copy",AD);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TD=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],OC=Ye("CreditCard",TD);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RD=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],hv=Ye("Crown",RD);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ID=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],MD=Ye("Database",ID);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OD=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]],Ub=Ye("Download",OD);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DD=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],pv=Ye("EllipsisVertical",DD);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LD=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],cc=Ye("ExternalLink",LD);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FD=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Wg=Ye("Eye",FD);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $D=[["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M4.268 21a2 2 0 0 0 1.727 1H18a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v3",key:"ms7g94"}],["path",{d:"m9 18-1.5-1.5",key:"1j6qii"}],["circle",{cx:"5",cy:"14",r:"3",key:"ufru5t"}]],BD=Ye("FileSearch",$D);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zD=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Sr=Ye("FileText",zD);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UD=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]],VD=Ye("File",UD);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WD=[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]],DC=Ye("Filter",WD);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qD=[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]],mv=Ye("Flame",qD);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HD=[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]],LC=Ye("FolderOpen",HD);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KD=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],Ns=Ye("Globe",KD);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GD=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],YD=Ye("GraduationCap",GD);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QD=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],nS=Ye("History",QD);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XD=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],JD=Ye("House",XD);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZD=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],e3=Ye("Info",ZD);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t3=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],rS=Ye("Key",t3);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n3=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],FC=Ye("Layers",n3);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r3=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],s3=Ye("LayoutDashboard",r3);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i3=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],Ho=Ye("Lightbulb",i3);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a3=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],o3=Ye("Link",a3);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l3=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],jn=Ye("LoaderCircle",l3);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c3=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],u3=Ye("Lock",c3);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d3=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],f3=Ye("LogOut",d3);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h3=[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]],p3=Ye("Medal",h3);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m3=[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]],sS=Ye("Menu",m3);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g3=[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]],x3=Ye("MessageSquare",g3);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y3=[["path",{d:"M4.037 4.688a.495.495 0 0 1 .651-.651l16 6.5a.5.5 0 0 1-.063.947l-6.124 1.58a2 2 0 0 0-1.438 1.435l-1.579 6.126a.5.5 0 0 1-.947.063z",key:"edeuup"}]],v3=Ye("MousePointer2",y3);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b3=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]],$C=Ye("PanelsTopLeft",b3);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w3=[["path",{d:"M15.707 21.293a1 1 0 0 1-1.414 0l-1.586-1.586a1 1 0 0 1 0-1.414l5.586-5.586a1 1 0 0 1 1.414 0l1.586 1.586a1 1 0 0 1 0 1.414z",key:"nt11vn"}],["path",{d:"m18 13-1.375-6.874a1 1 0 0 0-.746-.776L3.235 2.028a1 1 0 0 0-1.207 1.207L5.35 15.879a1 1 0 0 0 .776.746L13 18",key:"15qc1e"}],["path",{d:"m2.3 2.3 7.286 7.286",key:"1wuzzi"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]],Vb=Ye("PenTool",w3);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j3=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Yf=Ye("Plus",j3);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N3=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],pc=Ye("RefreshCw",N3);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S3=[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]],k3=Ye("Rocket",S3);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _3=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],BC=Ye("RotateCcw",_3);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C3=[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}]],iS=Ye("Scan",C3);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E3=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],qa=Ye("Search",E3);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P3=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],zi=Ye("Send",P3);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A3=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],T3=Ye("Settings",A3);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R3=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Xm=Ye("ShieldCheck",R3);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I3=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],zC=Ye("Shield",I3);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M3=[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]],Ft=Ye("Sparkles",M3);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O3=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],gv=Ye("SquarePen",O3);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D3=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],Wb=Ye("Star",D3);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L3=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],Ji=Ye("Target",L3);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F3=[["polyline",{points:"4 17 10 11 4 5",key:"akl6gq"}],["line",{x1:"12",x2:"20",y1:"19",y2:"19",key:"q2wloq"}]],$3=Ye("Terminal",F3);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B3=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],Qf=Ye("Trash2",B3);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z3=[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]],sl=Ye("TrendingUp",z3);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U3=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Jm=Ye("TriangleAlert",U3);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V3=[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]],Xu=Ye("Trophy",V3);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W3=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]],os=Ye("Upload",W3);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q3=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]],H3=Ye("UserCheck",q3);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K3=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],qg=Ye("User",K3);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G3=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],aS=Ye("Wallet",G3);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y3=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Dr=Ye("X",Y3);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q3=[["path",{d:"M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17",key:"1q2vi4"}],["path",{d:"m10 15 5-3-5-3z",key:"1jp15x"}]],UC=Ye("Youtube",Q3);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X3=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],En=Ye("Zap",X3),J3=(e,t)=>{const n=new Array(e.length+t.length);for(let r=0;r<e.length;r++)n[r]=e[r];for(let r=0;r<t.length;r++)n[e.length+r]=t[r];return n},Z3=(e,t)=>({classGroupId:e,validator:t}),VC=(e=new Map,t=null,n)=>({nextPart:e,validators:t,classGroupId:n}),Zm="-",oS=[],e6="arbitrary..",t6=e=>{const t=r6(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:l=>{if(l.startsWith("[")&&l.endsWith("]"))return n6(l);const u=l.split(Zm),d=u[0]===""&&u.length>1?1:0;return WC(u,d,t)},getConflictingClassGroupIds:(l,u)=>{if(u){const d=r[l],f=n[l];return d?f?J3(f,d):d:f||oS}return n[l]||oS}}},WC=(e,t,n)=>{if(e.length-t===0)return n.classGroupId;const s=e[t],o=n.nextPart.get(s);if(o){const f=WC(e,t+1,o);if(f)return f}const l=n.validators;if(l===null)return;const u=t===0?e.join(Zm):e.slice(t).join(Zm),d=l.length;for(let f=0;f<d;f++){const p=l[f];if(p.validator(u))return p.classGroupId}},n6=e=>e.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const t=e.slice(1,-1),n=t.indexOf(":"),r=t.slice(0,n);return r?e6+r:void 0})(),r6=e=>{const{theme:t,classGroups:n}=e;return s6(n,t)},s6=(e,t)=>{const n=VC();for(const r in e){const s=e[r];qb(s,n,r,t)}return n},qb=(e,t,n,r)=>{const s=e.length;for(let o=0;o<s;o++){const l=e[o];i6(l,t,n,r)}},i6=(e,t,n,r)=>{if(typeof e=="string"){a6(e,t,n);return}if(typeof e=="function"){o6(e,t,n,r);return}l6(e,t,n,r)},a6=(e,t,n)=>{const r=e===""?t:qC(t,e);r.classGroupId=n},o6=(e,t,n,r)=>{if(c6(e)){qb(e(r),t,n,r);return}t.validators===null&&(t.validators=[]),t.validators.push(Z3(n,e))},l6=(e,t,n,r)=>{const s=Object.entries(e),o=s.length;for(let l=0;l<o;l++){const[u,d]=s[l];qb(d,qC(t,u),n,r)}},qC=(e,t)=>{let n=e;const r=t.split(Zm),s=r.length;for(let o=0;o<s;o++){const l=r[o];let u=n.nextPart.get(l);u||(u=VC(),n.nextPart.set(l,u)),n=u}return n},c6=e=>"isThemeGetter"in e&&e.isThemeGetter===!0,u6=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=Object.create(null),r=Object.create(null);const s=(o,l)=>{n[o]=l,t++,t>e&&(t=0,r=n,n=Object.create(null))};return{get(o){let l=n[o];if(l!==void 0)return l;if((l=r[o])!==void 0)return s(o,l),l},set(o,l){o in n?n[o]=l:s(o,l)}}},xv="!",lS=":",d6=[],cS=(e,t,n,r,s)=>({modifiers:e,hasImportantModifier:t,baseClassName:n,maybePostfixModifierPosition:r,isExternal:s}),f6=e=>{const{prefix:t,experimentalParseClassName:n}=e;let r=s=>{const o=[];let l=0,u=0,d=0,f;const p=s.length;for(let N=0;N<p;N++){const _=s[N];if(l===0&&u===0){if(_===lS){o.push(s.slice(d,N)),d=N+1;continue}if(_==="/"){f=N;continue}}_==="["?l++:_==="]"?l--:_==="("?u++:_===")"&&u--}const m=o.length===0?s:s.slice(d);let x=m,v=!1;m.endsWith(xv)?(x=m.slice(0,-1),v=!0):m.startsWith(xv)&&(x=m.slice(1),v=!0);const S=f&&f>d?f-d:void 0;return cS(o,v,x,S)};if(t){const s=t+lS,o=r;r=l=>l.startsWith(s)?o(l.slice(s.length)):cS(d6,!1,l,void 0,!0)}if(n){const s=r;r=o=>n({className:o,parseClassName:s})}return r},h6=e=>{const t=new Map;return e.orderSensitiveModifiers.forEach((n,r)=>{t.set(n,1e6+r)}),n=>{const r=[];let s=[];for(let o=0;o<n.length;o++){const l=n[o],u=l[0]==="[",d=t.has(l);u||d?(s.length>0&&(s.sort(),r.push(...s),s=[]),r.push(l)):s.push(l)}return s.length>0&&(s.sort(),r.push(...s)),r}},p6=e=>({cache:u6(e.cacheSize),parseClassName:f6(e),sortModifiers:h6(e),...t6(e)}),m6=/\s+/,g6=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s,sortModifiers:o}=t,l=[],u=e.trim().split(m6);let d="";for(let f=u.length-1;f>=0;f-=1){const p=u[f],{isExternal:m,modifiers:x,hasImportantModifier:v,baseClassName:S,maybePostfixModifierPosition:N}=n(p);if(m){d=p+(d.length>0?" "+d:d);continue}let _=!!N,P=r(_?S.substring(0,N):S);if(!P){if(!_){d=p+(d.length>0?" "+d:d);continue}if(P=r(S),!P){d=p+(d.length>0?" "+d:d);continue}_=!1}const T=x.length===0?"":x.length===1?x[0]:o(x).join(":"),I=v?T+xv:T,L=I+P;if(l.indexOf(L)>-1)continue;l.push(L);const z=s(P,_);for(let $=0;$<z.length;++$){const V=z[$];l.push(I+V)}d=p+(d.length>0?" "+d:d)}return d},x6=(...e)=>{let t=0,n,r,s="";for(;t<e.length;)(n=e[t++])&&(r=HC(n))&&(s&&(s+=" "),s+=r);return s},HC=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=HC(e[r]))&&(n&&(n+=" "),n+=t);return n},y6=(e,...t)=>{let n,r,s,o;const l=d=>{const f=t.reduce((p,m)=>m(p),e());return n=p6(f),r=n.cache.get,s=n.cache.set,o=u,u(d)},u=d=>{const f=r(d);if(f)return f;const p=g6(d,n);return s(d,p),p};return o=l,(...d)=>o(x6(...d))},v6=[],Zn=e=>{const t=n=>n[e]||v6;return t.isThemeGetter=!0,t},KC=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,GC=/^\((?:(\w[\w-]*):)?(.+)\)$/i,b6=/^\d+\/\d+$/,w6=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,j6=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,N6=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,S6=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,k6=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,uu=e=>b6.test(e),Lt=e=>!!e&&!Number.isNaN(Number(e)),No=e=>!!e&&Number.isInteger(Number(e)),fy=e=>e.endsWith("%")&&Lt(e.slice(0,-1)),Ea=e=>w6.test(e),_6=()=>!0,C6=e=>j6.test(e)&&!N6.test(e),YC=()=>!1,E6=e=>S6.test(e),P6=e=>k6.test(e),A6=e=>!ct(e)&&!ut(e),T6=e=>od(e,JC,YC),ct=e=>KC.test(e),$l=e=>od(e,ZC,C6),hy=e=>od(e,D6,Lt),uS=e=>od(e,QC,YC),R6=e=>od(e,XC,P6),tm=e=>od(e,eE,E6),ut=e=>GC.test(e),of=e=>ld(e,ZC),I6=e=>ld(e,L6),dS=e=>ld(e,QC),M6=e=>ld(e,JC),O6=e=>ld(e,XC),nm=e=>ld(e,eE,!0),od=(e,t,n)=>{const r=KC.exec(e);return r?r[1]?t(r[1]):n(r[2]):!1},ld=(e,t,n=!1)=>{const r=GC.exec(e);return r?r[1]?t(r[1]):n:!1},QC=e=>e==="position"||e==="percentage",XC=e=>e==="image"||e==="url",JC=e=>e==="length"||e==="size"||e==="bg-size",ZC=e=>e==="length",D6=e=>e==="number",L6=e=>e==="family-name",eE=e=>e==="shadow",F6=()=>{const e=Zn("color"),t=Zn("font"),n=Zn("text"),r=Zn("font-weight"),s=Zn("tracking"),o=Zn("leading"),l=Zn("breakpoint"),u=Zn("container"),d=Zn("spacing"),f=Zn("radius"),p=Zn("shadow"),m=Zn("inset-shadow"),x=Zn("text-shadow"),v=Zn("drop-shadow"),S=Zn("blur"),N=Zn("perspective"),_=Zn("aspect"),P=Zn("ease"),T=Zn("animate"),I=()=>["auto","avoid","all","avoid-page","page","left","right","column"],L=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],z=()=>[...L(),ut,ct],$=()=>["auto","hidden","clip","visible","scroll"],V=()=>["auto","contain","none"],W=()=>[ut,ct,d],F=()=>[uu,"full","auto",...W()],Y=()=>[No,"none","subgrid",ut,ct],H=()=>["auto",{span:["full",No,ut,ct]},No,ut,ct],ee=()=>[No,"auto",ut,ct],ve=()=>["auto","min","max","fr",ut,ct],ae=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],he=()=>["start","end","center","stretch","center-safe","end-safe"],ge=()=>["auto",...W()],Se=()=>[uu,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...W()],K=()=>[e,ut,ct],fe=()=>[...L(),dS,uS,{position:[ut,ct]}],A=()=>["no-repeat",{repeat:["","x","y","space","round"]}],M=()=>["auto","cover","contain",M6,T6,{size:[ut,ct]}],X=()=>[fy,of,$l],B=()=>["","none","full",f,ut,ct],Ee=()=>["",Lt,of,$l],De=()=>["solid","dashed","dotted","double"],Te=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],xe=()=>[Lt,fy,dS,uS],Pe=()=>["","none",S,ut,ct],Ue=()=>["none",Lt,ut,ct],Ce=()=>["none",Lt,ut,ct],et=()=>[Lt,ut,ct],Ve=()=>[uu,"full",...W()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Ea],breakpoint:[Ea],color:[_6],container:[Ea],"drop-shadow":[Ea],ease:["in","out","in-out"],font:[A6],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Ea],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Ea],shadow:[Ea],spacing:["px",Lt],text:[Ea],"text-shadow":[Ea],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",uu,ct,ut,_]}],container:["container"],columns:[{columns:[Lt,ct,ut,u]}],"break-after":[{"break-after":I()}],"break-before":[{"break-before":I()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:z()}],overflow:[{overflow:$()}],"overflow-x":[{"overflow-x":$()}],"overflow-y":[{"overflow-y":$()}],overscroll:[{overscroll:V()}],"overscroll-x":[{"overscroll-x":V()}],"overscroll-y":[{"overscroll-y":V()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:F()}],"inset-x":[{"inset-x":F()}],"inset-y":[{"inset-y":F()}],start:[{start:F()}],end:[{end:F()}],top:[{top:F()}],right:[{right:F()}],bottom:[{bottom:F()}],left:[{left:F()}],visibility:["visible","invisible","collapse"],z:[{z:[No,"auto",ut,ct]}],basis:[{basis:[uu,"full","auto",u,...W()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Lt,uu,"auto","initial","none",ct]}],grow:[{grow:["",Lt,ut,ct]}],shrink:[{shrink:["",Lt,ut,ct]}],order:[{order:[No,"first","last","none",ut,ct]}],"grid-cols":[{"grid-cols":Y()}],"col-start-end":[{col:H()}],"col-start":[{"col-start":ee()}],"col-end":[{"col-end":ee()}],"grid-rows":[{"grid-rows":Y()}],"row-start-end":[{row:H()}],"row-start":[{"row-start":ee()}],"row-end":[{"row-end":ee()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":ve()}],"auto-rows":[{"auto-rows":ve()}],gap:[{gap:W()}],"gap-x":[{"gap-x":W()}],"gap-y":[{"gap-y":W()}],"justify-content":[{justify:[...ae(),"normal"]}],"justify-items":[{"justify-items":[...he(),"normal"]}],"justify-self":[{"justify-self":["auto",...he()]}],"align-content":[{content:["normal",...ae()]}],"align-items":[{items:[...he(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...he(),{baseline:["","last"]}]}],"place-content":[{"place-content":ae()}],"place-items":[{"place-items":[...he(),"baseline"]}],"place-self":[{"place-self":["auto",...he()]}],p:[{p:W()}],px:[{px:W()}],py:[{py:W()}],ps:[{ps:W()}],pe:[{pe:W()}],pt:[{pt:W()}],pr:[{pr:W()}],pb:[{pb:W()}],pl:[{pl:W()}],m:[{m:ge()}],mx:[{mx:ge()}],my:[{my:ge()}],ms:[{ms:ge()}],me:[{me:ge()}],mt:[{mt:ge()}],mr:[{mr:ge()}],mb:[{mb:ge()}],ml:[{ml:ge()}],"space-x":[{"space-x":W()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":W()}],"space-y-reverse":["space-y-reverse"],size:[{size:Se()}],w:[{w:[u,"screen",...Se()]}],"min-w":[{"min-w":[u,"screen","none",...Se()]}],"max-w":[{"max-w":[u,"screen","none","prose",{screen:[l]},...Se()]}],h:[{h:["screen","lh",...Se()]}],"min-h":[{"min-h":["screen","lh","none",...Se()]}],"max-h":[{"max-h":["screen","lh",...Se()]}],"font-size":[{text:["base",n,of,$l]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,ut,hy]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",fy,ct]}],"font-family":[{font:[I6,ct,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[s,ut,ct]}],"line-clamp":[{"line-clamp":[Lt,"none",ut,hy]}],leading:[{leading:[o,...W()]}],"list-image":[{"list-image":["none",ut,ct]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",ut,ct]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:K()}],"text-color":[{text:K()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...De(),"wavy"]}],"text-decoration-thickness":[{decoration:[Lt,"from-font","auto",ut,$l]}],"text-decoration-color":[{decoration:K()}],"underline-offset":[{"underline-offset":[Lt,"auto",ut,ct]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:W()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ut,ct]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ut,ct]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:fe()}],"bg-repeat":[{bg:A()}],"bg-size":[{bg:M()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},No,ut,ct],radial:["",ut,ct],conic:[No,ut,ct]},O6,R6]}],"bg-color":[{bg:K()}],"gradient-from-pos":[{from:X()}],"gradient-via-pos":[{via:X()}],"gradient-to-pos":[{to:X()}],"gradient-from":[{from:K()}],"gradient-via":[{via:K()}],"gradient-to":[{to:K()}],rounded:[{rounded:B()}],"rounded-s":[{"rounded-s":B()}],"rounded-e":[{"rounded-e":B()}],"rounded-t":[{"rounded-t":B()}],"rounded-r":[{"rounded-r":B()}],"rounded-b":[{"rounded-b":B()}],"rounded-l":[{"rounded-l":B()}],"rounded-ss":[{"rounded-ss":B()}],"rounded-se":[{"rounded-se":B()}],"rounded-ee":[{"rounded-ee":B()}],"rounded-es":[{"rounded-es":B()}],"rounded-tl":[{"rounded-tl":B()}],"rounded-tr":[{"rounded-tr":B()}],"rounded-br":[{"rounded-br":B()}],"rounded-bl":[{"rounded-bl":B()}],"border-w":[{border:Ee()}],"border-w-x":[{"border-x":Ee()}],"border-w-y":[{"border-y":Ee()}],"border-w-s":[{"border-s":Ee()}],"border-w-e":[{"border-e":Ee()}],"border-w-t":[{"border-t":Ee()}],"border-w-r":[{"border-r":Ee()}],"border-w-b":[{"border-b":Ee()}],"border-w-l":[{"border-l":Ee()}],"divide-x":[{"divide-x":Ee()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":Ee()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...De(),"hidden","none"]}],"divide-style":[{divide:[...De(),"hidden","none"]}],"border-color":[{border:K()}],"border-color-x":[{"border-x":K()}],"border-color-y":[{"border-y":K()}],"border-color-s":[{"border-s":K()}],"border-color-e":[{"border-e":K()}],"border-color-t":[{"border-t":K()}],"border-color-r":[{"border-r":K()}],"border-color-b":[{"border-b":K()}],"border-color-l":[{"border-l":K()}],"divide-color":[{divide:K()}],"outline-style":[{outline:[...De(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Lt,ut,ct]}],"outline-w":[{outline:["",Lt,of,$l]}],"outline-color":[{outline:K()}],shadow:[{shadow:["","none",p,nm,tm]}],"shadow-color":[{shadow:K()}],"inset-shadow":[{"inset-shadow":["none",m,nm,tm]}],"inset-shadow-color":[{"inset-shadow":K()}],"ring-w":[{ring:Ee()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:K()}],"ring-offset-w":[{"ring-offset":[Lt,$l]}],"ring-offset-color":[{"ring-offset":K()}],"inset-ring-w":[{"inset-ring":Ee()}],"inset-ring-color":[{"inset-ring":K()}],"text-shadow":[{"text-shadow":["none",x,nm,tm]}],"text-shadow-color":[{"text-shadow":K()}],opacity:[{opacity:[Lt,ut,ct]}],"mix-blend":[{"mix-blend":[...Te(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":Te()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Lt]}],"mask-image-linear-from-pos":[{"mask-linear-from":xe()}],"mask-image-linear-to-pos":[{"mask-linear-to":xe()}],"mask-image-linear-from-color":[{"mask-linear-from":K()}],"mask-image-linear-to-color":[{"mask-linear-to":K()}],"mask-image-t-from-pos":[{"mask-t-from":xe()}],"mask-image-t-to-pos":[{"mask-t-to":xe()}],"mask-image-t-from-color":[{"mask-t-from":K()}],"mask-image-t-to-color":[{"mask-t-to":K()}],"mask-image-r-from-pos":[{"mask-r-from":xe()}],"mask-image-r-to-pos":[{"mask-r-to":xe()}],"mask-image-r-from-color":[{"mask-r-from":K()}],"mask-image-r-to-color":[{"mask-r-to":K()}],"mask-image-b-from-pos":[{"mask-b-from":xe()}],"mask-image-b-to-pos":[{"mask-b-to":xe()}],"mask-image-b-from-color":[{"mask-b-from":K()}],"mask-image-b-to-color":[{"mask-b-to":K()}],"mask-image-l-from-pos":[{"mask-l-from":xe()}],"mask-image-l-to-pos":[{"mask-l-to":xe()}],"mask-image-l-from-color":[{"mask-l-from":K()}],"mask-image-l-to-color":[{"mask-l-to":K()}],"mask-image-x-from-pos":[{"mask-x-from":xe()}],"mask-image-x-to-pos":[{"mask-x-to":xe()}],"mask-image-x-from-color":[{"mask-x-from":K()}],"mask-image-x-to-color":[{"mask-x-to":K()}],"mask-image-y-from-pos":[{"mask-y-from":xe()}],"mask-image-y-to-pos":[{"mask-y-to":xe()}],"mask-image-y-from-color":[{"mask-y-from":K()}],"mask-image-y-to-color":[{"mask-y-to":K()}],"mask-image-radial":[{"mask-radial":[ut,ct]}],"mask-image-radial-from-pos":[{"mask-radial-from":xe()}],"mask-image-radial-to-pos":[{"mask-radial-to":xe()}],"mask-image-radial-from-color":[{"mask-radial-from":K()}],"mask-image-radial-to-color":[{"mask-radial-to":K()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":L()}],"mask-image-conic-pos":[{"mask-conic":[Lt]}],"mask-image-conic-from-pos":[{"mask-conic-from":xe()}],"mask-image-conic-to-pos":[{"mask-conic-to":xe()}],"mask-image-conic-from-color":[{"mask-conic-from":K()}],"mask-image-conic-to-color":[{"mask-conic-to":K()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:fe()}],"mask-repeat":[{mask:A()}],"mask-size":[{mask:M()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",ut,ct]}],filter:[{filter:["","none",ut,ct]}],blur:[{blur:Pe()}],brightness:[{brightness:[Lt,ut,ct]}],contrast:[{contrast:[Lt,ut,ct]}],"drop-shadow":[{"drop-shadow":["","none",v,nm,tm]}],"drop-shadow-color":[{"drop-shadow":K()}],grayscale:[{grayscale:["",Lt,ut,ct]}],"hue-rotate":[{"hue-rotate":[Lt,ut,ct]}],invert:[{invert:["",Lt,ut,ct]}],saturate:[{saturate:[Lt,ut,ct]}],sepia:[{sepia:["",Lt,ut,ct]}],"backdrop-filter":[{"backdrop-filter":["","none",ut,ct]}],"backdrop-blur":[{"backdrop-blur":Pe()}],"backdrop-brightness":[{"backdrop-brightness":[Lt,ut,ct]}],"backdrop-contrast":[{"backdrop-contrast":[Lt,ut,ct]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Lt,ut,ct]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Lt,ut,ct]}],"backdrop-invert":[{"backdrop-invert":["",Lt,ut,ct]}],"backdrop-opacity":[{"backdrop-opacity":[Lt,ut,ct]}],"backdrop-saturate":[{"backdrop-saturate":[Lt,ut,ct]}],"backdrop-sepia":[{"backdrop-sepia":["",Lt,ut,ct]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":W()}],"border-spacing-x":[{"border-spacing-x":W()}],"border-spacing-y":[{"border-spacing-y":W()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",ut,ct]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Lt,"initial",ut,ct]}],ease:[{ease:["linear","initial",P,ut,ct]}],delay:[{delay:[Lt,ut,ct]}],animate:[{animate:["none",T,ut,ct]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[N,ut,ct]}],"perspective-origin":[{"perspective-origin":z()}],rotate:[{rotate:Ue()}],"rotate-x":[{"rotate-x":Ue()}],"rotate-y":[{"rotate-y":Ue()}],"rotate-z":[{"rotate-z":Ue()}],scale:[{scale:Ce()}],"scale-x":[{"scale-x":Ce()}],"scale-y":[{"scale-y":Ce()}],"scale-z":[{"scale-z":Ce()}],"scale-3d":["scale-3d"],skew:[{skew:et()}],"skew-x":[{"skew-x":et()}],"skew-y":[{"skew-y":et()}],transform:[{transform:[ut,ct,"","none","gpu","cpu"]}],"transform-origin":[{origin:z()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Ve()}],"translate-x":[{"translate-x":Ve()}],"translate-y":[{"translate-y":Ve()}],"translate-z":[{"translate-z":Ve()}],"translate-none":["translate-none"],accent:[{accent:K()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:K()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ut,ct]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":W()}],"scroll-mx":[{"scroll-mx":W()}],"scroll-my":[{"scroll-my":W()}],"scroll-ms":[{"scroll-ms":W()}],"scroll-me":[{"scroll-me":W()}],"scroll-mt":[{"scroll-mt":W()}],"scroll-mr":[{"scroll-mr":W()}],"scroll-mb":[{"scroll-mb":W()}],"scroll-ml":[{"scroll-ml":W()}],"scroll-p":[{"scroll-p":W()}],"scroll-px":[{"scroll-px":W()}],"scroll-py":[{"scroll-py":W()}],"scroll-ps":[{"scroll-ps":W()}],"scroll-pe":[{"scroll-pe":W()}],"scroll-pt":[{"scroll-pt":W()}],"scroll-pr":[{"scroll-pr":W()}],"scroll-pb":[{"scroll-pb":W()}],"scroll-pl":[{"scroll-pl":W()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ut,ct]}],fill:[{fill:["none",...K()]}],"stroke-w":[{stroke:[Lt,of,$l,hy]}],stroke:[{stroke:["none",...K()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},$6=y6(F6);function Ne(...e){return $6(PC(e))}const tE=b.forwardRef(({...e},t)=>i.jsx("div",{ref:t,className:"fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 pointer-events-none sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",...e}));tE.displayName="ToastProvider";const nE=b.forwardRef(({...e},t)=>i.jsx("div",{ref:t,className:"fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 pointer-events-none sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",...e}));nE.displayName="ToastViewport";const B6=Ug("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),rE=b.forwardRef(({className:e,variant:t,...n},r)=>i.jsx("div",{ref:r,className:Ne(B6({variant:t}),e),...n}));rE.displayName="Toast";const z6=b.forwardRef(({className:e,...t},n)=>i.jsx("div",{ref:n,className:Ne("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));z6.displayName="ToastAction";const sE=b.forwardRef(({className:e,...t},n)=>i.jsx("button",{ref:n,className:Ne("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:i.jsx(Dr,{className:"h-4 w-4"})}));sE.displayName="ToastClose";const iE=b.forwardRef(({className:e,...t},n)=>i.jsx("div",{ref:n,className:Ne("text-sm font-semibold",e),...t}));iE.displayName="ToastTitle";const aE=b.forwardRef(({className:e,...t},n)=>i.jsx("div",{ref:n,className:Ne("text-sm opacity-90",e),...t}));aE.displayName="ToastDescription";function U6(){const{toasts:e}=V4();return i.jsxs(tE,{children:[e.map(function({id:t,title:n,description:r,action:s,...o}){return i.jsxs(rE,{...o,children:[i.jsxs("div",{className:"grid gap-1",children:[n&&i.jsx(iE,{children:n}),r&&i.jsx(aE,{children:r})]}),s,i.jsx(sE,{})]},t)}),i.jsx(nE,{})]})}var cd=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},V6={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},To,Bb,gC,W6=(gC=class{constructor(){mt(this,To,V6);mt(this,Bb,!1)}setTimeoutProvider(e){tt(this,To,e)}setTimeout(e,t){return Q(this,To).setTimeout(e,t)}clearTimeout(e){Q(this,To).clearTimeout(e)}setInterval(e,t){return Q(this,To).setInterval(e,t)}clearInterval(e){Q(this,To).clearInterval(e)}},To=new WeakMap,Bb=new WeakMap,gC),Gl=new W6;function q6(e){setTimeout(e,0)}var mc=typeof window>"u"||"Deno"in globalThis;function Hr(){}function H6(e,t){return typeof e=="function"?e(t):e}function yv(e){return typeof e=="number"&&e>=0&&e!==1/0}function oE(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Ko(e,t){return typeof e=="function"?e(t):e}function $s(e,t){return typeof e=="function"?e(t):e}function fS(e,t){const{type:n="all",exact:r,fetchStatus:s,predicate:o,queryKey:l,stale:u}=e;if(l){if(r){if(t.queryHash!==Hb(l,t.options))return!1}else if(!Xf(t.queryKey,l))return!1}if(n!=="all"){const d=t.isActive();if(n==="active"&&!d||n==="inactive"&&d)return!1}return!(typeof u=="boolean"&&t.isStale()!==u||s&&s!==t.state.fetchStatus||o&&!o(t))}function hS(e,t){const{exact:n,status:r,predicate:s,mutationKey:o}=e;if(o){if(!t.options.mutationKey)return!1;if(n){if(gc(t.options.mutationKey)!==gc(o))return!1}else if(!Xf(t.options.mutationKey,o))return!1}return!(r&&t.state.status!==r||s&&!s(t))}function Hb(e,t){return((t==null?void 0:t.queryKeyHashFn)||gc)(e)}function gc(e){return JSON.stringify(e,(t,n)=>vv(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function Xf(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(n=>Xf(e[n],t[n])):!1}var K6=Object.prototype.hasOwnProperty;function lE(e,t,n=0){if(e===t)return e;if(n>500)return t;const r=pS(e)&&pS(t);if(!r&&!(vv(e)&&vv(t)))return t;const o=(r?e:Object.keys(e)).length,l=r?t:Object.keys(t),u=l.length,d=r?new Array(u):{};let f=0;for(let p=0;p<u;p++){const m=r?p:l[p],x=e[m],v=t[m];if(x===v){d[m]=x,(r?p<o:K6.call(e,m))&&f++;continue}if(x===null||v===null||typeof x!="object"||typeof v!="object"){d[m]=v;continue}const S=lE(x,v,n+1);d[m]=S,S===x&&f++}return o===u&&f===o?e:d}function eg(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}function pS(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function vv(e){if(!mS(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!mS(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function mS(e){return Object.prototype.toString.call(e)==="[object Object]"}function G6(e){return new Promise(t=>{Gl.setTimeout(t,e)})}function bv(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?lE(e,t):t}function Y6(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function Q6(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var Kb=Symbol();function cE(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===Kb?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function Gb(e,t){return typeof e=="function"?e(...t):!!e}function X6(e,t,n){let r=!1,s;return Object.defineProperty(e,"signal",{enumerable:!0,get:()=>(s??(s=t()),r||(r=!0,s.aborted?n():s.addEventListener("abort",n,{once:!0})),s)}),e}var ec,Ro,Fu,xC,J6=(xC=class extends cd{constructor(){super();mt(this,ec);mt(this,Ro);mt(this,Fu);tt(this,Fu,t=>{if(!mc&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){Q(this,Ro)||this.setEventListener(Q(this,Fu))}onUnsubscribe(){var t;this.hasListeners()||((t=Q(this,Ro))==null||t.call(this),tt(this,Ro,void 0))}setEventListener(t){var n;tt(this,Fu,t),(n=Q(this,Ro))==null||n.call(this),tt(this,Ro,t(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(t){Q(this,ec)!==t&&(tt(this,ec,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){var t;return typeof Q(this,ec)=="boolean"?Q(this,ec):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},ec=new WeakMap,Ro=new WeakMap,Fu=new WeakMap,xC),Yb=new J6;function wv(){let e,t;const n=new Promise((s,o)=>{e=s,t=o});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),e(s)},n.reject=s=>{r({status:"rejected",reason:s}),t(s)},n}var Z6=q6;function eL(){let e=[],t=0,n=u=>{u()},r=u=>{u()},s=Z6;const o=u=>{t?e.push(u):s(()=>{n(u)})},l=()=>{const u=e;e=[],u.length&&s(()=>{r(()=>{u.forEach(d=>{n(d)})})})};return{batch:u=>{let d;t++;try{d=u()}finally{t--,t||l()}return d},batchCalls:u=>(...d)=>{o(()=>{u(...d)})},schedule:o,setNotifyFunction:u=>{n=u},setBatchNotifyFunction:u=>{r=u},setScheduler:u=>{s=u}}}var nr=eL(),$u,Io,Bu,yC,tL=(yC=class extends cd{constructor(){super();mt(this,$u,!0);mt(this,Io);mt(this,Bu);tt(this,Bu,t=>{if(!mc&&window.addEventListener){const n=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){Q(this,Io)||this.setEventListener(Q(this,Bu))}onUnsubscribe(){var t;this.hasListeners()||((t=Q(this,Io))==null||t.call(this),tt(this,Io,void 0))}setEventListener(t){var n;tt(this,Bu,t),(n=Q(this,Io))==null||n.call(this),tt(this,Io,t(this.setOnline.bind(this)))}setOnline(t){Q(this,$u)!==t&&(tt(this,$u,t),this.listeners.forEach(r=>{r(t)}))}isOnline(){return Q(this,$u)}},$u=new WeakMap,Io=new WeakMap,Bu=new WeakMap,yC),tg=new tL;function nL(e){return Math.min(1e3*2**e,3e4)}function uE(e){return(e??"online")==="online"?tg.isOnline():!0}var jv=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function dE(e){let t=!1,n=0,r;const s=wv(),o=()=>s.status!=="pending",l=N=>{var _;if(!o()){const P=new jv(N);x(P),(_=e.onCancel)==null||_.call(e,P)}},u=()=>{t=!0},d=()=>{t=!1},f=()=>Yb.isFocused()&&(e.networkMode==="always"||tg.isOnline())&&e.canRun(),p=()=>uE(e.networkMode)&&e.canRun(),m=N=>{o()||(r==null||r(),s.resolve(N))},x=N=>{o()||(r==null||r(),s.reject(N))},v=()=>new Promise(N=>{var _;r=P=>{(o()||f())&&N(P)},(_=e.onPause)==null||_.call(e)}).then(()=>{var N;r=void 0,o()||(N=e.onContinue)==null||N.call(e)}),S=()=>{if(o())return;let N;const _=n===0?e.initialPromise:void 0;try{N=_??e.fn()}catch(P){N=Promise.reject(P)}Promise.resolve(N).then(m).catch(P=>{var $;if(o())return;const T=e.retry??(mc?0:3),I=e.retryDelay??nL,L=typeof I=="function"?I(n,P):I,z=T===!0||typeof T=="number"&&n<T||typeof T=="function"&&T(n,P);if(t||!z){x(P);return}n++,($=e.onFail)==null||$.call(e,n,P),G6(L).then(()=>f()?void 0:v()).then(()=>{t?x(P):S()})})};return{promise:s,status:()=>s.status,cancel:l,continue:()=>(r==null||r(),s),cancelRetry:u,continueRetry:d,canStart:p,start:()=>(p()?S():v().then(S),s)}}var tc,vC,fE=(vC=class{constructor(){mt(this,tc)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),yv(this.gcTime)&&tt(this,tc,Gl.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(mc?1/0:300*1e3))}clearGcTimeout(){Q(this,tc)&&(Gl.clearTimeout(Q(this,tc)),tt(this,tc,void 0))}},tc=new WeakMap,vC),nc,zu,Fs,rc,dr,hh,sc,ui,Ta,bC,rL=(bC=class extends fE{constructor(t){super();mt(this,ui);mt(this,nc);mt(this,zu);mt(this,Fs);mt(this,rc);mt(this,dr);mt(this,hh);mt(this,sc);tt(this,sc,!1),tt(this,hh,t.defaultOptions),this.setOptions(t.options),this.observers=[],tt(this,rc,t.client),tt(this,Fs,Q(this,rc).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,tt(this,nc,xS(this.options)),this.state=t.state??Q(this,nc),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=Q(this,dr))==null?void 0:t.promise}setOptions(t){if(this.options={...Q(this,hh),...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const n=xS(this.options);n.data!==void 0&&(this.setState(gS(n.data,n.dataUpdatedAt)),tt(this,nc,n))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&Q(this,Fs).remove(this)}setData(t,n){const r=bv(this.state.data,t,this.options);return Ot(this,ui,Ta).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(t,n){Ot(this,ui,Ta).call(this,{type:"setState",state:t,setStateOptions:n})}cancel(t){var r,s;const n=(r=Q(this,dr))==null?void 0:r.promise;return(s=Q(this,dr))==null||s.cancel(t),n?n.then(Hr).catch(Hr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(Q(this,nc))}isActive(){return this.observers.some(t=>$s(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Kb||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>Ko(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!oE(this.state.dataUpdatedAt,t)}onFocus(){var n;const t=this.observers.find(r=>r.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(n=Q(this,dr))==null||n.continue()}onOnline(){var n;const t=this.observers.find(r=>r.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(n=Q(this,dr))==null||n.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),Q(this,Fs).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(Q(this,dr)&&(Q(this,sc)?Q(this,dr).cancel({revert:!0}):Q(this,dr).cancelRetry()),this.scheduleGc()),Q(this,Fs).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Ot(this,ui,Ta).call(this,{type:"invalidate"})}async fetch(t,n){var d,f,p,m,x,v,S,N,_,P,T,I;if(this.state.fetchStatus!=="idle"&&((d=Q(this,dr))==null?void 0:d.status())!=="rejected"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(Q(this,dr))return Q(this,dr).continueRetry(),Q(this,dr).promise}if(t&&this.setOptions(t),!this.options.queryFn){const L=this.observers.find(z=>z.options.queryFn);L&&this.setOptions(L.options)}const r=new AbortController,s=L=>{Object.defineProperty(L,"signal",{enumerable:!0,get:()=>(tt(this,sc,!0),r.signal)})},o=()=>{const L=cE(this.options,n),$=(()=>{const V={client:Q(this,rc),queryKey:this.queryKey,meta:this.meta};return s(V),V})();return tt(this,sc,!1),this.options.persister?this.options.persister(L,$,this):L($)},u=(()=>{const L={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:Q(this,rc),state:this.state,fetchFn:o};return s(L),L})();(f=this.options.behavior)==null||f.onFetch(u,this),tt(this,zu,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((p=u.fetchOptions)==null?void 0:p.meta))&&Ot(this,ui,Ta).call(this,{type:"fetch",meta:(m=u.fetchOptions)==null?void 0:m.meta}),tt(this,dr,dE({initialPromise:n==null?void 0:n.initialPromise,fn:u.fetchFn,onCancel:L=>{L instanceof jv&&L.revert&&this.setState({...Q(this,zu),fetchStatus:"idle"}),r.abort()},onFail:(L,z)=>{Ot(this,ui,Ta).call(this,{type:"failed",failureCount:L,error:z})},onPause:()=>{Ot(this,ui,Ta).call(this,{type:"pause"})},onContinue:()=>{Ot(this,ui,Ta).call(this,{type:"continue"})},retry:u.options.retry,retryDelay:u.options.retryDelay,networkMode:u.options.networkMode,canRun:()=>!0}));try{const L=await Q(this,dr).start();if(L===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(L),(v=(x=Q(this,Fs).config).onSuccess)==null||v.call(x,L,this),(N=(S=Q(this,Fs).config).onSettled)==null||N.call(S,L,this.state.error,this),L}catch(L){if(L instanceof jv){if(L.silent)return Q(this,dr).promise;if(L.revert){if(this.state.data===void 0)throw L;return this.state.data}}throw Ot(this,ui,Ta).call(this,{type:"error",error:L}),(P=(_=Q(this,Fs).config).onError)==null||P.call(_,L,this),(I=(T=Q(this,Fs).config).onSettled)==null||I.call(T,this.state.data,L,this),L}finally{this.scheduleGc()}}},nc=new WeakMap,zu=new WeakMap,Fs=new WeakMap,rc=new WeakMap,dr=new WeakMap,hh=new WeakMap,sc=new WeakMap,ui=new WeakSet,Ta=function(t){const n=r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...hE(r.data,this.options),fetchMeta:t.meta??null};case"success":const s={...r,...gS(t.data,t.dataUpdatedAt),dataUpdateCount:r.dataUpdateCount+1,...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return tt(this,zu,t.manual?s:void 0),s;case"error":const o=t.error;return{...r,error:o,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:o,fetchStatus:"idle",status:"error",isInvalidated:!0};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=n(this.state),nr.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),Q(this,Fs).notify({query:this,type:"updated",action:t})})},bC);function hE(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:uE(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function gS(e,t){return{data:e,dataUpdatedAt:t??Date.now(),error:null,isInvalidated:!1,status:"success"}}function xS(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var rs,Yt,ph,qr,ic,Uu,Ia,Mo,mh,Vu,Wu,ac,oc,Oo,qu,an,vf,Nv,Sv,kv,_v,Cv,Ev,Pv,pE,wC,sL=(wC=class extends cd{constructor(t,n){super();mt(this,an);mt(this,rs);mt(this,Yt);mt(this,ph);mt(this,qr);mt(this,ic);mt(this,Uu);mt(this,Ia);mt(this,Mo);mt(this,mh);mt(this,Vu);mt(this,Wu);mt(this,ac);mt(this,oc);mt(this,Oo);mt(this,qu,new Set);this.options=n,tt(this,rs,t),tt(this,Mo,null),tt(this,Ia,wv()),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(Q(this,Yt).addObserver(this),yS(Q(this,Yt),this.options)?Ot(this,an,vf).call(this):this.updateResult(),Ot(this,an,_v).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Av(Q(this,Yt),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Av(Q(this,Yt),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Ot(this,an,Cv).call(this),Ot(this,an,Ev).call(this),Q(this,Yt).removeObserver(this)}setOptions(t){const n=this.options,r=Q(this,Yt);if(this.options=Q(this,rs).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof $s(this.options.enabled,Q(this,Yt))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Ot(this,an,Pv).call(this),Q(this,Yt).setOptions(this.options),n._defaulted&&!eg(this.options,n)&&Q(this,rs).getQueryCache().notify({type:"observerOptionsUpdated",query:Q(this,Yt),observer:this});const s=this.hasListeners();s&&vS(Q(this,Yt),r,this.options,n)&&Ot(this,an,vf).call(this),this.updateResult(),s&&(Q(this,Yt)!==r||$s(this.options.enabled,Q(this,Yt))!==$s(n.enabled,Q(this,Yt))||Ko(this.options.staleTime,Q(this,Yt))!==Ko(n.staleTime,Q(this,Yt)))&&Ot(this,an,Nv).call(this);const o=Ot(this,an,Sv).call(this);s&&(Q(this,Yt)!==r||$s(this.options.enabled,Q(this,Yt))!==$s(n.enabled,Q(this,Yt))||o!==Q(this,Oo))&&Ot(this,an,kv).call(this,o)}getOptimisticResult(t){const n=Q(this,rs).getQueryCache().build(Q(this,rs),t),r=this.createResult(n,t);return aL(this,r)&&(tt(this,qr,r),tt(this,Uu,this.options),tt(this,ic,Q(this,Yt).state)),r}getCurrentResult(){return Q(this,qr)}trackResult(t,n){return new Proxy(t,{get:(r,s)=>(this.trackProp(s),n==null||n(s),s==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&Q(this,Ia).status==="pending"&&Q(this,Ia).reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(r,s))})}trackProp(t){Q(this,qu).add(t)}getCurrentQuery(){return Q(this,Yt)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const n=Q(this,rs).defaultQueryOptions(t),r=Q(this,rs).getQueryCache().build(Q(this,rs),n);return r.fetch().then(()=>this.createResult(r,n))}fetch(t){return Ot(this,an,vf).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),Q(this,qr)))}createResult(t,n){var F;const r=Q(this,Yt),s=this.options,o=Q(this,qr),l=Q(this,ic),u=Q(this,Uu),f=t!==r?t.state:Q(this,ph),{state:p}=t;let m={...p},x=!1,v;if(n._optimisticResults){const Y=this.hasListeners(),H=!Y&&yS(t,n),ee=Y&&vS(t,r,n,s);(H||ee)&&(m={...m,...hE(p.data,t.options)}),n._optimisticResults==="isRestoring"&&(m.fetchStatus="idle")}let{error:S,errorUpdatedAt:N,status:_}=m;v=m.data;let P=!1;if(n.placeholderData!==void 0&&v===void 0&&_==="pending"){let Y;o!=null&&o.isPlaceholderData&&n.placeholderData===(u==null?void 0:u.placeholderData)?(Y=o.data,P=!0):Y=typeof n.placeholderData=="function"?n.placeholderData((F=Q(this,Wu))==null?void 0:F.state.data,Q(this,Wu)):n.placeholderData,Y!==void 0&&(_="success",v=bv(o==null?void 0:o.data,Y,n),x=!0)}if(n.select&&v!==void 0&&!P)if(o&&v===(l==null?void 0:l.data)&&n.select===Q(this,mh))v=Q(this,Vu);else try{tt(this,mh,n.select),v=n.select(v),v=bv(o==null?void 0:o.data,v,n),tt(this,Vu,v),tt(this,Mo,null)}catch(Y){tt(this,Mo,Y)}Q(this,Mo)&&(S=Q(this,Mo),v=Q(this,Vu),N=Date.now(),_="error");const T=m.fetchStatus==="fetching",I=_==="pending",L=_==="error",z=I&&T,$=v!==void 0,W={status:_,fetchStatus:m.fetchStatus,isPending:I,isSuccess:_==="success",isError:L,isInitialLoading:z,isLoading:z,data:v,dataUpdatedAt:m.dataUpdatedAt,error:S,errorUpdatedAt:N,failureCount:m.fetchFailureCount,failureReason:m.fetchFailureReason,errorUpdateCount:m.errorUpdateCount,isFetched:m.dataUpdateCount>0||m.errorUpdateCount>0,isFetchedAfterMount:m.dataUpdateCount>f.dataUpdateCount||m.errorUpdateCount>f.errorUpdateCount,isFetching:T,isRefetching:T&&!I,isLoadingError:L&&!$,isPaused:m.fetchStatus==="paused",isPlaceholderData:x,isRefetchError:L&&$,isStale:Qb(t,n),refetch:this.refetch,promise:Q(this,Ia),isEnabled:$s(n.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const Y=W.data!==void 0,H=W.status==="error"&&!Y,ee=he=>{H?he.reject(W.error):Y&&he.resolve(W.data)},ve=()=>{const he=tt(this,Ia,W.promise=wv());ee(he)},ae=Q(this,Ia);switch(ae.status){case"pending":t.queryHash===r.queryHash&&ee(ae);break;case"fulfilled":(H||W.data!==ae.value)&&ve();break;case"rejected":(!H||W.error!==ae.reason)&&ve();break}}return W}updateResult(){const t=Q(this,qr),n=this.createResult(Q(this,Yt),this.options);if(tt(this,ic,Q(this,Yt).state),tt(this,Uu,this.options),Q(this,ic).data!==void 0&&tt(this,Wu,Q(this,Yt)),eg(n,t))return;tt(this,qr,n);const r=()=>{if(!t)return!0;const{notifyOnChangeProps:s}=this.options,o=typeof s=="function"?s():s;if(o==="all"||!o&&!Q(this,qu).size)return!0;const l=new Set(o??Q(this,qu));return this.options.throwOnError&&l.add("error"),Object.keys(Q(this,qr)).some(u=>{const d=u;return Q(this,qr)[d]!==t[d]&&l.has(d)})};Ot(this,an,pE).call(this,{listeners:r()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Ot(this,an,_v).call(this)}},rs=new WeakMap,Yt=new WeakMap,ph=new WeakMap,qr=new WeakMap,ic=new WeakMap,Uu=new WeakMap,Ia=new WeakMap,Mo=new WeakMap,mh=new WeakMap,Vu=new WeakMap,Wu=new WeakMap,ac=new WeakMap,oc=new WeakMap,Oo=new WeakMap,qu=new WeakMap,an=new WeakSet,vf=function(t){Ot(this,an,Pv).call(this);let n=Q(this,Yt).fetch(this.options,t);return t!=null&&t.throwOnError||(n=n.catch(Hr)),n},Nv=function(){Ot(this,an,Cv).call(this);const t=Ko(this.options.staleTime,Q(this,Yt));if(mc||Q(this,qr).isStale||!yv(t))return;const r=oE(Q(this,qr).dataUpdatedAt,t)+1;tt(this,ac,Gl.setTimeout(()=>{Q(this,qr).isStale||this.updateResult()},r))},Sv=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(Q(this,Yt)):this.options.refetchInterval)??!1},kv=function(t){Ot(this,an,Ev).call(this),tt(this,Oo,t),!(mc||$s(this.options.enabled,Q(this,Yt))===!1||!yv(Q(this,Oo))||Q(this,Oo)===0)&&tt(this,oc,Gl.setInterval(()=>{(this.options.refetchIntervalInBackground||Yb.isFocused())&&Ot(this,an,vf).call(this)},Q(this,Oo)))},_v=function(){Ot(this,an,Nv).call(this),Ot(this,an,kv).call(this,Ot(this,an,Sv).call(this))},Cv=function(){Q(this,ac)&&(Gl.clearTimeout(Q(this,ac)),tt(this,ac,void 0))},Ev=function(){Q(this,oc)&&(Gl.clearInterval(Q(this,oc)),tt(this,oc,void 0))},Pv=function(){const t=Q(this,rs).getQueryCache().build(Q(this,rs),this.options);if(t===Q(this,Yt))return;const n=Q(this,Yt);tt(this,Yt,t),tt(this,ph,t.state),this.hasListeners()&&(n==null||n.removeObserver(this),t.addObserver(this))},pE=function(t){nr.batch(()=>{t.listeners&&this.listeners.forEach(n=>{n(Q(this,qr))}),Q(this,rs).getQueryCache().notify({query:Q(this,Yt),type:"observerResultsUpdated"})})},wC);function iL(e,t){return $s(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function yS(e,t){return iL(e,t)||e.state.data!==void 0&&Av(e,t,t.refetchOnMount)}function Av(e,t,n){if($s(t.enabled,e)!==!1&&Ko(t.staleTime,e)!=="static"){const r=typeof n=="function"?n(e):n;return r==="always"||r!==!1&&Qb(e,t)}return!1}function vS(e,t,n,r){return(e!==t||$s(r.enabled,e)===!1)&&(!n.suspense||e.state.status!=="error")&&Qb(e,n)}function Qb(e,t){return $s(t.enabled,e)!==!1&&e.isStaleByTime(Ko(t.staleTime,e))}function aL(e,t){return!eg(e.getCurrentResult(),t)}function bS(e){return{onFetch:(t,n)=>{var p,m,x,v,S;const r=t.options,s=(x=(m=(p=t.fetchOptions)==null?void 0:p.meta)==null?void 0:m.fetchMore)==null?void 0:x.direction,o=((v=t.state.data)==null?void 0:v.pages)||[],l=((S=t.state.data)==null?void 0:S.pageParams)||[];let u={pages:[],pageParams:[]},d=0;const f=async()=>{let N=!1;const _=I=>{X6(I,()=>t.signal,()=>N=!0)},P=cE(t.options,t.fetchOptions),T=async(I,L,z)=>{if(N)return Promise.reject();if(L==null&&I.pages.length)return Promise.resolve(I);const V=(()=>{const H={client:t.client,queryKey:t.queryKey,pageParam:L,direction:z?"backward":"forward",meta:t.options.meta};return _(H),H})(),W=await P(V),{maxPages:F}=t.options,Y=z?Q6:Y6;return{pages:Y(I.pages,W,F),pageParams:Y(I.pageParams,L,F)}};if(s&&o.length){const I=s==="backward",L=I?oL:wS,z={pages:o,pageParams:l},$=L(r,z);u=await T(z,$,I)}else{const I=e??o.length;do{const L=d===0?l[0]??r.initialPageParam:wS(r,u);if(d>0&&L==null)break;u=await T(u,L),d++}while(d<I)}return u};t.options.persister?t.fetchFn=()=>{var N,_;return(_=(N=t.options).persister)==null?void 0:_.call(N,f,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=f}}}function wS(e,{pages:t,pageParams:n}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,n[r],n):void 0}function oL(e,{pages:t,pageParams:n}){var r;return t.length>0?(r=e.getPreviousPageParam)==null?void 0:r.call(e,t[0],t,n[0],n):void 0}var gh,Fi,Ir,lc,$i,Eo,jC,lL=(jC=class extends fE{constructor(t){super();mt(this,$i);mt(this,gh);mt(this,Fi);mt(this,Ir);mt(this,lc);tt(this,gh,t.client),this.mutationId=t.mutationId,tt(this,Ir,t.mutationCache),tt(this,Fi,[]),this.state=t.state||mE(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){Q(this,Fi).includes(t)||(Q(this,Fi).push(t),this.clearGcTimeout(),Q(this,Ir).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){tt(this,Fi,Q(this,Fi).filter(n=>n!==t)),this.scheduleGc(),Q(this,Ir).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){Q(this,Fi).length||(this.state.status==="pending"?this.scheduleGc():Q(this,Ir).remove(this))}continue(){var t;return((t=Q(this,lc))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var l,u,d,f,p,m,x,v,S,N,_,P,T,I,L,z,$,V;const n=()=>{Ot(this,$i,Eo).call(this,{type:"continue"})},r={client:Q(this,gh),meta:this.options.meta,mutationKey:this.options.mutationKey};tt(this,lc,dE({fn:()=>this.options.mutationFn?this.options.mutationFn(t,r):Promise.reject(new Error("No mutationFn found")),onFail:(W,F)=>{Ot(this,$i,Eo).call(this,{type:"failed",failureCount:W,error:F})},onPause:()=>{Ot(this,$i,Eo).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>Q(this,Ir).canRun(this)}));const s=this.state.status==="pending",o=!Q(this,lc).canStart();try{if(s)n();else{Ot(this,$i,Eo).call(this,{type:"pending",variables:t,isPaused:o}),Q(this,Ir).config.onMutate&&await Q(this,Ir).config.onMutate(t,this,r);const F=await((u=(l=this.options).onMutate)==null?void 0:u.call(l,t,r));F!==this.state.context&&Ot(this,$i,Eo).call(this,{type:"pending",context:F,variables:t,isPaused:o})}const W=await Q(this,lc).start();return await((f=(d=Q(this,Ir).config).onSuccess)==null?void 0:f.call(d,W,t,this.state.context,this,r)),await((m=(p=this.options).onSuccess)==null?void 0:m.call(p,W,t,this.state.context,r)),await((v=(x=Q(this,Ir).config).onSettled)==null?void 0:v.call(x,W,null,this.state.variables,this.state.context,this,r)),await((N=(S=this.options).onSettled)==null?void 0:N.call(S,W,null,t,this.state.context,r)),Ot(this,$i,Eo).call(this,{type:"success",data:W}),W}catch(W){try{await((P=(_=Q(this,Ir).config).onError)==null?void 0:P.call(_,W,t,this.state.context,this,r))}catch(F){Promise.reject(F)}try{await((I=(T=this.options).onError)==null?void 0:I.call(T,W,t,this.state.context,r))}catch(F){Promise.reject(F)}try{await((z=(L=Q(this,Ir).config).onSettled)==null?void 0:z.call(L,void 0,W,this.state.variables,this.state.context,this,r))}catch(F){Promise.reject(F)}try{await((V=($=this.options).onSettled)==null?void 0:V.call($,void 0,W,t,this.state.context,r))}catch(F){Promise.reject(F)}throw Ot(this,$i,Eo).call(this,{type:"error",error:W}),W}finally{Q(this,Ir).runNext(this)}}},gh=new WeakMap,Fi=new WeakMap,Ir=new WeakMap,lc=new WeakMap,$i=new WeakSet,Eo=function(t){const n=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=n(this.state),nr.batch(()=>{Q(this,Fi).forEach(r=>{r.onMutationUpdate(t)}),Q(this,Ir).notify({mutation:this,type:"updated",action:t})})},jC);function mE(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Ma,di,xh,NC,cL=(NC=class extends cd{constructor(t={}){super();mt(this,Ma);mt(this,di);mt(this,xh);this.config=t,tt(this,Ma,new Set),tt(this,di,new Map),tt(this,xh,0)}build(t,n,r){const s=new lL({client:t,mutationCache:this,mutationId:++Zp(this,xh)._,options:t.defaultMutationOptions(n),state:r});return this.add(s),s}add(t){Q(this,Ma).add(t);const n=rm(t);if(typeof n=="string"){const r=Q(this,di).get(n);r?r.push(t):Q(this,di).set(n,[t])}this.notify({type:"added",mutation:t})}remove(t){if(Q(this,Ma).delete(t)){const n=rm(t);if(typeof n=="string"){const r=Q(this,di).get(n);if(r)if(r.length>1){const s=r.indexOf(t);s!==-1&&r.splice(s,1)}else r[0]===t&&Q(this,di).delete(n)}}this.notify({type:"removed",mutation:t})}canRun(t){const n=rm(t);if(typeof n=="string"){const r=Q(this,di).get(n),s=r==null?void 0:r.find(o=>o.state.status==="pending");return!s||s===t}else return!0}runNext(t){var r;const n=rm(t);if(typeof n=="string"){const s=(r=Q(this,di).get(n))==null?void 0:r.find(o=>o!==t&&o.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){nr.batch(()=>{Q(this,Ma).forEach(t=>{this.notify({type:"removed",mutation:t})}),Q(this,Ma).clear(),Q(this,di).clear()})}getAll(){return Array.from(Q(this,Ma))}find(t){const n={exact:!0,...t};return this.getAll().find(r=>hS(n,r))}findAll(t={}){return this.getAll().filter(n=>hS(t,n))}notify(t){nr.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.getAll().filter(n=>n.state.isPaused);return nr.batch(()=>Promise.all(t.map(n=>n.continue().catch(Hr))))}},Ma=new WeakMap,di=new WeakMap,xh=new WeakMap,NC);function rm(e){var t;return(t=e.options.scope)==null?void 0:t.id}var Oa,Do,ss,Da,Ba,Em,Tv,SC,uL=(SC=class extends cd{constructor(n,r){super();mt(this,Ba);mt(this,Oa);mt(this,Do);mt(this,ss);mt(this,Da);tt(this,Oa,n),this.setOptions(r),this.bindMethods(),Ot(this,Ba,Em).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){var s;const r=this.options;this.options=Q(this,Oa).defaultMutationOptions(n),eg(this.options,r)||Q(this,Oa).getMutationCache().notify({type:"observerOptionsUpdated",mutation:Q(this,ss),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&gc(r.mutationKey)!==gc(this.options.mutationKey)?this.reset():((s=Q(this,ss))==null?void 0:s.state.status)==="pending"&&Q(this,ss).setOptions(this.options)}onUnsubscribe(){var n;this.hasListeners()||(n=Q(this,ss))==null||n.removeObserver(this)}onMutationUpdate(n){Ot(this,Ba,Em).call(this),Ot(this,Ba,Tv).call(this,n)}getCurrentResult(){return Q(this,Do)}reset(){var n;(n=Q(this,ss))==null||n.removeObserver(this),tt(this,ss,void 0),Ot(this,Ba,Em).call(this),Ot(this,Ba,Tv).call(this)}mutate(n,r){var s;return tt(this,Da,r),(s=Q(this,ss))==null||s.removeObserver(this),tt(this,ss,Q(this,Oa).getMutationCache().build(Q(this,Oa),this.options)),Q(this,ss).addObserver(this),Q(this,ss).execute(n)}},Oa=new WeakMap,Do=new WeakMap,ss=new WeakMap,Da=new WeakMap,Ba=new WeakSet,Em=function(){var r;const n=((r=Q(this,ss))==null?void 0:r.state)??mE();tt(this,Do,{...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset})},Tv=function(n){nr.batch(()=>{var r,s,o,l,u,d,f,p;if(Q(this,Da)&&this.hasListeners()){const m=Q(this,Do).variables,x=Q(this,Do).context,v={client:Q(this,Oa),meta:this.options.meta,mutationKey:this.options.mutationKey};if((n==null?void 0:n.type)==="success"){try{(s=(r=Q(this,Da)).onSuccess)==null||s.call(r,n.data,m,x,v)}catch(S){Promise.reject(S)}try{(l=(o=Q(this,Da)).onSettled)==null||l.call(o,n.data,null,m,x,v)}catch(S){Promise.reject(S)}}else if((n==null?void 0:n.type)==="error"){try{(d=(u=Q(this,Da)).onError)==null||d.call(u,n.error,m,x,v)}catch(S){Promise.reject(S)}try{(p=(f=Q(this,Da)).onSettled)==null||p.call(f,void 0,n.error,m,x,v)}catch(S){Promise.reject(S)}}}this.listeners.forEach(m=>{m(Q(this,Do))})})},SC),Bi,kC,dL=(kC=class extends cd{constructor(t={}){super();mt(this,Bi);this.config=t,tt(this,Bi,new Map)}build(t,n,r){const s=n.queryKey,o=n.queryHash??Hb(s,n);let l=this.get(o);return l||(l=new rL({client:t,queryKey:s,queryHash:o,options:t.defaultQueryOptions(n),state:r,defaultOptions:t.getQueryDefaults(s)}),this.add(l)),l}add(t){Q(this,Bi).has(t.queryHash)||(Q(this,Bi).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=Q(this,Bi).get(t.queryHash);n&&(t.destroy(),n===t&&Q(this,Bi).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){nr.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return Q(this,Bi).get(t)}getAll(){return[...Q(this,Bi).values()]}find(t){const n={exact:!0,...t};return this.getAll().find(r=>fS(n,r))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(r=>fS(t,r)):n}notify(t){nr.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){nr.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){nr.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Bi=new WeakMap,kC),Dn,Lo,Fo,Hu,Ku,$o,Gu,Yu,_C,fL=(_C=class{constructor(e={}){mt(this,Dn);mt(this,Lo);mt(this,Fo);mt(this,Hu);mt(this,Ku);mt(this,$o);mt(this,Gu);mt(this,Yu);tt(this,Dn,e.queryCache||new dL),tt(this,Lo,e.mutationCache||new cL),tt(this,Fo,e.defaultOptions||{}),tt(this,Hu,new Map),tt(this,Ku,new Map),tt(this,$o,0)}mount(){Zp(this,$o)._++,Q(this,$o)===1&&(tt(this,Gu,Yb.subscribe(async e=>{e&&(await this.resumePausedMutations(),Q(this,Dn).onFocus())})),tt(this,Yu,tg.subscribe(async e=>{e&&(await this.resumePausedMutations(),Q(this,Dn).onOnline())})))}unmount(){var e,t;Zp(this,$o)._--,Q(this,$o)===0&&((e=Q(this,Gu))==null||e.call(this),tt(this,Gu,void 0),(t=Q(this,Yu))==null||t.call(this),tt(this,Yu,void 0))}isFetching(e){return Q(this,Dn).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return Q(this,Lo).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=Q(this,Dn).get(t.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),n=Q(this,Dn).build(this,t),r=n.state.data;return r===void 0?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime(Ko(t.staleTime,n))&&this.prefetchQuery(t),Promise.resolve(r))}getQueriesData(e){return Q(this,Dn).findAll(e).map(({queryKey:t,state:n})=>{const r=n.data;return[t,r]})}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),s=Q(this,Dn).get(r.queryHash),o=s==null?void 0:s.state.data,l=H6(t,o);if(l!==void 0)return Q(this,Dn).build(this,r).setData(l,{...n,manual:!0})}setQueriesData(e,t,n){return nr.batch(()=>Q(this,Dn).findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,n)]))}getQueryState(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=Q(this,Dn).get(t.queryHash))==null?void 0:n.state}removeQueries(e){const t=Q(this,Dn);nr.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=Q(this,Dn);return nr.batch(()=>(n.findAll(e).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const n={revert:!0,...t},r=nr.batch(()=>Q(this,Dn).findAll(e).map(s=>s.cancel(n)));return Promise.all(r).then(Hr).catch(Hr)}invalidateQueries(e,t={}){return nr.batch(()=>(Q(this,Dn).findAll(e).forEach(n=>{n.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const n={...t,cancelRefetch:t.cancelRefetch??!0},r=nr.batch(()=>Q(this,Dn).findAll(e).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let o=s.fetch(void 0,n);return n.throwOnError||(o=o.catch(Hr)),s.state.fetchStatus==="paused"?Promise.resolve():o}));return Promise.all(r).then(Hr)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=Q(this,Dn).build(this,t);return n.isStaleByTime(Ko(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Hr).catch(Hr)}fetchInfiniteQuery(e){return e.behavior=bS(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Hr).catch(Hr)}ensureInfiniteQueryData(e){return e.behavior=bS(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return tg.isOnline()?Q(this,Lo).resumePausedMutations():Promise.resolve()}getQueryCache(){return Q(this,Dn)}getMutationCache(){return Q(this,Lo)}getDefaultOptions(){return Q(this,Fo)}setDefaultOptions(e){tt(this,Fo,e)}setQueryDefaults(e,t){Q(this,Hu).set(gc(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...Q(this,Hu).values()],n={};return t.forEach(r=>{Xf(e,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(e,t){Q(this,Ku).set(gc(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...Q(this,Ku).values()],n={};return t.forEach(r=>{Xf(e,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...Q(this,Fo).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=Hb(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===Kb&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...Q(this,Fo).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){Q(this,Dn).clear(),Q(this,Lo).clear()}},Dn=new WeakMap,Lo=new WeakMap,Fo=new WeakMap,Hu=new WeakMap,Ku=new WeakMap,$o=new WeakMap,Gu=new WeakMap,Yu=new WeakMap,_C),gE=b.createContext(void 0),cs=e=>{const t=b.useContext(gE);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},hL=({client:e,children:t})=>(b.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),i.jsx(gE.Provider,{value:e,children:t})),xE=b.createContext(!1),pL=()=>b.useContext(xE);xE.Provider;function mL(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var gL=b.createContext(mL()),xL=()=>b.useContext(gL),yL=(e,t,n)=>{const r=n!=null&&n.state.error&&typeof e.throwOnError=="function"?Gb(e.throwOnError,[n.state.error,n]):e.throwOnError;(e.suspense||e.experimental_prefetchInRender||r)&&(t.isReset()||(e.retryOnMount=!1))},vL=e=>{b.useEffect(()=>{e.clearReset()},[e])},bL=({result:e,errorResetBoundary:t,throwOnError:n,query:r,suspense:s})=>e.isError&&!t.isReset()&&!e.isFetching&&r&&(s&&e.data===void 0||Gb(n,[e.error,r])),wL=e=>{if(e.suspense){const n=s=>s==="static"?s:Math.max(s??1e3,1e3),r=e.staleTime;e.staleTime=typeof r=="function"?(...s)=>n(r(...s)):n(r),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},jL=(e,t)=>e.isLoading&&e.isFetching&&!t,NL=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,jS=(e,t,n)=>t.fetchOptimistic(e).catch(()=>{n.clearReset()});function SL(e,t,n){var x,v,S,N;const r=pL(),s=xL(),o=cs(),l=o.defaultQueryOptions(e);(v=(x=o.getDefaultOptions().queries)==null?void 0:x._experimental_beforeQuery)==null||v.call(x,l);const u=o.getQueryCache().get(l.queryHash);l._optimisticResults=r?"isRestoring":"optimistic",wL(l),yL(l,s,u),vL(s);const d=!o.getQueryCache().get(l.queryHash),[f]=b.useState(()=>new t(o,l)),p=f.getOptimisticResult(l),m=!r&&e.subscribed!==!1;if(b.useSyncExternalStore(b.useCallback(_=>{const P=m?f.subscribe(nr.batchCalls(_)):Hr;return f.updateResult(),P},[f,m]),()=>f.getCurrentResult(),()=>f.getCurrentResult()),b.useEffect(()=>{f.setOptions(l)},[l,f]),NL(l,p))throw jS(l,f,s);if(bL({result:p,errorResetBoundary:s,throwOnError:l.throwOnError,query:u,suspense:l.suspense}))throw p.error;if((N=(S=o.getDefaultOptions().queries)==null?void 0:S._experimental_afterQuery)==null||N.call(S,l,p),l.experimental_prefetchInRender&&!mc&&jL(p,r)){const _=d?jS(l,f,s):u==null?void 0:u.promise;_==null||_.catch(Hr).finally(()=>{f.updateResult()})}return l.notifyOnChangeProps?p:f.trackResult(p)}function zt(e,t){return SL(e,sL)}function Ws(e,t){const n=cs(),[r]=b.useState(()=>new uL(n,e));b.useEffect(()=>{r.setOptions(e)},[r,e]);const s=b.useSyncExternalStore(b.useCallback(l=>r.subscribe(nr.batchCalls(l)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),o=b.useCallback((l,u)=>{r.mutate(l,u).catch(Hr)},[r]);if(s.error&&Gb(r.options.throwOnError,[s.error]))throw s.error;return{...s,mutate:o,mutateAsync:s.mutate}}const kL=new fL({defaultOptions:{queries:{refetchOnWindowFocus:!1,retry:1}}}),_L="modulepreload",CL=function(e,t){return new URL(e,t).href},NS={},bs=function(t,n,r){let s=Promise.resolve();if(n&&n.length>0){let l=function(p){return Promise.all(p.map(m=>Promise.resolve(m).then(x=>({status:"fulfilled",value:x}),x=>({status:"rejected",reason:x}))))};const u=document.getElementsByTagName("link"),d=document.querySelector("meta[property=csp-nonce]"),f=(d==null?void 0:d.nonce)||(d==null?void 0:d.getAttribute("nonce"));s=l(n.map(p=>{if(p=CL(p,r),p in NS)return;NS[p]=!0;const m=p.endsWith(".css"),x=m?'[rel="stylesheet"]':"";if(!!r)for(let N=u.length-1;N>=0;N--){const _=u[N];if(_.href===p&&(!m||_.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${p}"]${x}`))return;const S=document.createElement("link");if(S.rel=m?"stylesheet":_L,m||(S.as="script"),S.crossOrigin="",S.href=p,f&&S.setAttribute("nonce",f),document.head.appendChild(S),m)return new Promise((N,_)=>{S.addEventListener("load",N),S.addEventListener("error",()=>_(new Error(`Unable to preload CSS for ${p}`)))})}))}function o(l){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=l,window.dispatchEvent(u),!u.defaultPrevented)throw l}return s.then(l=>{for(const u of l||[])u.status==="rejected"&&o(u.reason);return t().catch(o)})};var Pm={exports:{}},EL=Pm.exports,SS;function PL(){return SS||(SS=1,(function(e,t){((n,r)=>{e.exports=r()})(EL,function(){var n=function(g,w){return(n=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(k,E){k.__proto__=E}:function(k,E){for(var R in E)Object.prototype.hasOwnProperty.call(E,R)&&(k[R]=E[R])}))(g,w)},r=function(){return(r=Object.assign||function(g){for(var w,k=1,E=arguments.length;k<E;k++)for(var R in w=arguments[k])Object.prototype.hasOwnProperty.call(w,R)&&(g[R]=w[R]);return g}).apply(this,arguments)};function s(g,w,k){for(var E,R=0,O=w.length;R<O;R++)!E&&R in w||((E=E||Array.prototype.slice.call(w,0,R))[R]=w[R]);return g.concat(E||Array.prototype.slice.call(w))}var o=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:E4,l=Object.keys,u=Array.isArray;function d(g,w){return typeof w=="object"&&l(w).forEach(function(k){g[k]=w[k]}),g}typeof Promise>"u"||o.Promise||(o.Promise=Promise);var f=Object.getPrototypeOf,p={}.hasOwnProperty;function m(g,w){return p.call(g,w)}function x(g,w){typeof w=="function"&&(w=w(f(g))),(typeof Reflect>"u"?l:Reflect.ownKeys)(w).forEach(function(k){S(g,k,w[k])})}var v=Object.defineProperty;function S(g,w,k,E){v(g,w,d(k&&m(k,"get")&&typeof k.get=="function"?{get:k.get,set:k.set,configurable:!0}:{value:k,configurable:!0,writable:!0},E))}function N(g){return{from:function(w){return g.prototype=Object.create(w.prototype),S(g.prototype,"constructor",g),{extend:x.bind(null,g.prototype)}}}}var _=Object.getOwnPropertyDescriptor,P=[].slice;function T(g,w,k){return P.call(g,w,k)}function I(g,w){return w(g)}function L(g){if(!g)throw new Error("Assertion Failed")}function z(g){o.setImmediate?setImmediate(g):setTimeout(g,0)}function $(g,w){if(typeof w=="string"&&m(g,w))return g[w];if(!w)return g;if(typeof w!="string"){for(var k=[],E=0,R=w.length;E<R;++E){var O=$(g,w[E]);k.push(O)}return k}var U,q=w.indexOf(".");return q===-1||(U=g[w.substr(0,q)])==null?void 0:$(U,w.substr(q+1))}function V(g,w,k){if(g&&w!==void 0&&!("isFrozen"in Object&&Object.isFrozen(g)))if(typeof w!="string"&&"length"in w){L(typeof k!="string"&&"length"in k);for(var E=0,R=w.length;E<R;++E)V(g,w[E],k[E])}else{var O,U,q=w.indexOf(".");q!==-1?(O=w.substr(0,q),(q=w.substr(q+1))===""?k===void 0?u(g)&&!isNaN(parseInt(O))?g.splice(O,1):delete g[O]:g[O]=k:V(U=(U=g[O])&&m(g,O)?U:g[O]={},q,k)):k===void 0?u(g)&&!isNaN(parseInt(w))?g.splice(w,1):delete g[w]:g[w]=k}}function W(g){var w,k={};for(w in g)m(g,w)&&(k[w]=g[w]);return k}var F=[].concat;function Y(g){return F.apply([],g)}var X="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(Y([8,16,32,64].map(function(g){return["Int","Uint","Float"].map(function(w){return w+g+"Array"})}))).filter(function(g){return o[g]}),H=new Set(X.map(function(g){return o[g]})),ee=null;function ve(g){return ee=new WeakMap,g=(function w(k){if(!k||typeof k!="object")return k;var E=ee.get(k);if(E)return E;if(u(k)){E=[],ee.set(k,E);for(var R=0,O=k.length;R<O;++R)E.push(w(k[R]))}else if(H.has(k.constructor))E=k;else{var U,q=f(k);for(U in E=q===Object.prototype?{}:Object.create(q),ee.set(k,E),k)m(k,U)&&(E[U]=w(k[U]))}return E})(g),ee=null,g}var ae={}.toString;function he(g){return ae.call(g).slice(8,-1)}var ge=typeof Symbol<"u"?Symbol.iterator:"@@iterator",Se=typeof ge=="symbol"?function(g){var w;return g!=null&&(w=g[ge])&&w.apply(g)}:function(){return null};function K(g,w){w=g.indexOf(w),0<=w&&g.splice(w,1)}var fe={};function A(g){var w,k,E,R;if(arguments.length===1){if(u(g))return g.slice();if(this===fe&&typeof g=="string")return[g];if(R=Se(g))for(k=[];!(E=R.next()).done;)k.push(E.value);else{if(g==null)return[g];if(typeof(w=g.length)!="number")return[g];for(k=new Array(w);w--;)k[w]=g[w]}}else for(w=arguments.length,k=new Array(w);w--;)k[w]=arguments[w];return k}var M=typeof Symbol<"u"?function(g){return g[Symbol.toStringTag]==="AsyncFunction"}:function(){return!1},X=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],_e=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(X),B={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function Ee(g,w){this.name=g,this.message=w}function De(g,w){return g+". Errors: "+Object.keys(w).map(function(k){return w[k].toString()}).filter(function(k,E,R){return R.indexOf(k)===E}).join(`
`)}function Te(g,w,k,E){this.failures=w,this.failedKeys=E,this.successCount=k,this.message=De(g,w)}function xe(g,w){this.name="BulkError",this.failures=Object.keys(w).map(function(k){return w[k]}),this.failuresByPos=w,this.message=De(g,this.failures)}N(Ee).from(Error).extend({toString:function(){return this.name+": "+this.message}}),N(Te).from(Ee),N(xe).from(Ee);var Pe=_e.reduce(function(g,w){return g[w]=w+"Error",g},{}),Ue=Ee,Ce=_e.reduce(function(g,w){var k=w+"Error";function E(R,O){this.name=k,R?typeof R=="string"?(this.message="".concat(R).concat(O?`
 `+O:""),this.inner=O||null):typeof R=="object"&&(this.message="".concat(R.name," ").concat(R.message),this.inner=R):(this.message=B[w]||k,this.inner=null)}return N(E).from(Ue),g[w]=E,g},{}),et=(Ce.Syntax=SyntaxError,Ce.Type=TypeError,Ce.Range=RangeError,X.reduce(function(g,w){return g[w+"Error"]=Ce[w],g},{}));X=_e.reduce(function(g,w){return["Syntax","Type","Range"].indexOf(w)===-1&&(g[w+"Error"]=Ce[w]),g},{});function Ve(){}function _t(g){return g}function yt(g,w){return g==null||g===_t?w:function(k){return w(g(k))}}function $t(g,w){return function(){g.apply(this,arguments),w.apply(this,arguments)}}function dn(g,w){return g===Ve?w:function(){var k=g.apply(this,arguments),E=(k!==void 0&&(arguments[0]=k),this.onsuccess),R=this.onerror,O=(this.onsuccess=null,this.onerror=null,w.apply(this,arguments));return E&&(this.onsuccess=this.onsuccess?$t(E,this.onsuccess):E),R&&(this.onerror=this.onerror?$t(R,this.onerror):R),O!==void 0?O:k}}function ln(g,w){return g===Ve?w:function(){g.apply(this,arguments);var k=this.onsuccess,E=this.onerror;this.onsuccess=this.onerror=null,w.apply(this,arguments),k&&(this.onsuccess=this.onsuccess?$t(k,this.onsuccess):k),E&&(this.onerror=this.onerror?$t(E,this.onerror):E)}}function zn(g,w){return g===Ve?w:function(R){var E=g.apply(this,arguments),R=(d(R,E),this.onsuccess),O=this.onerror,U=(this.onsuccess=null,this.onerror=null,w.apply(this,arguments));return R&&(this.onsuccess=this.onsuccess?$t(R,this.onsuccess):R),O&&(this.onerror=this.onerror?$t(O,this.onerror):O),E===void 0?U===void 0?void 0:U:d(E,U)}}function yn(g,w){return g===Ve?w:function(){return w.apply(this,arguments)!==!1&&g.apply(this,arguments)}}function fn(g,w){return g===Ve?w:function(){var k=g.apply(this,arguments);if(k&&typeof k.then=="function"){for(var E=this,R=arguments.length,O=new Array(R);R--;)O[R]=arguments[R];return k.then(function(){return w.apply(E,O)})}return w.apply(this,arguments)}}X.ModifyError=Te,X.DexieError=Ee,X.BulkError=xe;var Pn=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function ds(g){Pn=g}var Cr={},hn=100,Yr=typeof Promise>"u"?[]:(_e=Promise.resolve(),typeof crypto<"u"&&crypto.subtle?[Yr=crypto.subtle.digest("SHA-512",new Uint8Array([0])),f(Yr),_e]:[_e,f(_e),_e]),_e=Yr[0],xa=Yr[1],xa=xa&&xa.then,Fe=_e&&_e.constructor,re=!!Yr[2],$e=function(g,w){Fn.push([g,w]),Tt&&(queueMicrotask(Uh),Tt=!1)},dt=!0,Tt=!0,rn=[],Kt=[],vn=_t,Sn={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:Ve,pgp:!1,env:{},finalize:Ve},He=Sn,Fn=[],kn=0,Ks=[];function Xe(g){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this._lib=!1;var w=this._PSD=He;if(typeof g!="function"){if(g!==Cr)throw new TypeError("Not a function");this._state=arguments[1],this._value=arguments[2],this._state===!1&&Pc(this,this._value)}else this._state=null,this._value=null,++w.ref,(function k(E,R){try{R(function(O){if(E._state===null){if(O===E)throw new TypeError("A promise cannot be resolved with itself.");var U=E._lib&&bi();O&&typeof O.then=="function"?k(E,function(q,ie){O instanceof Xe?O._then(q,ie):O.then(q,ie)}):(E._state=!0,E._value=O,bd(E)),U&&aa()}},Pc.bind(null,E))}catch(O){Pc(E,O)}})(this,g)}var vi={get:function(){var g=He,w=Ka;function k(E,R){var O=this,U=!g.global&&(g!==He||w!==Ka),q=U&&!Er(),ie=new Xe(function(ue,te){Ac(O,new ia(jd(E,g,U,q),jd(R,g,U,q),ue,te,g))});return this._consoleTask&&(ie._consoleTask=this._consoleTask),ie}return k.prototype=Cr,k},set:function(g){S(this,"then",g&&g.prototype===Cr?vi:{get:function(){return g},set:vi.set})}};function ia(g,w,k,E,R){this.onFulfilled=typeof g=="function"?g:null,this.onRejected=typeof w=="function"?w:null,this.resolve=k,this.reject=E,this.psd=R}function Pc(g,w){var k,E;Kt.push(w),g._state===null&&(k=g._lib&&bi(),w=vn(w),g._state=!1,g._value=w,E=g,rn.some(function(R){return R._value===E._value})||rn.push(E),bd(g),k)&&aa()}function bd(g){var w=g._listeners;g._listeners=[];for(var k=0,E=w.length;k<E;++k)Ac(g,w[k]);var R=g._PSD;--R.ref||R.finalize(),kn===0&&(++kn,$e(function(){--kn==0&&oa()},[]))}function Ac(g,w){if(g._state===null)g._listeners.push(w);else{var k=g._state?w.onFulfilled:w.onRejected;if(k===null)return(g._state?w.resolve:w.reject)(g._value);++w.psd.ref,++kn,$e(zh,[k,g,w])}}function zh(g,w,k){try{var E,R=w._value;!w._state&&Kt.length&&(Kt=[]),E=Pn&&w._consoleTask?w._consoleTask.run(function(){return g(R)}):g(R),w._state||Kt.indexOf(R)!==-1||(O=>{for(var U=rn.length;U;)if(rn[--U]._value===O._value)return rn.splice(U,1)})(w),k.resolve(E)}catch(O){k.reject(O)}finally{--kn==0&&oa(),--k.psd.ref||k.psd.finalize()}}function Uh(){Ni(Sn,function(){bi()&&aa()})}function bi(){var g=dt;return Tt=dt=!1,g}function aa(){var g,w,k;do for(;0<Fn.length;)for(g=Fn,Fn=[],k=g.length,w=0;w<k;++w){var E=g[w];E[0].apply(null,E[1])}while(0<Fn.length);Tt=dt=!0}function oa(){for(var g=rn,w=(rn=[],g.forEach(function(E){E._PSD.onunhandled.call(null,E._value,E)}),Ks.slice(0)),k=w.length;k;)w[--k]()}function Ha(g){return new Xe(Cr,!1,g)}function sn(g,w){var k=He;return function(){var E=bi(),R=He;try{return ji(k,!0),g.apply(this,arguments)}catch(O){w&&w(O)}finally{ji(R,!1),E&&aa()}}}x(Xe.prototype,{then:vi,_then:function(g,w){Ac(this,new ia(null,null,g,w,He))},catch:function(g){var w,k;return arguments.length===1?this.then(null,g):(w=g,k=arguments[1],typeof w=="function"?this.then(null,function(E){return(E instanceof w?k:Ha)(E)}):this.then(null,function(E){return(E&&E.name===w?k:Ha)(E)}))},finally:function(g){return this.then(function(w){return Xe.resolve(g()).then(function(){return w})},function(w){return Xe.resolve(g()).then(function(){return Ha(w)})})},timeout:function(g,w){var k=this;return g<1/0?new Xe(function(E,R){var O=setTimeout(function(){return R(new Ce.Timeout(w))},g);k.then(E,R).finally(clearTimeout.bind(null,O))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&S(Xe.prototype,Symbol.toStringTag,"Dexie.Promise"),Sn.env=wd(),x(Xe,{all:function(){var g=A.apply(null,arguments).map(fl);return new Xe(function(w,k){g.length===0&&w([]);var E=g.length;g.forEach(function(R,O){return Xe.resolve(R).then(function(U){g[O]=U,--E||w(g)},k)})})},resolve:function(g){return g instanceof Xe?g:g&&typeof g.then=="function"?new Xe(function(w,k){g.then(w,k)}):new Xe(Cr,!0,g)},reject:Ha,race:function(){var g=A.apply(null,arguments).map(fl);return new Xe(function(w,k){g.map(function(E){return Xe.resolve(E).then(w,k)})})},PSD:{get:function(){return He},set:function(g){return He=g}},totalEchoes:{get:function(){return Ka}},newPSD:wi,usePSD:Ni,scheduler:{get:function(){return $e},set:function(g){$e=g}},rejectionMapper:{get:function(){return vn},set:function(g){vn=g}},follow:function(g,w){return new Xe(function(k,E){return wi(function(R,O){var U=He;U.unhandleds=[],U.onunhandled=O,U.finalize=$t(function(){var q,ie=this;q=function(){ie.unhandleds.length===0?R():O(ie.unhandleds[0])},Ks.push(function ue(){q(),Ks.splice(Ks.indexOf(ue),1)}),++kn,$e(function(){--kn==0&&oa()},[])},U.finalize),g()},w,k,E)})}}),Fe&&(Fe.allSettled&&S(Xe,"allSettled",function(){var g=A.apply(null,arguments).map(fl);return new Xe(function(w){g.length===0&&w([]);var k=g.length,E=new Array(k);g.forEach(function(R,O){return Xe.resolve(R).then(function(U){return E[O]={status:"fulfilled",value:U}},function(U){return E[O]={status:"rejected",reason:U}}).then(function(){return--k||w(E)})})})}),Fe.any&&typeof AggregateError<"u"&&S(Xe,"any",function(){var g=A.apply(null,arguments).map(fl);return new Xe(function(w,k){g.length===0&&k(new AggregateError([]));var E=g.length,R=new Array(E);g.forEach(function(O,U){return Xe.resolve(O).then(function(q){return w(q)},function(q){R[U]=q,--E||k(new AggregateError(R))})})})}),Fe.withResolvers)&&(Xe.withResolvers=Fe.withResolvers);var Un={awaits:0,echoes:0,id:0},dl=0,la=[],ca=0,Ka=0,$x=0;function wi(g,U,k,E){var R=He,O=Object.create(R),U=(O.parent=R,O.ref=0,O.global=!1,O.id=++$x,Sn.env,O.env=re?{Promise:Xe,PromiseProp:{value:Xe,configurable:!0,writable:!0},all:Xe.all,race:Xe.race,allSettled:Xe.allSettled,any:Xe.any,resolve:Xe.resolve,reject:Xe.reject}:{},U&&d(O,U),++R.ref,O.finalize=function(){--this.parent.ref||this.parent.finalize()},Ni(O,g,k,E));return O.ref===0&&O.finalize(),U}function Ga(){return Un.id||(Un.id=++dl),++Un.awaits,Un.echoes+=hn,Un.id}function Er(){return!!Un.awaits&&(--Un.awaits==0&&(Un.id=0),Un.echoes=Un.awaits*hn,!0)}function fl(g){return Un.echoes&&g&&g.constructor===Fe?(Ga(),g.then(function(w){return Er(),w},function(w){return Er(),An(w)})):g}function Vh(){var g=la[la.length-1];la.pop(),ji(g,!1)}function ji(g,w){var k,E,R=He;(w?!Un.echoes||ca++&&g===He:!ca||--ca&&g===He)||queueMicrotask(w?(function(O){++Ka,Un.echoes&&--Un.echoes!=0||(Un.echoes=Un.awaits=Un.id=0),la.push(He),ji(O,!0)}).bind(null,g):Vh),g!==He&&(He=g,R===Sn&&(Sn.env=wd()),re)&&(k=Sn.env.Promise,E=g.env,R.global||g.global)&&(Object.defineProperty(o,"Promise",E.PromiseProp),k.all=E.all,k.race=E.race,k.resolve=E.resolve,k.reject=E.reject,E.allSettled&&(k.allSettled=E.allSettled),E.any)&&(k.any=E.any)}function wd(){var g=o.Promise;return re?{Promise:g,PromiseProp:Object.getOwnPropertyDescriptor(o,"Promise"),all:g.all,race:g.race,allSettled:g.allSettled,any:g.any,resolve:g.resolve,reject:g.reject}:{}}function Ni(g,w,k,E,R){var O=He;try{return ji(g,!0),w(k,E,R)}finally{ji(O,!1)}}function jd(g,w,k,E){return typeof g!="function"?g:function(){var R=He;k&&Ga(),ji(w,!0);try{return g.apply(this,arguments)}finally{ji(R,!1),E&&queueMicrotask(Er)}}}function Tc(g){Promise===Fe&&Un.echoes===0?ca===0?g():enqueueNativeMicroTask(g):setTimeout(g,0)}(""+xa).indexOf("[native code]")===-1&&(Ga=Er=Ve);var An=Xe.reject,ua="",Zt="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",Wh="String expected.",Si=[],hl="__dbnames",Ya="readonly",Nd="readwrite";function ki(g,w){return g?w?function(){return g.apply(this,arguments)&&w.apply(this,arguments)}:g:w}var pl={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function $r(g){return typeof g!="string"||/\./.test(g)?function(w){return w}:function(w){return w[g]===void 0&&g in w&&delete(w=ve(w))[g],w}}function qh(){throw Ce.Type("Entity instances must never be new:ed. Instances are generated by the framework bypassing the constructor.")}function Ct(g,w){try{var k=Hh(g),E=Hh(w);if(k!==E)return k==="Array"?1:E==="Array"?-1:k==="binary"?1:E==="binary"?-1:k==="string"?1:E==="string"?-1:k==="Date"?1:E!=="Date"?NaN:-1;switch(k){case"number":case"Date":case"string":return w<g?1:g<w?-1:0;case"binary":for(var R=Kh(g),O=Kh(w),U=R.length,q=O.length,ie=U<q?U:q,ue=0;ue<ie;++ue)if(R[ue]!==O[ue])return R[ue]<O[ue]?-1:1;return U===q?0:U<q?-1:1;case"Array":for(var te=g,J=w,oe=te.length,le=J.length,se=oe<le?oe:le,ne=0;ne<se;++ne){var me=Ct(te[ne],J[ne]);if(me!==0)return me}return oe===le?0:oe<le?-1:1}}catch{}return NaN}function Hh(g){var w=typeof g;return w=="object"&&(ArrayBuffer.isView(g)||(w=he(g))==="ArrayBuffer")?"binary":w}function Kh(g){return g instanceof Uint8Array?g:ArrayBuffer.isView(g)?new Uint8Array(g.buffer,g.byteOffset,g.byteLength):new Uint8Array(g)}function Rc(g,w,k){var E=g.schema.yProps;return E?(w&&0<k.numFailures&&(w=w.filter(function(R,O){return!k.failures[O]})),Promise.all(E.map(function(R){return R=R.updatesTable,w?g.db.table(R).where("k").anyOf(w).delete():g.db.table(R).clear()})).then(function(){return k})):k}ml.prototype.execute=function(g){var w=this["@@propmod"];if(w.add!==void 0){var k=w.add;if(u(k))return s(s([],u(g)?g:[],!0),k).sort();if(typeof k=="number")return(Number(g)||0)+k;if(typeof k=="bigint")try{return BigInt(g)+k}catch{return BigInt(0)+k}throw new TypeError("Invalid term ".concat(k))}if(w.remove!==void 0){var E=w.remove;if(u(E))return u(g)?g.filter(function(R){return!E.includes(R)}).sort():[];if(typeof E=="number")return Number(g)-E;if(typeof E=="bigint")try{return BigInt(g)-E}catch{return BigInt(0)-E}throw new TypeError("Invalid subtrahend ".concat(E))}return k=(k=w.replacePrefix)==null?void 0:k[0],k&&typeof g=="string"&&g.startsWith(k)?w.replacePrefix[1]+g.substring(k.length):g};var _i=ml;function ml(g){this["@@propmod"]=g}function Qa(g,w){for(var k=l(w),E=k.length,R=!1,O=0;O<E;++O){var U=k[O],q=w[U],ie=$(g,U);q instanceof _i?(V(g,U,q.execute(ie)),R=!0):ie!==q&&(V(g,U,q),R=!0)}return R}cn.prototype._trans=function(g,w,k){var E=this._tx||He.trans,R=this.name,O=Pn&&typeof console<"u"&&console.createTask&&console.createTask("Dexie: ".concat(g==="readonly"?"read":"write"," ").concat(this.name));function U(ue,te,J){if(J.schema[R])return w(J.idbtrans,J);throw new Ce.NotFound("Table "+R+" not part of transaction")}var q=bi();try{var ie=E&&E.db._novip===this.db._novip?E===He.trans?E._promise(g,U,k):wi(function(){return E._promise(g,U,k)},{trans:E,transless:He.transless||He}):(function ue(te,J,oe,le){if(te.idbdb&&(te._state.openComplete||He.letThrough||te._vip)){var se=te._createTransaction(J,oe,te._dbSchema);try{se.create(),te._state.PR1398_maxLoop=3}catch(ne){return ne.name===Pe.InvalidState&&te.isOpen()&&0<--te._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),te.close({disableAutoOpen:!1}),te.open().then(function(){return ue(te,J,oe,le)})):An(ne)}return se._promise(J,function(ne,me){return wi(function(){return He.trans=se,le(ne,me,se)})}).then(function(ne){if(J==="readwrite")try{se.idbtrans.commit()}catch{}return J==="readonly"?ne:se._completion.then(function(){return ne})})}if(te._state.openComplete)return An(new Ce.DatabaseClosed(te._state.dbOpenError));if(!te._state.isBeingOpened){if(!te._state.autoOpen)return An(new Ce.DatabaseClosed);te.open().catch(Ve)}return te._state.dbReadyPromise.then(function(){return ue(te,J,oe,le)})})(this.db,g,[this.name],U);return O&&(ie._consoleTask=O,ie=ie.catch(function(ue){return console.trace(ue),An(ue)})),ie}finally{q&&aa()}},cn.prototype.get=function(g,w){var k=this;return g&&g.constructor===Object?this.where(g).first(w):g==null?An(new Ce.Type("Invalid argument to Table.get()")):this._trans("readonly",function(E){return k.core.get({trans:E,key:g}).then(function(R){return k.hook.reading.fire(R)})}).then(w)},cn.prototype.where=function(g){if(typeof g=="string")return new this.db.WhereClause(this,g);if(u(g))return new this.db.WhereClause(this,"[".concat(g.join("+"),"]"));var w=l(g);if(w.length===1)return this.where(w[0]).equals(g[w[0]]);var k=this.schema.indexes.concat(this.schema.primKey).filter(function(q){if(q.compound&&w.every(function(ue){return 0<=q.keyPath.indexOf(ue)})){for(var ie=0;ie<w.length;++ie)if(w.indexOf(q.keyPath[ie])===-1)return!1;return!0}return!1}).sort(function(q,ie){return q.keyPath.length-ie.keyPath.length})[0];if(k&&this.db._maxKey!==ua)return U=k.keyPath.slice(0,w.length),this.where(U).equals(U.map(function(q){return g[q]}));!k&&Pn&&console.warn("The query ".concat(JSON.stringify(g)," on ").concat(this.name," would benefit from a ")+"compound index [".concat(w.join("+"),"]"));var E=this.schema.idxByName;function R(q,ie){return Ct(q,ie)===0}var U=w.reduce(function(te,ie){var ue=te[0],te=te[1],J=E[ie],oe=g[ie];return[ue||J,ue||!J?ki(te,J&&J.multi?function(le){return le=$(le,ie),u(le)&&le.some(function(se){return R(oe,se)})}:function(le){return R(oe,$(le,ie))}):te]},[null,null]),O=U[0],U=U[1];return O?this.where(O.name).equals(g[O.keyPath]).filter(U):k?this.filter(U):this.where(w).equals("")},cn.prototype.filter=function(g){return this.toCollection().and(g)},cn.prototype.count=function(g){return this.toCollection().count(g)},cn.prototype.offset=function(g){return this.toCollection().offset(g)},cn.prototype.limit=function(g){return this.toCollection().limit(g)},cn.prototype.each=function(g){return this.toCollection().each(g)},cn.prototype.toArray=function(g){return this.toCollection().toArray(g)},cn.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},cn.prototype.orderBy=function(g){return new this.db.Collection(new this.db.WhereClause(this,u(g)?"[".concat(g.join("+"),"]"):g))},cn.prototype.reverse=function(){return this.toCollection().reverse()},cn.prototype.mapToClass=function(g){for(var w=this.db,k=this.name,E=((this.schema.mappedClass=g).prototype instanceof qh&&(g=(U=>{var q=te,ie=U;if(typeof ie!="function"&&ie!==null)throw new TypeError("Class extends value "+String(ie)+" is not a constructor or null");function ue(){this.constructor=q}function te(){return U!==null&&U.apply(this,arguments)||this}return n(q,ie),q.prototype=ie===null?Object.create(ie):(ue.prototype=ie.prototype,new ue),Object.defineProperty(te.prototype,"db",{get:function(){return w},enumerable:!1,configurable:!0}),te.prototype.table=function(){return k},te})(g)),new Set),R=g.prototype;R;R=f(R))Object.getOwnPropertyNames(R).forEach(function(U){return E.add(U)});function O(U){if(!U)return U;var q,ie=Object.create(g.prototype);for(q in U)if(!E.has(q))try{ie[q]=U[q]}catch{}return ie}return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=O,this.hook("reading",O),g},cn.prototype.defineClass=function(){return this.mapToClass(function(g){d(this,g)})},cn.prototype.add=function(g,w){var k=this,E=this.schema.primKey,R=E.auto,O=E.keyPath,U=g;return O&&R&&(U=$r(O)(g)),this._trans("readwrite",function(q){return k.core.mutate({trans:q,type:"add",keys:w!=null?[w]:null,values:[U]})}).then(function(q){return q.numFailures?Xe.reject(q.failures[0]):q.lastResult}).then(function(q){if(O)try{V(g,O,q)}catch{}return q})},cn.prototype.upsert=function(g,w){var k=this,E=this.schema.primKey.keyPath;return this._trans("readwrite",function(R){return k.core.get({trans:R,key:g}).then(function(O){var U=O??{};return Qa(U,w),E&&V(U,E,g),k.core.mutate({trans:R,type:"put",values:[U],keys:[g],upsert:!0,updates:{keys:[g],changeSpecs:[w]}}).then(function(q){return q.numFailures?Xe.reject(q.failures[0]):!!O})})})},cn.prototype.update=function(g,w){return typeof g!="object"||u(g)?this.where(":id").equals(g).modify(w):(g=$(g,this.schema.primKey.keyPath))===void 0?An(new Ce.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(g).modify(w)},cn.prototype.put=function(g,w){var k=this,E=this.schema.primKey,R=E.auto,O=E.keyPath,U=g;return O&&R&&(U=$r(O)(g)),this._trans("readwrite",function(q){return k.core.mutate({trans:q,type:"put",values:[U],keys:w!=null?[w]:null})}).then(function(q){return q.numFailures?Xe.reject(q.failures[0]):q.lastResult}).then(function(q){if(O)try{V(g,O,q)}catch{}return q})},cn.prototype.delete=function(g){var w=this;return this._trans("readwrite",function(k){return w.core.mutate({trans:k,type:"delete",keys:[g]}).then(function(E){return Rc(w,[g],E)}).then(function(E){return E.numFailures?Xe.reject(E.failures[0]):void 0})})},cn.prototype.clear=function(){var g=this;return this._trans("readwrite",function(w){return g.core.mutate({trans:w,type:"deleteRange",range:pl}).then(function(k){return Rc(g,null,k)})}).then(function(w){return w.numFailures?Xe.reject(w.failures[0]):void 0})},cn.prototype.bulkGet=function(g){var w=this;return this._trans("readonly",function(k){return w.core.getMany({keys:g,trans:k}).then(function(E){return E.map(function(R){return w.hook.reading.fire(R)})})})},cn.prototype.bulkAdd=function(g,w,k){var E=this,R=Array.isArray(w)?w:void 0,O=(k=k||(R?void 0:w))?k.allKeys:void 0;return this._trans("readwrite",function(U){var q=E.schema.primKey,ue=q.auto,q=q.keyPath;if(q&&R)throw new Ce.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(R&&R.length!==g.length)throw new Ce.InvalidArgument("Arguments objects and keys must have the same length");var ie=g.length,ue=q&&ue?g.map($r(q)):g;return E.core.mutate({trans:U,type:"add",keys:R,values:ue,wantResults:O}).then(function(te){var J=te.numFailures,oe=te.failures;if(J===0)return O?te.results:te.lastResult;throw new xe("".concat(E.name,".bulkAdd(): ").concat(J," of ").concat(ie," operations failed"),oe)})})},cn.prototype.bulkPut=function(g,w,k){var E=this,R=Array.isArray(w)?w:void 0,O=(k=k||(R?void 0:w))?k.allKeys:void 0;return this._trans("readwrite",function(U){var q=E.schema.primKey,ue=q.auto,q=q.keyPath;if(q&&R)throw new Ce.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(R&&R.length!==g.length)throw new Ce.InvalidArgument("Arguments objects and keys must have the same length");var ie=g.length,ue=q&&ue?g.map($r(q)):g;return E.core.mutate({trans:U,type:"put",keys:R,values:ue,wantResults:O}).then(function(te){var J=te.numFailures,oe=te.failures;if(J===0)return O?te.results:te.lastResult;throw new xe("".concat(E.name,".bulkPut(): ").concat(J," of ").concat(ie," operations failed"),oe)})})},cn.prototype.bulkUpdate=function(g){var w=this,k=this.core,E=g.map(function(U){return U.key}),R=g.map(function(U){return U.changes}),O=[];return this._trans("readwrite",function(U){return k.getMany({trans:U,keys:E,cache:"clone"}).then(function(q){var ie=[],ue=[],te=(g.forEach(function(J,oe){var le=J.key,se=J.changes,ne=q[oe];if(ne){for(var me=0,be=Object.keys(se);me<be.length;me++){var de=be[me],Ae=se[de];if(de===w.schema.primKey.keyPath){if(Ct(Ae,le)!==0)throw new Ce.Constraint("Cannot update primary key in bulkUpdate()")}else V(ne,de,Ae)}O.push(oe),ie.push(le),ue.push(ne)}}),ie.length);return k.mutate({trans:U,type:"put",keys:ie,values:ue,updates:{keys:E,changeSpecs:R}}).then(function(J){var oe=J.numFailures,le=J.failures;if(oe===0)return te;for(var se=0,ne=Object.keys(le);se<ne.length;se++){var me,be=ne[se],de=O[Number(be)];de!=null&&(me=le[be],delete le[be],le[de]=me)}throw new xe("".concat(w.name,".bulkUpdate(): ").concat(oe," of ").concat(te," operations failed"),le)})})})},cn.prototype.bulkDelete=function(g){var w=this,k=g.length;return this._trans("readwrite",function(E){return w.core.mutate({trans:E,type:"delete",keys:g}).then(function(R){return Rc(w,g,R)})}).then(function(E){var R=E.numFailures,O=E.failures;if(R===0)return E.lastResult;throw new xe("".concat(w.name,".bulkDelete(): ").concat(R," of ").concat(k," operations failed"),O)})};var gl=cn;function cn(){}function xl(g){function w(U,q){if(q){for(var ie=arguments.length,ue=new Array(ie-1);--ie;)ue[ie-1]=arguments[ie];return k[U].subscribe.apply(null,ue),g}if(typeof U=="string")return k[U]}var k={};w.addEventType=O;for(var E=1,R=arguments.length;E<R;++E)O(arguments[E]);return w;function O(U,q,ie){var ue,te;if(typeof U!="object")return q=q||yn,te={subscribers:[],fire:ie=ie||Ve,subscribe:function(J){te.subscribers.indexOf(J)===-1&&(te.subscribers.push(J),te.fire=q(te.fire,J))},unsubscribe:function(J){te.subscribers=te.subscribers.filter(function(oe){return oe!==J}),te.fire=te.subscribers.reduce(q,ie)}},k[U]=w[U]=te;l(ue=U).forEach(function(J){var oe=ue[J];if(u(oe))O(J,ue[J][0],ue[J][1]);else{if(oe!=="asap")throw new Ce.InvalidArgument("Invalid event config");var le=O(J,_t,function(){for(var se=arguments.length,ne=new Array(se);se--;)ne[se]=arguments[se];le.subscribers.forEach(function(me){z(function(){me.apply(null,ne)})})})}})}}function da(g,w){return N(w).from({prototype:g}),w}function fa(g,w){return!(g.filter||g.algorithm||g.or)&&(w?g.justLimit:!g.replayFilter)}function yl(g,w){g.filter=ki(g.filter,w)}function ha(g,w,k){var E=g.replayFilter;g.replayFilter=E?function(){return ki(E(),w())}:w,g.justLimit=k&&!E}function Ic(g,w){if(g.isPrimKey)return w.primaryKey;var k=w.getIndexByKeyPath(g.index);if(k)return k;throw new Ce.Schema("KeyPath "+g.index+" on object store "+w.name+" is not indexed")}function Mc(g,w,k){var E=Ic(g,w.schema);return w.openCursor({trans:k,values:!g.keysOnly,reverse:g.dir==="prev",unique:!!g.unique,query:{index:E,range:g.range}})}function Qt(g,w,k,E){var R,O,U=g.replayFilter?ki(g.filter,g.replayFilter()):g.filter;return g.or?(R={},O=function(q,ie,ue){var te,J;U&&!U(ie,ue,function(oe){return ie.stop(oe)},function(oe){return ie.fail(oe)})||((J=""+(te=ie.primaryKey))=="[object ArrayBuffer]"&&(J=""+new Uint8Array(te)),m(R,J))||(R[J]=!0,w(q,ie,ue))},Promise.all([g.or._iterate(O,k),Sd(Mc(g,E,k),g.algorithm,O,!g.keysOnly&&g.valueMapper)])):Sd(Mc(g,E,k),ki(g.algorithm,U),w,!g.keysOnly&&g.valueMapper)}function Sd(g,w,k,E){var R=sn(E?function(O,U,q){return k(E(O),U,q)}:k);return g.then(function(O){if(O)return O.start(function(){var U=function(){return O.continue()};w&&!w(O,function(q){return U=q},function(q){O.stop(q),U=Ve},function(q){O.fail(q),U=Ve})||R(O.value,O,function(q){return U=q}),U()})})}Ht.prototype._read=function(g,w){var k=this._ctx;return k.error?k.table._trans(null,An.bind(null,k.error)):k.table._trans("readonly",g).then(w)},Ht.prototype._write=function(g){var w=this._ctx;return w.error?w.table._trans(null,An.bind(null,w.error)):w.table._trans("readwrite",g,"locked")},Ht.prototype._addAlgorithm=function(g){var w=this._ctx;w.algorithm=ki(w.algorithm,g)},Ht.prototype._iterate=function(g,w){return Qt(this._ctx,g,w,this._ctx.table.core)},Ht.prototype.clone=function(g){var w=Object.create(this.constructor.prototype),k=Object.create(this._ctx);return g&&d(k,g),w._ctx=k,w},Ht.prototype.raw=function(){return this._ctx.valueMapper=null,this},Ht.prototype.each=function(g){var w=this._ctx;return this._read(function(k){return Qt(w,g,k,w.table.core)})},Ht.prototype.count=function(g){var w=this;return this._read(function(k){var E,R=w._ctx,O=R.table.core;return fa(R,!0)?O.count({trans:k,query:{index:Ic(R,O.schema),range:R.range}}).then(function(U){return Math.min(U,R.limit)}):(E=0,Qt(R,function(){return++E,!1},k,O).then(function(){return E}))}).then(g)},Ht.prototype.sortBy=function(g,w){var k=g.split(".").reverse(),E=k[0],R=k.length-1;function O(ie,ue){return ue?O(ie[k[ue]],ue-1):ie[E]}var U=this._ctx.dir==="next"?1:-1;function q(ie,ue){return Ct(O(ie,R),O(ue,R))*U}return this.toArray(function(ie){return ie.sort(q)}).then(w)},Ht.prototype.toArray=function(g){var w=this;return this._read(function(k){var E,R,O,U=w._ctx;return U.dir==="next"&&fa(U,!0)&&0<U.limit?(E=U.valueMapper,R=Ic(U,U.table.core.schema),U.table.core.query({trans:k,limit:U.limit,values:!0,query:{index:R,range:U.range}}).then(function(q){return q=q.result,E?q.map(E):q})):(O=[],Qt(U,function(q){return O.push(q)},k,U.table.core).then(function(){return O}))},g)},Ht.prototype.offset=function(g){var w=this._ctx;return g<=0||(w.offset+=g,fa(w)?ha(w,function(){var k=g;return function(E,R){return k===0||(k===1?--k:R(function(){E.advance(k),k=0}),!1)}}):ha(w,function(){var k=g;return function(){return--k<0}})),this},Ht.prototype.limit=function(g){return this._ctx.limit=Math.min(this._ctx.limit,g),ha(this._ctx,function(){var w=g;return function(k,E,R){return--w<=0&&E(R),0<=w}},!0),this},Ht.prototype.until=function(g,w){return yl(this._ctx,function(k,E,R){return!g(k.value)||(E(R),w)}),this},Ht.prototype.first=function(g){return this.limit(1).toArray(function(w){return w[0]}).then(g)},Ht.prototype.last=function(g){return this.reverse().first(g)},Ht.prototype.filter=function(g){var w;return yl(this._ctx,function(k){return g(k.value)}),(w=this._ctx).isMatch=ki(w.isMatch,g),this},Ht.prototype.and=function(g){return this.filter(g)},Ht.prototype.or=function(g){return new this.db.WhereClause(this._ctx.table,g,this)},Ht.prototype.reverse=function(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},Ht.prototype.desc=function(){return this.reverse()},Ht.prototype.eachKey=function(g){var w=this._ctx;return w.keysOnly=!w.isMatch,this.each(function(k,E){g(E.key,E)})},Ht.prototype.eachUniqueKey=function(g){return this._ctx.unique="unique",this.eachKey(g)},Ht.prototype.eachPrimaryKey=function(g){var w=this._ctx;return w.keysOnly=!w.isMatch,this.each(function(k,E){g(E.primaryKey,E)})},Ht.prototype.keys=function(g){var w=this._ctx,k=(w.keysOnly=!w.isMatch,[]);return this.each(function(E,R){k.push(R.key)}).then(function(){return k}).then(g)},Ht.prototype.primaryKeys=function(g){var w=this._ctx;if(w.dir==="next"&&fa(w,!0)&&0<w.limit)return this._read(function(E){var R=Ic(w,w.table.core.schema);return w.table.core.query({trans:E,values:!1,limit:w.limit,query:{index:R,range:w.range}})}).then(function(E){return E.result}).then(g);w.keysOnly=!w.isMatch;var k=[];return this.each(function(E,R){k.push(R.primaryKey)}).then(function(){return k}).then(g)},Ht.prototype.uniqueKeys=function(g){return this._ctx.unique="unique",this.keys(g)},Ht.prototype.firstKey=function(g){return this.limit(1).keys(function(w){return w[0]}).then(g)},Ht.prototype.lastKey=function(g){return this.reverse().firstKey(g)},Ht.prototype.distinct=function(){var g,w=this._ctx,w=w.index&&w.table.schema.idxByName[w.index];return w&&w.multi&&(g={},yl(this._ctx,function(E){var E=E.primaryKey.toString(),R=m(g,E);return g[E]=!0,!R})),this},Ht.prototype.modify=function(g){var w=this,k=this._ctx;return this._write(function(E){function R(ne,me){var be=me.failures;oe+=ne-me.numFailures;for(var de=0,Ae=l(be);de<Ae.length;de++){var Re=Ae[de];J.push(be[Re])}}var O=typeof g=="function"?g:function(ne){return Qa(ne,g)},U=k.table.core,te=U.schema.primaryKey,q=te.outbound,ie=te.extractKey,ue=200,te=w.db._options.modifyChunkSize,J=(te&&(ue=typeof te=="object"?te[U.name]||te["*"]||200:te),[]),oe=0,le=[],se=g===kd;return w.clone().primaryKeys().then(function(ne){function me(de){var Ae=Math.min(ue,ne.length-de),Re=ne.slice(de,de+Ae);return(se?Promise.resolve([]):U.getMany({trans:E,keys:Re,cache:"immutable"})).then(function(Ge){var Qe=[],Me=[],Ze=q?[]:null,Je=se?Re:[];if(!se)for(var We=0;We<Ae;++We){var rt=Ge[We],Ut={value:ve(rt),primKey:ne[de+We]};O.call(Ut,Ut.value,Ut)!==!1&&(Ut.value==null?Je.push(ne[de+We]):q||Ct(ie(rt),ie(Ut.value))===0?(Me.push(Ut.value),q&&Ze.push(ne[de+We])):(Je.push(ne[de+We]),Qe.push(Ut.value)))}return Promise.resolve(0<Qe.length&&U.mutate({trans:E,type:"add",values:Qe}).then(function(Gt){for(var gt in Gt.failures)Je.splice(parseInt(gt),1);R(Qe.length,Gt)})).then(function(){return(0<Me.length||be&&typeof g=="object")&&U.mutate({trans:E,type:"put",keys:Ze,values:Me,criteria:be,changeSpec:typeof g!="function"&&g,isAdditionalChunk:0<de}).then(function(Gt){return R(Me.length,Gt)})}).then(function(){return(0<Je.length||be&&se)&&U.mutate({trans:E,type:"delete",keys:Je,criteria:be,isAdditionalChunk:0<de}).then(function(Gt){return Rc(k.table,Je,Gt)}).then(function(Gt){return R(Je.length,Gt)})}).then(function(){return ne.length>de+Ae&&me(de+ue)})})}var be=fa(k)&&k.limit===1/0&&(typeof g!="function"||se)&&{index:k.index,range:k.range};return me(0).then(function(){if(0<J.length)throw new Te("Error modifying one or more objects",J,oe,le);return ne.length})})})},Ht.prototype.delete=function(){var g=this._ctx,w=g.range;return!fa(g)||g.table.schema.yProps||!g.isPrimKey&&w.type!==3?this.modify(kd):this._write(function(k){var E=g.table.core.schema.primaryKey,R=w;return g.table.core.count({trans:k,query:{index:E,range:R}}).then(function(O){return g.table.core.mutate({trans:k,type:"deleteRange",range:R}).then(function(ie){var q=ie.failures,ie=ie.numFailures;if(ie)throw new Te("Could not delete some values",Object.keys(q).map(function(ue){return q[ue]}),O-ie);return O-ie})})})};var Gh=Ht;function Ht(){}var kd=function(g,w){return w.value=null};function Yh(g,w){return g<w?-1:g===w?0:1}function Qh(g,w){return w<g?-1:g===w?0:1}function mr(g,w,k){return g=g instanceof Xa?new g.Collection(g):g,g._ctx.error=new(k||TypeError)(w),g}function Gs(g){return new g.Collection(g,function(){return Ys("")}).limit(0)}function fs(le,w,k,E){var R,O,U,q,ie,ue,te,J=k.length;if(!k.every(function(ne){return typeof ne=="string"}))return mr(le,Wh);function oe(ne){R=ne==="next"?function(be){return be.toUpperCase()}:function(be){return be.toLowerCase()},O=ne==="next"?function(be){return be.toLowerCase()}:function(be){return be.toUpperCase()},U=ne==="next"?Yh:Qh;var me=k.map(function(be){return{lower:O(be),upper:R(be)}}).sort(function(be,de){return U(be.lower,de.lower)});q=me.map(function(be){return be.upper}),ie=me.map(function(be){return be.lower}),te=(ue=ne)==="next"?"":E}oe("next");var le=new le.Collection(le,function(){return gr(q[0],ie[J-1]+E)}),se=(le._ondirectionchange=function(ne){oe(ne)},0);return le._addAlgorithm(function(ne,me,be){var de=ne.key;if(typeof de=="string"){var Ae=O(de);if(w(Ae,ie,se))return!0;for(var Re=null,Ge=se;Ge<J;++Ge){var Qe=((Me,Ze,Je,We,rt,Ut)=>{for(var Gt=Math.min(Me.length,We.length),gt=-1,Rt=0;Rt<Gt;++Rt){var pn=Ze[Rt];if(pn!==We[Rt])return rt(Me[Rt],Je[Rt])<0?Me.substr(0,Rt)+Je[Rt]+Je.substr(Rt+1):rt(Me[Rt],We[Rt])<0?Me.substr(0,Rt)+We[Rt]+Je.substr(Rt+1):0<=gt?Me.substr(0,gt)+Ze[gt]+Je.substr(gt+1):null;rt(Me[Rt],pn)<0&&(gt=Rt)}return Gt<We.length&&Ut==="next"?Me+Je.substr(Me.length):Gt<Me.length&&Ut==="prev"?Me.substr(0,Je.length):gt<0?null:Me.substr(0,gt)+We[gt]+Je.substr(gt+1)})(de,Ae,q[Ge],ie[Ge],U,ue);Qe===null&&Re===null?se=Ge+1:(Re===null||0<U(Re,Qe))&&(Re=Qe)}me(Re!==null?function(){ne.continue(Re+te)}:be)}return!1}),le}function gr(g,w,k,E){return{type:2,lower:g,upper:w,lowerOpen:k,upperOpen:E}}function Ys(g){return{type:1,lower:g,upper:g}}Object.defineProperty(_n.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),_n.prototype.between=function(g,w,k,E){k=k!==!1,E=E===!0;try{return 0<this._cmp(g,w)||this._cmp(g,w)===0&&(k||E)&&(!k||!E)?Gs(this):new this.Collection(this,function(){return gr(g,w,!k,!E)})}catch{return mr(this,Zt)}},_n.prototype.equals=function(g){return g==null?mr(this,Zt):new this.Collection(this,function(){return Ys(g)})},_n.prototype.above=function(g){return g==null?mr(this,Zt):new this.Collection(this,function(){return gr(g,void 0,!0)})},_n.prototype.aboveOrEqual=function(g){return g==null?mr(this,Zt):new this.Collection(this,function(){return gr(g,void 0,!1)})},_n.prototype.below=function(g){return g==null?mr(this,Zt):new this.Collection(this,function(){return gr(void 0,g,!1,!0)})},_n.prototype.belowOrEqual=function(g){return g==null?mr(this,Zt):new this.Collection(this,function(){return gr(void 0,g)})},_n.prototype.startsWith=function(g){return typeof g!="string"?mr(this,Wh):this.between(g,g+ua,!0,!0)},_n.prototype.startsWithIgnoreCase=function(g){return g===""?this.startsWith(g):fs(this,function(w,k){return w.indexOf(k[0])===0},[g],ua)},_n.prototype.equalsIgnoreCase=function(g){return fs(this,function(w,k){return w===k[0]},[g],"")},_n.prototype.anyOfIgnoreCase=function(){var g=A.apply(fe,arguments);return g.length===0?Gs(this):fs(this,function(w,k){return k.indexOf(w)!==-1},g,"")},_n.prototype.startsWithAnyOfIgnoreCase=function(){var g=A.apply(fe,arguments);return g.length===0?Gs(this):fs(this,function(w,k){return k.some(function(E){return w.indexOf(E)===0})},g,ua)},_n.prototype.anyOf=function(){var g,w,k=this,E=A.apply(fe,arguments),R=this._cmp;try{E.sort(R)}catch{return mr(this,Zt)}return E.length===0?Gs(this):((g=new this.Collection(this,function(){return gr(E[0],E[E.length-1])}))._ondirectionchange=function(O){R=O==="next"?k._ascending:k._descending,E.sort(R)},w=0,g._addAlgorithm(function(O,U,q){for(var ie=O.key;0<R(ie,E[w]);)if(++w===E.length)return U(q),!1;return R(ie,E[w])===0||(U(function(){O.continue(E[w])}),!1)}),g)},_n.prototype.notEqual=function(g){return this.inAnyRange([[-1/0,g],[g,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},_n.prototype.noneOf=function(){var g=A.apply(fe,arguments);if(g.length===0)return new this.Collection(this);try{g.sort(this._ascending)}catch{return mr(this,Zt)}var w=g.reduce(function(k,E){return k?k.concat([[k[k.length-1][1],E]]):[[-1/0,E]]},null);return w.push([g[g.length-1],this.db._maxKey]),this.inAnyRange(w,{includeLowers:!1,includeUppers:!1})},_n.prototype.inAnyRange=function(g,be){var k=this,E=this._cmp,R=this._ascending,O=this._descending,U=this._min,q=this._max;if(g.length===0)return Gs(this);if(!g.every(function(de){return de[0]!==void 0&&de[1]!==void 0&&R(de[0],de[1])<=0}))return mr(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",Ce.InvalidArgument);var ie=!be||be.includeLowers!==!1,ue=be&&be.includeUppers===!0,te,J=R;function oe(de,Ae){return J(de[0],Ae[0])}try{(te=g.reduce(function(de,Ae){for(var Re=0,Ge=de.length;Re<Ge;++Re){var Qe=de[Re];if(E(Ae[0],Qe[1])<0&&0<E(Ae[1],Qe[0])){Qe[0]=U(Qe[0],Ae[0]),Qe[1]=q(Qe[1],Ae[1]);break}}return Re===Ge&&de.push(Ae),de},[])).sort(oe)}catch{return mr(this,Zt)}var le=0,se=ue?function(de){return 0<R(de,te[le][1])}:function(de){return 0<=R(de,te[le][1])},ne=ie?function(de){return 0<O(de,te[le][0])}:function(de){return 0<=O(de,te[le][0])},me=se,be=new this.Collection(this,function(){return gr(te[0][0],te[te.length-1][1],!ie,!ue)});return be._ondirectionchange=function(de){J=de==="next"?(me=se,R):(me=ne,O),te.sort(oe)},be._addAlgorithm(function(de,Ae,Re){for(var Ge,Qe=de.key;me(Qe);)if(++le===te.length)return Ae(Re),!1;return!se(Ge=Qe)&&!ne(Ge)||(k._cmp(Qe,te[le][1])===0||k._cmp(Qe,te[le][0])===0||Ae(function(){J===R?de.continue(te[le][0]):de.continue(te[le][1])}),!1)}),be},_n.prototype.startsWithAnyOf=function(){var g=A.apply(fe,arguments);return g.every(function(w){return typeof w=="string"})?g.length===0?Gs(this):this.inAnyRange(g.map(function(w){return[w,w+ua]})):mr(this,"startsWithAnyOf() only works with strings")};var Xa=_n;function _n(){}function Qn(g){return sn(function(w){return vl(w),g(w.target.error),!1})}function vl(g){g.stopPropagation&&g.stopPropagation(),g.preventDefault&&g.preventDefault()}var Ja="storagemutated",pa="x-storagemutated-1",Ci=xl(null,Ja),Xh=(Br.prototype._lock=function(){return L(!He.global),++this._reculock,this._reculock!==1||He.global||(He.lockOwnerFor=this),this},Br.prototype._unlock=function(){if(L(!He.global),--this._reculock==0)for(He.global||(He.lockOwnerFor=null);0<this._blockedFuncs.length&&!this._locked();){var g=this._blockedFuncs.shift();try{Ni(g[1],g[0])}catch{}}return this},Br.prototype._locked=function(){return this._reculock&&He.lockOwnerFor!==this},Br.prototype.create=function(g){var w=this;if(this.mode){var k=this.db.idbdb,E=this.db._state.dbOpenError;if(L(!this.idbtrans),!g&&!k)switch(E&&E.name){case"DatabaseClosedError":throw new Ce.DatabaseClosed(E);case"MissingAPIError":throw new Ce.MissingAPI(E.message,E);default:throw new Ce.OpenFailed(E)}if(!this.active)throw new Ce.TransactionInactive;L(this._completion._state===null),(g=this.idbtrans=g||(this.db.core||k).transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})).onerror=sn(function(R){vl(R),w._reject(g.error)}),g.onabort=sn(function(R){vl(R),w.active&&w._reject(new Ce.Abort(g.error)),w.active=!1,w.on("abort").fire(R)}),g.oncomplete=sn(function(){w.active=!1,w._resolve(),"mutatedParts"in g&&Ci.storagemutated.fire(g.mutatedParts)})}return this},Br.prototype._promise=function(g,w,k){var E,R=this;return g==="readwrite"&&this.mode!=="readwrite"?An(new Ce.ReadOnly("Transaction is readonly")):this.active?this._locked()?new Xe(function(O,U){R._blockedFuncs.push([function(){R._promise(g,w,k).then(O,U)},He])}):k?wi(function(){var O=new Xe(function(U,q){R._lock();var ie=w(U,q,R);ie&&ie.then&&ie.then(U,q)});return O.finally(function(){return R._unlock()}),O._lib=!0,O}):((E=new Xe(function(O,U){var q=w(O,U,R);q&&q.then&&q.then(O,U)}))._lib=!0,E):An(new Ce.TransactionInactive)},Br.prototype._root=function(){return this.parent?this.parent._root():this},Br.prototype.waitFor=function(g){var w,k=this._root(),E=Xe.resolve(g),R=(k._waitingFor?k._waitingFor=k._waitingFor.then(function(){return E}):(k._waitingFor=E,k._waitingQueue=[],w=k.idbtrans.objectStore(k.storeNames[0]),(function O(){for(++k._spinCount;k._waitingQueue.length;)k._waitingQueue.shift()();k._waitingFor&&(w.get(-1/0).onsuccess=O)})()),k._waitingFor);return new Xe(function(O,U){E.then(function(q){return k._waitingQueue.push(sn(O.bind(null,q)))},function(q){return k._waitingQueue.push(sn(U.bind(null,q)))}).finally(function(){k._waitingFor===R&&(k._waitingFor=null)})})},Br.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new Ce.Abort))},Br.prototype.table=function(g){var w=this._memoizedTables||(this._memoizedTables={});if(m(w,g))return w[g];var k=this.schema[g];if(k)return(k=new this.db.Table(g,k,this)).core=this.db.core.table(g),w[g]=k;throw new Ce.NotFound("Table "+g+" not part of transaction")},Br);function Br(){}function Oc(g,w,k,E,R,O,U,q){return{name:g,keyPath:w,unique:k,multi:E,auto:R,compound:O,src:(k&&!U?"&":"")+(E?"*":"")+(R?"++":"")+Jh(w),type:q}}function Jh(g){return typeof g=="string"?g:g?"["+[].join.call(g,"+")+"]":""}function ma(g,w,k){return{name:g,primKey:w,indexes:k,mappedClass:null,idxByName:(E=function(R){return[R.name,R]},k.reduce(function(R,O,U){return O=E(O,U),O&&(R[O[0]]=O[1]),R},{}))};var E}var Qs=function(g){try{return g.only([[]]),Qs=function(){return[[]]},[[]]}catch{return Qs=function(){return ua},ua}};function Ei(g){return g==null?function(){}:typeof g=="string"?(w=g).split(".").length===1?function(k){return k[w]}:function(k){return $(k,w)}:function(k){return $(k,g)};var w}function bl(g){return[].slice.call(g)}var Bx=0;function wl(g){return g==null?":id":typeof g=="string"?g:"[".concat(g.join("+"),"]")}function _d(g,w,ie){function E(se){if(se.type===3)return null;if(se.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var J=se.lower,oe=se.upper,le=se.lowerOpen,se=se.upperOpen;return J===void 0?oe===void 0?null:w.upperBound(oe,!!se):oe===void 0?w.lowerBound(J,!!le):w.bound(J,oe,!!le,!!se)}function R(te){var J,oe=te.name;return{name:oe,schema:te,mutate:function(le){var se=le.trans,ne=le.type,me=le.keys,be=le.values,de=le.range;return new Promise(function(Ae,Re){Ae=sn(Ae);var Ge=se.objectStore(oe),Qe=Ge.keyPath==null,Me=ne==="put"||ne==="add";if(!Me&&ne!=="delete"&&ne!=="deleteRange")throw new Error("Invalid operation type: "+ne);var Ze,Je=(me||be||{length:1}).length;if(me&&be&&me.length!==be.length)throw new Error("Given keys array must have same length as given values array.");if(Je===0)return Ae({numFailures:0,failures:{},results:[],lastResult:void 0});function We(en){++Gt,vl(en)}var rt=[],Ut=[],Gt=0;if(ne==="deleteRange"){if(de.type===4)return Ae({numFailures:Gt,failures:Ut,results:[],lastResult:void 0});de.type===3?rt.push(Ze=Ge.clear()):rt.push(Ze=Ge.delete(E(de)))}else{var Qe=Me?Qe?[be,me]:[be,null]:[me,null],gt=Qe[0],Rt=Qe[1];if(Me)for(var pn=0;pn<Je;++pn)rt.push(Ze=Rt&&Rt[pn]!==void 0?Ge[ne](gt[pn],Rt[pn]):Ge[ne](gt[pn])),Ze.onerror=We;else for(pn=0;pn<Je;++pn)rt.push(Ze=Ge[ne](gt[pn])),Ze.onerror=We}function zr(en){en=en.target.result,rt.forEach(function(ti,_l){return ti.error!=null&&(Ut[_l]=ti.error)}),Ae({numFailures:Gt,failures:Ut,results:ne==="delete"?me:rt.map(function(ti){return ti.result}),lastResult:en})}Ze.onerror=function(en){We(en),zr(en)},Ze.onsuccess=zr})},getMany:function(le){var se=le.trans,ne=le.keys;return new Promise(function(me,be){me=sn(me);for(var de,Ae=se.objectStore(oe),Re=ne.length,Ge=new Array(Re),Qe=0,Me=0,Ze=function(rt){rt=rt.target,Ge[rt._pos]=rt.result,++Me===Qe&&me(Ge)},Je=Qn(be),We=0;We<Re;++We)ne[We]!=null&&((de=Ae.get(ne[We]))._pos=We,de.onsuccess=Ze,de.onerror=Je,++Qe);Qe===0&&me(Ge)})},get:function(le){var se=le.trans,ne=le.key;return new Promise(function(me,be){me=sn(me);var de=se.objectStore(oe).get(ne);de.onsuccess=function(Ae){return me(Ae.target.result)},de.onerror=Qn(be)})},query:(J=q,function(le){return new Promise(function(se,ne){se=sn(se);var me,be,de,Me=le.trans,Ae=le.values,Re=le.limit,Qe=le.query,Ge=Re===1/0?void 0:Re,Ze=Qe.index,Qe=Qe.range,Me=Me.objectStore(oe),Me=Ze.isPrimaryKey?Me:Me.index(Ze.name),Ze=E(Qe);if(Re===0)return se({result:[]});J?((Qe=Ae?Me.getAll(Ze,Ge):Me.getAllKeys(Ze,Ge)).onsuccess=function(Je){return se({result:Je.target.result})},Qe.onerror=Qn(ne)):(me=0,be=!Ae&&"openKeyCursor"in Me?Me.openKeyCursor(Ze):Me.openCursor(Ze),de=[],be.onsuccess=function(Je){var We=be.result;return!We||(de.push(Ae?We.value:We.primaryKey),++me===Re)?se({result:de}):void We.continue()},be.onerror=Qn(ne))})}),openCursor:function(le){var se=le.trans,ne=le.values,me=le.query,be=le.reverse,de=le.unique;return new Promise(function(Ae,Re){Ae=sn(Ae);var Me=me.index,Ge=me.range,Qe=se.objectStore(oe),Qe=Me.isPrimaryKey?Qe:Qe.index(Me.name),Me=be?de?"prevunique":"prev":de?"nextunique":"next",Ze=!ne&&"openKeyCursor"in Qe?Qe.openKeyCursor(E(Ge),Me):Qe.openCursor(E(Ge),Me);Ze.onerror=Qn(Re),Ze.onsuccess=sn(function(Je){var We,rt,Ut,Gt,gt=Ze.result;gt?(gt.___id=++Bx,gt.done=!1,We=gt.continue.bind(gt),rt=(rt=gt.continuePrimaryKey)&&rt.bind(gt),Ut=gt.advance.bind(gt),Gt=function(){throw new Error("Cursor not stopped")},gt.trans=se,gt.stop=gt.continue=gt.continuePrimaryKey=gt.advance=function(){throw new Error("Cursor not started")},gt.fail=sn(Re),gt.next=function(){var Rt=this,pn=1;return this.start(function(){return pn--?Rt.continue():Rt.stop()}).then(function(){return Rt})},gt.start=function(Rt){function pn(){if(Ze.result)try{Rt()}catch(en){gt.fail(en)}else gt.done=!0,gt.start=function(){throw new Error("Cursor behind last entry")},gt.stop()}var zr=new Promise(function(en,ti){en=sn(en),Ze.onerror=Qn(ti),gt.fail=ti,gt.stop=function(_l){gt.stop=gt.continue=gt.continuePrimaryKey=gt.advance=Gt,en(_l)}});return Ze.onsuccess=sn(function(en){Ze.onsuccess=pn,pn()}),gt.continue=We,gt.continuePrimaryKey=rt,gt.advance=Ut,pn(),zr},Ae(gt)):Ae(null)},Re)})},count:function(le){var se=le.query,ne=le.trans,me=se.index,be=se.range;return new Promise(function(de,Ae){var Re=ne.objectStore(oe),Re=me.isPrimaryKey?Re:Re.index(me.name),Ge=E(be),Ge=Ge?Re.count(Ge):Re.count();Ge.onsuccess=sn(function(Qe){return de(Qe.target.result)}),Ge.onerror=Qn(Ae)})}}}O=ie,U=bl((ie=g).objectStoreNames);var O,ie={schema:{name:ie.name,tables:U.map(function(te){return O.objectStore(te)}).map(function(te){var J=te.keyPath,oe=te.autoIncrement,se=u(J),le={},se={name:te.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:J==null,compound:se,keyPath:J,autoIncrement:oe,unique:!0,extractKey:Ei(J)},indexes:bl(te.indexNames).map(function(ne){return te.index(ne)}).map(function(de){var Ae=de.name,me=de.unique,be=de.multiEntry,de=de.keyPath,Ae={name:Ae,compound:u(de),keyPath:de,unique:me,multiEntry:be,extractKey:Ei(de)};return le[wl(de)]=Ae}),getIndexByKeyPath:function(ne){return le[wl(ne)]}};return le[":id"]=se.primaryKey,J!=null&&(le[wl(J)]=se.primaryKey),se})},hasGetAll:0<U.length&&"getAll"in O.objectStore(U[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)},U=ie.schema,q=ie.hasGetAll,ie=U.tables.map(R),ue={};return ie.forEach(function(te){return ue[te.name]=te}),{stack:"dbcore",transaction:g.transaction.bind(g),table:function(te){if(ue[te])return ue[te];throw new Error("Table '".concat(te,"' not found"))},MIN_KEY:-1/0,MAX_KEY:Qs(w),schema:U}}function Dc(g,w,k,E){return k=k.IDBKeyRange,w=_d(w,k,E),{dbcore:g.dbcore.reduce(function(R,O){return O=O.create,r(r({},R),O(R))},w)}}function Za(g,w){var k=w.db,k=Dc(g._middlewares,k,g._deps,w);g.core=k.dbcore,g.tables.forEach(function(E){var R=E.name;g.core.schema.tables.some(function(O){return O.name===R})&&(E.core=g.core.table(R),g[R]instanceof g.Table)&&(g[R].core=E.core)})}function jl(g,w,k,E){k.forEach(function(R){var O=E[R];w.forEach(function(U){var q=(function ie(ue,te){return _(ue,te)||(ue=f(ue))&&ie(ue,te)})(U,R);(!q||"value"in q&&q.value===void 0)&&(U===g.Transaction.prototype||U instanceof g.Transaction?S(U,R,{get:function(){return this.table(R)},set:function(ie){v(this,R,{value:ie,writable:!0,configurable:!0,enumerable:!0})}}):U[R]=new g.Table(R,O))})})}function Cs(g,w){w.forEach(function(k){for(var E in k)k[E]instanceof g.Table&&delete k[E]})}function Cd(g,w){return g._cfg.version-w._cfg.version}function Lc(g,w,k,E){var R=g._dbSchema,O=(k.objectStoreNames.contains("$meta")&&!R.$meta&&(R.$meta=ma("$meta",ro("")[0],[]),g._storeNames.push("$meta")),g._createTransaction("readwrite",g._storeNames,R)),U=(O.create(k),O._completion.catch(E),O._reject.bind(O)),q=He.transless||He;wi(function(){if(He.trans=O,He.transless=q,w!==0)return Za(g,k),ue=w,((ie=O).storeNames.includes("$meta")?ie.table("$meta").get("version").then(function(te){return te??ue}):Xe.resolve(ue)).then(function(me){var J=g,oe=me,le=O,se=k,ne=[],me=J._versions,be=J._dbSchema=Xs(0,J.idbdb,se);return(me=me.filter(function(de){return de._cfg.version>=oe})).length===0?Xe.resolve():(me.forEach(function(de){ne.push(function(){var Ae,Re,Ge,Qe=be,Me=de._cfg.dbschema,Ze=(no(J,Qe,se),no(J,Me,se),be=J._dbSchema=Me,eo(Qe,Me)),Je=(Ze.add.forEach(function(We){to(se,We[0],We[1].primKey,We[1].indexes)}),Ze.change.forEach(function(We){if(We.recreate)throw new Ce.Upgrade("Not yet support for changing primary key");var rt=se.objectStore(We.name);We.add.forEach(function(Ut){return ir(rt,Ut)}),We.change.forEach(function(Ut){rt.deleteIndex(Ut.name),ir(rt,Ut)}),We.del.forEach(function(Ut){return rt.deleteIndex(Ut)})}),de._cfg.contentUpgrade);if(Je&&de._cfg.version>oe)return Za(J,se),le._memoizedTables={},Ae=W(Me),Ze.del.forEach(function(We){Ae[We]=Qe[We]}),Cs(J,[J.Transaction.prototype]),jl(J,[J.Transaction.prototype],l(Ae),Ae),le.schema=Ae,(Re=M(Je))&&Ga(),Me=Xe.follow(function(){var We;(Ge=Je(le))&&Re&&(We=Er.bind(null,null),Ge.then(We,We))}),Ge&&typeof Ge.then=="function"?Xe.resolve(Ge):Me.then(function(){return Ge})}),ne.push(function(Ae){var Re,Ge,Qe=de._cfg.dbschema;Re=Qe,Ge=Ae,[].slice.call(Ge.db.objectStoreNames).forEach(function(Me){return Re[Me]==null&&Ge.db.deleteObjectStore(Me)}),Cs(J,[J.Transaction.prototype]),jl(J,[J.Transaction.prototype],J._storeNames,J._dbSchema),le.schema=J._dbSchema}),ne.push(function(Ae){J.idbdb.objectStoreNames.contains("$meta")&&(Math.ceil(J.idbdb.version/10)===de._cfg.version?(J.idbdb.deleteObjectStore("$meta"),delete J._dbSchema.$meta,J._storeNames=J._storeNames.filter(function(Re){return Re!=="$meta"})):Ae.objectStore("$meta").put(de._cfg.version,"version"))})}),(function de(){return ne.length?Xe.resolve(ne.shift()(le.idbtrans)).then(de):Xe.resolve()})().then(function(){Ed(be,se)}))}).catch(U);var ie,ue;l(R).forEach(function(te){to(k,te,R[te].primKey,R[te].indexes)}),Za(g,k),Xe.follow(function(){return g.on.populate.fire(O)}).catch(U)})}function Zh(g,w){Ed(g._dbSchema,w),w.db.version%10!=0||w.objectStoreNames.contains("$meta")||w.db.createObjectStore("$meta").add(Math.ceil(w.db.version/10-1),"version");var k=Xs(0,g.idbdb,w);no(g,g._dbSchema,w);for(var E=0,R=eo(k,g._dbSchema).change;E<R.length;E++){var O=(U=>{if(U.change.length||U.recreate)return console.warn("Unable to patch indexes of table ".concat(U.name," because it has changes on the type of index or primary key.")),{value:void 0};var q=w.objectStore(U.name);U.add.forEach(function(ie){Pn&&console.debug("Dexie upgrade patch: Creating missing index ".concat(U.name,".").concat(ie.src)),ir(q,ie)})})(R[E]);if(typeof O=="object")return O.value}}function eo(g,w){var k,E={del:[],add:[],change:[]};for(k in g)w[k]||E.del.push(k);for(k in w){var R=g[k],O=w[k];if(R){var U={name:k,def:O,recreate:!1,del:[],add:[],change:[]};if(""+(R.primKey.keyPath||"")!=""+(O.primKey.keyPath||"")||R.primKey.auto!==O.primKey.auto)U.recreate=!0,E.change.push(U);else{var q=R.idxByName,ie=O.idxByName,ue=void 0;for(ue in q)ie[ue]||U.del.push(ue);for(ue in ie){var te=q[ue],J=ie[ue];te?te.src!==J.src&&U.change.push(J):U.add.push(J)}(0<U.del.length||0<U.add.length||0<U.change.length)&&E.change.push(U)}}else E.add.push([k,O])}return E}function to(g,w,k,E){var R=g.db.createObjectStore(w,k.keyPath?{keyPath:k.keyPath,autoIncrement:k.auto}:{autoIncrement:k.auto});E.forEach(function(O){return ir(R,O)})}function Ed(g,w){l(g).forEach(function(k){w.db.objectStoreNames.contains(k)||(Pn&&console.debug("Dexie: Creating missing table",k),to(w,k,g[k].primKey,g[k].indexes))})}function ir(g,w){g.createIndex(w.name,w.keyPath,{unique:w.unique,multiEntry:w.multi})}function Xs(g,w,k){var E={};return T(w.objectStoreNames,0).forEach(function(R){for(var O=k.objectStore(R),U=Oc(Jh(ue=O.keyPath),ue||"",!0,!1,!!O.autoIncrement,ue&&typeof ue!="string",!0),q=[],ie=0;ie<O.indexNames.length;++ie){var te=O.index(O.indexNames[ie]),ue=te.keyPath,te=Oc(te.name,ue,!!te.unique,!!te.multiEntry,!1,ue&&typeof ue!="string",!1);q.push(te)}E[R]=ma(R,U,q)}),E}function no(g,w,k){for(var E=k.db.objectStoreNames,R=0;R<E.length;++R){var O=E[R],U=k.objectStore(O);g._hasGetAll="getAll"in U;for(var q=0;q<U.indexNames.length;++q){var ie,ue=U.indexNames[q],te=U.index(ue).keyPath,te=typeof te=="string"?te:"["+T(te).join("+")+"]";w[O]&&(ie=w[O].idxByName[te])&&(ie.name=ue,delete w[O].idxByName[te],w[O].idxByName[ue]=ie)}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&o.WorkerGlobalScope&&o instanceof o.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(g._hasGetAll=!1)}function ro(g){return g.split(",").map(function(w,k){var R=w.split(":"),E=(E=R[1])==null?void 0:E.trim(),R=(w=R[0].trim()).replace(/([&*]|\+\+)/g,""),O=/^\[/.test(R)?R.match(/^\[(.*)\]$/)[1].split("+"):R;return Oc(R,O||null,/\&/.test(w),/\*/.test(w),/\+\+/.test(w),u(O),k===0,E)})}Pi.prototype._createTableSchema=ma,Pi.prototype._parseIndexSyntax=ro,Pi.prototype._parseStoresSpec=function(g,w){var k=this;l(g).forEach(function(E){if(g[E]!==null){var R=k._parseIndexSyntax(g[E]),O=R.shift();if(!O)throw new Ce.Schema("Invalid schema for table "+E+": "+g[E]);if(O.unique=!0,O.multi)throw new Ce.Schema("Primary key cannot be multiEntry*");R.forEach(function(U){if(U.auto)throw new Ce.Schema("Only primary key can be marked as autoIncrement (++)");if(!U.keyPath)throw new Ce.Schema("Index must have a name and cannot be an empty string")}),O=k._createTableSchema(E,O,R),w[E]=O}})},Pi.prototype.stores=function(k){var w=this.db,k=(this._cfg.storesSource=this._cfg.storesSource?d(this._cfg.storesSource,k):k,w._versions),E={},R={};return k.forEach(function(O){d(E,O._cfg.storesSource),R=O._cfg.dbschema={},O._parseStoresSpec(E,R)}),w._dbSchema=R,Cs(w,[w._allTables,w,w.Transaction.prototype]),jl(w,[w._allTables,w,w.Transaction.prototype,this._cfg.tables],l(R),R),w._storeNames=l(R),this},Pi.prototype.upgrade=function(g){return this._cfg.contentUpgrade=fn(this._cfg.contentUpgrade||Ve,g),this};var zx=Pi;function Pi(){}function Nl(g,w){var k=g._dbNamesDB;return k||(k=g._dbNamesDB=new Zs(hl,{addons:[],indexedDB:g,IDBKeyRange:w})).version(1).stores({dbnames:"name"}),k.table("dbnames")}function ga(g){return g&&typeof g.databases=="function"}function so(g){return wi(function(){return He.letThrough=!0,g()})}function Fc(g){return!("from"in g)}var ar=function(g,w){var k;if(!this)return k=new ar,g&&"d"in g&&d(k,g),k;d(this,arguments.length?{d:1,from:g,to:1<arguments.length?w:g}:{d:0})};function Sl(g,w,k){var E=Ct(w,k);if(!isNaN(E)){if(0<E)throw RangeError();if(Fc(g))return d(g,{from:w,to:k,d:1});var E=g.l,R=g.r;if(Ct(k,g.from)<0)return E?Sl(E,w,k):g.l={from:w,to:k,d:1,l:null,r:null},ep(g);if(0<Ct(w,g.to))return R?Sl(R,w,k):g.r={from:w,to:k,d:1,l:null,r:null},ep(g);Ct(w,g.from)<0&&(g.from=w,g.l=null,g.d=R?R.d+1:1),0<Ct(k,g.to)&&(g.to=k,g.r=null,g.d=g.l?g.l.d+1:1),w=!g.r,E&&!g.l&&kl(g,E),R&&w&&kl(g,R)}}function kl(g,w){Fc(w)||(function k(E,R){var O=R.from,U=R.l,q=R.r;Sl(E,O,R.to),U&&k(E,U),q&&k(E,q)})(g,w)}function $c(g,w){var k=Bc(w),E=k.next();if(!E.done)for(var R=E.value,O=Bc(g),U=O.next(R.from),q=U.value;!E.done&&!U.done;){if(Ct(q.from,R.to)<=0&&0<=Ct(q.to,R.from))return!0;Ct(R.from,q.from)<0?R=(E=k.next(q.from)).value:q=(U=O.next(R.from)).value}return!1}function Bc(g){var w=Fc(g)?null:{s:0,n:g};return{next:function(k){for(var E=0<arguments.length;w;)switch(w.s){case 0:if(w.s=1,E)for(;w.n.l&&Ct(k,w.n.from)<0;)w={up:w,n:w.n.l,s:1};else for(;w.n.l;)w={up:w,n:w.n.l,s:1};case 1:if(w.s=2,!E||Ct(k,w.n.to)<=0)return{value:w.n,done:!1};case 2:if(w.n.r){w.s=3,w={up:w,n:w.n.r,s:0};continue}case 3:w=w.up}return{done:!0}}}}function ep(g){var w,k,E,R=(((R=g.r)==null?void 0:R.d)||0)-(((R=g.l)==null?void 0:R.d)||0),R=1<R?"r":R<-1?"l":"";R&&(w=R=="r"?"l":"r",k=r({},g),E=g[R],g.from=E.from,g.to=E.to,g[R]=E[R],k[R]=E[w],(g[w]=k).d=tp(k)),g.d=tp(g)}function tp(k){var w=k.r,k=k.l;return(w?k?Math.max(w.d,k.d):w.d:k?k.d:0)+1}function zc(g,w){return l(w).forEach(function(k){g[k]?kl(g[k],w[k]):g[k]=(function E(R){var O,U,q={};for(O in R)m(R,O)&&(U=R[O],q[O]=!U||typeof U!="object"||H.has(U.constructor)?U:E(U));return q})(w[k])}),g}function Pd(g,w){return g.all||w.all||Object.keys(g).some(function(k){return w[k]&&$c(w[k],g[k])})}x(ar.prototype,((_e={add:function(g){return kl(this,g),this},addKey:function(g){return Sl(this,g,g),this},addKeys:function(g){var w=this;return g.forEach(function(k){return Sl(w,k,k)}),this},hasKey:function(g){var w=Bc(this).next(g).value;return w&&Ct(w.from,g)<=0&&0<=Ct(w.to,g)}})[ge]=function(){return Bc(this)},_e));var Ai={},Ad={},Td=!1;function Uc(g){zc(Ad,g),Td||(Td=!0,setTimeout(function(){Td=!1,Rd(Ad,!(Ad={}))},0))}function Rd(g,w){w===void 0&&(w=!1);var k=new Set;if(g.all)for(var E=0,R=Object.values(Ai);E<R.length;E++)Vc(q=R[E],g,k,w);else for(var O in g){var U,q,O=/^idb\:\/\/(.*)\/(.*)\//.exec(O);O&&(U=O[1],O=O[2],q=Ai["idb://".concat(U,"/").concat(O)])&&Vc(q,g,k,w)}k.forEach(function(ie){return ie()})}function Vc(g,w,k,E){for(var R=[],O=0,U=Object.entries(g.queries.query);O<U.length;O++){for(var q=U[O],ie=q[0],ue=[],te=0,J=q[1];te<J.length;te++){var oe=J[te];Pd(w,oe.obsSet)?oe.subscribers.forEach(function(me){return k.add(me)}):E&&ue.push(oe)}E&&R.push([ie,ue])}if(E)for(var le=0,se=R;le<se.length;le++){var ne=se[le],ie=ne[0],ue=ne[1];g.queries.query[ie]=ue}}function Ux(g){var w=g._state,k=g._deps.indexedDB;if(w.isBeingOpened||g.idbdb)return w.dbReadyPromise.then(function(){return w.dbOpenError?An(w.dbOpenError):g});w.isBeingOpened=!0,w.dbOpenError=null,w.openComplete=!1;var E=w.openCanceller,R=Math.round(10*g.verno),O=!1;function U(){if(w.openCanceller!==E)throw new Ce.DatabaseClosed("db.open() was cancelled")}function q(){return new Xe(function(oe,le){if(U(),!k)throw new Ce.MissingAPI;var se=g.name,ne=w.autoSchema||!R?k.open(se):k.open(se,R);if(!ne)throw new Ce.MissingAPI;ne.onerror=Qn(le),ne.onblocked=sn(g._fireOnBlocked),ne.onupgradeneeded=sn(function(me){var be;te=ne.transaction,w.autoSchema&&!g._options.allowEmptyDB?(ne.onerror=vl,te.abort(),ne.result.close(),(be=k.deleteDatabase(se)).onsuccess=be.onerror=sn(function(){le(new Ce.NoSuchDatabase("Database ".concat(se," doesnt exist")))})):(te.onerror=Qn(le),be=me.oldVersion>Math.pow(2,62)?0:me.oldVersion,J=be<1,g.idbdb=ne.result,O&&Zh(g,te),Lc(g,be/10,te,le))},le),ne.onsuccess=sn(function(){te=null;var me,be,de,Ae,Re,Ge,Qe=g.idbdb=ne.result,Me=T(Qe.objectStoreNames);if(0<Me.length)try{var Ze=Qe.transaction((Re=Me).length===1?Re[0]:Re,"readonly");if(w.autoSchema)Ge=Qe,Ae=Ze,(de=g).verno=Ge.version/10,Ae=de._dbSchema=Xs(0,Ge,Ae),de._storeNames=T(Ge.objectStoreNames,0),jl(de,[de._allTables],l(Ae),Ae);else if(no(g,g._dbSchema,Ze),be=Ze,((be=eo(Xs(0,(me=g).idbdb,be),me._dbSchema)).add.length||be.change.some(function(Je){return Je.add.length||Je.change.length}))&&!O)return console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this."),Qe.close(),R=Qe.version+1,O=!0,oe(q());Za(g,Ze)}catch{}Si.push(g),Qe.onversionchange=sn(function(Je){w.vcFired=!0,g.on("versionchange").fire(Je)}),Qe.onclose=sn(function(){g.close({disableAutoOpen:!1})}),J&&(Me=g._deps,Re=se,ga(Ge=Me.indexedDB)||Re===hl||Nl(Ge,Me.IDBKeyRange).put({name:Re}).catch(Ve)),oe()},le)}).catch(function(oe){switch(oe==null?void 0:oe.name){case"UnknownError":if(0<w.PR1398_maxLoop)return w.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),q();break;case"VersionError":if(0<R)return R=0,q()}return Xe.reject(oe)})}var ie,ue=w.dbReadyResolve,te=null,J=!1;return Xe.race([E,(typeof navigator>"u"?Xe.resolve():!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(oe){function le(){return indexedDB.databases().finally(oe)}ie=setInterval(le,100),le()}).finally(function(){return clearInterval(ie)}):Promise.resolve()).then(q)]).then(function(){return U(),w.onReadyBeingFired=[],Xe.resolve(so(function(){return g.on.ready.fire(g.vip)})).then(function oe(){var le;if(0<w.onReadyBeingFired.length)return le=w.onReadyBeingFired.reduce(fn,Ve),w.onReadyBeingFired=[],Xe.resolve(so(function(){return le(g.vip)})).then(oe)})}).finally(function(){w.openCanceller===E&&(w.onReadyBeingFired=null,w.isBeingOpened=!1)}).catch(function(oe){w.dbOpenError=oe;try{te&&te.abort()}catch{}return E===w.openCanceller&&g._close(),An(oe)}).finally(function(){w.openComplete=!0,ue()}).then(function(){var oe;return J&&(oe={},g.tables.forEach(function(le){le.schema.indexes.forEach(function(se){se.name&&(oe["idb://".concat(g.name,"/").concat(le.name,"/").concat(se.name)]=new ar(-1/0,[[[]]]))}),oe["idb://".concat(g.name,"/").concat(le.name,"/")]=oe["idb://".concat(g.name,"/").concat(le.name,"/:dels")]=new ar(-1/0,[[[]]])}),Ci(Ja).fire(oe),Rd(oe,!0)),g})}function Id(g){function w(O){return g.next(O)}var k=R(w),E=R(function(O){return g.throw(O)});function R(O){return function(q){var q=O(q),ie=q.value;return q.done?ie:ie&&typeof ie.then=="function"?ie.then(k,E):u(ie)?Promise.all(ie).then(k,E):k(ie)}}return R(w)()}function Wc(g,w,k){for(var E=u(g)?g.slice():[g],R=0;R<k;++R)E.push(w);return E}var np={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(g){return r(r({},g),{table:function(E){var k=g.table(E),E=k.schema,R={},O=[];function U(oe,le,se){var de=wl(oe),ne=R[de]=R[de]||[],me=oe==null?0:typeof oe=="string"?1:oe.length,be=0<le,de=r(r({},se),{name:be?"".concat(de,"(virtual-from:").concat(se.name,")"):se.name,lowLevelIndex:se,isVirtual:be,keyTail:le,keyLength:me,extractKey:Ei(oe),unique:!be&&se.unique});return ne.push(de),de.isPrimaryKey||O.push(de),1<me&&U(me===2?oe[0]:oe.slice(0,me-1),le+1,se),ne.sort(function(Ae,Re){return Ae.keyTail-Re.keyTail}),de}var q=U(E.primaryKey.keyPath,0,E.primaryKey);R[":id"]=[q];for(var ie=0,ue=E.indexes;ie<ue.length;ie++){var te=ue[ie];U(te.keyPath,0,te)}function J(oe){var le,se=oe.query.index;return se.isVirtual?r(r({},oe),{query:{index:se.lowLevelIndex,range:(le=oe.query.range,se=se.keyTail,{type:le.type===1?2:le.type,lower:Wc(le.lower,le.lowerOpen?g.MAX_KEY:g.MIN_KEY,se),lowerOpen:!0,upper:Wc(le.upper,le.upperOpen?g.MIN_KEY:g.MAX_KEY,se),upperOpen:!0})}}):oe}return r(r({},k),{schema:r(r({},E),{primaryKey:q,indexes:O,getIndexByKeyPath:function(oe){return(oe=R[wl(oe)])&&oe[0]}}),count:function(oe){return k.count(J(oe))},query:function(oe){return k.query(J(oe))},openCursor:function(oe){var le=oe.query.index,se=le.keyTail,ne=le.keyLength;return le.isVirtual?k.openCursor(J(oe)).then(function(be){return be&&me(be)}):k.openCursor(oe);function me(be){return Object.create(be,{continue:{value:function(de){de!=null?be.continue(Wc(de,oe.reverse?g.MAX_KEY:g.MIN_KEY,se)):oe.unique?be.continue(be.key.slice(0,ne).concat(oe.reverse?g.MIN_KEY:g.MAX_KEY,se)):be.continue()}},continuePrimaryKey:{value:function(de,Ae){be.continuePrimaryKey(Wc(de,g.MAX_KEY,se),Ae)}},primaryKey:{get:function(){return be.primaryKey}},key:{get:function(){var de=be.key;return ne===1?de[0]:de.slice(0,ne)}},value:{get:function(){return be.value}}})}}})}})}};function Md(g,w,k,E){return k=k||{},E=E||"",l(g).forEach(function(R){var O,U,q;m(w,R)?(O=g[R],U=w[R],typeof O=="object"&&typeof U=="object"&&O&&U?(q=he(O))!==he(U)?k[E+R]=w[R]:q==="Object"?Md(O,U,k,E+R+"."):O!==U&&(k[E+R]=w[R]):O!==U&&(k[E+R]=w[R])):k[E+R]=void 0}),l(w).forEach(function(R){m(g,R)||(k[E+R]=w[R])}),k}function Od(g,w){return w.type==="delete"?w.keys:w.keys||w.values.map(g.extractKey)}var Vx={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(g){return r(r({},g),{table:function(w){var k=g.table(w),E=k.schema.primaryKey;return r(r({},k),{mutate:function(R){var O=He.trans,U=O.table(w).hook,q=U.deleting,ie=U.creating,ue=U.updating;switch(R.type){case"add":if(ie.fire===Ve)break;return O._promise("readwrite",function(){return te(R)},!0);case"put":if(ie.fire===Ve&&ue.fire===Ve)break;return O._promise("readwrite",function(){return te(R)},!0);case"delete":if(q.fire===Ve)break;return O._promise("readwrite",function(){return te(R)},!0);case"deleteRange":if(q.fire===Ve)break;return O._promise("readwrite",function(){return(function J(oe,le,se){return k.query({trans:oe,values:!1,query:{index:E,range:le},limit:se}).then(function(ne){var me=ne.result;return te({type:"delete",keys:me,trans:oe}).then(function(be){return 0<be.numFailures?Promise.reject(be.failures[0]):me.length<se?{failures:[],numFailures:0,lastResult:void 0}:J(oe,r(r({},le),{lower:me[me.length-1],lowerOpen:!0}),se)})})})(R.trans,R.range,1e4)},!0)}return k.mutate(R);function te(J){var oe,le,se,ne=He.trans,me=J.keys||Od(E,J);if(me)return(J=J.type==="add"||J.type==="put"?r(r({},J),{keys:me}):r({},J)).type!=="delete"&&(J.values=s([],J.values)),J.keys&&(J.keys=s([],J.keys)),oe=k,se=me,((le=J).type==="add"?Promise.resolve([]):oe.getMany({trans:le.trans,keys:se,cache:"immutable"})).then(function(be){var de=me.map(function(Ae,Re){var Ge,Qe,Me,Ze=be[Re],Je={onerror:null,onsuccess:null};return J.type==="delete"?q.fire.call(Je,Ae,Ze,ne):J.type==="add"||Ze===void 0?(Ge=ie.fire.call(Je,Ae,J.values[Re],ne),Ae==null&&Ge!=null&&(J.keys[Re]=Ae=Ge,E.outbound||V(J.values[Re],E.keyPath,Ae))):(Ge=Md(Ze,J.values[Re]),(Qe=ue.fire.call(Je,Ge,Ae,Ze,ne))&&(Me=J.values[Re],Object.keys(Qe).forEach(function(We){m(Me,We)?Me[We]=Qe[We]:V(Me,We,Qe[We])}))),Je});return k.mutate(J).then(function(Ae){for(var Re=Ae.failures,Ge=Ae.results,Qe=Ae.numFailures,Ae=Ae.lastResult,Me=0;Me<me.length;++Me){var Ze=(Ge||me)[Me],Je=de[Me];Ze==null?Je.onerror&&Je.onerror(Re[Me]):Je.onsuccess&&Je.onsuccess(J.type==="put"&&be[Me]?J.values[Me]:Ze)}return{failures:Re,results:Ge,numFailures:Qe,lastResult:Ae}}).catch(function(Ae){return de.forEach(function(Re){return Re.onerror&&Re.onerror(Ae)}),Promise.reject(Ae)})});throw new Error("Keys missing")}}})}})}};function rp(g,w,k){try{if(!w||w.keys.length<g.length)return null;for(var E=[],R=0,O=0;R<w.keys.length&&O<g.length;++R)Ct(w.keys[R],g[O])===0&&(E.push(k?ve(w.values[R]):w.values[R]),++O);return E.length===g.length?E:null}catch{return null}}var Wx={stack:"dbcore",level:-1,create:function(g){return{table:function(w){var k=g.table(w);return r(r({},k),{getMany:function(E){var R;return E.cache?(R=rp(E.keys,E.trans._cache,E.cache==="clone"))?Xe.resolve(R):k.getMany(E).then(function(O){return E.trans._cache={keys:E.keys,values:E.cache==="clone"?ve(O):O},O}):k.getMany(E)},mutate:function(E){return E.type!=="add"&&(E.trans._cache=null),k.mutate(E)}})}}}};function sp(g,w){return g.trans.mode==="readonly"&&!!g.subscr&&!g.trans.explicit&&g.trans.db._options.cache!=="disabled"&&!w.schema.primaryKey.outbound}function ip(g,w){switch(g){case"query":return w.values&&!w.unique;case"get":case"getMany":case"count":case"openCursor":return!1}}var Dd={stack:"dbcore",level:0,name:"Observability",create:function(g){var w=g.schema.name,k=new ar(g.MIN_KEY,g.MAX_KEY);return r(r({},g),{transaction:function(E,R,O){if(He.subscr&&R!=="readonly")throw new Ce.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(He.querier));return g.transaction(E,R,O)},table:function(E){function R(me){var ne,me=me.query;return[ne=me.index,new ar((ne=(me=me.range).lower)!=null?ne:g.MIN_KEY,(ne=me.upper)!=null?ne:g.MAX_KEY)]}var O=g.table(E),U=O.schema,q=U.primaryKey,ie=U.indexes,ue=q.extractKey,te=q.outbound,J=q.autoIncrement&&ie.filter(function(se){return se.compound&&se.keyPath.includes(q.keyPath)}),oe=r(r({},O),{mutate:function(se){function ne(rt){return rt="idb://".concat(w,"/").concat(E,"/").concat(rt),Re[rt]||(Re[rt]=new ar)}var me,be,de,Ae=se.trans,Re=se.mutatedParts||(se.mutatedParts={}),Ge=ne(""),Qe=ne(":dels"),Me=se.type,Je=se.type==="deleteRange"?[se.range]:se.type==="delete"?[se.keys]:se.values.length<50?[Od(q,se).filter(function(rt){return rt}),se.values]:[],Ze=Je[0],Je=Je[1],We=se.trans._cache;return u(Ze)?(Ge.addKeys(Ze),(Me=Me==="delete"||Ze.length===Je.length?rp(Ze,We):null)||Qe.addKeys(Ze),(Me||Je)&&(me=ne,be=Me,de=Je,U.indexes.forEach(function(rt){var Ut=me(rt.name||"");function Gt(Rt){return Rt!=null?rt.extractKey(Rt):null}function gt(Rt){rt.multiEntry&&u(Rt)?Rt.forEach(function(pn){return Ut.addKey(pn)}):Ut.addKey(Rt)}(be||de).forEach(function(Rt,en){var zr=be&&Gt(be[en]),en=de&&Gt(de[en]);Ct(zr,en)!==0&&(zr!=null&&gt(zr),en!=null)&&gt(en)})}))):Ze?(Je={from:(We=Ze.lower)!=null?We:g.MIN_KEY,to:(Me=Ze.upper)!=null?Me:g.MAX_KEY},Qe.add(Je),Ge.add(Je)):(Ge.add(k),Qe.add(k),U.indexes.forEach(function(rt){return ne(rt.name).add(k)})),O.mutate(se).then(function(rt){return!Ze||se.type!=="add"&&se.type!=="put"||(Ge.addKeys(rt.results),J&&J.forEach(function(Ut){for(var Gt=se.values.map(function(zr){return Ut.extractKey(zr)}),gt=Ut.keyPath.findIndex(function(zr){return zr===q.keyPath}),Rt=0,pn=rt.results.length;Rt<pn;++Rt)Gt[Rt][gt]=rt.results[Rt];ne(Ut.name).addKeys(Gt)})),Ae.mutatedParts=zc(Ae.mutatedParts||{},Re),rt})}}),le={get:function(se){return[q,new ar(se.key)]},getMany:function(se){return[q,new ar().addKeys(se.keys)]},count:R,query:R,openCursor:R};return l(le).forEach(function(se){oe[se]=function(ne){var me=He.subscr,be=!!me,de=sp(He,O)&&ip(se,ne)?ne.obsSet={}:me;if(be){var Ae,me=function(Je){return Je="idb://".concat(w,"/").concat(E,"/").concat(Je),de[Je]||(de[Je]=new ar)},Re=me(""),Ge=me(":dels"),be=le[se](ne),Qe=be[0],be=be[1];if((se==="query"&&Qe.isPrimaryKey&&!ne.values?Ge:me(Qe.name||"")).add(be),!Qe.isPrimaryKey){if(se!=="count")return Ae=se==="query"&&te&&ne.values&&O.query(r(r({},ne),{values:!1})),O[se].apply(this,arguments).then(function(Je){if(se==="query"){if(te&&ne.values)return Ae.then(function(Gt){return Gt=Gt.result,Re.addKeys(Gt),Je});var We=ne.values?Je.result.map(ue):Je.result;(ne.values?Re:Ge).addKeys(We)}else{var rt,Ut;if(se==="openCursor")return Ut=ne.values,(rt=Je)&&Object.create(rt,{key:{get:function(){return Ge.addKey(rt.primaryKey),rt.key}},primaryKey:{get:function(){var Gt=rt.primaryKey;return Ge.addKey(Gt),Gt}},value:{get:function(){return Ut&&Re.addKey(rt.primaryKey),rt.value}}})}return Je});Ge.add(k)}}return O[se].apply(this,arguments)}}),oe}})}};function io(g,w,k){var E;return k.numFailures===0?w:w.type==="deleteRange"||(E=w.keys?w.keys.length:"values"in w&&w.values?w.values.length:1,k.numFailures===E)?null:(E=r({},w),u(E.keys)&&(E.keys=E.keys.filter(function(R,O){return!(O in k.failures)})),"values"in E&&u(E.values)&&(E.values=E.values.filter(function(R,O){return!(O in k.failures)})),E)}function Ld(g,w){return k=g,((E=w).lower===void 0||(E.lowerOpen?0<Ct(k,E.lower):0<=Ct(k,E.lower)))&&(k=g,(E=w).upper===void 0||(E.upperOpen?Ct(k,E.upper)<0:Ct(k,E.upper)<=0));var k,E}function Fd(g,w,k,E,R,O){var U,q,ie,ue,te,J;return!k||k.length===0||(U=w.query.index,q=U.multiEntry,ie=w.query.range,ue=E.schema.primaryKey.extractKey,te=U.extractKey,J=(U.lowLevelIndex||U).extractKey,(E=k.reduce(function(oe,le){var se=oe,ne=[];if(le.type==="add"||le.type==="put")for(var me=new ar,be=le.values.length-1;0<=be;--be){var de,Ae=le.values[be],Re=ue(Ae);!me.hasKey(Re)&&(de=te(Ae),q&&u(de)?de.some(function(Je){return Ld(Je,ie)}):Ld(de,ie))&&(me.addKey(Re),ne.push(Ae))}switch(le.type){case"add":var Ge=new ar().addKeys(w.values?oe.map(function(We){return ue(We)}):oe),se=oe.concat(w.values?ne.filter(function(We){return We=ue(We),!Ge.hasKey(We)&&(Ge.addKey(We),!0)}):ne.map(function(We){return ue(We)}).filter(function(We){return!Ge.hasKey(We)&&(Ge.addKey(We),!0)}));break;case"put":var Qe=new ar().addKeys(le.values.map(function(We){return ue(We)}));se=oe.filter(function(We){return!Qe.hasKey(w.values?ue(We):We)}).concat(w.values?ne:ne.map(function(We){return ue(We)}));break;case"delete":var Me=new ar().addKeys(le.keys);se=oe.filter(function(We){return!Me.hasKey(w.values?ue(We):We)});break;case"deleteRange":var Ze=le.range;se=oe.filter(function(We){return!Ld(ue(We),Ze)})}return se},g))===g)?g:(E.sort(function(oe,le){return Ct(J(oe),J(le))||Ct(ue(oe),ue(le))}),w.limit&&w.limit<1/0&&(E.length>w.limit?E.length=w.limit:g.length===w.limit&&E.length<w.limit&&(R.dirty=!0)),O?Object.freeze(E):E)}function $d(g,w){return Ct(g.lower,w.lower)===0&&Ct(g.upper,w.upper)===0&&!!g.lowerOpen==!!w.lowerOpen&&!!g.upperOpen==!!w.upperOpen}function ap(g,w){return((k,E,R,O)=>{if(k===void 0)return E!==void 0?-1:0;if(E===void 0)return 1;if((k=Ct(k,E))===0){if(R&&O)return 0;if(R)return 1;if(O)return-1}return k})(g.lower,w.lower,g.lowerOpen,w.lowerOpen)<=0&&0<=((k,E,R,O)=>{if(k===void 0)return E!==void 0?1:0;if(E===void 0)return-1;if((k=Ct(k,E))===0){if(R&&O)return 0;if(R)return-1;if(O)return 1}return k})(g.upper,w.upper,g.upperOpen,w.upperOpen)}function op(g,w,k,E){g.subscribers.add(k),E.addEventListener("abort",function(){var R,O;g.subscribers.delete(k),g.subscribers.size===0&&(R=g,O=w,setTimeout(function(){R.subscribers.size===0&&K(O,R)},3e3))})}var lp={stack:"dbcore",level:0,name:"Cache",create:function(g){var w=g.schema.name;return r(r({},g),{transaction:function(k,E,R){var O,U,q=g.transaction(k,E,R);return E==="readwrite"&&(R=(O=new AbortController).signal,q.addEventListener("abort",(U=function(ie){return function(){if(O.abort(),E==="readwrite"){for(var ue=new Set,te=0,J=k;te<J.length;te++){var oe=J[te],le=Ai["idb://".concat(w,"/").concat(oe)];if(le){var se=g.table(oe),ne=le.optimisticOps.filter(function(rt){return rt.trans===q});if(q._explicit&&ie&&q.mutatedParts)for(var me=0,be=Object.values(le.queries.query);me<be.length;me++)for(var de=0,Ae=(Qe=be[me]).slice();de<Ae.length;de++)Pd((Me=Ae[de]).obsSet,q.mutatedParts)&&(K(Qe,Me),Me.subscribers.forEach(function(rt){return ue.add(rt)}));else if(0<ne.length){le.optimisticOps=le.optimisticOps.filter(function(rt){return rt.trans!==q});for(var Re=0,Ge=Object.values(le.queries.query);Re<Ge.length;Re++)for(var Qe,Me,Ze,Je=0,We=(Qe=Ge[Re]).slice();Je<We.length;Je++)(Me=We[Je]).res!=null&&q.mutatedParts&&(ie&&!Me.dirty?(Ze=Object.isFrozen(Me.res),Ze=Fd(Me.res,Me.req,ne,se,Me,Ze),Me.dirty?(K(Qe,Me),Me.subscribers.forEach(function(rt){return ue.add(rt)})):Ze!==Me.res&&(Me.res=Ze,Me.promise=Xe.resolve({result:Ze}))):(Me.dirty&&K(Qe,Me),Me.subscribers.forEach(function(rt){return ue.add(rt)})))}}}ue.forEach(function(rt){return rt()})}}})(!1),{signal:R}),q.addEventListener("error",U(!1),{signal:R}),q.addEventListener("complete",U(!0),{signal:R})),q},table:function(k){var E=g.table(k),R=E.schema.primaryKey;return r(r({},E),{mutate:function(O){var U,q=He.trans;return!R.outbound&&q.db._options.cache!=="disabled"&&!q.explicit&&q.idbtrans.mode==="readwrite"&&(U=Ai["idb://".concat(w,"/").concat(k)])?(q=E.mutate(O),O.type!=="add"&&O.type!=="put"||!(50<=O.values.length||Od(R,O).some(function(ie){return ie==null}))?(U.optimisticOps.push(O),O.mutatedParts&&Uc(O.mutatedParts),q.then(function(ie){0<ie.numFailures&&(K(U.optimisticOps,O),(ie=io(0,O,ie))&&U.optimisticOps.push(ie),O.mutatedParts)&&Uc(O.mutatedParts)}),q.catch(function(){K(U.optimisticOps,O),O.mutatedParts&&Uc(O.mutatedParts)})):q.then(function(ie){var ue=io(0,r(r({},O),{values:O.values.map(function(te,J){var oe;return ie.failures[J]?te:(V(oe=(oe=R.keyPath)!=null&&oe.includes(".")?ve(te):r({},te),R.keyPath,ie.results[J]),oe)})}),ie);U.optimisticOps.push(ue),queueMicrotask(function(){return O.mutatedParts&&Uc(O.mutatedParts)})}),q):E.mutate(O)},query:function(O){var U,q,ie,ue,te,J,oe;return sp(He,E)&&ip("query",O)?(U=((ie=He.trans)==null?void 0:ie.db._options.cache)==="immutable",q=(ie=He).requery,ie=ie.signal,J=((le,se,ne,me)=>{var be=Ai["idb://".concat(le,"/").concat(se)];if(!be)return[];if(!(le=be.queries[ne]))return[null,!1,be,null];var de=le[(me.query?me.query.index.name:null)||""];if(!de)return[null,!1,be,null];switch(ne){case"query":var Ae=de.find(function(Re){return Re.req.limit===me.limit&&Re.req.values===me.values&&$d(Re.req.query.range,me.query.range)});return Ae?[Ae,!0,be,de]:[de.find(function(Re){return("limit"in Re.req?Re.req.limit:1/0)>=me.limit&&(!me.values||Re.req.values)&&ap(Re.req.query.range,me.query.range)}),!1,be,de];case"count":return Ae=de.find(function(Re){return $d(Re.req.query.range,me.query.range)}),[Ae,!!Ae,be,de]}})(w,k,"query",O),oe=J[0],ue=J[2],te=J[3],oe&&J[1]?oe.obsSet=O.obsSet:(J=E.query(O).then(function(le){var se=le.result;if(oe&&(oe.res=se),U){for(var ne=0,me=se.length;ne<me;++ne)Object.freeze(se[ne]);Object.freeze(se)}else le.result=ve(se);return le}).catch(function(le){return te&&oe&&K(te,oe),Promise.reject(le)}),oe={obsSet:O.obsSet,promise:J,subscribers:new Set,type:"query",req:O,dirty:!1},te?te.push(oe):(te=[oe],(ue=ue||(Ai["idb://".concat(w,"/").concat(k)]={queries:{query:{},count:{}},objs:new Map,optimisticOps:[],unsignaledParts:{}})).queries.query[O.query.index.name||""]=te)),op(oe,te,q,ie),oe.promise.then(function(le){return{result:Fd(le.result,O,ue==null?void 0:ue.optimisticOps,E,oe,U)}})):E.query(O)}})}})}};function Js(g,w){return new Proxy(g,{get:function(k,E,R){return E==="db"?w:Reflect.get(k,E,R)}})}Tn.prototype.version=function(g){if(isNaN(g)||g<.1)throw new Ce.Type("Given version is not a positive number");if(g=Math.round(10*g)/10,this.idbdb||this._state.isBeingOpened)throw new Ce.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,g);var w=this._versions,k=w.filter(function(E){return E._cfg.version===g})[0];return k||(k=new this.Version(g),w.push(k),w.sort(Cd),k.stores({}),this._state.autoSchema=!1),k},Tn.prototype._whenReady=function(g){var w=this;return this.idbdb&&(this._state.openComplete||He.letThrough||this._vip)?g():new Xe(function(k,E){if(w._state.openComplete)return E(new Ce.DatabaseClosed(w._state.dbOpenError));if(!w._state.isBeingOpened){if(!w._state.autoOpen)return void E(new Ce.DatabaseClosed);w.open().catch(Ve)}w._state.dbReadyPromise.then(k,E)}).then(g)},Tn.prototype.use=function(R){var w=R.stack,k=R.create,E=R.level,R=R.name,O=(R&&this.unuse({stack:w,name:R}),this._middlewares[w]||(this._middlewares[w]=[]));return O.push({stack:w,create:k,level:E??10,name:R}),O.sort(function(U,q){return U.level-q.level}),this},Tn.prototype.unuse=function(g){var w=g.stack,k=g.name,E=g.create;return w&&this._middlewares[w]&&(this._middlewares[w]=this._middlewares[w].filter(function(R){return E?R.create!==E:!!k&&R.name!==k})),this},Tn.prototype.open=function(){var g=this;return Ni(Sn,function(){return Ux(g)})},Tn.prototype._close=function(){this.on.close.fire(new CustomEvent("close"));var g=this._state,w=Si.indexOf(this);if(0<=w&&Si.splice(w,1),this.idbdb){try{this.idbdb.close()}catch{}this.idbdb=null}g.isBeingOpened||(g.dbReadyPromise=new Xe(function(k){g.dbReadyResolve=k}),g.openCanceller=new Xe(function(k,E){g.cancelOpen=E}))},Tn.prototype.close=function(w){var w=(w===void 0?{disableAutoOpen:!0}:w).disableAutoOpen,k=this._state;w?(k.isBeingOpened&&k.cancelOpen(new Ce.DatabaseClosed),this._close(),k.autoOpen=!1,k.dbOpenError=new Ce.DatabaseClosed):(this._close(),k.autoOpen=this._options.autoOpen||k.isBeingOpened,k.openComplete=!1,k.dbOpenError=null)},Tn.prototype.delete=function(g){var w=this,k=(g===void 0&&(g={disableAutoOpen:!0}),0<arguments.length&&typeof arguments[0]!="object"),E=this._state;return new Xe(function(R,O){function U(){w.close(g);var q=w._deps.indexedDB.deleteDatabase(w.name);q.onsuccess=sn(function(){var ie,ue,te;ie=w._deps,ue=w.name,ga(te=ie.indexedDB)||ue===hl||Nl(te,ie.IDBKeyRange).delete(ue).catch(Ve),R()}),q.onerror=Qn(O),q.onblocked=w._fireOnBlocked}if(k)throw new Ce.InvalidArgument("Invalid closeOptions argument to db.delete()");E.isBeingOpened?E.dbReadyPromise.then(U):U()})},Tn.prototype.backendDB=function(){return this.idbdb},Tn.prototype.isOpen=function(){return this.idbdb!==null},Tn.prototype.hasBeenClosed=function(){var g=this._state.dbOpenError;return g&&g.name==="DatabaseClosed"},Tn.prototype.hasFailed=function(){return this._state.dbOpenError!==null},Tn.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(Tn.prototype,"tables",{get:function(){var g=this;return l(this._allTables).map(function(w){return g._allTables[w]})},enumerable:!1,configurable:!0}),Tn.prototype.transaction=function(){var g=(function(w,k,E){var R=arguments.length;if(R<2)throw new Ce.InvalidArgument("Too few arguments");for(var O=new Array(R-1);--R;)O[R-1]=arguments[R];return E=O.pop(),[w,Y(O),E]}).apply(this,arguments);return this._transaction.apply(this,g)},Tn.prototype._transaction=function(g,w,k){var E,R,O=this,U=He.trans,q=(U&&U.db===this&&g.indexOf("!")===-1||(U=null),g.indexOf("?")!==-1);g=g.replace("!","").replace("?","");try{if(R=w.map(function(ue){if(ue=ue instanceof O.Table?ue.name:ue,typeof ue!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return ue}),g=="r"||g===Ya)E=Ya;else{if(g!="rw"&&g!=Nd)throw new Ce.InvalidArgument("Invalid transaction mode: "+g);E=Nd}if(U){if(U.mode===Ya&&E===Nd){if(!q)throw new Ce.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");U=null}U&&R.forEach(function(ue){if(U&&U.storeNames.indexOf(ue)===-1){if(!q)throw new Ce.SubTransaction("Table "+ue+" not included in parent transaction.");U=null}}),q&&U&&!U.active&&(U=null)}}catch(ue){return U?U._promise(null,function(te,J){J(ue)}):An(ue)}var ie=(function ue(te,J,oe,le,se){return Xe.resolve().then(function(){var de=He.transless||He,ne=te._createTransaction(J,oe,te._dbSchema,le),de=(ne.explicit=!0,{trans:ne,transless:de});if(le)ne.idbtrans=le.idbtrans;else try{ne.create(),ne.idbtrans._explicit=!0,te._state.PR1398_maxLoop=3}catch(Ae){return Ae.name===Pe.InvalidState&&te.isOpen()&&0<--te._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),te.close({disableAutoOpen:!1}),te.open().then(function(){return ue(te,J,oe,null,se)})):An(Ae)}var me,be=M(se),de=(be&&Ga(),Xe.follow(function(){var Ae;(me=se.call(ne,ne))&&(be?(Ae=Er.bind(null,null),me.then(Ae,Ae)):typeof me.next=="function"&&typeof me.throw=="function"&&(me=Id(me)))},de));return(me&&typeof me.then=="function"?Xe.resolve(me).then(function(Ae){return ne.active?Ae:An(new Ce.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):de.then(function(){return me})).then(function(Ae){return le&&ne._resolve(),ne._completion.then(function(){return Ae})}).catch(function(Ae){return ne._reject(Ae),An(Ae)})})}).bind(null,this,E,R,U,k);return U?U._promise(E,ie,"lock"):He.trans?Ni(He.transless,function(){return O._whenReady(ie)}):this._whenReady(ie)},Tn.prototype.table=function(g){if(m(this._allTables,g))return this._allTables[g];throw new Ce.InvalidTable("Table ".concat(g," does not exist"))};var Zs=Tn;function Tn(g,w){var k,E,R,O,U,q=this,ie=(this._middlewares={},this.verno=0,Tn.dependencies),ie=(this._options=w=r({addons:Tn.addons,autoOpen:!0,indexedDB:ie.indexedDB,IDBKeyRange:ie.IDBKeyRange,cache:"cloned"},w),this._deps={indexedDB:w.indexedDB,IDBKeyRange:w.IDBKeyRange},w.addons),ue=(this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this,{dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:Ve,dbReadyPromise:null,cancelOpen:Ve,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3,autoOpen:w.autoOpen}),te=(ue.dbReadyPromise=new Xe(function(J){ue.dbReadyResolve=J}),ue.openCanceller=new Xe(function(J,oe){ue.cancelOpen=oe}),this._state=ue,this.name=g,this.on=xl(this,"populate","blocked","versionchange","close",{ready:[fn,Ve]}),this.once=function(J,oe){var le=function(){for(var se=[],ne=0;ne<arguments.length;ne++)se[ne]=arguments[ne];q.on(J).unsubscribe(le),oe.apply(q,se)};return q.on(J,le)},this.on.ready.subscribe=I(this.on.ready.subscribe,function(J){return function(oe,le){Tn.vip(function(){var se,ne=q._state;ne.openComplete?(ne.dbOpenError||Xe.resolve().then(oe),le&&J(oe)):ne.onReadyBeingFired?(ne.onReadyBeingFired.push(oe),le&&J(oe)):(J(oe),se=q,le||J(function me(){se.on.ready.unsubscribe(oe),se.on.ready.unsubscribe(me)}))})}}),this.Collection=(k=this,da(Gh.prototype,function(me,ne){this.db=k;var le=pl,se=null;if(ne)try{le=ne()}catch(de){se=de}var ne=me._ctx,me=ne.table,be=me.hook.reading.fire;this._ctx={table:me,index:ne.index,isPrimKey:!ne.index||me.schema.primKey.keyPath&&ne.index===me.schema.primKey.name,range:le,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:se,or:ne.or,valueMapper:be!==_t?be:null}})),this.Table=(E=this,da(gl.prototype,function(J,oe,le){this.db=E,this._tx=le,this.name=J,this.schema=oe,this.hook=E._allTables[J]?E._allTables[J].hook:xl(null,{creating:[dn,Ve],reading:[yt,_t],updating:[zn,Ve],deleting:[ln,Ve]})})),this.Transaction=(R=this,da(Xh.prototype,function(J,oe,le,se,ne){var me=this;J!=="readonly"&&oe.forEach(function(be){be=(be=le[be])==null?void 0:be.yProps,be&&(oe=oe.concat(be.map(function(de){return de.updatesTable})))}),this.db=R,this.mode=J,this.storeNames=oe,this.schema=le,this.chromeTransactionDurability=se,this.idbtrans=null,this.on=xl(this,"complete","error","abort"),this.parent=ne||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new Xe(function(be,de){me._resolve=be,me._reject=de}),this._completion.then(function(){me.active=!1,me.on.complete.fire()},function(be){var de=me.active;return me.active=!1,me.on.error.fire(be),me.parent?me.parent._reject(be):de&&me.idbtrans&&me.idbtrans.abort(),An(be)})})),this.Version=(O=this,da(zx.prototype,function(J){this.db=O,this._cfg={version:J,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})),this.WhereClause=(U=this,da(Xa.prototype,function(J,oe,le){if(this.db=U,this._ctx={table:J,index:oe===":id"?null:oe,or:le},this._cmp=this._ascending=Ct,this._descending=function(se,ne){return Ct(ne,se)},this._max=function(se,ne){return 0<Ct(se,ne)?se:ne},this._min=function(se,ne){return Ct(se,ne)<0?se:ne},this._IDBKeyRange=U._deps.IDBKeyRange,!this._IDBKeyRange)throw new Ce.MissingAPI})),this.on("versionchange",function(J){0<J.newVersion?console.warn("Another connection wants to upgrade database '".concat(q.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(q.name,"'. Closing db now to resume the delete request.")),q.close({disableAutoOpen:!1})}),this.on("blocked",function(J){!J.newVersion||J.newVersion<J.oldVersion?console.warn("Dexie.delete('".concat(q.name,"') was blocked")):console.warn("Upgrade '".concat(q.name,"' blocked by other connection holding version ").concat(J.oldVersion/10))}),this._maxKey=Qs(w.IDBKeyRange),this._createTransaction=function(J,oe,le,se){return new q.Transaction(J,oe,le,q._options.chromeTransactionDurability,se)},this._fireOnBlocked=function(J){q.on("blocked").fire(J),Si.filter(function(oe){return oe.name===q.name&&oe!==q&&!oe._state.vcFired}).map(function(oe){return oe.on("versionchange").fire(J)})},this.use(Wx),this.use(lp),this.use(Dd),this.use(np),this.use(Vx),new Proxy(this,{get:function(J,oe,le){var se;return oe==="_vip"||(oe==="table"?function(ne){return Js(q.table(ne),te)}:(se=Reflect.get(J,oe,le))instanceof gl?Js(se,te):oe==="tables"?se.map(function(ne){return Js(ne,te)}):oe==="_createTransaction"?function(){return Js(se.apply(this,arguments),te)}:se)}}));this.vip=te,ie.forEach(function(J){return J(q)})}var qc,xa=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable",cp=(ya.prototype.subscribe=function(g,w,k){return this._subscribe(g&&typeof g!="function"?g:{next:g,error:w,complete:k})},ya.prototype[xa]=function(){return this},ya);function ya(g){this._subscribe=g}try{qc={indexedDB:o.indexedDB||o.mozIndexedDB||o.webkitIndexedDB||o.msIndexedDB,IDBKeyRange:o.IDBKeyRange||o.webkitIDBKeyRange}}catch{qc={indexedDB:null,IDBKeyRange:null}}function ao(g){var w,k=!1,E=new cp(function(R){var O=M(g),U,q=!1,ie={},ue={},te={get closed(){return q},unsubscribe:function(){q||(q=!0,U&&U.abort(),J&&Ci.storagemutated.unsubscribe(le))}},J=(R.start&&R.start(te),!1),oe=function(){return Tc(se)},le=function(ne){zc(ie,ne),Pd(ue,ie)&&oe()},se=function(){var ne,me,be;!q&&qc.indexedDB&&(ie={},ne={},U&&U.abort(),U=new AbortController,be=(de=>{var Ae=bi();try{O&&Ga();var Re=wi(g,de);return Re=O?Re.finally(Er):Re}finally{Ae&&aa()}})(me={subscr:ne,signal:U.signal,requery:oe,querier:g,trans:null}),Promise.resolve(be).then(function(de){k=!0,w=de,q||me.signal.aborted||(ie={},(Ae=>{for(var Re in Ae)if(m(Ae,Re))return;return 1})(ue=ne)||J||(Ci(Ja,le),J=!0),Tc(function(){return!q&&R.next&&R.next(de)}))},function(de){k=!1,["DatabaseClosedError","AbortError"].includes(de==null?void 0:de.name)||q||Tc(function(){q||R.error&&R.error(de)})}))};return setTimeout(oe,0),te});return E.hasValue=function(){return k},E.getValue=function(){return w},E}var va=Zs;function oo(g){var w=ei;try{ei=!0,Ci.storagemutated.fire(g),Rd(g,!0)}finally{ei=w}}x(va,r(r({},X),{delete:function(g){return new va(g,{addons:[]}).delete()},exists:function(g){return new va(g,{addons:[]}).open().then(function(w){return w.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(g){try{return w=va.dependencies,k=w.indexedDB,w=w.IDBKeyRange,(ga(k)?Promise.resolve(k.databases()).then(function(E){return E.map(function(R){return R.name}).filter(function(R){return R!==hl})}):Nl(k,w).toCollection().primaryKeys()).then(g)}catch{return An(new Ce.MissingAPI)}var w,k},defineClass:function(){return function(g){d(this,g)}},ignoreTransaction:function(g){return He.trans?Ni(He.transless,g):g()},vip:so,async:function(g){return function(){try{var w=Id(g.apply(this,arguments));return w&&typeof w.then=="function"?w:Xe.resolve(w)}catch(k){return An(k)}}},spawn:function(g,w,k){try{var E=Id(g.apply(k,w||[]));return E&&typeof E.then=="function"?E:Xe.resolve(E)}catch(R){return An(R)}},currentTransaction:{get:function(){return He.trans||null}},waitFor:function(g,w){return g=Xe.resolve(typeof g=="function"?va.ignoreTransaction(g):g).timeout(w||6e4),He.trans?He.trans.waitFor(g):g},Promise:Xe,debug:{get:function(){return Pn},set:function(g){ds(g)}},derive:N,extend:d,props:x,override:I,Events:xl,on:Ci,liveQuery:ao,extendObservabilitySet:zc,getByKeyPath:$,setByKeyPath:V,delByKeyPath:function(g,w){typeof w=="string"?V(g,w,void 0):"length"in w&&[].map.call(w,function(k){V(g,k,void 0)})},shallowClone:W,deepClone:ve,getObjectDiff:Md,cmp:Ct,asap:z,minKey:-1/0,addons:[],connections:Si,errnames:Pe,dependencies:qc,cache:Ai,semVer:"4.3.0",version:"4.3.0".split(".").map(function(g){return parseInt(g)}).reduce(function(g,w,k){return g+w/Math.pow(10,2*k)})})),va.maxKey=Qs(va.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(Ci(Ja,function(g){ei||(g=new CustomEvent(pa,{detail:g}),ei=!0,dispatchEvent(g),ei=!1)}),addEventListener(pa,function(g){g=g.detail,ei||oo(g)}));var lo,ei=!1,Hc=function(){};return typeof BroadcastChannel<"u"&&((Hc=function(){(lo=new BroadcastChannel(pa)).onmessage=function(g){return g.data&&oo(g.data)}})(),typeof lo.unref=="function"&&lo.unref(),Ci(Ja,function(g){ei||lo.postMessage(g)})),typeof addEventListener<"u"&&(addEventListener("pagehide",function(g){if(!Zs.disableBfCache&&g.persisted){Pn&&console.debug("Dexie: handling persisted pagehide"),lo!=null&&lo.close();for(var w=0,k=Si;w<k.length;w++)k[w].close({disableAutoOpen:!1})}}),addEventListener("pageshow",function(g){!Zs.disableBfCache&&g.persisted&&(Pn&&console.debug("Dexie: handling persisted pageshow"),Hc(),oo({all:new ar(-1/0,[[]])}))})),Xe.rejectionMapper=function(g,w){return!g||g instanceof Ee||g instanceof TypeError||g instanceof SyntaxError||!g.name||!et[g.name]?g:(w=new et[g.name](w||g.message,g),"stack"in g&&S(w,"stack",{get:function(){return this.inner.stack}}),w)},ds(Pn),r(Zs,Object.freeze({__proto__:null,Dexie:Zs,Entity:qh,PropModification:_i,RangeSet:ar,add:function(g){return new _i({add:g})},cmp:Ct,default:Zs,liveQuery:ao,mergeRanges:kl,rangesOverlap:$c,remove:function(g){return new _i({remove:g})},replacePrefix:function(g,w){return new _i({replacePrefix:[g,w]})}}),{default:Zs}),Zs})})(Pm)),Pm.exports}var AL=PL();const Rv=ad(AL),kS=Symbol.for("Dexie"),uc=globalThis[kS]||(globalThis[kS]=Rv);if(Rv.semVer!==uc.semVer)throw new Error(`Two different versions of Dexie loaded in the same app: ${Rv.semVer} and ${uc.semVer}`);const{liveQuery:Nte,mergeRanges:Ste,rangesOverlap:kte,RangeSet:_te,cmp:Cte,Entity:Ete,PropModification:Pte,replacePrefix:Ate,add:Tte,remove:Rte,DexieYProvider:Ite}=uc,Wt=new uc("StudyBuddy_Final_v6");console.log("APP_BOOT_VERSION: v3.6_FORCED_CLEAN_BOOT");window.location.href.includes("Music")&&console.warn(" SECURITY WARNING: App is running from the 'Music' folder. Windows Controlled Folder Access might block the database. If it fails, move the app to C:\\StudyBuddy");Wt.version(2).stores({modules:"++id, code, title, instructor, credits, semester, progress",assignments:"++id, title, module_id, description, due_date, status, priority, weight, grade, max_grade, submission_url",materials:"++id, title, module_id, type, content, is_processed, created_date",quizzes:"++id, material_id, module_id, questions, score, created_date",notes:"++id, material_id, module_id, content, type, created_date",studySessions:"++id, date, duration_minutes, module_id, path, user_id",settings:"id, key, value",learningActivities:"++id, activity_type, topic, module_id, performance_score, time_spent_minutes, created_date",skillGaps:"++id, skill_name, severity, status, module_id",essays:"++id, title, module_id, submitted_date",learningGoals:"++id, goal, goal_type, status",notifications:"++id, type, title, message, read, dismissed, priority, created_date, entity_type, entity_id",notificationSettings:"id, user_id, deadlines_enabled, materials_enabled, achievements_enabled, intervals, desktop_enabled",prescribedBooks:"++id, title, author, module_id, source_document",transactions:"++id, amount, currency, status, type, date, credits_added"});let lf=null,Iv=!1;function Mv(e){if(typeof document>"u"||document.getElementById("safe-mode-screen"))return;Iv=!0;const t=document.createElement("div");t.id="safe-mode-screen",t.style.cssText="position:fixed;top:0;left:0;width:100vw;height:100vh;background:#0f172a;color:#f1f5f9;display:flex;flex-direction:column;justify-content:center;align-items:center;z-index:999999;font-family:system-ui,-apple-system,sans-serif;padding:2rem;text-align:center;",t.innerHTML=`
        <div style="background:#1e293b;padding:3rem;border-radius:1rem;border:1px solid #334155;box-shadow:0 25px 50px -12px rgba(0,0,0,0.5);max-width:32rem;">
            <div style="font-size:4rem;margin-bottom:1rem;"></div>
            <h1 style="font-size:1.5rem;font-weight:700;margin-bottom:1rem;color:#f87171;">Storage Access Failure</h1>
            <p style="margin-bottom:1.5rem;color:#94a3b8;line-height:1.6;">
                Windows is preventing the application from accessing its local data files. 
                This usually happens if the data is corrupted or locked by another process.
            </p>
            <div style="background:#0f172a;padding:1rem;border-radius:0.5rem;font-family:monospace;font-size:0.75rem;color:#ef4444;margin-bottom:2rem;word-break:break-all;">
                CODE: ${(e==null?void 0:e.name)||"N/A"}<br/>
                INFO: ${(e==null?void 0:e.message)||"Unknown internal error"}
            </div>
            <div style="display:flex;flex-direction:column;gap:0.75rem;">
                <button onclick="localStorage.clear();sessionStorage.clear();window.location.reload();" 
                        style="background:#3b82f6;color:white;border:none;padding:0.75rem 1.5rem;border-radius:0.5rem;font-weight:600;cursor:pointer;">
                    Purge Cache & Restart
                </button>
                <button onclick="window.close()" 
                        style="background:transparent;color:#94a3b8;border:1px solid #334155;padding:0.75rem 1.5rem;border-radius:0.5rem;font-weight:600;cursor:pointer;">
                    Close Application
                </button>
            </div>
            <p style="margin-top:2rem;font-size:0.75rem;color:#475569;">
                <b>System Hint:</b> Since you are running from the 'Music' folder, Windows might be blocking access. 
                Move this entire folder to <b>C:\\StudyBuddy</b> or your <b>Desktop</b> to fix this. 
                A full computer restart also helps.
            </p>
        </div>
    `,document.body.appendChild(t)}async function fr(){if(!Wt.isOpen()){if(Iv)throw new Error("App is in Safe Mode UI.");if(lf)return lf;lf=(async()=>{var r;let t=null;for(let s=1;s<=3;s++)try{await Wt.open(),console.log("Database StudyBuddy_Final_v5 active.");return}catch(o){t=o,console.error(`DB Init Attempt ${s} failed:`,o),s<3&&await new Promise(l=>setTimeout(l,1e3*s))}if((t==null?void 0:t.name)==="UnknownError"||((r=t==null?void 0:t.message)==null?void 0:r.includes("Internal error")))if(parseInt(sessionStorage.getItem("fail_reloads")||"0")<1){console.warn("Attempting one-time automatic DB repair..."),sessionStorage.setItem("fail_reloads","1");try{await uc.delete("StudyBuddyDB"),await uc.delete("StudyBuddyDB_v2"),await uc.delete("StudyBuddyDB_v3")}catch{}setTimeout(()=>window.location.reload(),1500)}else Mv(t);else Mv(t);throw t})();try{await lf}finally{Iv||(lf=null)}}}Wt.on("blocked",()=>{console.warn("DB blocked by another process."),Mv({name:"Blocked",message:"The database is currently locked by another instance of the app."})});async function yE(e=null){await fr();try{let t=await Wt.table("studySessions").toArray();return e&&(t=t.filter(r=>r.module_id===e)),{totalMinutes:t.reduce((r,s)=>r+(s.duration_minutes||0),0),sessionCount:t.length,lastSession:t.length>0?t[t.length-1].date:null}}catch(t){return console.error("Error getting study stats:",t),{totalMinutes:0,sessionCount:0,lastSession:null}}}async function wu({type:e,title:t,message:n,priority:r="medium",entity_type:s=null,entity_id:o=null}){await fr();try{return await Wt.table("notifications").add({type:e,title:t,message:n,read:!1,dismissed:!1,priority:r,created_date:new Date().toISOString(),entity_type:s,entity_id:o})}catch(l){return console.error("Error creating notification:",l),null}}async function vE(e={}){await fr();try{let t=await Wt.table("notifications").toArray();return e.unreadOnly&&(t=t.filter(n=>!n.read&&!n.dismissed)),e.type&&(t=t.filter(n=>n.type===e.type)),t.sort((n,r)=>new Date(r.created_date).getTime()-new Date(n.created_date).getTime())}catch(t){return console.error("Error getting notifications:",t),[]}}async function bE(){await fr();try{return(await Wt.table("notifications").toArray()).filter(t=>!t.read&&!t.dismissed).length}catch(e){return console.error("Error getting unread count:",e),0}}async function wE(e){await fr();try{await Wt.table("notifications").update(e,{read:!0})}catch(t){console.error("Error marking notification as read:",t)}}async function jE(){try{const t=(await Wt.table("notifications").toArray()).filter(n=>!n.read);for(const n of t)await Wt.table("notifications").update(n.id,{read:!0})}catch(e){console.error("Error marking all as read:",e)}}async function NE(e){try{await Wt.table("notifications").update(e,{dismissed:!0})}catch(t){console.error("Error dismissing notification:",t)}}async function Am(){await fr();try{return await Wt.table("notificationSettings").get(1)||{deadlines_enabled:!0,materials_enabled:!0,achievements_enabled:!0,intervals:[15,7,3,1],desktop_enabled:!0}}catch(e){return console.error("Error getting notification settings:",e),{deadlines_enabled:!0,materials_enabled:!0,achievements_enabled:!0,intervals:[15,7,3,1],desktop_enabled:!0}}}async function TL(e){try{await Wt.table("notificationSettings").put({id:1,user_id:1,...e})}catch(t){console.error("Error saving notification settings:",t)}}async function SE(){var e;await fr();try{const t=await Wt.table("learningActivities").toArray(),n=await Wt.table("quizzes").toArray(),r=await Wt.table("essays").toArray(),s=await Wt.table("studySessions").toArray();return{activities:t,quizzes:n,essays:r,sessions:s,totalActivities:t.length,totalQuizzes:n.length,totalEssays:r.length,totalSessions:s.length,lastActivity:((e=t[0])==null?void 0:e.created_date)||null}}catch(t){return console.error("Error getting user activity summary:",t),{activities:[],quizzes:[],essays:[],sessions:[],totalActivities:0,totalQuizzes:0,totalEssays:0,totalSessions:0,lastActivity:null}}}async function kE(){await fr();try{const e=await Wt.table("studySessions").toArray(),t=await Wt.table("learningActivities").toArray(),n={};return e.forEach(r=>{const s=r.module_id||"unassigned";n[s]||(n[s]={moduleId:s,totalMinutes:0,sessionCount:0,activityCount:0,lastActivity:null}),n[s].totalMinutes+=r.duration_minutes||0,n[s].sessionCount+=1,(!n[s].lastActivity||new Date(r.date)>new Date(n[s].lastActivity))&&(n[s].lastActivity=r.date)}),t.forEach(r=>{const s=r.module_id||"unassigned";n[s]||(n[s]={moduleId:s,totalMinutes:0,sessionCount:0,activityCount:0,lastActivity:null}),n[s].activityCount+=1,n[s].totalMinutes+=r.time_spent_minutes||0}),Object.values(n)}catch(e){return console.error("Error getting module engagement:",e),[]}}async function _E(){await fr();try{const e=await Wt.table("learningActivities").toArray(),t=await Wt.table("quizzes").toArray(),n=e.filter(f=>f.performance_score!=null).sort((f,p)=>new Date(f.created_date).getTime()-new Date(p.created_date).getTime()),r=t.filter(f=>f.best_score!=null).sort((f,p)=>new Date(f.last_attempted).getTime()-new Date(p.last_attempted).getTime()),s=[...n.map(f=>f.performance_score),...r.map(f=>f.best_score)];if(s.length<3)return{trend:"insufficient_data",averageScore:s.length>0?s.reduce((f,p)=>f+p,0)/s.length:0,recentActivities:n.slice(-5),recentQuizzes:r.slice(-5)};const o=Math.floor(s.length/2),l=s.slice(0,o).reduce((f,p)=>f+p,0)/o,u=s.slice(o).reduce((f,p)=>f+p,0)/(s.length-o);let d="stable";return u>l+5?d="improving":u<l-5&&(d="declining"),{trend:d,averageScore:s.reduce((f,p)=>f+p,0)/s.length,firstHalfAvg:l,secondHalfAvg:u,recentActivities:n.slice(-5),recentQuizzes:r.slice(-5),totalDataPoints:s.length}}catch(e){return console.error("Error getting performance trends:",e),{trend:"error",averageScore:0,recentActivities:[],recentQuizzes:[]}}}async function CE(){await fr();try{const e=await Wt.table("quizzes").toArray(),t=await Wt.table("learningActivities").toArray(),n=await Wt.table("skillGaps").toArray(),r=[];return e.forEach(s=>{s.best_score!=null&&s.best_score<70&&r.push({topic:s.title,score:s.best_score,type:"quiz",moduleId:s.module_id,difficulty:s.difficulty,source:"quiz_performance"})}),t.forEach(s=>{s.performance_score!=null&&s.performance_score<70&&r.push({topic:s.topic,score:s.performance_score,type:s.activity_type,moduleId:s.module_id,source:"activity_performance"})}),n.forEach(s=>{s.status==="active"&&r.push({topic:s.skill_name,score:50,type:"skill_gap",moduleId:s.module_id,severity:s.severity,source:"skill_gap_analysis"})}),r.sort((s,o)=>(s.score||0)-(o.score||0))}catch(e){return console.error("Error getting weak topics:",e),[]}}async function EE(){await fr();try{return(await Wt.table("learningActivities").where("activity_type").equals("deep_dive").toArray()).map(t=>({topic:t.topic,score:t.performance_score,moduleId:t.module_id,date:t.created_date,completed:t.completed}))}catch(e){return console.error("Error getting deep dive topics:",e),[]}}const _S=Object.freeze(Object.defineProperty({__proto__:null,createNotification:wu,db:Wt,dismissNotification:NE,ensureDbOpen:fr,getDeepDiveTopics:EE,getModuleEngagement:kE,getNotificationSettings:Am,getNotifications:vE,getPerformanceTrends:_E,getStudyStats:yE,getUnreadCount:bE,getUserActivitySummary:SE,getWeakTopics:CE,markAllAsRead:jE,markNotificationAsRead:wE,saveNotificationSettings:TL},Symbol.toStringTag,{value:"Module"})),Ms=e=>({list:async(t=null,n=null)=>{await fr();try{const r=await Wt.table(e).toArray();if(t){const s=t.startsWith("-"),o=s?t.substring(1):t;r.sort((l,u)=>{const d=l[o],f=u[o];return d<f?s?1:-1:d>f?s?-1:1:0})}return n?r.slice(0,n):r}catch(r){return console.error(`Error listing ${e}:`,r),[]}},filter:async t=>{await fr();try{return(await Wt.table(e).toArray()).filter(r=>Object.entries(t).every(([s,o])=>r[s]===o))}catch(n){return console.error(`Error filtering ${e}:`,n),[]}},create:async t=>{await fr();const n={...t,created_date:t.created_date||new Date().toISOString()},r=await Wt.table(e).add(n);return{...n,id:r}},update:async(t,n)=>(await fr(),await Wt.table(e).update(t,n),await Wt.table(e).get(t)),delete:async t=>(await fr(),await Wt.table(e).delete(t)),get:async t=>(await fr(),await Wt.table(e).get(t))}),ke={entities:{Module:Ms("modules"),Assignment:Ms("assignments"),StudyMaterial:Ms("materials"),Quiz:Ms("quizzes"),StudySession:Ms("studySessions"),Note:Ms("notes"),LearningActivity:Ms("learningActivities"),SkillGap:Ms("skillGaps"),Essay:Ms("essays"),LearningGoal:Ms("learningGoals"),PrescribedBook:Ms("prescribedBooks"),Transaction:Ms("transactions")},wallet:{checkAndResetMonthlyCredits:async()=>{const e=new Date,t=`${e.getFullYear()}-${e.getMonth()+1}`;localStorage.getItem("last_credit_reset_month"),localStorage.setItem("credit_balance","9999999"),localStorage.setItem("last_credit_reset_month",t)},getBalance:async()=>(localStorage.setItem("credit_balance","9999999"),9999999),addCredits:async(e,t)=>(await ke.entities.Transaction.create({...t,amount:t.amount||0,credits_added:e,type:"credit_purchase",status:"completed",date:new Date().toISOString()}),9999999),spendCredits:async(e,t)=>(await ke.entities.Transaction.create({amount:0,credits_added:0,type:"credit_usage_unlimited",reason:t,status:"completed",date:new Date().toISOString()}),9999999)},auth:{me:async()=>{const e=localStorage.getItem("user_profile");return e?JSON.parse(e):{id:"user_123",full_name:"Study Buddy",email:"student@studybuddy.ai"}},updateProfile:async e=>{const n={...await ke.auth.me(),...e};return localStorage.setItem("user_profile",JSON.stringify(n)),n},logout:()=>{localStorage.removeItem("user_profile"),localStorage.removeItem("gemini_key"),localStorage.removeItem("deepseek_key"),window.location.reload()}},appLogs:{logUserInApp:async e=>{try{return await ke.entities.LearningActivity.create({activity_type:"page_render",topic:e,time_spent_minutes:0,created_date:new Date().toISOString()}),!0}catch(t){return console.error("Failed to log app activity:",t),!1}},logInteraction:async(e,t,n={})=>{try{return await ke.entities.LearningActivity.create({activity_type:e,topic:t,performance_score:n.performance||null,time_spent_minutes:n.timeSpent||0,created_date:new Date().toISOString()}),!0}catch(r){return console.error("Interaction log failed:",r),!1}},getStudyStats:yE},integrations:{Core:{UploadFile:async({file:e})=>{const t=new FileReader;return new Promise((n,r)=>{t.onload=async()=>{const s=t.result,o=window.electron;if(!o){r(new Error("Electron bridge not found."));return}const u=`study-file://${await o.saveFile({name:e.name,content:s})}`;n({file_url:u})},t.onerror=r,t.readAsArrayBuffer(e)})},InvokeLLM:async({prompt:e,systemPrompt:t="",...n})=>{const{BackendBridge:r}=await bs(async()=>{const{BackendBridge:s}=await Promise.resolve().then(()=>Ly);return{BackendBridge:s}},void 0,import.meta.url);return await r.generateText(e,t,n)},ExtractDataFromUploadedFile:async({file_url:e,json_schema:t})=>{const{BackendBridge:n}=await bs(async()=>{const{BackendBridge:o}=await Promise.resolve().then(()=>Ly);return{BackendBridge:o}},void 0,import.meta.url),r=`Extract structured data from the provided document at ${e} matching this JSON schema: ${JSON.stringify(t)}`,s=await n.generateText(r);try{return JSON.parse(s)}catch(o){return console.error("Failed to parse extracted data:",o),{modules:[],assignments:[]}}},SearchResources:async e=>{const{BackendBridge:t}=await bs(async()=>{const{BackendBridge:n}=await Promise.resolve().then(()=>Ly);return{BackendBridge:n}},void 0,import.meta.url);return await t.searchResources(e)}},AI:{analyzeSubmission:async(e,t)=>{const{studyBuddyAI:n}=await bs(async()=>{const{studyBuddyAI:r}=await Promise.resolve().then(()=>a_);return{studyBuddyAI:r}},void 0,import.meta.url);return await n.getFeedback(e,t)}},Organizer:{AutoOrganizeUpload:async e=>{const{studyBuddyAI:t}=await bs(async()=>{const{studyBuddyAI:m}=await Promise.resolve().then(()=>a_);return{studyBuddyAI:m}},void 0,import.meta.url),n=new FileReader,r=await new Promise((m,x)=>{n.onload=()=>{const v=n.result;typeof v=="string"?m(v.split(",")[1]):x(new Error("Failed to read file as base64 string"))},n.onerror=x,n.readAsDataURL(e)}),s=await t.classifyAndExtract(r,e.type);if(s!=null&&s.error)throw new Error(s.error);if(!(s!=null&&s.data))throw new Error("AI failed to extract structured data from this file.");const o=s.data,l=m=>{if(!m)return"UNKNOWN";const x=m.match(/([a-zA-Z]{3}\d{4})/);return x?x[0].toUpperCase():m.toUpperCase()},u=async(m,x)=>{const v=l(m),S=await ke.entities.Module.filter({code:v});return S.length>0?S[0].id:(await ke.entities.Module.create({code:v,title:x||"New Module",semester:"Current",progress:0})).id},d=await u(o.code,o.title),f=async(m,x,v)=>{console.log(`Auto-Discovery: Initializing for ${x}...`);const{toast:S}=await bs(async()=>{const{toast:N}=await Promise.resolve().then(()=>c7);return{toast:N}},void 0,import.meta.url);try{if((await ke.entities.StudyMaterial.list()).some(P=>{var T;return P.module_id===m&&((T=P.tags)==null?void 0:T.includes("auto-discovered"))})){console.log(`Auto-Discovery: Already enriched for ${x}. Skipping.`);return}S.info(`AI Discovery Engine: Scanning for ${x} materials...`,{description:"Connecting to Telegram and Web repositories...",duration:3e3}),S.success(`Module ${x} organized!`,{description:"Ready for your file uploads.",duration:3e3}),console.log(`Auto-Discovery: Successfully enriched ${x}`)}catch(N){console.error(`Auto-Discovery: Enrichment failed for ${x}:`,N)}};if((async()=>{if(await f(d,o.code,o.title),o.module_codes_found&&Array.isArray(o.module_codes_found)){const m=o.module_codes_found.filter(x=>x!==o.code);for(const x of m){await new Promise(S=>setTimeout(S,15e3));const v=await u(x,`Module ${x}`);await f(v,x)}}})().catch(console.error),o.assignments_found)for(const m of o.assignments_found){const x=await u(m.code||o.code,o.title);await ke.entities.Assignment.create({title:m.title,module_id:x,description:m.description,due_date:m.due_date,status:"not_started"})}if(o.prescribed_books)for(const m of o.prescribed_books){let x=[];try{x=await t.findResources(`Prescribed book: ${m.title} by ${m.author}`,{isBackground:!0})}catch{console.warn("Failed to find resources for book:",m.title)}await ke.entities.PrescribedBook.create({title:m.title,author:m.author,edition:m.edition,module_id:d,source_document:e.name,resources:x})}return await ke.entities.StudyMaterial.create({title:o.title||e.name,module_id:d,type:e.type.includes("pdf")?"pdf":"image",content:o.description||"Imported Document",is_processed:!0,tags:["primary-source"]}),s}}}},CS=Object.freeze(Object.defineProperty({__proto__:null,localApi:ke},Symbol.toStringTag,{value:"Module"})),Nt=b.forwardRef(({className:e,children:t,...n},r)=>i.jsx("div",{ref:r,className:Ne("rounded-xl border bg-card text-card-foreground shadow",e),...n,children:t}));Nt.displayName="Card";const Bo=b.forwardRef(({className:e,children:t,...n},r)=>i.jsx("div",{ref:r,className:Ne("flex flex-col space-y-1.5 p-6",e),...n,children:t}));Bo.displayName="CardHeader";const zo=b.forwardRef(({className:e,children:t,...n},r)=>i.jsx("div",{ref:r,className:Ne("font-semibold leading-none tracking-tight",e),...n,children:t}));zo.displayName="CardTitle";const dc=b.forwardRef(({className:e,children:t,...n},r)=>i.jsx("div",{ref:r,className:Ne("text-sm text-muted-foreground",e),...n,children:t}));dc.displayName="CardDescription";const zs=b.forwardRef(({className:e,children:t,...n},r)=>i.jsx("div",{ref:r,className:Ne("p-6 pt-0",e),...n,children:t}));zs.displayName="CardContent";const RL=b.forwardRef(({className:e,children:t,...n},r)=>i.jsx("div",{ref:r,className:Ne("flex items-center p-6 pt-0",e),...n,children:t}));RL.displayName="CardFooter";const IL=Ug("inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function It({className:e,variant:t="default",children:n,...r}){return i.jsx("div",{className:Ne(IL({variant:t}),e),...r,children:n})}function ML(e,t=[]){let n=[];function r(o,l){const u=b.createContext(l);u.displayName=o+"Context";const d=n.length;n=[...n,l];const f=m=>{var P;const{scope:x,children:v,...S}=m,N=((P=x==null?void 0:x[e])==null?void 0:P[d])||u,_=b.useMemo(()=>S,Object.values(S));return i.jsx(N.Provider,{value:_,children:v})};f.displayName=o+"Provider";function p(m,x){var N;const v=((N=x==null?void 0:x[e])==null?void 0:N[d])||u,S=b.useContext(v);if(S)return S;if(l!==void 0)return l;throw new Error(`\`${m}\` must be used within \`${o}\``)}return[f,p]}const s=()=>{const o=n.map(l=>b.createContext(l));return function(u){const d=(u==null?void 0:u[e])||o;return b.useMemo(()=>({[`__scope${e}`]:{...u,[e]:d}}),[u,d])}};return s.scopeName=e,[r,OL(s,...t)]}function OL(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const l=r.reduce((u,{useScope:d,scopeName:f})=>{const m=d(o)[`__scope${f}`];return{...u,...m}},{});return b.useMemo(()=>({[`__scope${t.scopeName}`]:l}),[l])}};return n.scopeName=t.scopeName,n}var yh=CC();const DL=ad(yh);function ES(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function na(...e){return t=>{let n=!1;const r=e.map(s=>{const o=ES(s,t);return!n&&typeof o=="function"&&(n=!0),o});if(n)return()=>{for(let s=0;s<r.length;s++){const o=r[s];typeof o=="function"?o():ES(e[s],null)}}}}function qt(...e){return b.useCallback(na(...e),e)}var LL=Symbol.for("react.lazy"),ng=zg[" use ".trim().toString()];function FL(e){return typeof e=="object"&&e!==null&&"then"in e}function PE(e){return e!=null&&typeof e=="object"&&"$$typeof"in e&&e.$$typeof===LL&&"_payload"in e&&FL(e._payload)}function Hg(e){const t=BL(e),n=b.forwardRef((r,s)=>{let{children:o,...l}=r;PE(o)&&typeof ng=="function"&&(o=ng(o._payload));const u=b.Children.toArray(o),d=u.find(UL);if(d){const f=d.props.children,p=u.map(m=>m===d?b.Children.count(f)>1?b.Children.only(null):b.isValidElement(f)?f.props.children:null:m);return i.jsx(t,{...l,ref:s,children:b.isValidElement(f)?b.cloneElement(f,void 0,p):null})}return i.jsx(t,{...l,ref:s,children:o})});return n.displayName=`${e}.Slot`,n}var $L=Hg("Slot");function BL(e){const t=b.forwardRef((n,r)=>{let{children:s,...o}=n;if(PE(s)&&typeof ng=="function"&&(s=ng(s._payload)),b.isValidElement(s)){const l=WL(s),u=VL(o,s.props);return s.type!==b.Fragment&&(u.ref=r?na(r,l):l),b.cloneElement(s,u)}return b.Children.count(s)>1?b.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var zL=Symbol("radix.slottable");function UL(e){return b.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===zL}function VL(e,t){const n={...t};for(const r in t){const s=e[r],o=t[r];/^on[A-Z]/.test(r)?s&&o?n[r]=(...u)=>{const d=o(...u);return s(...u),d}:s&&(n[r]=s):r==="style"?n[r]={...s,...o}:r==="className"&&(n[r]=[s,o].filter(Boolean).join(" "))}return{...e,...n}}function WL(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var qL=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],AE=qL.reduce((e,t)=>{const n=Hg(`Primitive.${t}`),r=b.forwardRef((s,o)=>{const{asChild:l,...u}=s,d=l?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),i.jsx(d,{...u,ref:o})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{}),Xb="Progress",Jb=100,[HL]=ML(Xb),[KL,GL]=HL(Xb),TE=b.forwardRef((e,t)=>{const{__scopeProgress:n,value:r=null,max:s,getValueLabel:o=YL,...l}=e;(s||s===0)&&!PS(s)&&console.error(QL(`${s}`,"Progress"));const u=PS(s)?s:Jb;r!==null&&!AS(r,u)&&console.error(XL(`${r}`,"Progress"));const d=AS(r,u)?r:null,f=rg(d)?o(d,u):void 0;return i.jsx(KL,{scope:n,value:d,max:u,children:i.jsx(AE.div,{"aria-valuemax":u,"aria-valuemin":0,"aria-valuenow":rg(d)?d:void 0,"aria-valuetext":f,role:"progressbar","data-state":ME(d,u),"data-value":d??void 0,"data-max":u,...l,ref:t})})});TE.displayName=Xb;var RE="ProgressIndicator",IE=b.forwardRef((e,t)=>{const{__scopeProgress:n,...r}=e,s=GL(RE,n);return i.jsx(AE.div,{"data-state":ME(s.value,s.max),"data-value":s.value??void 0,"data-max":s.max,...r,ref:t})});IE.displayName=RE;function YL(e,t){return`${Math.round(e/t*100)}%`}function ME(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function rg(e){return typeof e=="number"}function PS(e){return rg(e)&&!isNaN(e)&&e>0}function AS(e,t){return rg(e)&&!isNaN(e)&&e<=t&&e>=0}function QL(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${Jb}\`.`}function XL(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${Jb} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var OE=TE,JL=IE;const Kg=b.forwardRef(({className:e,value:t,...n},r)=>i.jsx(OE,{ref:r,value:t,className:Ne("relative h-2 w-full overflow-hidden rounded-full bg-primary/20",e),...n,children:i.jsx(JL,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));Kg.displayName=OE.displayName;function nt(e,t,{checkForDefaultPrevented:n=!0}={}){return function(s){if(e==null||e(s),n===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}function ZL(e,t){const n=b.createContext(t),r=o=>{const{children:l,...u}=o,d=b.useMemo(()=>u,Object.values(u));return i.jsx(n.Provider,{value:d,children:l})};r.displayName=e+"Provider";function s(o){const l=b.useContext(n);if(l)return l;if(t!==void 0)return t;throw new Error(`\`${o}\` must be used within \`${e}\``)}return[r,s]}function xi(e,t=[]){let n=[];function r(o,l){const u=b.createContext(l),d=n.length;n=[...n,l];const f=m=>{var P;const{scope:x,children:v,...S}=m,N=((P=x==null?void 0:x[e])==null?void 0:P[d])||u,_=b.useMemo(()=>S,Object.values(S));return i.jsx(N.Provider,{value:_,children:v})};f.displayName=o+"Provider";function p(m,x){var N;const v=((N=x==null?void 0:x[e])==null?void 0:N[d])||u,S=b.useContext(v);if(S)return S;if(l!==void 0)return l;throw new Error(`\`${m}\` must be used within \`${o}\``)}return[f,p]}const s=()=>{const o=n.map(l=>b.createContext(l));return function(u){const d=(u==null?void 0:u[e])||o;return b.useMemo(()=>({[`__scope${e}`]:{...u,[e]:d}}),[u,d])}};return s.scopeName=e,[r,eF(s,...t)]}function eF(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const l=r.reduce((u,{useScope:d,scopeName:f})=>{const m=d(o)[`__scope${f}`];return{...u,...m}},{});return b.useMemo(()=>({[`__scope${t.scopeName}`]:l}),[l])}};return n.scopeName=t.scopeName,n}function TS(e){const t=tF(e),n=b.forwardRef((r,s)=>{const{children:o,...l}=r,u=b.Children.toArray(o),d=u.find(rF);if(d){const f=d.props.children,p=u.map(m=>m===d?b.Children.count(f)>1?b.Children.only(null):b.isValidElement(f)?f.props.children:null:m);return i.jsx(t,{...l,ref:s,children:b.isValidElement(f)?b.cloneElement(f,void 0,p):null})}return i.jsx(t,{...l,ref:s,children:o})});return n.displayName=`${e}.Slot`,n}function tF(e){const t=b.forwardRef((n,r)=>{const{children:s,...o}=n;if(b.isValidElement(s)){const l=iF(s),u=sF(o,s.props);return s.type!==b.Fragment&&(u.ref=r?na(r,l):l),b.cloneElement(s,u)}return b.Children.count(s)>1?b.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var nF=Symbol("radix.slottable");function rF(e){return b.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===nF}function sF(e,t){const n={...t};for(const r in t){const s=e[r],o=t[r];/^on[A-Z]/.test(r)?s&&o?n[r]=(...u)=>{const d=o(...u);return s(...u),d}:s&&(n[r]=s):r==="style"?n[r]={...s,...o}:r==="className"&&(n[r]=[s,o].filter(Boolean).join(" "))}return{...e,...n}}function iF(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function Zb(e){const t=e+"CollectionProvider",[n,r]=xi(t),[s,o]=n(t,{collectionRef:{current:null},itemMap:new Map}),l=N=>{const{scope:_,children:P}=N,T=jr.useRef(null),I=jr.useRef(new Map).current;return i.jsx(s,{scope:_,itemMap:I,collectionRef:T,children:P})};l.displayName=t;const u=e+"CollectionSlot",d=TS(u),f=jr.forwardRef((N,_)=>{const{scope:P,children:T}=N,I=o(u,P),L=qt(_,I.collectionRef);return i.jsx(d,{ref:L,children:T})});f.displayName=u;const p=e+"CollectionItemSlot",m="data-radix-collection-item",x=TS(p),v=jr.forwardRef((N,_)=>{const{scope:P,children:T,...I}=N,L=jr.useRef(null),z=qt(_,L),$=o(p,P);return jr.useEffect(()=>($.itemMap.set(L,{ref:L,...I}),()=>void $.itemMap.delete(L))),i.jsx(x,{[m]:"",ref:z,children:T})});v.displayName=p;function S(N){const _=o(e+"CollectionConsumer",N);return jr.useCallback(()=>{const T=_.collectionRef.current;if(!T)return[];const I=Array.from(T.querySelectorAll(`[${m}]`));return Array.from(_.itemMap.values()).sort(($,V)=>I.indexOf($.ref.current)-I.indexOf(V.ref.current))},[_.collectionRef,_.itemMap])}return[{Provider:l,Slot:f,ItemSlot:v},S,r]}var kr=globalThis!=null&&globalThis.document?b.useLayoutEffect:()=>{},aF=zg[" useId ".trim().toString()]||(()=>{}),oF=0;function hi(e){const[t,n]=b.useState(aF());return kr(()=>{n(r=>r??String(oF++))},[e]),t?`radix-${t}`:""}function lF(e){const t=cF(e),n=b.forwardRef((r,s)=>{const{children:o,...l}=r,u=b.Children.toArray(o),d=u.find(dF);if(d){const f=d.props.children,p=u.map(m=>m===d?b.Children.count(f)>1?b.Children.only(null):b.isValidElement(f)?f.props.children:null:m);return i.jsx(t,{...l,ref:s,children:b.isValidElement(f)?b.cloneElement(f,void 0,p):null})}return i.jsx(t,{...l,ref:s,children:o})});return n.displayName=`${e}.Slot`,n}function cF(e){const t=b.forwardRef((n,r)=>{const{children:s,...o}=n;if(b.isValidElement(s)){const l=hF(s),u=fF(o,s.props);return s.type!==b.Fragment&&(u.ref=r?na(r,l):l),b.cloneElement(s,u)}return b.Children.count(s)>1?b.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var uF=Symbol("radix.slottable");function dF(e){return b.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===uF}function fF(e,t){const n={...t};for(const r in t){const s=e[r],o=t[r];/^on[A-Z]/.test(r)?s&&o?n[r]=(...u)=>{const d=o(...u);return s(...u),d}:s&&(n[r]=s):r==="style"?n[r]={...s,...o}:r==="className"&&(n[r]=[s,o].filter(Boolean).join(" "))}return{...e,...n}}function hF(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var pF=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],At=pF.reduce((e,t)=>{const n=lF(`Primitive.${t}`),r=b.forwardRef((s,o)=>{const{asChild:l,...u}=s,d=l?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),i.jsx(d,{...u,ref:o})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function DE(e,t){e&&yh.flushSync(()=>e.dispatchEvent(t))}function Nr(e){const t=b.useRef(e);return b.useEffect(()=>{t.current=e}),b.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}var mF=zg[" useInsertionEffect ".trim().toString()]||kr;function Zo({prop:e,defaultProp:t,onChange:n=()=>{},caller:r}){const[s,o,l]=gF({defaultProp:t,onChange:n}),u=e!==void 0,d=u?e:s;{const p=b.useRef(e!==void 0);b.useEffect(()=>{const m=p.current;m!==u&&console.warn(`${r} is changing from ${m?"controlled":"uncontrolled"} to ${u?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),p.current=u},[u,r])}const f=b.useCallback(p=>{var m;if(u){const x=xF(p)?p(e):p;x!==e&&((m=l.current)==null||m.call(l,x))}else o(p)},[u,e,o,l]);return[d,f]}function gF({defaultProp:e,onChange:t}){const[n,r]=b.useState(e),s=b.useRef(n),o=b.useRef(t);return mF(()=>{o.current=t},[t]),b.useEffect(()=>{var l;s.current!==n&&((l=o.current)==null||l.call(o,n),s.current=n)},[n,s]),[n,r,o]}function xF(e){return typeof e=="function"}var yF=b.createContext(void 0);function vh(e){const t=b.useContext(yF);return e||t||"ltr"}var py="rovingFocusGroup.onEntryFocus",vF={bubbles:!1,cancelable:!0},bh="RovingFocusGroup",[Ov,LE,bF]=Zb(bh),[wF,Gg]=xi(bh,[bF]),[jF,NF]=wF(bh),FE=b.forwardRef((e,t)=>i.jsx(Ov.Provider,{scope:e.__scopeRovingFocusGroup,children:i.jsx(Ov.Slot,{scope:e.__scopeRovingFocusGroup,children:i.jsx(SF,{...e,ref:t})})}));FE.displayName=bh;var SF=b.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:o,currentTabStopId:l,defaultCurrentTabStopId:u,onCurrentTabStopIdChange:d,onEntryFocus:f,preventScrollOnEntryFocus:p=!1,...m}=e,x=b.useRef(null),v=qt(t,x),S=vh(o),[N,_]=Zo({prop:l,defaultProp:u??null,onChange:d,caller:bh}),[P,T]=b.useState(!1),I=Nr(f),L=LE(n),z=b.useRef(!1),[$,V]=b.useState(0);return b.useEffect(()=>{const W=x.current;if(W)return W.addEventListener(py,I),()=>W.removeEventListener(py,I)},[I]),i.jsx(jF,{scope:n,orientation:r,dir:S,loop:s,currentTabStopId:N,onItemFocus:b.useCallback(W=>_(W),[_]),onItemShiftTab:b.useCallback(()=>T(!0),[]),onFocusableItemAdd:b.useCallback(()=>V(W=>W+1),[]),onFocusableItemRemove:b.useCallback(()=>V(W=>W-1),[]),children:i.jsx(At.div,{tabIndex:P||$===0?-1:0,"data-orientation":r,...m,ref:v,style:{outline:"none",...e.style},onMouseDown:nt(e.onMouseDown,()=>{z.current=!0}),onFocus:nt(e.onFocus,W=>{const F=!z.current;if(W.target===W.currentTarget&&F&&!P){const Y=new CustomEvent(py,vF);if(W.currentTarget.dispatchEvent(Y),!Y.defaultPrevented){const H=L().filter(ge=>ge.focusable),ee=H.find(ge=>ge.active),ve=H.find(ge=>ge.id===N),he=[ee,ve,...H].filter(Boolean).map(ge=>ge.ref.current);zE(he,p)}}z.current=!1}),onBlur:nt(e.onBlur,()=>T(!1))})})}),$E="RovingFocusGroupItem",BE=b.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:o,children:l,...u}=e,d=hi(),f=o||d,p=NF($E,n),m=p.currentTabStopId===f,x=LE(n),{onFocusableItemAdd:v,onFocusableItemRemove:S,currentTabStopId:N}=p;return b.useEffect(()=>{if(r)return v(),()=>S()},[r,v,S]),i.jsx(Ov.ItemSlot,{scope:n,id:f,focusable:r,active:s,children:i.jsx(At.span,{tabIndex:m?0:-1,"data-orientation":p.orientation,...u,ref:t,onMouseDown:nt(e.onMouseDown,_=>{r?p.onItemFocus(f):_.preventDefault()}),onFocus:nt(e.onFocus,()=>p.onItemFocus(f)),onKeyDown:nt(e.onKeyDown,_=>{if(_.key==="Tab"&&_.shiftKey){p.onItemShiftTab();return}if(_.target!==_.currentTarget)return;const P=CF(_,p.orientation,p.dir);if(P!==void 0){if(_.metaKey||_.ctrlKey||_.altKey||_.shiftKey)return;_.preventDefault();let I=x().filter(L=>L.focusable).map(L=>L.ref.current);if(P==="last")I.reverse();else if(P==="prev"||P==="next"){P==="prev"&&I.reverse();const L=I.indexOf(_.currentTarget);I=p.loop?EF(I,L+1):I.slice(L+1)}setTimeout(()=>zE(I))}}),children:typeof l=="function"?l({isCurrentTabStop:m,hasTabStop:N!=null}):l})})});BE.displayName=$E;var kF={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function _F(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function CF(e,t,n){const r=_F(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return kF[r]}function zE(e,t=!1){const n=document.activeElement;for(const r of e)if(r===n||(r.focus({preventScroll:t}),document.activeElement!==n))return}function EF(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var UE=FE,VE=BE;function PF(e,t){return b.useReducer((n,r)=>t[n][r]??n,e)}var Kr=e=>{const{present:t,children:n}=e,r=AF(t),s=typeof n=="function"?n({present:r.isPresent}):b.Children.only(n),o=qt(r.ref,TF(s));return typeof n=="function"||r.isPresent?b.cloneElement(s,{ref:o}):null};Kr.displayName="Presence";function AF(e){const[t,n]=b.useState(),r=b.useRef(null),s=b.useRef(e),o=b.useRef("none"),l=e?"mounted":"unmounted",[u,d]=PF(l,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return b.useEffect(()=>{const f=sm(r.current);o.current=u==="mounted"?f:"none"},[u]),kr(()=>{const f=r.current,p=s.current;if(p!==e){const x=o.current,v=sm(f);e?d("MOUNT"):v==="none"||(f==null?void 0:f.display)==="none"?d("UNMOUNT"):d(p&&x!==v?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,d]),kr(()=>{if(t){let f;const p=t.ownerDocument.defaultView??window,m=v=>{const N=sm(r.current).includes(CSS.escape(v.animationName));if(v.target===t&&N&&(d("ANIMATION_END"),!s.current)){const _=t.style.animationFillMode;t.style.animationFillMode="forwards",f=p.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=_)})}},x=v=>{v.target===t&&(o.current=sm(r.current))};return t.addEventListener("animationstart",x),t.addEventListener("animationcancel",m),t.addEventListener("animationend",m),()=>{p.clearTimeout(f),t.removeEventListener("animationstart",x),t.removeEventListener("animationcancel",m),t.removeEventListener("animationend",m)}}else d("ANIMATION_END")},[t,d]),{isPresent:["mounted","unmountSuspended"].includes(u),ref:b.useCallback(f=>{r.current=f?getComputedStyle(f):null,n(f)},[])}}function sm(e){return(e==null?void 0:e.animationName)||"none"}function TF(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var Yg="Tabs",[RF]=xi(Yg,[Gg]),WE=Gg(),[IF,ew]=RF(Yg),qE=b.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,onValueChange:s,defaultValue:o,orientation:l="horizontal",dir:u,activationMode:d="automatic",...f}=e,p=vh(u),[m,x]=Zo({prop:r,onChange:s,defaultProp:o??"",caller:Yg});return i.jsx(IF,{scope:n,baseId:hi(),value:m,onValueChange:x,orientation:l,dir:p,activationMode:d,children:i.jsx(At.div,{dir:p,"data-orientation":l,...f,ref:t})})});qE.displayName=Yg;var HE="TabsList",KE=b.forwardRef((e,t)=>{const{__scopeTabs:n,loop:r=!0,...s}=e,o=ew(HE,n),l=WE(n);return i.jsx(UE,{asChild:!0,...l,orientation:o.orientation,dir:o.dir,loop:r,children:i.jsx(At.div,{role:"tablist","aria-orientation":o.orientation,...s,ref:t})})});KE.displayName=HE;var GE="TabsTrigger",YE=b.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,disabled:s=!1,...o}=e,l=ew(GE,n),u=WE(n),d=JE(l.baseId,r),f=ZE(l.baseId,r),p=r===l.value;return i.jsx(VE,{asChild:!0,...u,focusable:!s,active:p,children:i.jsx(At.button,{type:"button",role:"tab","aria-selected":p,"aria-controls":f,"data-state":p?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:d,...o,ref:t,onMouseDown:nt(e.onMouseDown,m=>{!s&&m.button===0&&m.ctrlKey===!1?l.onValueChange(r):m.preventDefault()}),onKeyDown:nt(e.onKeyDown,m=>{[" ","Enter"].includes(m.key)&&l.onValueChange(r)}),onFocus:nt(e.onFocus,()=>{const m=l.activationMode!=="manual";!p&&!s&&m&&l.onValueChange(r)})})})});YE.displayName=GE;var QE="TabsContent",XE=b.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,forceMount:s,children:o,...l}=e,u=ew(QE,n),d=JE(u.baseId,r),f=ZE(u.baseId,r),p=r===u.value,m=b.useRef(p);return b.useEffect(()=>{const x=requestAnimationFrame(()=>m.current=!1);return()=>cancelAnimationFrame(x)},[]),i.jsx(Kr,{present:s||p,children:({present:x})=>i.jsx(At.div,{"data-state":p?"active":"inactive","data-orientation":u.orientation,role:"tabpanel","aria-labelledby":d,hidden:!x,id:f,tabIndex:0,...l,ref:t,style:{...e.style,animationDuration:m.current?"0s":void 0},children:x&&o})})});XE.displayName=QE;function JE(e,t){return`${e}-trigger-${t}`}function ZE(e,t){return`${e}-content-${t}`}var MF=qE,eP=KE,tP=YE,nP=XE;const tw=MF,Qg=b.forwardRef(({className:e,children:t,...n},r)=>i.jsx(eP,{ref:r,className:Ne("inline-flex h-9 items-center justify-center rounded-lg bg-muted p-1 text-muted-foreground",e),...n,children:t}));Qg.displayName=eP.displayName;const Ju=b.forwardRef(({className:e,children:t,...n},r)=>i.jsx(tP,{ref:r,className:Ne("inline-flex items-center justify-center whitespace-nowrap rounded-md px-3 py-1 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow",e),...n,children:t}));Ju.displayName=tP.displayName;const is=b.forwardRef(({className:e,children:t,...n},r)=>i.jsx(nP,{ref:r,className:Ne("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...n,children:t}));is.displayName=nP.displayName;const RS={first_quiz:Xu,quiz_master:hv,speed_learner:En,deep_thinker:Ji,note_taker:Wb,streak_keeper:mv,perfect_score:p3,early_bird:Ft,night_owl:Ft,module_master:J4},my=[{type:"first_quiz",title:"First Steps",description:"Complete your first quiz",points:10,color:"from-blue-500 to-cyan-500"},{type:"quiz_master",title:"Quiz Master",description:"Complete 10 quizzes",points:50,color:"from-purple-500 to-pink-500"},{type:"speed_learner",title:"Speed Learner",description:"Complete 3 activities in one day",points:30,color:"from-yellow-500 to-orange-500"},{type:"deep_thinker",title:"Deep Thinker",description:"Use Deep Dive 5 times",points:40,color:"from-emerald-500 to-teal-500"},{type:"note_taker",title:"Note Taker",description:"Summarize 5 materials",points:35,color:"from-indigo-500 to-blue-500"},{type:"perfect_score",title:"Perfect Score",description:"Score 100% on a quiz",points:100,color:"from-amber-500 to-yellow-500"},{type:"streak_keeper",title:"Streak Keeper",description:"Study 5 days in a row",points:75,color:"from-red-500 to-orange-500"},{type:"module_master",title:"Module Master",description:"Complete a module 100%",points:150,color:"from-violet-500 to-purple-500"}];function OF(){const[e,t]=b.useState(0),[n,r]=b.useState(null),{data:s}=zt({queryKey:["user"],queryFn:()=>ke.auth.me()}),{data:o}=zt({queryKey:["achievements"],queryFn:()=>ke.entities.Achievement.list("-earned_date")}),{data:l}=zt({queryKey:["learning-activities"],queryFn:()=>ke.entities.LearningActivity.list("-created_date")}),{data:u}=zt({queryKey:["all-users"],queryFn:async()=>{const m=await ke.entities.User.list();return(await Promise.all(m.map(async v=>{const N=(await ke.entities.Achievement.filter({created_by:v.email})).reduce((_,P)=>_+(P.points_awarded||0),0);return{...v,total_points:N}}))).sort((v,S)=>S.total_points-v.total_points)}});b.useEffect(()=>{if(o){const m=o.reduce((x,v)=>x+(v.points_awarded||0),0);t(m)}},[o]),b.useEffect(()=>{if(u&&s){const m=u.findIndex(x=>x.email===s.email)+1;r(m)}},[u,s]);const d=(o==null?void 0:o.map(m=>m.badge_type))||[],f=my.filter(m=>d.includes(m.type)),p=my.filter(m=>!d.includes(m.type));return i.jsxs("div",{className:"max-w-6xl mx-auto space-y-6",children:[i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center gap-2 text-amber-600 mb-2",children:[i.jsx(Xu,{className:"w-4 h-4"}),i.jsx("span",{className:"text-sm font-medium",children:"Gamification"})]}),i.jsx("h1",{className:"text-3xl font-bold text-slate-900",children:"Achievements & Leaderboard"}),i.jsx("p",{className:"text-slate-500 mt-1",children:"Track your progress and compete with others"})]}),i.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[i.jsxs(Nt,{className:"p-6 bg-gradient-to-br from-amber-500 to-orange-600 text-white relative overflow-hidden",children:[i.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-white/10 rounded-full -translate-y-8 translate-x-8"}),i.jsx("div",{className:"relative",children:i.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[i.jsx("div",{className:"w-12 h-12 rounded-xl bg-white/20 backdrop-blur-sm flex items-center justify-center",children:i.jsx(Wb,{className:"w-6 h-6"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-amber-100",children:"Total Points"}),i.jsx("p",{className:"text-3xl font-black",children:e})]})]})})]}),i.jsxs(Nt,{className:"p-6 bg-gradient-to-br from-purple-500 to-pink-600 text-white relative overflow-hidden",children:[i.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-white/10 rounded-full -translate-y-8 translate-x-8"}),i.jsx("div",{className:"relative",children:i.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[i.jsx("div",{className:"w-12 h-12 rounded-xl bg-white/20 backdrop-blur-sm flex items-center justify-center",children:i.jsx(Xu,{className:"w-6 h-6"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-purple-100",children:"Badges Earned"}),i.jsxs("p",{className:"text-3xl font-black",children:[f.length,"/",my.length]})]})]})})]}),i.jsxs(Nt,{className:"p-6 bg-gradient-to-br from-blue-500 to-indigo-600 text-white relative overflow-hidden",children:[i.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-white/10 rounded-full -translate-y-8 translate-x-8"}),i.jsx("div",{className:"relative",children:i.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[i.jsx("div",{className:"w-12 h-12 rounded-xl bg-white/20 backdrop-blur-sm flex items-center justify-center",children:i.jsx(sl,{className:"w-6 h-6"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-blue-100",children:"Your Rank"}),i.jsxs("p",{className:"text-3xl font-black",children:["#",n||"-"]})]})]})})]})]}),i.jsxs(tw,{defaultValue:"badges",className:"space-y-6",children:[i.jsxs(Qg,{children:[i.jsx(Ju,{value:"badges",children:"Badges"}),i.jsx(Ju,{value:"leaderboard",children:"Leaderboard"})]}),i.jsxs(is,{value:"badges",className:"space-y-6",children:[f.length>0&&i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-bold text-slate-900 mb-4",children:" Earned Badges"}),i.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-4",children:f.map(m=>{const x=RS[m.type];return i.jsxs(Nt,{className:"p-6 relative overflow-hidden border-2 border-amber-200 bg-gradient-to-br from-amber-50 to-yellow-50",children:[i.jsx("div",{className:"absolute top-2 right-2",children:i.jsxs(It,{className:"bg-amber-500 text-white",children:["+",m.points," pts"]})}),i.jsx("div",{className:Ne("w-16 h-16 rounded-2xl bg-gradient-to-br flex items-center justify-center mb-4 shadow-lg",m.color),children:i.jsx(x,{className:"w-8 h-8 text-white"})}),i.jsx("h4",{className:"font-bold text-slate-900 mb-1",children:m.title}),i.jsx("p",{className:"text-sm text-slate-600",children:m.description})]},m.type)})})]}),p.length>0&&i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-bold text-slate-900 mb-4",children:" Locked Badges"}),i.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-4",children:p.map(m=>{const x=RS[m.type];return i.jsxs(Nt,{className:"p-6 relative overflow-hidden opacity-60 hover:opacity-100 transition-opacity",children:[i.jsx("div",{className:"absolute top-2 right-2",children:i.jsxs(It,{variant:"outline",children:[m.points," pts"]})}),i.jsx("div",{className:"w-16 h-16 rounded-2xl bg-slate-200 flex items-center justify-center mb-4",children:i.jsx(x,{className:"w-8 h-8 text-slate-400"})}),i.jsx("h4",{className:"font-bold text-slate-900 mb-1",children:m.title}),i.jsx("p",{className:"text-sm text-slate-600",children:m.description})]},m.type)})})]})]}),i.jsx(is,{value:"leaderboard",children:i.jsxs(Nt,{className:"p-6",children:[i.jsxs("h3",{className:"text-lg font-bold text-slate-900 mb-6 flex items-center gap-2",children:[i.jsx(hv,{className:"w-5 h-5 text-amber-500"}),"Top Students"]}),i.jsx("div",{className:"space-y-3",children:u==null?void 0:u.slice(0,10).map((m,x)=>i.jsxs("div",{className:Ne("flex items-center gap-4 p-4 rounded-xl transition-all",m.email===(s==null?void 0:s.email)?"bg-blue-50 border-2 border-blue-300":"bg-slate-50 hover:bg-slate-100"),children:[i.jsx("div",{className:Ne("w-10 h-10 rounded-full flex items-center justify-center font-bold text-lg",x===0&&"bg-gradient-to-br from-amber-400 to-yellow-500 text-white",x===1&&"bg-gradient-to-br from-slate-300 to-slate-400 text-white",x===2&&"bg-gradient-to-br from-orange-400 to-amber-600 text-white",x>2&&"bg-slate-200 text-slate-600"),children:x+1}),i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"font-semibold text-slate-900",children:m.full_name}),i.jsx("p",{className:"text-xs text-slate-500",children:m.email})]}),i.jsxs("div",{className:"text-right",children:[i.jsx("p",{className:"text-2xl font-bold text-slate-900",children:m.total_points}),i.jsx("p",{className:"text-xs text-slate-500",children:"points"})]}),x<3&&i.jsx(hv,{className:Ne("w-6 h-6",x===0&&"text-amber-500",x===1&&"text-slate-400",x===2&&"text-orange-500")})]},m.id))})]})})]})]})}function nn(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function za(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function DF(e,t){const n=nn(e);return isNaN(t)?za(e,NaN):(n.setDate(n.getDate()+t),n)}const rP=6048e5,LF=864e5,im=43200,IS=1440;let FF={};function wh(){return FF}function Jf(e,t){var u,d,f,p;const n=wh(),r=(t==null?void 0:t.weekStartsOn)??((d=(u=t==null?void 0:t.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??n.weekStartsOn??((p=(f=n.locale)==null?void 0:f.options)==null?void 0:p.weekStartsOn)??0,s=nn(e),o=s.getDay(),l=(o<r?7:0)+o-r;return s.setDate(s.getDate()-l),s.setHours(0,0,0,0),s}function sg(e){return Jf(e,{weekStartsOn:1})}function sP(e){const t=nn(e),n=t.getFullYear(),r=za(e,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const s=sg(r),o=za(e,0);o.setFullYear(n,0,4),o.setHours(0,0,0,0);const l=sg(o);return t.getTime()>=s.getTime()?n+1:t.getTime()>=l.getTime()?n:n-1}function ig(e){const t=nn(e);return t.setHours(0,0,0,0),t}function ag(e){const t=nn(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function iP(e,t){const n=ig(e),r=ig(t),s=+n-ag(n),o=+r-ag(r);return Math.round((s-o)/LF)}function $F(e){const t=sP(e),n=za(e,0);return n.setFullYear(t,0,4),n.setHours(0,0,0,0),sg(n)}function Tm(e,t){const n=nn(e),r=nn(t),s=n.getTime()-r.getTime();return s<0?-1:s>0?1:s}function nw(e){return za(e,Date.now())}function aP(e,t){const n=ig(e),r=ig(t);return+n==+r}function BF(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function zF(e){if(!BF(e)&&typeof e!="number")return!1;const t=nn(e);return!isNaN(Number(t))}function UF(e,t){const n=nn(e),r=nn(t),s=n.getFullYear()-r.getFullYear(),o=n.getMonth()-r.getMonth();return s*12+o}function MS(e,t){const n=nn(e),r=nn(t),s=OS(n,r),o=Math.abs(iP(n,r));n.setDate(n.getDate()-s*o);const l=+(OS(n,r)===-s),u=s*(o-l);return u===0?0:u}function OS(e,t){const n=e.getFullYear()-t.getFullYear()||e.getMonth()-t.getMonth()||e.getDate()-t.getDate()||e.getHours()-t.getHours()||e.getMinutes()-t.getMinutes()||e.getSeconds()-t.getSeconds()||e.getMilliseconds()-t.getMilliseconds();return n<0?-1:n>0?1:n}function VF(e){return t=>{const r=(e?Math[e]:Math.trunc)(t);return r===0?0:r}}function WF(e,t){return+nn(e)-+nn(t)}function qF(e){const t=nn(e);return t.setHours(23,59,59,999),t}function HF(e){const t=nn(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(23,59,59,999),t}function KF(e){const t=nn(e);return+qF(t)==+HF(t)}function GF(e,t){const n=nn(e),r=nn(t),s=Tm(n,r),o=Math.abs(UF(n,r));let l;if(o<1)l=0;else{n.getMonth()===1&&n.getDate()>27&&n.setDate(30),n.setMonth(n.getMonth()-s*o);let u=Tm(n,r)===-s;KF(nn(e))&&o===1&&Tm(e,r)===1&&(u=!1),l=s*(o-Number(u))}return l===0?0:l}function YF(e,t,n){const r=WF(e,t)/1e3;return VF(n==null?void 0:n.roundingMethod)(r)}function QF(e){const t=nn(e),n=za(e,0);return n.setFullYear(t.getFullYear(),0,1),n.setHours(0,0,0,0),n}const XF={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},JF=(e,t,n)=>{let r;const s=XF[e];return typeof s=="string"?r=s:t===1?r=s.one:r=s.other.replace("{{count}}",t.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function gy(e){return(t={})=>{const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const ZF={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},e$={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},t$={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},n$={date:gy({formats:ZF,defaultWidth:"full"}),time:gy({formats:e$,defaultWidth:"full"}),dateTime:gy({formats:t$,defaultWidth:"full"})},r$={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},s$=(e,t,n,r)=>r$[e];function cf(e){return(t,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let s;if(r==="formatting"&&e.formattingValues){const l=e.defaultFormattingWidth||e.defaultWidth,u=n!=null&&n.width?String(n.width):l;s=e.formattingValues[u]||e.formattingValues[l]}else{const l=e.defaultWidth,u=n!=null&&n.width?String(n.width):e.defaultWidth;s=e.values[u]||e.values[l]}const o=e.argumentCallback?e.argumentCallback(t):t;return s[o]}}const i$={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},a$={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},o$={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},l$={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},c$={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},u$={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},d$=(e,t)=>{const n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},f$={ordinalNumber:d$,era:cf({values:i$,defaultWidth:"wide"}),quarter:cf({values:a$,defaultWidth:"wide",argumentCallback:e=>e-1}),month:cf({values:o$,defaultWidth:"wide"}),day:cf({values:l$,defaultWidth:"wide"}),dayPeriod:cf({values:c$,defaultWidth:"wide",formattingValues:u$,defaultFormattingWidth:"wide"})};function uf(e){return(t,n={})=>{const r=n.width,s=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],o=t.match(s);if(!o)return null;const l=o[0],u=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],d=Array.isArray(u)?p$(u,m=>m.test(l)):h$(u,m=>m.test(l));let f;f=e.valueCallback?e.valueCallback(d):d,f=n.valueCallback?n.valueCallback(f):f;const p=t.slice(l.length);return{value:f,rest:p}}}function h$(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}function p$(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}function m$(e){return(t,n={})=>{const r=t.match(e.matchPattern);if(!r)return null;const s=r[0],o=t.match(e.parsePattern);if(!o)return null;let l=e.valueCallback?e.valueCallback(o[0]):o[0];l=n.valueCallback?n.valueCallback(l):l;const u=t.slice(s.length);return{value:l,rest:u}}}const g$=/^(\d+)(th|st|nd|rd)?/i,x$=/\d+/i,y$={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},v$={any:[/^b/i,/^(a|c)/i]},b$={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},w$={any:[/1/i,/2/i,/3/i,/4/i]},j$={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},N$={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},S$={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},k$={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},_$={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},C$={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},E$={ordinalNumber:m$({matchPattern:g$,parsePattern:x$,valueCallback:e=>parseInt(e,10)}),era:uf({matchPatterns:y$,defaultMatchWidth:"wide",parsePatterns:v$,defaultParseWidth:"any"}),quarter:uf({matchPatterns:b$,defaultMatchWidth:"wide",parsePatterns:w$,defaultParseWidth:"any",valueCallback:e=>e+1}),month:uf({matchPatterns:j$,defaultMatchWidth:"wide",parsePatterns:N$,defaultParseWidth:"any"}),day:uf({matchPatterns:S$,defaultMatchWidth:"wide",parsePatterns:k$,defaultParseWidth:"any"}),dayPeriod:uf({matchPatterns:_$,defaultMatchWidth:"any",parsePatterns:C$,defaultParseWidth:"any"})},oP={code:"en-US",formatDistance:JF,formatLong:n$,formatRelative:s$,localize:f$,match:E$,options:{weekStartsOn:0,firstWeekContainsDate:1}};function P$(e){const t=nn(e);return iP(t,QF(t))+1}function A$(e){const t=nn(e),n=+sg(t)-+$F(t);return Math.round(n/rP)+1}function lP(e,t){var p,m,x,v;const n=nn(e),r=n.getFullYear(),s=wh(),o=(t==null?void 0:t.firstWeekContainsDate)??((m=(p=t==null?void 0:t.locale)==null?void 0:p.options)==null?void 0:m.firstWeekContainsDate)??s.firstWeekContainsDate??((v=(x=s.locale)==null?void 0:x.options)==null?void 0:v.firstWeekContainsDate)??1,l=za(e,0);l.setFullYear(r+1,0,o),l.setHours(0,0,0,0);const u=Jf(l,t),d=za(e,0);d.setFullYear(r,0,o),d.setHours(0,0,0,0);const f=Jf(d,t);return n.getTime()>=u.getTime()?r+1:n.getTime()>=f.getTime()?r:r-1}function T$(e,t){var u,d,f,p;const n=wh(),r=(t==null?void 0:t.firstWeekContainsDate)??((d=(u=t==null?void 0:t.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??n.firstWeekContainsDate??((p=(f=n.locale)==null?void 0:f.options)==null?void 0:p.firstWeekContainsDate)??1,s=lP(e,t),o=za(e,0);return o.setFullYear(s,0,r),o.setHours(0,0,0,0),Jf(o,t)}function R$(e,t){const n=nn(e),r=+Jf(n,t)-+T$(n,t);return Math.round(r/rP)+1}function on(e,t){const n=e<0?"-":"",r=Math.abs(e).toString().padStart(t,"0");return n+r}const So={y(e,t){const n=e.getFullYear(),r=n>0?n:1-n;return on(t==="yy"?r%100:r,t.length)},M(e,t){const n=e.getMonth();return t==="M"?String(n+1):on(n+1,2)},d(e,t){return on(e.getDate(),t.length)},a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(e,t){return on(e.getHours()%12||12,t.length)},H(e,t){return on(e.getHours(),t.length)},m(e,t){return on(e.getMinutes(),t.length)},s(e,t){return on(e.getSeconds(),t.length)},S(e,t){const n=t.length,r=e.getMilliseconds(),s=Math.trunc(r*Math.pow(10,n-3));return on(s,t.length)}},du={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},DS={G:function(e,t,n){const r=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if(t==="yo"){const r=e.getFullYear(),s=r>0?r:1-r;return n.ordinalNumber(s,{unit:"year"})}return So.y(e,t)},Y:function(e,t,n,r){const s=lP(e,r),o=s>0?s:1-s;if(t==="YY"){const l=o%100;return on(l,2)}return t==="Yo"?n.ordinalNumber(o,{unit:"year"}):on(o,t.length)},R:function(e,t){const n=sP(e);return on(n,t.length)},u:function(e,t){const n=e.getFullYear();return on(n,t.length)},Q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return on(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return on(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){const r=e.getMonth();switch(t){case"M":case"MM":return So.M(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){const r=e.getMonth();switch(t){case"L":return String(r+1);case"LL":return on(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){const s=R$(e,r);return t==="wo"?n.ordinalNumber(s,{unit:"week"}):on(s,t.length)},I:function(e,t,n){const r=A$(e);return t==="Io"?n.ordinalNumber(r,{unit:"week"}):on(r,t.length)},d:function(e,t,n){return t==="do"?n.ordinalNumber(e.getDate(),{unit:"date"}):So.d(e,t)},D:function(e,t,n){const r=P$(e);return t==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):on(r,t.length)},E:function(e,t,n){const r=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){const s=e.getDay(),o=(s-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(o);case"ee":return on(o,2);case"eo":return n.ordinalNumber(o,{unit:"day"});case"eee":return n.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(s,{width:"short",context:"formatting"});case"eeee":default:return n.day(s,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){const s=e.getDay(),o=(s-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(o);case"cc":return on(o,t.length);case"co":return n.ordinalNumber(o,{unit:"day"});case"ccc":return n.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(s,{width:"narrow",context:"standalone"});case"cccccc":return n.day(s,{width:"short",context:"standalone"});case"cccc":default:return n.day(s,{width:"wide",context:"standalone"})}},i:function(e,t,n){const r=e.getDay(),s=r===0?7:r;switch(t){case"i":return String(s);case"ii":return on(s,t.length);case"io":return n.ordinalNumber(s,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){const s=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(e,t,n){const r=e.getHours();let s;switch(r===12?s=du.noon:r===0?s=du.midnight:s=r/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(e,t,n){const r=e.getHours();let s;switch(r>=17?s=du.evening:r>=12?s=du.afternoon:r>=4?s=du.morning:s=du.night,t){case"B":case"BB":case"BBB":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(e,t,n){if(t==="ho"){let r=e.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return So.h(e,t)},H:function(e,t,n){return t==="Ho"?n.ordinalNumber(e.getHours(),{unit:"hour"}):So.H(e,t)},K:function(e,t,n){const r=e.getHours()%12;return t==="Ko"?n.ordinalNumber(r,{unit:"hour"}):on(r,t.length)},k:function(e,t,n){let r=e.getHours();return r===0&&(r=24),t==="ko"?n.ordinalNumber(r,{unit:"hour"}):on(r,t.length)},m:function(e,t,n){return t==="mo"?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):So.m(e,t)},s:function(e,t,n){return t==="so"?n.ordinalNumber(e.getSeconds(),{unit:"second"}):So.s(e,t)},S:function(e,t){return So.S(e,t)},X:function(e,t,n){const r=e.getTimezoneOffset();if(r===0)return"Z";switch(t){case"X":return FS(r);case"XXXX":case"XX":return Vl(r);case"XXXXX":case"XXX":default:return Vl(r,":")}},x:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"x":return FS(r);case"xxxx":case"xx":return Vl(r);case"xxxxx":case"xxx":default:return Vl(r,":")}},O:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+LS(r,":");case"OOOO":default:return"GMT"+Vl(r,":")}},z:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+LS(r,":");case"zzzz":default:return"GMT"+Vl(r,":")}},t:function(e,t,n){const r=Math.trunc(e.getTime()/1e3);return on(r,t.length)},T:function(e,t,n){const r=e.getTime();return on(r,t.length)}};function LS(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),s=Math.trunc(r/60),o=r%60;return o===0?n+String(s):n+String(s)+t+on(o,2)}function FS(e,t){return e%60===0?(e>0?"-":"+")+on(Math.abs(e)/60,2):Vl(e,t)}function Vl(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),s=on(Math.trunc(r/60),2),o=on(r%60,2);return n+s+t+o}const $S=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},cP=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},I$=(e,t)=>{const n=e.match(/(P+)(p+)?/)||[],r=n[1],s=n[2];if(!s)return $S(e,t);let o;switch(r){case"P":o=t.dateTime({width:"short"});break;case"PP":o=t.dateTime({width:"medium"});break;case"PPP":o=t.dateTime({width:"long"});break;case"PPPP":default:o=t.dateTime({width:"full"});break}return o.replace("{{date}}",$S(r,t)).replace("{{time}}",cP(s,t))},M$={p:cP,P:I$},O$=/^D+$/,D$=/^Y+$/,L$=["D","DD","YY","YYYY"];function F$(e){return O$.test(e)}function $$(e){return D$.test(e)}function B$(e,t,n){const r=z$(e,t,n);if(console.warn(r),L$.includes(e))throw new RangeError(r)}function z$(e,t,n){const r=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const U$=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,V$=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,W$=/^'([^]*?)'?$/,q$=/''/g,H$=/[a-zA-Z]/;function fc(e,t,n){var p,m,x,v;const r=wh(),s=r.locale??oP,o=r.firstWeekContainsDate??((m=(p=r.locale)==null?void 0:p.options)==null?void 0:m.firstWeekContainsDate)??1,l=r.weekStartsOn??((v=(x=r.locale)==null?void 0:x.options)==null?void 0:v.weekStartsOn)??0,u=nn(e);if(!zF(u))throw new RangeError("Invalid time value");let d=t.match(V$).map(S=>{const N=S[0];if(N==="p"||N==="P"){const _=M$[N];return _(S,s.formatLong)}return S}).join("").match(U$).map(S=>{if(S==="''")return{isToken:!1,value:"'"};const N=S[0];if(N==="'")return{isToken:!1,value:K$(S)};if(DS[N])return{isToken:!0,value:S};if(N.match(H$))throw new RangeError("Format string contains an unescaped latin alphabet character `"+N+"`");return{isToken:!1,value:S}});s.localize.preprocessor&&(d=s.localize.preprocessor(u,d));const f={firstWeekContainsDate:o,weekStartsOn:l,locale:s};return d.map(S=>{if(!S.isToken)return S.value;const N=S.value;($$(N)||F$(N))&&B$(N,t,String(e));const _=DS[N[0]];return _(u,N,s.localize,f)}).join("")}function K$(e){const t=e.match(W$);return t?t[1].replace(q$,"'"):e}function G$(e,t,n){const r=wh(),s=(n==null?void 0:n.locale)??r.locale??oP,o=2520,l=Tm(e,t);if(isNaN(l))throw new RangeError("Invalid time value");const u=Object.assign({},n,{addSuffix:n==null?void 0:n.addSuffix,comparison:l});let d,f;l>0?(d=nn(t),f=nn(e)):(d=nn(e),f=nn(t));const p=YF(f,d),m=(ag(f)-ag(d))/1e3,x=Math.round((p-m)/60);let v;if(x<2)return n!=null&&n.includeSeconds?p<5?s.formatDistance("lessThanXSeconds",5,u):p<10?s.formatDistance("lessThanXSeconds",10,u):p<20?s.formatDistance("lessThanXSeconds",20,u):p<40?s.formatDistance("halfAMinute",0,u):p<60?s.formatDistance("lessThanXMinutes",1,u):s.formatDistance("xMinutes",1,u):x===0?s.formatDistance("lessThanXMinutes",1,u):s.formatDistance("xMinutes",x,u);if(x<45)return s.formatDistance("xMinutes",x,u);if(x<90)return s.formatDistance("aboutXHours",1,u);if(x<IS){const S=Math.round(x/60);return s.formatDistance("aboutXHours",S,u)}else{if(x<o)return s.formatDistance("xDays",1,u);if(x<im){const S=Math.round(x/IS);return s.formatDistance("xDays",S,u)}else if(x<im*2)return v=Math.round(x/im),s.formatDistance("aboutXMonths",v,u)}if(v=GF(f,d),v<12){const S=Math.round(x/im);return s.formatDistance("xMonths",S,u)}else{const S=v%12,N=Math.trunc(v/12);return S<3?s.formatDistance("aboutXYears",N,u):S<9?s.formatDistance("overXYears",N,u):s.formatDistance("almostXYears",N+1,u)}}function rw(e,t){return G$(e,nw(e),t)}function Go(e){return+nn(e)<Date.now()}function Cu(e){return aP(e,nw(e))}function uP(e){return aP(e,DF(nw(e),1))}const Y$=Ug("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),Oe=b.forwardRef(({className:e,variant:t,size:n,children:r,asChild:s=!1,...o},l)=>{const u=s?$L:"button";return i.jsx(u,{className:Ne(Y$({variant:t,size:n,className:e})),ref:l,...o,children:r})});Oe.displayName="Button";const un=b.forwardRef(({className:e,type:t,...n},r)=>i.jsx("input",{type:t,className:Ne("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:r,...n}));un.displayName="Input";function Q$(e,t=globalThis==null?void 0:globalThis.document){const n=Nr(e);b.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var X$="DismissableLayer",Dv="dismissableLayer.update",J$="dismissableLayer.pointerDownOutside",Z$="dismissableLayer.focusOutside",BS,dP=b.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),jh=b.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:o,onInteractOutside:l,onDismiss:u,...d}=e,f=b.useContext(dP),[p,m]=b.useState(null),x=(p==null?void 0:p.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,v]=b.useState({}),S=qt(t,V=>m(V)),N=Array.from(f.layers),[_]=[...f.layersWithOutsidePointerEventsDisabled].slice(-1),P=N.indexOf(_),T=p?N.indexOf(p):-1,I=f.layersWithOutsidePointerEventsDisabled.size>0,L=T>=P,z=nB(V=>{const W=V.target,F=[...f.branches].some(Y=>Y.contains(W));!L||F||(s==null||s(V),l==null||l(V),V.defaultPrevented||u==null||u())},x),$=rB(V=>{const W=V.target;[...f.branches].some(Y=>Y.contains(W))||(o==null||o(V),l==null||l(V),V.defaultPrevented||u==null||u())},x);return Q$(V=>{T===f.layers.size-1&&(r==null||r(V),!V.defaultPrevented&&u&&(V.preventDefault(),u()))},x),b.useEffect(()=>{if(p)return n&&(f.layersWithOutsidePointerEventsDisabled.size===0&&(BS=x.body.style.pointerEvents,x.body.style.pointerEvents="none"),f.layersWithOutsidePointerEventsDisabled.add(p)),f.layers.add(p),zS(),()=>{n&&f.layersWithOutsidePointerEventsDisabled.size===1&&(x.body.style.pointerEvents=BS)}},[p,x,n,f]),b.useEffect(()=>()=>{p&&(f.layers.delete(p),f.layersWithOutsidePointerEventsDisabled.delete(p),zS())},[p,f]),b.useEffect(()=>{const V=()=>v({});return document.addEventListener(Dv,V),()=>document.removeEventListener(Dv,V)},[]),i.jsx(At.div,{...d,ref:S,style:{pointerEvents:I?L?"auto":"none":void 0,...e.style},onFocusCapture:nt(e.onFocusCapture,$.onFocusCapture),onBlurCapture:nt(e.onBlurCapture,$.onBlurCapture),onPointerDownCapture:nt(e.onPointerDownCapture,z.onPointerDownCapture)})});jh.displayName=X$;var eB="DismissableLayerBranch",tB=b.forwardRef((e,t)=>{const n=b.useContext(dP),r=b.useRef(null),s=qt(t,r);return b.useEffect(()=>{const o=r.current;if(o)return n.branches.add(o),()=>{n.branches.delete(o)}},[n.branches]),i.jsx(At.div,{...e,ref:s})});tB.displayName=eB;function nB(e,t=globalThis==null?void 0:globalThis.document){const n=Nr(e),r=b.useRef(!1),s=b.useRef(()=>{});return b.useEffect(()=>{const o=u=>{if(u.target&&!r.current){let d=function(){fP(J$,n,f,{discrete:!0})};const f={originalEvent:u};u.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=d,t.addEventListener("click",s.current,{once:!0})):d()}else t.removeEventListener("click",s.current);r.current=!1},l=window.setTimeout(()=>{t.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(l),t.removeEventListener("pointerdown",o),t.removeEventListener("click",s.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function rB(e,t=globalThis==null?void 0:globalThis.document){const n=Nr(e),r=b.useRef(!1);return b.useEffect(()=>{const s=o=>{o.target&&!r.current&&fP(Z$,n,{originalEvent:o},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function zS(){const e=new CustomEvent(Dv);document.dispatchEvent(e)}function fP(e,t,n,{discrete:r}){const s=n.originalEvent.target,o=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&s.addEventListener(e,t,{once:!0}),r?DE(s,o):s.dispatchEvent(o)}var xy="focusScope.autoFocusOnMount",yy="focusScope.autoFocusOnUnmount",US={bubbles:!1,cancelable:!0},sB="FocusScope",Nh=b.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:o,...l}=e,[u,d]=b.useState(null),f=Nr(s),p=Nr(o),m=b.useRef(null),x=qt(t,N=>d(N)),v=b.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;b.useEffect(()=>{if(r){let N=function(I){if(v.paused||!u)return;const L=I.target;u.contains(L)?m.current=L:Po(m.current,{select:!0})},_=function(I){if(v.paused||!u)return;const L=I.relatedTarget;L!==null&&(u.contains(L)||Po(m.current,{select:!0}))},P=function(I){if(document.activeElement===document.body)for(const z of I)z.removedNodes.length>0&&Po(u)};document.addEventListener("focusin",N),document.addEventListener("focusout",_);const T=new MutationObserver(P);return u&&T.observe(u,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",N),document.removeEventListener("focusout",_),T.disconnect()}}},[r,u,v.paused]),b.useEffect(()=>{if(u){WS.add(v);const N=document.activeElement;if(!u.contains(N)){const P=new CustomEvent(xy,US);u.addEventListener(xy,f),u.dispatchEvent(P),P.defaultPrevented||(iB(uB(hP(u)),{select:!0}),document.activeElement===N&&Po(u))}return()=>{u.removeEventListener(xy,f),setTimeout(()=>{const P=new CustomEvent(yy,US);u.addEventListener(yy,p),u.dispatchEvent(P),P.defaultPrevented||Po(N??document.body,{select:!0}),u.removeEventListener(yy,p),WS.remove(v)},0)}}},[u,f,p,v]);const S=b.useCallback(N=>{if(!n&&!r||v.paused)return;const _=N.key==="Tab"&&!N.altKey&&!N.ctrlKey&&!N.metaKey,P=document.activeElement;if(_&&P){const T=N.currentTarget,[I,L]=aB(T);I&&L?!N.shiftKey&&P===L?(N.preventDefault(),n&&Po(I,{select:!0})):N.shiftKey&&P===I&&(N.preventDefault(),n&&Po(L,{select:!0})):P===T&&N.preventDefault()}},[n,r,v.paused]);return i.jsx(At.div,{tabIndex:-1,...l,ref:x,onKeyDown:S})});Nh.displayName=sB;function iB(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(Po(r,{select:t}),document.activeElement!==n)return}function aB(e){const t=hP(e),n=VS(t,e),r=VS(t.reverse(),e);return[n,r]}function hP(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function VS(e,t){for(const n of e)if(!oB(n,{upTo:t}))return n}function oB(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function lB(e){return e instanceof HTMLInputElement&&"select"in e}function Po(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&lB(e)&&t&&e.select()}}var WS=cB();function cB(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=qS(e,t),e.unshift(t)},remove(t){var n;e=qS(e,t),(n=e[0])==null||n.resume()}}}function qS(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function uB(e){return e.filter(t=>t.tagName!=="A")}var dB="Portal",Sh=b.forwardRef((e,t)=>{var u;const{container:n,...r}=e,[s,o]=b.useState(!1);kr(()=>o(!0),[]);const l=n||s&&((u=globalThis==null?void 0:globalThis.document)==null?void 0:u.body);return l?DL.createPortal(i.jsx(At.div,{...r,ref:t}),l):null});Sh.displayName=dB;var vy=0;function Xg(){b.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??HS()),document.body.insertAdjacentElement("beforeend",e[1]??HS()),vy++,()=>{vy===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),vy--}},[])}function HS(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Ui=function(){return Ui=Object.assign||function(t){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},Ui.apply(this,arguments)};function pP(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n}function fB(e,t,n){if(n||arguments.length===2)for(var r=0,s=t.length,o;r<s;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))}var Rm="right-scroll-bar-position",Im="width-before-scroll-bar",hB="with-scroll-bars-hidden",pB="--removed-body-scroll-bar-size";function by(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function mB(e,t){var n=b.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=t,n.facade}var gB=typeof window<"u"?b.useLayoutEffect:b.useEffect,KS=new WeakMap;function xB(e,t){var n=mB(null,function(r){return e.forEach(function(s){return by(s,r)})});return gB(function(){var r=KS.get(n);if(r){var s=new Set(r),o=new Set(e),l=n.current;s.forEach(function(u){o.has(u)||by(u,null)}),o.forEach(function(u){s.has(u)||by(u,l)})}KS.set(n,e)},[e]),n}function yB(e){return e}function vB(e,t){t===void 0&&(t=yB);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(o){var l=t(o,r);return n.push(l),function(){n=n.filter(function(u){return u!==l})}},assignSyncMedium:function(o){for(r=!0;n.length;){var l=n;n=[],l.forEach(o)}n={push:function(u){return o(u)},filter:function(){return n}}},assignMedium:function(o){r=!0;var l=[];if(n.length){var u=n;n=[],u.forEach(o),l=n}var d=function(){var p=l;l=[],p.forEach(o)},f=function(){return Promise.resolve().then(d)};f(),n={push:function(p){l.push(p),f()},filter:function(p){return l=l.filter(p),n}}}};return s}function bB(e){e===void 0&&(e={});var t=vB(null);return t.options=Ui({async:!0,ssr:!1},e),t}var mP=function(e){var t=e.sideCar,n=pP(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return b.createElement(r,Ui({},n))};mP.isSideCarExport=!0;function wB(e,t){return e.useMedium(t),mP}var gP=bB(),wy=function(){},Jg=b.forwardRef(function(e,t){var n=b.useRef(null),r=b.useState({onScrollCapture:wy,onWheelCapture:wy,onTouchMoveCapture:wy}),s=r[0],o=r[1],l=e.forwardProps,u=e.children,d=e.className,f=e.removeScrollBar,p=e.enabled,m=e.shards,x=e.sideCar,v=e.noRelative,S=e.noIsolation,N=e.inert,_=e.allowPinchZoom,P=e.as,T=P===void 0?"div":P,I=e.gapMode,L=pP(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),z=x,$=xB([n,t]),V=Ui(Ui({},L),s);return b.createElement(b.Fragment,null,p&&b.createElement(z,{sideCar:gP,removeScrollBar:f,shards:m,noRelative:v,noIsolation:S,inert:N,setCallbacks:o,allowPinchZoom:!!_,lockRef:n,gapMode:I}),l?b.cloneElement(b.Children.only(u),Ui(Ui({},V),{ref:$})):b.createElement(T,Ui({},V,{className:d,ref:$}),u))});Jg.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Jg.classNames={fullWidth:Im,zeroRight:Rm};var jB=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function NB(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=jB();return t&&e.setAttribute("nonce",t),e}function SB(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function kB(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var _B=function(){var e=0,t=null;return{add:function(n){e==0&&(t=NB())&&(SB(t,n),kB(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},CB=function(){var e=_B();return function(t,n){b.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},xP=function(){var e=CB(),t=function(n){var r=n.styles,s=n.dynamic;return e(r,s),null};return t},EB={left:0,top:0,right:0,gap:0},jy=function(e){return parseInt(e||"",10)||0},PB=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],s=t[e==="padding"?"paddingRight":"marginRight"];return[jy(n),jy(r),jy(s)]},AB=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return EB;var t=PB(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},TB=xP(),Mu="data-scroll-locked",RB=function(e,t,n,r){var s=e.left,o=e.top,l=e.right,u=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(hB,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(u,"px ").concat(r,`;
  }
  body[`).concat(Mu,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(l,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(u,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(u,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Rm,` {
    right: `).concat(u,"px ").concat(r,`;
  }
  
  .`).concat(Im,` {
    margin-right: `).concat(u,"px ").concat(r,`;
  }
  
  .`).concat(Rm," .").concat(Rm,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Im," .").concat(Im,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Mu,`] {
    `).concat(pB,": ").concat(u,`px;
  }
`)},GS=function(){var e=parseInt(document.body.getAttribute(Mu)||"0",10);return isFinite(e)?e:0},IB=function(){b.useEffect(function(){return document.body.setAttribute(Mu,(GS()+1).toString()),function(){var e=GS()-1;e<=0?document.body.removeAttribute(Mu):document.body.setAttribute(Mu,e.toString())}},[])},MB=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,s=r===void 0?"margin":r;IB();var o=b.useMemo(function(){return AB(s)},[s]);return b.createElement(TB,{styles:RB(o,!t,s,n?"":"!important")})},Lv=!1;if(typeof window<"u")try{var am=Object.defineProperty({},"passive",{get:function(){return Lv=!0,!0}});window.addEventListener("test",am,am),window.removeEventListener("test",am,am)}catch{Lv=!1}var fu=Lv?{passive:!1}:!1,OB=function(e){return e.tagName==="TEXTAREA"},yP=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!OB(e)&&n[t]==="visible")},DB=function(e){return yP(e,"overflowY")},LB=function(e){return yP(e,"overflowX")},YS=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=vP(e,r);if(s){var o=bP(e,r),l=o[1],u=o[2];if(l>u)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},FB=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},$B=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},vP=function(e,t){return e==="v"?DB(t):LB(t)},bP=function(e,t){return e==="v"?FB(t):$B(t)},BB=function(e,t){return e==="h"&&t==="rtl"?-1:1},zB=function(e,t,n,r,s){var o=BB(e,window.getComputedStyle(t).direction),l=o*r,u=n.target,d=t.contains(u),f=!1,p=l>0,m=0,x=0;do{if(!u)break;var v=bP(e,u),S=v[0],N=v[1],_=v[2],P=N-_-o*S;(S||P)&&vP(e,u)&&(m+=P,x+=S);var T=u.parentNode;u=T&&T.nodeType===Node.DOCUMENT_FRAGMENT_NODE?T.host:T}while(!d&&u!==document.body||d&&(t.contains(u)||t===u));return(p&&Math.abs(m)<1||!p&&Math.abs(x)<1)&&(f=!0),f},om=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},QS=function(e){return[e.deltaX,e.deltaY]},XS=function(e){return e&&"current"in e?e.current:e},UB=function(e,t){return e[0]===t[0]&&e[1]===t[1]},VB=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},WB=0,hu=[];function qB(e){var t=b.useRef([]),n=b.useRef([0,0]),r=b.useRef(),s=b.useState(WB++)[0],o=b.useState(xP)[0],l=b.useRef(e);b.useEffect(function(){l.current=e},[e]),b.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var N=fB([e.lockRef.current],(e.shards||[]).map(XS),!0).filter(Boolean);return N.forEach(function(_){return _.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),N.forEach(function(_){return _.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var u=b.useCallback(function(N,_){if("touches"in N&&N.touches.length===2||N.type==="wheel"&&N.ctrlKey)return!l.current.allowPinchZoom;var P=om(N),T=n.current,I="deltaX"in N?N.deltaX:T[0]-P[0],L="deltaY"in N?N.deltaY:T[1]-P[1],z,$=N.target,V=Math.abs(I)>Math.abs(L)?"h":"v";if("touches"in N&&V==="h"&&$.type==="range")return!1;var W=window.getSelection(),F=W&&W.anchorNode,Y=F?F===$||F.contains($):!1;if(Y)return!1;var H=YS(V,$);if(!H)return!0;if(H?z=V:(z=V==="v"?"h":"v",H=YS(V,$)),!H)return!1;if(!r.current&&"changedTouches"in N&&(I||L)&&(r.current=z),!z)return!0;var ee=r.current||z;return zB(ee,_,N,ee==="h"?I:L)},[]),d=b.useCallback(function(N){var _=N;if(!(!hu.length||hu[hu.length-1]!==o)){var P="deltaY"in _?QS(_):om(_),T=t.current.filter(function(z){return z.name===_.type&&(z.target===_.target||_.target===z.shadowParent)&&UB(z.delta,P)})[0];if(T&&T.should){_.cancelable&&_.preventDefault();return}if(!T){var I=(l.current.shards||[]).map(XS).filter(Boolean).filter(function(z){return z.contains(_.target)}),L=I.length>0?u(_,I[0]):!l.current.noIsolation;L&&_.cancelable&&_.preventDefault()}}},[]),f=b.useCallback(function(N,_,P,T){var I={name:N,delta:_,target:P,should:T,shadowParent:HB(P)};t.current.push(I),setTimeout(function(){t.current=t.current.filter(function(L){return L!==I})},1)},[]),p=b.useCallback(function(N){n.current=om(N),r.current=void 0},[]),m=b.useCallback(function(N){f(N.type,QS(N),N.target,u(N,e.lockRef.current))},[]),x=b.useCallback(function(N){f(N.type,om(N),N.target,u(N,e.lockRef.current))},[]);b.useEffect(function(){return hu.push(o),e.setCallbacks({onScrollCapture:m,onWheelCapture:m,onTouchMoveCapture:x}),document.addEventListener("wheel",d,fu),document.addEventListener("touchmove",d,fu),document.addEventListener("touchstart",p,fu),function(){hu=hu.filter(function(N){return N!==o}),document.removeEventListener("wheel",d,fu),document.removeEventListener("touchmove",d,fu),document.removeEventListener("touchstart",p,fu)}},[]);var v=e.removeScrollBar,S=e.inert;return b.createElement(b.Fragment,null,S?b.createElement(o,{styles:VB(s)}):null,v?b.createElement(MB,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function HB(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const KB=wB(gP,qB);var kh=b.forwardRef(function(e,t){return b.createElement(Jg,Ui({},e,{ref:t,sideCar:KB}))});kh.classNames=Jg.classNames;var GB=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},pu=new WeakMap,lm=new WeakMap,cm={},Ny=0,wP=function(e){return e&&(e.host||wP(e.parentNode))},YB=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=wP(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},QB=function(e,t,n,r){var s=YB(t,Array.isArray(e)?e:[e]);cm[n]||(cm[n]=new WeakMap);var o=cm[n],l=[],u=new Set,d=new Set(s),f=function(m){!m||u.has(m)||(u.add(m),f(m.parentNode))};s.forEach(f);var p=function(m){!m||d.has(m)||Array.prototype.forEach.call(m.children,function(x){if(u.has(x))p(x);else try{var v=x.getAttribute(r),S=v!==null&&v!=="false",N=(pu.get(x)||0)+1,_=(o.get(x)||0)+1;pu.set(x,N),o.set(x,_),l.push(x),N===1&&S&&lm.set(x,!0),_===1&&x.setAttribute(n,"true"),S||x.setAttribute(r,"true")}catch(P){console.error("aria-hidden: cannot operate on ",x,P)}})};return p(t),u.clear(),Ny++,function(){l.forEach(function(m){var x=pu.get(m)-1,v=o.get(m)-1;pu.set(m,x),o.set(m,v),x||(lm.has(m)||m.removeAttribute(r),lm.delete(m)),v||m.removeAttribute(n)}),Ny--,Ny||(pu=new WeakMap,pu=new WeakMap,lm=new WeakMap,cm={})}},Zg=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),s=GB(e);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live], script"))),QB(r,s,n,"aria-hidden")):function(){return null}};function XB(e){const t=JB(e),n=b.forwardRef((r,s)=>{const{children:o,...l}=r,u=b.Children.toArray(o),d=u.find(ez);if(d){const f=d.props.children,p=u.map(m=>m===d?b.Children.count(f)>1?b.Children.only(null):b.isValidElement(f)?f.props.children:null:m);return i.jsx(t,{...l,ref:s,children:b.isValidElement(f)?b.cloneElement(f,void 0,p):null})}return i.jsx(t,{...l,ref:s,children:o})});return n.displayName=`${e}.Slot`,n}function JB(e){const t=b.forwardRef((n,r)=>{const{children:s,...o}=n;if(b.isValidElement(s)){const l=nz(s),u=tz(o,s.props);return s.type!==b.Fragment&&(u.ref=r?na(r,l):l),b.cloneElement(s,u)}return b.Children.count(s)>1?b.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var ZB=Symbol("radix.slottable");function ez(e){return b.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===ZB}function tz(e,t){const n={...t};for(const r in t){const s=e[r],o=t[r];/^on[A-Z]/.test(r)?s&&o?n[r]=(...u)=>{const d=o(...u);return s(...u),d}:s&&(n[r]=s):r==="style"?n[r]={...s,...o}:r==="className"&&(n[r]=[s,o].filter(Boolean).join(" "))}return{...e,...n}}function nz(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var ex="Dialog",[jP]=xi(ex),[rz,yi]=jP(ex),NP=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:s,onOpenChange:o,modal:l=!0}=e,u=b.useRef(null),d=b.useRef(null),[f,p]=Zo({prop:r,defaultProp:s??!1,onChange:o,caller:ex});return i.jsx(rz,{scope:t,triggerRef:u,contentRef:d,contentId:hi(),titleId:hi(),descriptionId:hi(),open:f,onOpenChange:p,onOpenToggle:b.useCallback(()=>p(m=>!m),[p]),modal:l,children:n})};NP.displayName=ex;var SP="DialogTrigger",kP=b.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=yi(SP,n),o=qt(t,s.triggerRef);return i.jsx(At.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":aw(s.open),...r,ref:o,onClick:nt(e.onClick,s.onOpenToggle)})});kP.displayName=SP;var sw="DialogPortal",[sz,_P]=jP(sw,{forceMount:void 0}),CP=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:s}=e,o=yi(sw,t);return i.jsx(sz,{scope:t,forceMount:n,children:b.Children.map(r,l=>i.jsx(Kr,{present:n||o.open,children:i.jsx(Sh,{asChild:!0,container:s,children:l})}))})};CP.displayName=sw;var og="DialogOverlay",EP=b.forwardRef((e,t)=>{const n=_P(og,e.__scopeDialog),{forceMount:r=n.forceMount,...s}=e,o=yi(og,e.__scopeDialog);return o.modal?i.jsx(Kr,{present:r||o.open,children:i.jsx(az,{...s,ref:t})}):null});EP.displayName=og;var iz=XB("DialogOverlay.RemoveScroll"),az=b.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=yi(og,n);return i.jsx(kh,{as:iz,allowPinchZoom:!0,shards:[s.contentRef],children:i.jsx(At.div,{"data-state":aw(s.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),xc="DialogContent",PP=b.forwardRef((e,t)=>{const n=_P(xc,e.__scopeDialog),{forceMount:r=n.forceMount,...s}=e,o=yi(xc,e.__scopeDialog);return i.jsx(Kr,{present:r||o.open,children:o.modal?i.jsx(oz,{...s,ref:t}):i.jsx(lz,{...s,ref:t})})});PP.displayName=xc;var oz=b.forwardRef((e,t)=>{const n=yi(xc,e.__scopeDialog),r=b.useRef(null),s=qt(t,n.contentRef,r);return b.useEffect(()=>{const o=r.current;if(o)return Zg(o)},[]),i.jsx(AP,{...e,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:nt(e.onCloseAutoFocus,o=>{var l;o.preventDefault(),(l=n.triggerRef.current)==null||l.focus()}),onPointerDownOutside:nt(e.onPointerDownOutside,o=>{const l=o.detail.originalEvent,u=l.button===0&&l.ctrlKey===!0;(l.button===2||u)&&o.preventDefault()}),onFocusOutside:nt(e.onFocusOutside,o=>o.preventDefault())})}),lz=b.forwardRef((e,t)=>{const n=yi(xc,e.__scopeDialog),r=b.useRef(!1),s=b.useRef(!1);return i.jsx(AP,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var l,u;(l=e.onCloseAutoFocus)==null||l.call(e,o),o.defaultPrevented||(r.current||(u=n.triggerRef.current)==null||u.focus(),o.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:o=>{var d,f;(d=e.onInteractOutside)==null||d.call(e,o),o.defaultPrevented||(r.current=!0,o.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const l=o.target;((f=n.triggerRef.current)==null?void 0:f.contains(l))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&s.current&&o.preventDefault()}})}),AP=b.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:o,...l}=e,u=yi(xc,n),d=b.useRef(null),f=qt(t,d);return Xg(),i.jsxs(i.Fragment,{children:[i.jsx(Nh,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:o,children:i.jsx(jh,{role:"dialog",id:u.contentId,"aria-describedby":u.descriptionId,"aria-labelledby":u.titleId,"data-state":aw(u.open),...l,ref:f,onDismiss:()=>u.onOpenChange(!1)})}),i.jsxs(i.Fragment,{children:[i.jsx(cz,{titleId:u.titleId}),i.jsx(dz,{contentRef:d,descriptionId:u.descriptionId})]})]})}),iw="DialogTitle",TP=b.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=yi(iw,n);return i.jsx(At.h2,{id:s.titleId,...r,ref:t})});TP.displayName=iw;var RP="DialogDescription",IP=b.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=yi(RP,n);return i.jsx(At.p,{id:s.descriptionId,...r,ref:t})});IP.displayName=RP;var MP="DialogClose",OP=b.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=yi(MP,n);return i.jsx(At.button,{type:"button",...r,ref:t,onClick:nt(e.onClick,()=>s.onOpenChange(!1))})});OP.displayName=MP;function aw(e){return e?"open":"closed"}var DP="DialogTitleWarning",[Mte,LP]=ZL(DP,{contentName:xc,titleName:iw,docsSlug:"dialog"}),cz=({titleId:e})=>{const t=LP(DP),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return b.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},uz="DialogDescriptionWarning",dz=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${LP(uz).contentName}}.`;return b.useEffect(()=>{var o;const s=(o=e.current)==null?void 0:o.getAttribute("aria-describedby");t&&s&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},fz=NP,hz=kP,pz=CP,FP=EP,$P=PP,BP=TP,zP=IP,mz=OP;const Yl=fz,gz=hz,xz=pz,UP=b.forwardRef(({className:e,...t},n)=>i.jsx(FP,{ref:n,className:Ne("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));UP.displayName=FP.displayName;const Uo=b.forwardRef(({className:e,children:t,...n},r)=>i.jsxs(xz,{children:[i.jsx(UP,{}),i.jsxs($P,{ref:r,className:Ne("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...n,children:[t,i.jsxs(mz,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[i.jsx(Dr,{className:"h-4 w-4"}),i.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Uo.displayName=$P.displayName;const Vo=({className:e,children:t,...n})=>i.jsx("div",{className:Ne("flex flex-col space-y-1.5 text-center sm:text-left",e),...n,children:t});Vo.displayName="DialogHeader";const lg=({className:e,children:t,...n})=>i.jsx("div",{className:Ne("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...n,children:t});lg.displayName="DialogFooter";const Wo=b.forwardRef(({className:e,children:t,...n},r)=>i.jsx(BP,{ref:r,className:Ne("text-lg font-semibold leading-none tracking-tight",e),...n,children:t}));Wo.displayName=BP.displayName;const VP=b.forwardRef(({className:e,children:t,...n},r)=>i.jsx(zP,{ref:r,className:Ne("text-sm text-muted-foreground",e),...n,children:t}));VP.displayName=zP.displayName;const yz=["top","right","bottom","left"],el=Math.min,ws=Math.max,cg=Math.round,um=Math.floor,Gi=e=>({x:e,y:e}),vz={left:"right",right:"left",bottom:"top",top:"bottom"},bz={start:"end",end:"start"};function Fv(e,t,n){return ws(e,el(t,n))}function Ua(e,t){return typeof e=="function"?e(t):e}function Va(e){return e.split("-")[0]}function ud(e){return e.split("-")[1]}function ow(e){return e==="x"?"y":"x"}function lw(e){return e==="y"?"height":"width"}const wz=new Set(["top","bottom"]);function Wi(e){return wz.has(Va(e))?"y":"x"}function cw(e){return ow(Wi(e))}function jz(e,t,n){n===void 0&&(n=!1);const r=ud(e),s=cw(e),o=lw(s);let l=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[o]>t.floating[o]&&(l=ug(l)),[l,ug(l)]}function Nz(e){const t=ug(e);return[$v(e),t,$v(t)]}function $v(e){return e.replace(/start|end/g,t=>bz[t])}const JS=["left","right"],ZS=["right","left"],Sz=["top","bottom"],kz=["bottom","top"];function _z(e,t,n){switch(e){case"top":case"bottom":return n?t?ZS:JS:t?JS:ZS;case"left":case"right":return t?Sz:kz;default:return[]}}function Cz(e,t,n,r){const s=ud(e);let o=_z(Va(e),n==="start",r);return s&&(o=o.map(l=>l+"-"+s),t&&(o=o.concat(o.map($v)))),o}function ug(e){return e.replace(/left|right|bottom|top/g,t=>vz[t])}function Ez(e){return{top:0,right:0,bottom:0,left:0,...e}}function WP(e){return typeof e!="number"?Ez(e):{top:e,right:e,bottom:e,left:e}}function dg(e){const{x:t,y:n,width:r,height:s}=e;return{width:r,height:s,top:n,left:t,right:t+r,bottom:n+s,x:t,y:n}}function ek(e,t,n){let{reference:r,floating:s}=e;const o=Wi(t),l=cw(t),u=lw(l),d=Va(t),f=o==="y",p=r.x+r.width/2-s.width/2,m=r.y+r.height/2-s.height/2,x=r[u]/2-s[u]/2;let v;switch(d){case"top":v={x:p,y:r.y-s.height};break;case"bottom":v={x:p,y:r.y+r.height};break;case"right":v={x:r.x+r.width,y:m};break;case"left":v={x:r.x-s.width,y:m};break;default:v={x:r.x,y:r.y}}switch(ud(t)){case"start":v[l]-=x*(n&&f?-1:1);break;case"end":v[l]+=x*(n&&f?-1:1);break}return v}async function Pz(e,t){var n;t===void 0&&(t={});const{x:r,y:s,platform:o,rects:l,elements:u,strategy:d}=e,{boundary:f="clippingAncestors",rootBoundary:p="viewport",elementContext:m="floating",altBoundary:x=!1,padding:v=0}=Ua(t,e),S=WP(v),_=u[x?m==="floating"?"reference":"floating":m],P=dg(await o.getClippingRect({element:(n=await(o.isElement==null?void 0:o.isElement(_)))==null||n?_:_.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(u.floating)),boundary:f,rootBoundary:p,strategy:d})),T=m==="floating"?{x:r,y:s,width:l.floating.width,height:l.floating.height}:l.reference,I=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u.floating)),L=await(o.isElement==null?void 0:o.isElement(I))?await(o.getScale==null?void 0:o.getScale(I))||{x:1,y:1}:{x:1,y:1},z=dg(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:u,rect:T,offsetParent:I,strategy:d}):T);return{top:(P.top-z.top+S.top)/L.y,bottom:(z.bottom-P.bottom+S.bottom)/L.y,left:(P.left-z.left+S.left)/L.x,right:(z.right-P.right+S.right)/L.x}}const Az=async(e,t,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:o=[],platform:l}=n,u=o.filter(Boolean),d=await(l.isRTL==null?void 0:l.isRTL(t));let f=await l.getElementRects({reference:e,floating:t,strategy:s}),{x:p,y:m}=ek(f,r,d),x=r,v={},S=0;for(let _=0;_<u.length;_++){var N;const{name:P,fn:T}=u[_],{x:I,y:L,data:z,reset:$}=await T({x:p,y:m,initialPlacement:r,placement:x,strategy:s,middlewareData:v,rects:f,platform:{...l,detectOverflow:(N=l.detectOverflow)!=null?N:Pz},elements:{reference:e,floating:t}});p=I??p,m=L??m,v={...v,[P]:{...v[P],...z}},$&&S<=50&&(S++,typeof $=="object"&&($.placement&&(x=$.placement),$.rects&&(f=$.rects===!0?await l.getElementRects({reference:e,floating:t,strategy:s}):$.rects),{x:p,y:m}=ek(f,x,d)),_=-1)}return{x:p,y:m,placement:x,strategy:s,middlewareData:v}},Tz=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:s,rects:o,platform:l,elements:u,middlewareData:d}=t,{element:f,padding:p=0}=Ua(e,t)||{};if(f==null)return{};const m=WP(p),x={x:n,y:r},v=cw(s),S=lw(v),N=await l.getDimensions(f),_=v==="y",P=_?"top":"left",T=_?"bottom":"right",I=_?"clientHeight":"clientWidth",L=o.reference[S]+o.reference[v]-x[v]-o.floating[S],z=x[v]-o.reference[v],$=await(l.getOffsetParent==null?void 0:l.getOffsetParent(f));let V=$?$[I]:0;(!V||!await(l.isElement==null?void 0:l.isElement($)))&&(V=u.floating[I]||o.floating[S]);const W=L/2-z/2,F=V/2-N[S]/2-1,Y=el(m[P],F),H=el(m[T],F),ee=Y,ve=V-N[S]-H,ae=V/2-N[S]/2+W,he=Fv(ee,ae,ve),ge=!d.arrow&&ud(s)!=null&&ae!==he&&o.reference[S]/2-(ae<ee?Y:H)-N[S]/2<0,Se=ge?ae<ee?ae-ee:ae-ve:0;return{[v]:x[v]+Se,data:{[v]:he,centerOffset:ae-he-Se,...ge&&{alignmentOffset:Se}},reset:ge}}}),Rz=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:s,middlewareData:o,rects:l,initialPlacement:u,platform:d,elements:f}=t,{mainAxis:p=!0,crossAxis:m=!0,fallbackPlacements:x,fallbackStrategy:v="bestFit",fallbackAxisSideDirection:S="none",flipAlignment:N=!0,..._}=Ua(e,t);if((n=o.arrow)!=null&&n.alignmentOffset)return{};const P=Va(s),T=Wi(u),I=Va(u)===u,L=await(d.isRTL==null?void 0:d.isRTL(f.floating)),z=x||(I||!N?[ug(u)]:Nz(u)),$=S!=="none";!x&&$&&z.push(...Cz(u,N,S,L));const V=[u,...z],W=await d.detectOverflow(t,_),F=[];let Y=((r=o.flip)==null?void 0:r.overflows)||[];if(p&&F.push(W[P]),m){const ae=jz(s,l,L);F.push(W[ae[0]],W[ae[1]])}if(Y=[...Y,{placement:s,overflows:F}],!F.every(ae=>ae<=0)){var H,ee;const ae=(((H=o.flip)==null?void 0:H.index)||0)+1,he=V[ae];if(he&&(!(m==="alignment"?T!==Wi(he):!1)||Y.every(K=>Wi(K.placement)===T?K.overflows[0]>0:!0)))return{data:{index:ae,overflows:Y},reset:{placement:he}};let ge=(ee=Y.filter(Se=>Se.overflows[0]<=0).sort((Se,K)=>Se.overflows[1]-K.overflows[1])[0])==null?void 0:ee.placement;if(!ge)switch(v){case"bestFit":{var ve;const Se=(ve=Y.filter(K=>{if($){const fe=Wi(K.placement);return fe===T||fe==="y"}return!0}).map(K=>[K.placement,K.overflows.filter(fe=>fe>0).reduce((fe,A)=>fe+A,0)]).sort((K,fe)=>K[1]-fe[1])[0])==null?void 0:ve[0];Se&&(ge=Se);break}case"initialPlacement":ge=u;break}if(s!==ge)return{reset:{placement:ge}}}return{}}}};function tk(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function nk(e){return yz.some(t=>e[t]>=0)}const Iz=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n,platform:r}=t,{strategy:s="referenceHidden",...o}=Ua(e,t);switch(s){case"referenceHidden":{const l=await r.detectOverflow(t,{...o,elementContext:"reference"}),u=tk(l,n.reference);return{data:{referenceHiddenOffsets:u,referenceHidden:nk(u)}}}case"escaped":{const l=await r.detectOverflow(t,{...o,altBoundary:!0}),u=tk(l,n.floating);return{data:{escapedOffsets:u,escaped:nk(u)}}}default:return{}}}}},qP=new Set(["left","top"]);async function Mz(e,t){const{placement:n,platform:r,elements:s}=e,o=await(r.isRTL==null?void 0:r.isRTL(s.floating)),l=Va(n),u=ud(n),d=Wi(n)==="y",f=qP.has(l)?-1:1,p=o&&d?-1:1,m=Ua(t,e);let{mainAxis:x,crossAxis:v,alignmentAxis:S}=typeof m=="number"?{mainAxis:m,crossAxis:0,alignmentAxis:null}:{mainAxis:m.mainAxis||0,crossAxis:m.crossAxis||0,alignmentAxis:m.alignmentAxis};return u&&typeof S=="number"&&(v=u==="end"?S*-1:S),d?{x:v*p,y:x*f}:{x:x*f,y:v*p}}const Oz=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:s,y:o,placement:l,middlewareData:u}=t,d=await Mz(t,e);return l===((n=u.offset)==null?void 0:n.placement)&&(r=u.arrow)!=null&&r.alignmentOffset?{}:{x:s+d.x,y:o+d.y,data:{...d,placement:l}}}}},Dz=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:s,platform:o}=t,{mainAxis:l=!0,crossAxis:u=!1,limiter:d={fn:P=>{let{x:T,y:I}=P;return{x:T,y:I}}},...f}=Ua(e,t),p={x:n,y:r},m=await o.detectOverflow(t,f),x=Wi(Va(s)),v=ow(x);let S=p[v],N=p[x];if(l){const P=v==="y"?"top":"left",T=v==="y"?"bottom":"right",I=S+m[P],L=S-m[T];S=Fv(I,S,L)}if(u){const P=x==="y"?"top":"left",T=x==="y"?"bottom":"right",I=N+m[P],L=N-m[T];N=Fv(I,N,L)}const _=d.fn({...t,[v]:S,[x]:N});return{..._,data:{x:_.x-n,y:_.y-r,enabled:{[v]:l,[x]:u}}}}}},Lz=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:s,rects:o,middlewareData:l}=t,{offset:u=0,mainAxis:d=!0,crossAxis:f=!0}=Ua(e,t),p={x:n,y:r},m=Wi(s),x=ow(m);let v=p[x],S=p[m];const N=Ua(u,t),_=typeof N=="number"?{mainAxis:N,crossAxis:0}:{mainAxis:0,crossAxis:0,...N};if(d){const I=x==="y"?"height":"width",L=o.reference[x]-o.floating[I]+_.mainAxis,z=o.reference[x]+o.reference[I]-_.mainAxis;v<L?v=L:v>z&&(v=z)}if(f){var P,T;const I=x==="y"?"width":"height",L=qP.has(Va(s)),z=o.reference[m]-o.floating[I]+(L&&((P=l.offset)==null?void 0:P[m])||0)+(L?0:_.crossAxis),$=o.reference[m]+o.reference[I]+(L?0:((T=l.offset)==null?void 0:T[m])||0)-(L?_.crossAxis:0);S<z?S=z:S>$&&(S=$)}return{[x]:v,[m]:S}}}},Fz=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:s,rects:o,platform:l,elements:u}=t,{apply:d=()=>{},...f}=Ua(e,t),p=await l.detectOverflow(t,f),m=Va(s),x=ud(s),v=Wi(s)==="y",{width:S,height:N}=o.floating;let _,P;m==="top"||m==="bottom"?(_=m,P=x===(await(l.isRTL==null?void 0:l.isRTL(u.floating))?"start":"end")?"left":"right"):(P=m,_=x==="end"?"top":"bottom");const T=N-p.top-p.bottom,I=S-p.left-p.right,L=el(N-p[_],T),z=el(S-p[P],I),$=!t.middlewareData.shift;let V=L,W=z;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(W=I),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(V=T),$&&!x){const Y=ws(p.left,0),H=ws(p.right,0),ee=ws(p.top,0),ve=ws(p.bottom,0);v?W=S-2*(Y!==0||H!==0?Y+H:ws(p.left,p.right)):V=N-2*(ee!==0||ve!==0?ee+ve:ws(p.top,p.bottom))}await d({...t,availableWidth:W,availableHeight:V});const F=await l.getDimensions(u.floating);return S!==F.width||N!==F.height?{reset:{rects:!0}}:{}}}};function tx(){return typeof window<"u"}function dd(e){return HP(e)?(e.nodeName||"").toLowerCase():"#document"}function Ss(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function ra(e){var t;return(t=(HP(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function HP(e){return tx()?e instanceof Node||e instanceof Ss(e).Node:!1}function mi(e){return tx()?e instanceof Element||e instanceof Ss(e).Element:!1}function Zi(e){return tx()?e instanceof HTMLElement||e instanceof Ss(e).HTMLElement:!1}function rk(e){return!tx()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Ss(e).ShadowRoot}const $z=new Set(["inline","contents"]);function _h(e){const{overflow:t,overflowX:n,overflowY:r,display:s}=gi(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!$z.has(s)}const Bz=new Set(["table","td","th"]);function zz(e){return Bz.has(dd(e))}const Uz=[":popover-open",":modal"];function nx(e){return Uz.some(t=>{try{return e.matches(t)}catch{return!1}})}const Vz=["transform","translate","scale","rotate","perspective"],Wz=["transform","translate","scale","rotate","perspective","filter"],qz=["paint","layout","strict","content"];function uw(e){const t=dw(),n=mi(e)?gi(e):e;return Vz.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||Wz.some(r=>(n.willChange||"").includes(r))||qz.some(r=>(n.contain||"").includes(r))}function Hz(e){let t=tl(e);for(;Zi(t)&&!Zu(t);){if(uw(t))return t;if(nx(t))return null;t=tl(t)}return null}function dw(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const Kz=new Set(["html","body","#document"]);function Zu(e){return Kz.has(dd(e))}function gi(e){return Ss(e).getComputedStyle(e)}function rx(e){return mi(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function tl(e){if(dd(e)==="html")return e;const t=e.assignedSlot||e.parentNode||rk(e)&&e.host||ra(e);return rk(t)?t.host:t}function KP(e){const t=tl(e);return Zu(t)?e.ownerDocument?e.ownerDocument.body:e.body:Zi(t)&&_h(t)?t:KP(t)}function Zf(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const s=KP(e),o=s===((r=e.ownerDocument)==null?void 0:r.body),l=Ss(s);if(o){const u=Bv(l);return t.concat(l,l.visualViewport||[],_h(s)?s:[],u&&n?Zf(u):[])}return t.concat(s,Zf(s,[],n))}function Bv(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function GP(e){const t=gi(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const s=Zi(e),o=s?e.offsetWidth:n,l=s?e.offsetHeight:r,u=cg(n)!==o||cg(r)!==l;return u&&(n=o,r=l),{width:n,height:r,$:u}}function fw(e){return mi(e)?e:e.contextElement}function Ou(e){const t=fw(e);if(!Zi(t))return Gi(1);const n=t.getBoundingClientRect(),{width:r,height:s,$:o}=GP(t);let l=(o?cg(n.width):n.width)/r,u=(o?cg(n.height):n.height)/s;return(!l||!Number.isFinite(l))&&(l=1),(!u||!Number.isFinite(u))&&(u=1),{x:l,y:u}}const Gz=Gi(0);function YP(e){const t=Ss(e);return!dw()||!t.visualViewport?Gz:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function Yz(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==Ss(e)?!1:t}function yc(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const s=e.getBoundingClientRect(),o=fw(e);let l=Gi(1);t&&(r?mi(r)&&(l=Ou(r)):l=Ou(e));const u=Yz(o,n,r)?YP(o):Gi(0);let d=(s.left+u.x)/l.x,f=(s.top+u.y)/l.y,p=s.width/l.x,m=s.height/l.y;if(o){const x=Ss(o),v=r&&mi(r)?Ss(r):r;let S=x,N=Bv(S);for(;N&&r&&v!==S;){const _=Ou(N),P=N.getBoundingClientRect(),T=gi(N),I=P.left+(N.clientLeft+parseFloat(T.paddingLeft))*_.x,L=P.top+(N.clientTop+parseFloat(T.paddingTop))*_.y;d*=_.x,f*=_.y,p*=_.x,m*=_.y,d+=I,f+=L,S=Ss(N),N=Bv(S)}}return dg({width:p,height:m,x:d,y:f})}function sx(e,t){const n=rx(e).scrollLeft;return t?t.left+n:yc(ra(e)).left+n}function QP(e,t){const n=e.getBoundingClientRect(),r=n.left+t.scrollLeft-sx(e,n),s=n.top+t.scrollTop;return{x:r,y:s}}function Qz(e){let{elements:t,rect:n,offsetParent:r,strategy:s}=e;const o=s==="fixed",l=ra(r),u=t?nx(t.floating):!1;if(r===l||u&&o)return n;let d={scrollLeft:0,scrollTop:0},f=Gi(1);const p=Gi(0),m=Zi(r);if((m||!m&&!o)&&((dd(r)!=="body"||_h(l))&&(d=rx(r)),Zi(r))){const v=yc(r);f=Ou(r),p.x=v.x+r.clientLeft,p.y=v.y+r.clientTop}const x=l&&!m&&!o?QP(l,d):Gi(0);return{width:n.width*f.x,height:n.height*f.y,x:n.x*f.x-d.scrollLeft*f.x+p.x+x.x,y:n.y*f.y-d.scrollTop*f.y+p.y+x.y}}function Xz(e){return Array.from(e.getClientRects())}function Jz(e){const t=ra(e),n=rx(e),r=e.ownerDocument.body,s=ws(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),o=ws(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let l=-n.scrollLeft+sx(e);const u=-n.scrollTop;return gi(r).direction==="rtl"&&(l+=ws(t.clientWidth,r.clientWidth)-s),{width:s,height:o,x:l,y:u}}const sk=25;function Zz(e,t){const n=Ss(e),r=ra(e),s=n.visualViewport;let o=r.clientWidth,l=r.clientHeight,u=0,d=0;if(s){o=s.width,l=s.height;const p=dw();(!p||p&&t==="fixed")&&(u=s.offsetLeft,d=s.offsetTop)}const f=sx(r);if(f<=0){const p=r.ownerDocument,m=p.body,x=getComputedStyle(m),v=p.compatMode==="CSS1Compat"&&parseFloat(x.marginLeft)+parseFloat(x.marginRight)||0,S=Math.abs(r.clientWidth-m.clientWidth-v);S<=sk&&(o-=S)}else f<=sk&&(o+=f);return{width:o,height:l,x:u,y:d}}const e8=new Set(["absolute","fixed"]);function t8(e,t){const n=yc(e,!0,t==="fixed"),r=n.top+e.clientTop,s=n.left+e.clientLeft,o=Zi(e)?Ou(e):Gi(1),l=e.clientWidth*o.x,u=e.clientHeight*o.y,d=s*o.x,f=r*o.y;return{width:l,height:u,x:d,y:f}}function ik(e,t,n){let r;if(t==="viewport")r=Zz(e,n);else if(t==="document")r=Jz(ra(e));else if(mi(t))r=t8(t,n);else{const s=YP(e);r={x:t.x-s.x,y:t.y-s.y,width:t.width,height:t.height}}return dg(r)}function XP(e,t){const n=tl(e);return n===t||!mi(n)||Zu(n)?!1:gi(n).position==="fixed"||XP(n,t)}function n8(e,t){const n=t.get(e);if(n)return n;let r=Zf(e,[],!1).filter(u=>mi(u)&&dd(u)!=="body"),s=null;const o=gi(e).position==="fixed";let l=o?tl(e):e;for(;mi(l)&&!Zu(l);){const u=gi(l),d=uw(l);!d&&u.position==="fixed"&&(s=null),(o?!d&&!s:!d&&u.position==="static"&&!!s&&e8.has(s.position)||_h(l)&&!d&&XP(e,l))?r=r.filter(p=>p!==l):s=u,l=tl(l)}return t.set(e,r),r}function r8(e){let{element:t,boundary:n,rootBoundary:r,strategy:s}=e;const l=[...n==="clippingAncestors"?nx(t)?[]:n8(t,this._c):[].concat(n),r],u=l[0],d=l.reduce((f,p)=>{const m=ik(t,p,s);return f.top=ws(m.top,f.top),f.right=el(m.right,f.right),f.bottom=el(m.bottom,f.bottom),f.left=ws(m.left,f.left),f},ik(t,u,s));return{width:d.right-d.left,height:d.bottom-d.top,x:d.left,y:d.top}}function s8(e){const{width:t,height:n}=GP(e);return{width:t,height:n}}function i8(e,t,n){const r=Zi(t),s=ra(t),o=n==="fixed",l=yc(e,!0,o,t);let u={scrollLeft:0,scrollTop:0};const d=Gi(0);function f(){d.x=sx(s)}if(r||!r&&!o)if((dd(t)!=="body"||_h(s))&&(u=rx(t)),r){const v=yc(t,!0,o,t);d.x=v.x+t.clientLeft,d.y=v.y+t.clientTop}else s&&f();o&&!r&&s&&f();const p=s&&!r&&!o?QP(s,u):Gi(0),m=l.left+u.scrollLeft-d.x-p.x,x=l.top+u.scrollTop-d.y-p.y;return{x:m,y:x,width:l.width,height:l.height}}function Sy(e){return gi(e).position==="static"}function ak(e,t){if(!Zi(e)||gi(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return ra(e)===n&&(n=n.ownerDocument.body),n}function JP(e,t){const n=Ss(e);if(nx(e))return n;if(!Zi(e)){let s=tl(e);for(;s&&!Zu(s);){if(mi(s)&&!Sy(s))return s;s=tl(s)}return n}let r=ak(e,t);for(;r&&zz(r)&&Sy(r);)r=ak(r,t);return r&&Zu(r)&&Sy(r)&&!uw(r)?n:r||Hz(e)||n}const a8=async function(e){const t=this.getOffsetParent||JP,n=this.getDimensions,r=await n(e.floating);return{reference:i8(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function o8(e){return gi(e).direction==="rtl"}const l8={convertOffsetParentRelativeRectToViewportRelativeRect:Qz,getDocumentElement:ra,getClippingRect:r8,getOffsetParent:JP,getElementRects:a8,getClientRects:Xz,getDimensions:s8,getScale:Ou,isElement:mi,isRTL:o8};function ZP(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function c8(e,t){let n=null,r;const s=ra(e);function o(){var u;clearTimeout(r),(u=n)==null||u.disconnect(),n=null}function l(u,d){u===void 0&&(u=!1),d===void 0&&(d=1),o();const f=e.getBoundingClientRect(),{left:p,top:m,width:x,height:v}=f;if(u||t(),!x||!v)return;const S=um(m),N=um(s.clientWidth-(p+x)),_=um(s.clientHeight-(m+v)),P=um(p),I={rootMargin:-S+"px "+-N+"px "+-_+"px "+-P+"px",threshold:ws(0,el(1,d))||1};let L=!0;function z($){const V=$[0].intersectionRatio;if(V!==d){if(!L)return l();V?l(!1,V):r=setTimeout(()=>{l(!1,1e-7)},1e3)}V===1&&!ZP(f,e.getBoundingClientRect())&&l(),L=!1}try{n=new IntersectionObserver(z,{...I,root:s.ownerDocument})}catch{n=new IntersectionObserver(z,I)}n.observe(e)}return l(!0),o}function u8(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:o=!0,elementResize:l=typeof ResizeObserver=="function",layoutShift:u=typeof IntersectionObserver=="function",animationFrame:d=!1}=r,f=fw(e),p=s||o?[...f?Zf(f):[],...Zf(t)]:[];p.forEach(P=>{s&&P.addEventListener("scroll",n,{passive:!0}),o&&P.addEventListener("resize",n)});const m=f&&u?c8(f,n):null;let x=-1,v=null;l&&(v=new ResizeObserver(P=>{let[T]=P;T&&T.target===f&&v&&(v.unobserve(t),cancelAnimationFrame(x),x=requestAnimationFrame(()=>{var I;(I=v)==null||I.observe(t)})),n()}),f&&!d&&v.observe(f),v.observe(t));let S,N=d?yc(e):null;d&&_();function _(){const P=yc(e);N&&!ZP(N,P)&&n(),N=P,S=requestAnimationFrame(_)}return n(),()=>{var P;p.forEach(T=>{s&&T.removeEventListener("scroll",n),o&&T.removeEventListener("resize",n)}),m==null||m(),(P=v)==null||P.disconnect(),v=null,d&&cancelAnimationFrame(S)}}const d8=Oz,f8=Dz,h8=Rz,p8=Fz,m8=Iz,ok=Tz,g8=Lz,x8=(e,t,n)=>{const r=new Map,s={platform:l8,...n},o={...s.platform,_c:r};return Az(e,t,{...s,platform:o})};var y8=typeof document<"u",v8=function(){},Mm=y8?b.useLayoutEffect:v8;function fg(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!fg(e[r],t[r]))return!1;return!0}if(s=Object.keys(e),n=s.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,s[r]))return!1;for(r=n;r--!==0;){const o=s[r];if(!(o==="_owner"&&e.$$typeof)&&!fg(e[o],t[o]))return!1}return!0}return e!==e&&t!==t}function eA(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function lk(e,t){const n=eA(e);return Math.round(t*n)/n}function ky(e){const t=b.useRef(e);return Mm(()=>{t.current=e}),t}function b8(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:o,floating:l}={},transform:u=!0,whileElementsMounted:d,open:f}=e,[p,m]=b.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[x,v]=b.useState(r);fg(x,r)||v(r);const[S,N]=b.useState(null),[_,P]=b.useState(null),T=b.useCallback(K=>{K!==$.current&&($.current=K,N(K))},[]),I=b.useCallback(K=>{K!==V.current&&(V.current=K,P(K))},[]),L=o||S,z=l||_,$=b.useRef(null),V=b.useRef(null),W=b.useRef(p),F=d!=null,Y=ky(d),H=ky(s),ee=ky(f),ve=b.useCallback(()=>{if(!$.current||!V.current)return;const K={placement:t,strategy:n,middleware:x};H.current&&(K.platform=H.current),x8($.current,V.current,K).then(fe=>{const A={...fe,isPositioned:ee.current!==!1};ae.current&&!fg(W.current,A)&&(W.current=A,yh.flushSync(()=>{m(A)}))})},[x,t,n,H,ee]);Mm(()=>{f===!1&&W.current.isPositioned&&(W.current.isPositioned=!1,m(K=>({...K,isPositioned:!1})))},[f]);const ae=b.useRef(!1);Mm(()=>(ae.current=!0,()=>{ae.current=!1}),[]),Mm(()=>{if(L&&($.current=L),z&&(V.current=z),L&&z){if(Y.current)return Y.current(L,z,ve);ve()}},[L,z,ve,Y,F]);const he=b.useMemo(()=>({reference:$,floating:V,setReference:T,setFloating:I}),[T,I]),ge=b.useMemo(()=>({reference:L,floating:z}),[L,z]),Se=b.useMemo(()=>{const K={position:n,left:0,top:0};if(!ge.floating)return K;const fe=lk(ge.floating,p.x),A=lk(ge.floating,p.y);return u?{...K,transform:"translate("+fe+"px, "+A+"px)",...eA(ge.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:fe,top:A}},[n,u,ge.floating,p.x,p.y]);return b.useMemo(()=>({...p,update:ve,refs:he,elements:ge,floatingStyles:Se}),[p,ve,he,ge,Se])}const w8=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:s}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?ok({element:r.current,padding:s}).fn(n):{}:r?ok({element:r,padding:s}).fn(n):{}}}},j8=(e,t)=>({...d8(e),options:[e,t]}),N8=(e,t)=>({...f8(e),options:[e,t]}),S8=(e,t)=>({...g8(e),options:[e,t]}),k8=(e,t)=>({...h8(e),options:[e,t]}),_8=(e,t)=>({...p8(e),options:[e,t]}),C8=(e,t)=>({...m8(e),options:[e,t]}),E8=(e,t)=>({...w8(e),options:[e,t]});var P8="Arrow",tA=b.forwardRef((e,t)=>{const{children:n,width:r=10,height:s=5,...o}=e;return i.jsx(At.svg,{...o,ref:t,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:i.jsx("polygon",{points:"0,0 30,0 15,10"})})});tA.displayName=P8;var A8=tA;function nA(e){const[t,n]=b.useState(void 0);return kr(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const o=s[0];let l,u;if("borderBoxSize"in o){const d=o.borderBoxSize,f=Array.isArray(d)?d[0]:d;l=f.inlineSize,u=f.blockSize}else l=e.offsetWidth,u=e.offsetHeight;n({width:l,height:u})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}var hw="Popper",[rA,fd]=xi(hw),[T8,sA]=rA(hw),iA=e=>{const{__scopePopper:t,children:n}=e,[r,s]=b.useState(null);return i.jsx(T8,{scope:t,anchor:r,onAnchorChange:s,children:n})};iA.displayName=hw;var aA="PopperAnchor",oA=b.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...s}=e,o=sA(aA,n),l=b.useRef(null),u=qt(t,l),d=b.useRef(null);return b.useEffect(()=>{const f=d.current;d.current=(r==null?void 0:r.current)||l.current,f!==d.current&&o.onAnchorChange(d.current)}),r?null:i.jsx(At.div,{...s,ref:u})});oA.displayName=aA;var pw="PopperContent",[R8,I8]=rA(pw),lA=b.forwardRef((e,t)=>{var xe,Pe,Ue,Ce,et,Ve;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:o="center",alignOffset:l=0,arrowPadding:u=0,avoidCollisions:d=!0,collisionBoundary:f=[],collisionPadding:p=0,sticky:m="partial",hideWhenDetached:x=!1,updatePositionStrategy:v="optimized",onPlaced:S,...N}=e,_=sA(pw,n),[P,T]=b.useState(null),I=qt(t,_t=>T(_t)),[L,z]=b.useState(null),$=nA(L),V=($==null?void 0:$.width)??0,W=($==null?void 0:$.height)??0,F=r+(o!=="center"?"-"+o:""),Y=typeof p=="number"?p:{top:0,right:0,bottom:0,left:0,...p},H=Array.isArray(f)?f:[f],ee=H.length>0,ve={padding:Y,boundary:H.filter(O8),altBoundary:ee},{refs:ae,floatingStyles:he,placement:ge,isPositioned:Se,middlewareData:K}=b8({strategy:"fixed",placement:F,whileElementsMounted:(..._t)=>u8(..._t,{animationFrame:v==="always"}),elements:{reference:_.anchor},middleware:[j8({mainAxis:s+W,alignmentAxis:l}),d&&N8({mainAxis:!0,crossAxis:!1,limiter:m==="partial"?S8():void 0,...ve}),d&&k8({...ve}),_8({...ve,apply:({elements:_t,rects:yt,availableWidth:$t,availableHeight:dn})=>{const{width:ln,height:zn}=yt.reference,yn=_t.floating.style;yn.setProperty("--radix-popper-available-width",`${$t}px`),yn.setProperty("--radix-popper-available-height",`${dn}px`),yn.setProperty("--radix-popper-anchor-width",`${ln}px`),yn.setProperty("--radix-popper-anchor-height",`${zn}px`)}}),L&&E8({element:L,padding:u}),D8({arrowWidth:V,arrowHeight:W}),x&&C8({strategy:"referenceHidden",...ve})]}),[fe,A]=dA(ge),M=Nr(S);kr(()=>{Se&&(M==null||M())},[Se,M]);const X=(xe=K.arrow)==null?void 0:xe.x,B=(Pe=K.arrow)==null?void 0:Pe.y,Ee=((Ue=K.arrow)==null?void 0:Ue.centerOffset)!==0,[De,Te]=b.useState();return kr(()=>{P&&Te(window.getComputedStyle(P).zIndex)},[P]),i.jsx("div",{ref:ae.setFloating,"data-radix-popper-content-wrapper":"",style:{...he,transform:Se?he.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:De,"--radix-popper-transform-origin":[(Ce=K.transformOrigin)==null?void 0:Ce.x,(et=K.transformOrigin)==null?void 0:et.y].join(" "),...((Ve=K.hide)==null?void 0:Ve.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:i.jsx(R8,{scope:n,placedSide:fe,onArrowChange:z,arrowX:X,arrowY:B,shouldHideArrow:Ee,children:i.jsx(At.div,{"data-side":fe,"data-align":A,...N,ref:I,style:{...N.style,animation:Se?void 0:"none"}})})})});lA.displayName=pw;var cA="PopperArrow",M8={top:"bottom",right:"left",bottom:"top",left:"right"},uA=b.forwardRef(function(t,n){const{__scopePopper:r,...s}=t,o=I8(cA,r),l=M8[o.placedSide];return i.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[l]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:i.jsx(A8,{...s,ref:n,style:{...s.style,display:"block"}})})});uA.displayName=cA;function O8(e){return e!==null}var D8=e=>({name:"transformOrigin",options:e,fn(t){var _,P,T;const{placement:n,rects:r,middlewareData:s}=t,l=((_=s.arrow)==null?void 0:_.centerOffset)!==0,u=l?0:e.arrowWidth,d=l?0:e.arrowHeight,[f,p]=dA(n),m={start:"0%",center:"50%",end:"100%"}[p],x=(((P=s.arrow)==null?void 0:P.x)??0)+u/2,v=(((T=s.arrow)==null?void 0:T.y)??0)+d/2;let S="",N="";return f==="bottom"?(S=l?m:`${x}px`,N=`${-d}px`):f==="top"?(S=l?m:`${x}px`,N=`${r.floating.height+d}px`):f==="right"?(S=`${-d}px`,N=l?m:`${v}px`):f==="left"&&(S=`${r.floating.width+d}px`,N=l?m:`${v}px`),{data:{x:S,y:N}}}});function dA(e){const[t,n="center"]=e.split("-");return[t,n]}var mw=iA,ix=oA,gw=lA,xw=uA;function L8(e){const t=F8(e),n=b.forwardRef((r,s)=>{const{children:o,...l}=r,u=b.Children.toArray(o),d=u.find(B8);if(d){const f=d.props.children,p=u.map(m=>m===d?b.Children.count(f)>1?b.Children.only(null):b.isValidElement(f)?f.props.children:null:m);return i.jsx(t,{...l,ref:s,children:b.isValidElement(f)?b.cloneElement(f,void 0,p):null})}return i.jsx(t,{...l,ref:s,children:o})});return n.displayName=`${e}.Slot`,n}function F8(e){const t=b.forwardRef((n,r)=>{const{children:s,...o}=n;if(b.isValidElement(s)){const l=U8(s),u=z8(o,s.props);return s.type!==b.Fragment&&(u.ref=r?na(r,l):l),b.cloneElement(s,u)}return b.Children.count(s)>1?b.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var $8=Symbol("radix.slottable");function B8(e){return b.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===$8}function z8(e,t){const n={...t};for(const r in t){const s=e[r],o=t[r];/^on[A-Z]/.test(r)?s&&o?n[r]=(...u)=>{const d=o(...u);return s(...u),d}:s&&(n[r]=s):r==="style"?n[r]={...s,...o}:r==="className"&&(n[r]=[s,o].filter(Boolean).join(" "))}return{...e,...n}}function U8(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var zv=["Enter"," "],V8=["ArrowDown","PageUp","Home"],fA=["ArrowUp","PageDown","End"],W8=[...V8,...fA],q8={ltr:[...zv,"ArrowRight"],rtl:[...zv,"ArrowLeft"]},H8={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Ch="Menu",[eh,K8,G8]=Zb(Ch),[jc,hA]=xi(Ch,[G8,fd,Gg]),ax=fd(),pA=Gg(),[Y8,Nc]=jc(Ch),[Q8,Eh]=jc(Ch),mA=e=>{const{__scopeMenu:t,open:n=!1,children:r,dir:s,onOpenChange:o,modal:l=!0}=e,u=ax(t),[d,f]=b.useState(null),p=b.useRef(!1),m=Nr(o),x=vh(s);return b.useEffect(()=>{const v=()=>{p.current=!0,document.addEventListener("pointerdown",S,{capture:!0,once:!0}),document.addEventListener("pointermove",S,{capture:!0,once:!0})},S=()=>p.current=!1;return document.addEventListener("keydown",v,{capture:!0}),()=>{document.removeEventListener("keydown",v,{capture:!0}),document.removeEventListener("pointerdown",S,{capture:!0}),document.removeEventListener("pointermove",S,{capture:!0})}},[]),i.jsx(mw,{...u,children:i.jsx(Y8,{scope:t,open:n,onOpenChange:m,content:d,onContentChange:f,children:i.jsx(Q8,{scope:t,onClose:b.useCallback(()=>m(!1),[m]),isUsingKeyboardRef:p,dir:x,modal:l,children:r})})})};mA.displayName=Ch;var X8="MenuAnchor",yw=b.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,s=ax(n);return i.jsx(ix,{...s,...r,ref:t})});yw.displayName=X8;var vw="MenuPortal",[J8,gA]=jc(vw,{forceMount:void 0}),xA=e=>{const{__scopeMenu:t,forceMount:n,children:r,container:s}=e,o=Nc(vw,t);return i.jsx(J8,{scope:t,forceMount:n,children:i.jsx(Kr,{present:n||o.open,children:i.jsx(Sh,{asChild:!0,container:s,children:r})})})};xA.displayName=vw;var qs="MenuContent",[Z8,bw]=jc(qs),yA=b.forwardRef((e,t)=>{const n=gA(qs,e.__scopeMenu),{forceMount:r=n.forceMount,...s}=e,o=Nc(qs,e.__scopeMenu),l=Eh(qs,e.__scopeMenu);return i.jsx(eh.Provider,{scope:e.__scopeMenu,children:i.jsx(Kr,{present:r||o.open,children:i.jsx(eh.Slot,{scope:e.__scopeMenu,children:l.modal?i.jsx(e9,{...s,ref:t}):i.jsx(t9,{...s,ref:t})})})})}),e9=b.forwardRef((e,t)=>{const n=Nc(qs,e.__scopeMenu),r=b.useRef(null),s=qt(t,r);return b.useEffect(()=>{const o=r.current;if(o)return Zg(o)},[]),i.jsx(ww,{...e,ref:s,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:nt(e.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),t9=b.forwardRef((e,t)=>{const n=Nc(qs,e.__scopeMenu);return i.jsx(ww,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),n9=L8("MenuContent.ScrollLock"),ww=b.forwardRef((e,t)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:s,onOpenAutoFocus:o,onCloseAutoFocus:l,disableOutsidePointerEvents:u,onEntryFocus:d,onEscapeKeyDown:f,onPointerDownOutside:p,onFocusOutside:m,onInteractOutside:x,onDismiss:v,disableOutsideScroll:S,...N}=e,_=Nc(qs,n),P=Eh(qs,n),T=ax(n),I=pA(n),L=K8(n),[z,$]=b.useState(null),V=b.useRef(null),W=qt(t,V,_.onContentChange),F=b.useRef(0),Y=b.useRef(""),H=b.useRef(0),ee=b.useRef(null),ve=b.useRef("right"),ae=b.useRef(0),he=S?kh:b.Fragment,ge=S?{as:n9,allowPinchZoom:!0}:void 0,Se=fe=>{var xe,Pe;const A=Y.current+fe,M=L().filter(Ue=>!Ue.disabled),X=document.activeElement,B=(xe=M.find(Ue=>Ue.ref.current===X))==null?void 0:xe.textValue,Ee=M.map(Ue=>Ue.textValue),De=p9(Ee,A,B),Te=(Pe=M.find(Ue=>Ue.textValue===De))==null?void 0:Pe.ref.current;(function Ue(Ce){Y.current=Ce,window.clearTimeout(F.current),Ce!==""&&(F.current=window.setTimeout(()=>Ue(""),1e3))})(A),Te&&setTimeout(()=>Te.focus())};b.useEffect(()=>()=>window.clearTimeout(F.current),[]),Xg();const K=b.useCallback(fe=>{var M,X;return ve.current===((M=ee.current)==null?void 0:M.side)&&g9(fe,(X=ee.current)==null?void 0:X.area)},[]);return i.jsx(Z8,{scope:n,searchRef:Y,onItemEnter:b.useCallback(fe=>{K(fe)&&fe.preventDefault()},[K]),onItemLeave:b.useCallback(fe=>{var A;K(fe)||((A=V.current)==null||A.focus(),$(null))},[K]),onTriggerLeave:b.useCallback(fe=>{K(fe)&&fe.preventDefault()},[K]),pointerGraceTimerRef:H,onPointerGraceIntentChange:b.useCallback(fe=>{ee.current=fe},[]),children:i.jsx(he,{...ge,children:i.jsx(Nh,{asChild:!0,trapped:s,onMountAutoFocus:nt(o,fe=>{var A;fe.preventDefault(),(A=V.current)==null||A.focus({preventScroll:!0})}),onUnmountAutoFocus:l,children:i.jsx(jh,{asChild:!0,disableOutsidePointerEvents:u,onEscapeKeyDown:f,onPointerDownOutside:p,onFocusOutside:m,onInteractOutside:x,onDismiss:v,children:i.jsx(UE,{asChild:!0,...I,dir:P.dir,orientation:"vertical",loop:r,currentTabStopId:z,onCurrentTabStopIdChange:$,onEntryFocus:nt(d,fe=>{P.isUsingKeyboardRef.current||fe.preventDefault()}),preventScrollOnEntryFocus:!0,children:i.jsx(gw,{role:"menu","aria-orientation":"vertical","data-state":MA(_.open),"data-radix-menu-content":"",dir:P.dir,...T,...N,ref:W,style:{outline:"none",...N.style},onKeyDown:nt(N.onKeyDown,fe=>{const M=fe.target.closest("[data-radix-menu-content]")===fe.currentTarget,X=fe.ctrlKey||fe.altKey||fe.metaKey,B=fe.key.length===1;M&&(fe.key==="Tab"&&fe.preventDefault(),!X&&B&&Se(fe.key));const Ee=V.current;if(fe.target!==Ee||!W8.includes(fe.key))return;fe.preventDefault();const Te=L().filter(xe=>!xe.disabled).map(xe=>xe.ref.current);fA.includes(fe.key)&&Te.reverse(),f9(Te)}),onBlur:nt(e.onBlur,fe=>{fe.currentTarget.contains(fe.target)||(window.clearTimeout(F.current),Y.current="")}),onPointerMove:nt(e.onPointerMove,th(fe=>{const A=fe.target,M=ae.current!==fe.clientX;if(fe.currentTarget.contains(A)&&M){const X=fe.clientX>ae.current?"right":"left";ve.current=X,ae.current=fe.clientX}}))})})})})})})});yA.displayName=qs;var r9="MenuGroup",jw=b.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return i.jsx(At.div,{role:"group",...r,ref:t})});jw.displayName=r9;var s9="MenuLabel",vA=b.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return i.jsx(At.div,{...r,ref:t})});vA.displayName=s9;var hg="MenuItem",ck="menu.itemSelect",ox=b.forwardRef((e,t)=>{const{disabled:n=!1,onSelect:r,...s}=e,o=b.useRef(null),l=Eh(hg,e.__scopeMenu),u=bw(hg,e.__scopeMenu),d=qt(t,o),f=b.useRef(!1),p=()=>{const m=o.current;if(!n&&m){const x=new CustomEvent(ck,{bubbles:!0,cancelable:!0});m.addEventListener(ck,v=>r==null?void 0:r(v),{once:!0}),DE(m,x),x.defaultPrevented?f.current=!1:l.onClose()}};return i.jsx(bA,{...s,ref:d,disabled:n,onClick:nt(e.onClick,p),onPointerDown:m=>{var x;(x=e.onPointerDown)==null||x.call(e,m),f.current=!0},onPointerUp:nt(e.onPointerUp,m=>{var x;f.current||(x=m.currentTarget)==null||x.click()}),onKeyDown:nt(e.onKeyDown,m=>{const x=u.searchRef.current!=="";n||x&&m.key===" "||zv.includes(m.key)&&(m.currentTarget.click(),m.preventDefault())})})});ox.displayName=hg;var bA=b.forwardRef((e,t)=>{const{__scopeMenu:n,disabled:r=!1,textValue:s,...o}=e,l=bw(hg,n),u=pA(n),d=b.useRef(null),f=qt(t,d),[p,m]=b.useState(!1),[x,v]=b.useState("");return b.useEffect(()=>{const S=d.current;S&&v((S.textContent??"").trim())},[o.children]),i.jsx(eh.ItemSlot,{scope:n,disabled:r,textValue:s??x,children:i.jsx(VE,{asChild:!0,...u,focusable:!r,children:i.jsx(At.div,{role:"menuitem","data-highlighted":p?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...o,ref:f,onPointerMove:nt(e.onPointerMove,th(S=>{r?l.onItemLeave(S):(l.onItemEnter(S),S.defaultPrevented||S.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:nt(e.onPointerLeave,th(S=>l.onItemLeave(S))),onFocus:nt(e.onFocus,()=>m(!0)),onBlur:nt(e.onBlur,()=>m(!1))})})})}),i9="MenuCheckboxItem",wA=b.forwardRef((e,t)=>{const{checked:n=!1,onCheckedChange:r,...s}=e;return i.jsx(_A,{scope:e.__scopeMenu,checked:n,children:i.jsx(ox,{role:"menuitemcheckbox","aria-checked":pg(n)?"mixed":n,...s,ref:t,"data-state":Sw(n),onSelect:nt(s.onSelect,()=>r==null?void 0:r(pg(n)?!0:!n),{checkForDefaultPrevented:!1})})})});wA.displayName=i9;var jA="MenuRadioGroup",[a9,o9]=jc(jA,{value:void 0,onValueChange:()=>{}}),NA=b.forwardRef((e,t)=>{const{value:n,onValueChange:r,...s}=e,o=Nr(r);return i.jsx(a9,{scope:e.__scopeMenu,value:n,onValueChange:o,children:i.jsx(jw,{...s,ref:t})})});NA.displayName=jA;var SA="MenuRadioItem",kA=b.forwardRef((e,t)=>{const{value:n,...r}=e,s=o9(SA,e.__scopeMenu),o=n===s.value;return i.jsx(_A,{scope:e.__scopeMenu,checked:o,children:i.jsx(ox,{role:"menuitemradio","aria-checked":o,...r,ref:t,"data-state":Sw(o),onSelect:nt(r.onSelect,()=>{var l;return(l=s.onValueChange)==null?void 0:l.call(s,n)},{checkForDefaultPrevented:!1})})})});kA.displayName=SA;var Nw="MenuItemIndicator",[_A,l9]=jc(Nw,{checked:!1}),CA=b.forwardRef((e,t)=>{const{__scopeMenu:n,forceMount:r,...s}=e,o=l9(Nw,n);return i.jsx(Kr,{present:r||pg(o.checked)||o.checked===!0,children:i.jsx(At.span,{...s,ref:t,"data-state":Sw(o.checked)})})});CA.displayName=Nw;var c9="MenuSeparator",EA=b.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return i.jsx(At.div,{role:"separator","aria-orientation":"horizontal",...r,ref:t})});EA.displayName=c9;var u9="MenuArrow",PA=b.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,s=ax(n);return i.jsx(xw,{...s,...r,ref:t})});PA.displayName=u9;var d9="MenuSub",[Ote,AA]=jc(d9),bf="MenuSubTrigger",TA=b.forwardRef((e,t)=>{const n=Nc(bf,e.__scopeMenu),r=Eh(bf,e.__scopeMenu),s=AA(bf,e.__scopeMenu),o=bw(bf,e.__scopeMenu),l=b.useRef(null),{pointerGraceTimerRef:u,onPointerGraceIntentChange:d}=o,f={__scopeMenu:e.__scopeMenu},p=b.useCallback(()=>{l.current&&window.clearTimeout(l.current),l.current=null},[]);return b.useEffect(()=>p,[p]),b.useEffect(()=>{const m=u.current;return()=>{window.clearTimeout(m),d(null)}},[u,d]),i.jsx(yw,{asChild:!0,...f,children:i.jsx(bA,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":s.contentId,"data-state":MA(n.open),...e,ref:na(t,s.onTriggerChange),onClick:m=>{var x;(x=e.onClick)==null||x.call(e,m),!(e.disabled||m.defaultPrevented)&&(m.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:nt(e.onPointerMove,th(m=>{o.onItemEnter(m),!m.defaultPrevented&&!e.disabled&&!n.open&&!l.current&&(o.onPointerGraceIntentChange(null),l.current=window.setTimeout(()=>{n.onOpenChange(!0),p()},100))})),onPointerLeave:nt(e.onPointerLeave,th(m=>{var v,S;p();const x=(v=n.content)==null?void 0:v.getBoundingClientRect();if(x){const N=(S=n.content)==null?void 0:S.dataset.side,_=N==="right",P=_?-5:5,T=x[_?"left":"right"],I=x[_?"right":"left"];o.onPointerGraceIntentChange({area:[{x:m.clientX+P,y:m.clientY},{x:T,y:x.top},{x:I,y:x.top},{x:I,y:x.bottom},{x:T,y:x.bottom}],side:N}),window.clearTimeout(u.current),u.current=window.setTimeout(()=>o.onPointerGraceIntentChange(null),300)}else{if(o.onTriggerLeave(m),m.defaultPrevented)return;o.onPointerGraceIntentChange(null)}})),onKeyDown:nt(e.onKeyDown,m=>{var v;const x=o.searchRef.current!=="";e.disabled||x&&m.key===" "||q8[r.dir].includes(m.key)&&(n.onOpenChange(!0),(v=n.content)==null||v.focus(),m.preventDefault())})})})});TA.displayName=bf;var RA="MenuSubContent",IA=b.forwardRef((e,t)=>{const n=gA(qs,e.__scopeMenu),{forceMount:r=n.forceMount,...s}=e,o=Nc(qs,e.__scopeMenu),l=Eh(qs,e.__scopeMenu),u=AA(RA,e.__scopeMenu),d=b.useRef(null),f=qt(t,d);return i.jsx(eh.Provider,{scope:e.__scopeMenu,children:i.jsx(Kr,{present:r||o.open,children:i.jsx(eh.Slot,{scope:e.__scopeMenu,children:i.jsx(ww,{id:u.contentId,"aria-labelledby":u.triggerId,...s,ref:f,align:"start",side:l.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:p=>{var m;l.isUsingKeyboardRef.current&&((m=d.current)==null||m.focus()),p.preventDefault()},onCloseAutoFocus:p=>p.preventDefault(),onFocusOutside:nt(e.onFocusOutside,p=>{p.target!==u.trigger&&o.onOpenChange(!1)}),onEscapeKeyDown:nt(e.onEscapeKeyDown,p=>{l.onClose(),p.preventDefault()}),onKeyDown:nt(e.onKeyDown,p=>{var v;const m=p.currentTarget.contains(p.target),x=H8[l.dir].includes(p.key);m&&x&&(o.onOpenChange(!1),(v=u.trigger)==null||v.focus(),p.preventDefault())})})})})})});IA.displayName=RA;function MA(e){return e?"open":"closed"}function pg(e){return e==="indeterminate"}function Sw(e){return pg(e)?"indeterminate":e?"checked":"unchecked"}function f9(e){const t=document.activeElement;for(const n of e)if(n===t||(n.focus(),document.activeElement!==t))return}function h9(e,t){return e.map((n,r)=>e[(t+r)%e.length])}function p9(e,t,n){const s=t.length>1&&Array.from(t).every(f=>f===t[0])?t[0]:t,o=n?e.indexOf(n):-1;let l=h9(e,Math.max(o,0));s.length===1&&(l=l.filter(f=>f!==n));const d=l.find(f=>f.toLowerCase().startsWith(s.toLowerCase()));return d!==n?d:void 0}function m9(e,t){const{x:n,y:r}=e;let s=!1;for(let o=0,l=t.length-1;o<t.length;l=o++){const u=t[o],d=t[l],f=u.x,p=u.y,m=d.x,x=d.y;p>r!=x>r&&n<(m-f)*(r-p)/(x-p)+f&&(s=!s)}return s}function g9(e,t){if(!t)return!1;const n={x:e.clientX,y:e.clientY};return m9(n,t)}function th(e){return t=>t.pointerType==="mouse"?e(t):void 0}var x9=mA,y9=yw,v9=xA,b9=yA,w9=jw,j9=vA,N9=ox,S9=wA,k9=NA,_9=kA,C9=CA,E9=EA,P9=PA,A9=TA,T9=IA,lx="DropdownMenu",[R9]=xi(lx,[hA]),Gr=hA(),[I9,OA]=R9(lx),DA=e=>{const{__scopeDropdownMenu:t,children:n,dir:r,open:s,defaultOpen:o,onOpenChange:l,modal:u=!0}=e,d=Gr(t),f=b.useRef(null),[p,m]=Zo({prop:s,defaultProp:o??!1,onChange:l,caller:lx});return i.jsx(I9,{scope:t,triggerId:hi(),triggerRef:f,contentId:hi(),open:p,onOpenChange:m,onOpenToggle:b.useCallback(()=>m(x=>!x),[m]),modal:u,children:i.jsx(x9,{...d,open:p,onOpenChange:m,dir:r,modal:u,children:n})})};DA.displayName=lx;var LA="DropdownMenuTrigger",FA=b.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...s}=e,o=OA(LA,n),l=Gr(n);return i.jsx(y9,{asChild:!0,...l,children:i.jsx(At.button,{type:"button",id:o.triggerId,"aria-haspopup":"menu","aria-expanded":o.open,"aria-controls":o.open?o.contentId:void 0,"data-state":o.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...s,ref:na(t,o.triggerRef),onPointerDown:nt(e.onPointerDown,u=>{!r&&u.button===0&&u.ctrlKey===!1&&(o.onOpenToggle(),o.open||u.preventDefault())}),onKeyDown:nt(e.onKeyDown,u=>{r||(["Enter"," "].includes(u.key)&&o.onOpenToggle(),u.key==="ArrowDown"&&o.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(u.key)&&u.preventDefault())})})})});FA.displayName=LA;var M9="DropdownMenuPortal",$A=e=>{const{__scopeDropdownMenu:t,...n}=e,r=Gr(t);return i.jsx(v9,{...r,...n})};$A.displayName=M9;var BA="DropdownMenuContent",zA=b.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=OA(BA,n),o=Gr(n),l=b.useRef(!1);return i.jsx(b9,{id:s.contentId,"aria-labelledby":s.triggerId,...o,...r,ref:t,onCloseAutoFocus:nt(e.onCloseAutoFocus,u=>{var d;l.current||(d=s.triggerRef.current)==null||d.focus(),l.current=!1,u.preventDefault()}),onInteractOutside:nt(e.onInteractOutside,u=>{const d=u.detail.originalEvent,f=d.button===0&&d.ctrlKey===!0,p=d.button===2||f;(!s.modal||p)&&(l.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});zA.displayName=BA;var O9="DropdownMenuGroup",D9=b.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=Gr(n);return i.jsx(w9,{...s,...r,ref:t})});D9.displayName=O9;var L9="DropdownMenuLabel",UA=b.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=Gr(n);return i.jsx(j9,{...s,...r,ref:t})});UA.displayName=L9;var F9="DropdownMenuItem",VA=b.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=Gr(n);return i.jsx(N9,{...s,...r,ref:t})});VA.displayName=F9;var $9="DropdownMenuCheckboxItem",WA=b.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=Gr(n);return i.jsx(S9,{...s,...r,ref:t})});WA.displayName=$9;var B9="DropdownMenuRadioGroup",z9=b.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=Gr(n);return i.jsx(k9,{...s,...r,ref:t})});z9.displayName=B9;var U9="DropdownMenuRadioItem",qA=b.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=Gr(n);return i.jsx(_9,{...s,...r,ref:t})});qA.displayName=U9;var V9="DropdownMenuItemIndicator",HA=b.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=Gr(n);return i.jsx(C9,{...s,...r,ref:t})});HA.displayName=V9;var W9="DropdownMenuSeparator",KA=b.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=Gr(n);return i.jsx(E9,{...s,...r,ref:t})});KA.displayName=W9;var q9="DropdownMenuArrow",H9=b.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=Gr(n);return i.jsx(P9,{...s,...r,ref:t})});H9.displayName=q9;var K9="DropdownMenuSubTrigger",GA=b.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=Gr(n);return i.jsx(A9,{...s,...r,ref:t})});GA.displayName=K9;var G9="DropdownMenuSubContent",YA=b.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=Gr(n);return i.jsx(T9,{...s,...r,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});YA.displayName=G9;var Y9=DA,Q9=FA,X9=$A,QA=zA,XA=UA,JA=VA,ZA=WA,eT=qA,tT=HA,nT=KA,rT=GA,sT=YA;const mg=Y9,gg=Q9,J9=b.forwardRef(({className:e,inset:t,children:n,...r},s)=>i.jsxs(rT,{ref:s,className:Ne("flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",t&&"pl-8",e),...r,children:[n,i.jsx(Hi,{className:"ml-auto"})]}));J9.displayName=rT.displayName;const Z9=b.forwardRef(({className:e,children:t,...n},r)=>i.jsx(sT,{ref:r,className:Ne("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n,children:t}));Z9.displayName=sT.displayName;const nh=b.forwardRef(({className:e,sideOffset:t=4,children:n,...r},s)=>i.jsx(X9,{children:i.jsx(QA,{ref:s,sideOffset:t,className:Ne("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md","data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r,children:n})}));nh.displayName=QA.displayName;const fi=b.forwardRef(({className:e,inset:t,children:n,...r},s)=>i.jsx(JA,{ref:s,className:Ne("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&>svg]:size-4 [&>svg]:shrink-0",t&&"pl-8",e),...r,children:n}));fi.displayName=JA.displayName;const eU=b.forwardRef(({className:e,children:t,checked:n,...r},s)=>i.jsxs(ZA,{ref:s,className:Ne("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:n,...r,children:[i.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:i.jsx(tT,{children:i.jsx(Qu,{className:"h-4 w-4"})})}),t]}));eU.displayName=ZA.displayName;const tU=b.forwardRef(({className:e,children:t,value:n,...r},s)=>i.jsxs(eT,{ref:s,value:n,className:Ne("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[i.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:i.jsx(tT,{children:i.jsx(Qm,{className:"h-2 w-2 fill-current"})})}),t]}));tU.displayName=eT.displayName;const iT=b.forwardRef(({className:e,inset:t,children:n,...r},s)=>i.jsx(XA,{ref:s,className:Ne("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...r,children:n}));iT.displayName=XA.displayName;const aT=b.forwardRef(({className:e,...t},n)=>i.jsx(nT,{ref:n,className:Ne("-mx-1 my-1 h-px bg-muted",e),...t}));aT.displayName=nT.displayName;function Uv(e,[t,n]){return Math.min(n,Math.max(t,e))}function nU(e){const t=rU(e),n=b.forwardRef((r,s)=>{const{children:o,...l}=r,u=b.Children.toArray(o),d=u.find(iU);if(d){const f=d.props.children,p=u.map(m=>m===d?b.Children.count(f)>1?b.Children.only(null):b.isValidElement(f)?f.props.children:null:m);return i.jsx(t,{...l,ref:s,children:b.isValidElement(f)?b.cloneElement(f,void 0,p):null})}return i.jsx(t,{...l,ref:s,children:o})});return n.displayName=`${e}.Slot`,n}function rU(e){const t=b.forwardRef((n,r)=>{const{children:s,...o}=n;if(b.isValidElement(s)){const l=oU(s),u=aU(o,s.props);return s.type!==b.Fragment&&(u.ref=r?na(r,l):l),b.cloneElement(s,u)}return b.Children.count(s)>1?b.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var sU=Symbol("radix.slottable");function iU(e){return b.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===sU}function aU(e,t){const n={...t};for(const r in t){const s=e[r],o=t[r];/^on[A-Z]/.test(r)?s&&o?n[r]=(...u)=>{const d=o(...u);return s(...u),d}:s&&(n[r]=s):r==="style"?n[r]={...s,...o}:r==="className"&&(n[r]=[s,o].filter(Boolean).join(" "))}return{...e,...n}}function oU(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function oT(e){const t=b.useRef({value:e,previous:e});return b.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var lT=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),lU="VisuallyHidden",cU=b.forwardRef((e,t)=>i.jsx(At.span,{...e,ref:t,style:{...lT,...e.style}}));cU.displayName=lU;var uU=[" ","Enter","ArrowUp","ArrowDown"],dU=[" ","Enter"],vc="Select",[cx,ux,fU]=Zb(vc),[hd]=xi(vc,[fU,fd]),dx=fd(),[hU,il]=hd(vc),[pU,mU]=hd(vc),cT=e=>{const{__scopeSelect:t,children:n,open:r,defaultOpen:s,onOpenChange:o,value:l,defaultValue:u,onValueChange:d,dir:f,name:p,autoComplete:m,disabled:x,required:v,form:S}=e,N=dx(t),[_,P]=b.useState(null),[T,I]=b.useState(null),[L,z]=b.useState(!1),$=vh(f),[V,W]=Zo({prop:r,defaultProp:s??!1,onChange:o,caller:vc}),[F,Y]=Zo({prop:l,defaultProp:u,onChange:d,caller:vc}),H=b.useRef(null),ee=_?S||!!_.closest("form"):!0,[ve,ae]=b.useState(new Set),he=Array.from(ve).map(ge=>ge.props.value).join(";");return i.jsx(mw,{...N,children:i.jsxs(hU,{required:v,scope:t,trigger:_,onTriggerChange:P,valueNode:T,onValueNodeChange:I,valueNodeHasChildren:L,onValueNodeHasChildrenChange:z,contentId:hi(),value:F,onValueChange:Y,open:V,onOpenChange:W,dir:$,triggerPointerDownPosRef:H,disabled:x,children:[i.jsx(cx.Provider,{scope:t,children:i.jsx(pU,{scope:e.__scopeSelect,onNativeOptionAdd:b.useCallback(ge=>{ae(Se=>new Set(Se).add(ge))},[]),onNativeOptionRemove:b.useCallback(ge=>{ae(Se=>{const K=new Set(Se);return K.delete(ge),K})},[]),children:n})}),ee?i.jsxs(IT,{"aria-hidden":!0,required:v,tabIndex:-1,name:p,autoComplete:m,value:F,onChange:ge=>Y(ge.target.value),disabled:x,form:S,children:[F===void 0?i.jsx("option",{value:""}):null,Array.from(ve)]},he):null]})})};cT.displayName=vc;var uT="SelectTrigger",dT=b.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:r=!1,...s}=e,o=dx(n),l=il(uT,n),u=l.disabled||r,d=qt(t,l.onTriggerChange),f=ux(n),p=b.useRef("touch"),[m,x,v]=OT(N=>{const _=f().filter(I=>!I.disabled),P=_.find(I=>I.value===l.value),T=DT(_,N,P);T!==void 0&&l.onValueChange(T.value)}),S=N=>{u||(l.onOpenChange(!0),v()),N&&(l.triggerPointerDownPosRef.current={x:Math.round(N.pageX),y:Math.round(N.pageY)})};return i.jsx(ix,{asChild:!0,...o,children:i.jsx(At.button,{type:"button",role:"combobox","aria-controls":l.contentId,"aria-expanded":l.open,"aria-required":l.required,"aria-autocomplete":"none",dir:l.dir,"data-state":l.open?"open":"closed",disabled:u,"data-disabled":u?"":void 0,"data-placeholder":MT(l.value)?"":void 0,...s,ref:d,onClick:nt(s.onClick,N=>{N.currentTarget.focus(),p.current!=="mouse"&&S(N)}),onPointerDown:nt(s.onPointerDown,N=>{p.current=N.pointerType;const _=N.target;_.hasPointerCapture(N.pointerId)&&_.releasePointerCapture(N.pointerId),N.button===0&&N.ctrlKey===!1&&N.pointerType==="mouse"&&(S(N),N.preventDefault())}),onKeyDown:nt(s.onKeyDown,N=>{const _=m.current!=="";!(N.ctrlKey||N.altKey||N.metaKey)&&N.key.length===1&&x(N.key),!(_&&N.key===" ")&&uU.includes(N.key)&&(S(),N.preventDefault())})})})});dT.displayName=uT;var fT="SelectValue",hT=b.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:s,children:o,placeholder:l="",...u}=e,d=il(fT,n),{onValueNodeHasChildrenChange:f}=d,p=o!==void 0,m=qt(t,d.onValueNodeChange);return kr(()=>{f(p)},[f,p]),i.jsx(At.span,{...u,ref:m,style:{pointerEvents:"none"},children:MT(d.value)?i.jsx(i.Fragment,{children:l}):o})});hT.displayName=fT;var gU="SelectIcon",pT=b.forwardRef((e,t)=>{const{__scopeSelect:n,children:r,...s}=e;return i.jsx(At.span,{"aria-hidden":!0,...s,ref:t,children:r||""})});pT.displayName=gU;var xU="SelectPortal",mT=e=>i.jsx(Sh,{asChild:!0,...e});mT.displayName=xU;var bc="SelectContent",gT=b.forwardRef((e,t)=>{const n=il(bc,e.__scopeSelect),[r,s]=b.useState();if(kr(()=>{s(new DocumentFragment)},[]),!n.open){const o=r;return o?yh.createPortal(i.jsx(xT,{scope:e.__scopeSelect,children:i.jsx(cx.Slot,{scope:e.__scopeSelect,children:i.jsx("div",{children:e.children})})}),o):null}return i.jsx(yT,{...e,ref:t})});gT.displayName=bc;var oi=10,[xT,al]=hd(bc),yU="SelectContentImpl",vU=nU("SelectContent.RemoveScroll"),yT=b.forwardRef((e,t)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:o,onPointerDownOutside:l,side:u,sideOffset:d,align:f,alignOffset:p,arrowPadding:m,collisionBoundary:x,collisionPadding:v,sticky:S,hideWhenDetached:N,avoidCollisions:_,...P}=e,T=il(bc,n),[I,L]=b.useState(null),[z,$]=b.useState(null),V=qt(t,xe=>L(xe)),[W,F]=b.useState(null),[Y,H]=b.useState(null),ee=ux(n),[ve,ae]=b.useState(!1),he=b.useRef(!1);b.useEffect(()=>{if(I)return Zg(I)},[I]),Xg();const ge=b.useCallback(xe=>{const[Pe,...Ue]=ee().map(Ve=>Ve.ref.current),[Ce]=Ue.slice(-1),et=document.activeElement;for(const Ve of xe)if(Ve===et||(Ve==null||Ve.scrollIntoView({block:"nearest"}),Ve===Pe&&z&&(z.scrollTop=0),Ve===Ce&&z&&(z.scrollTop=z.scrollHeight),Ve==null||Ve.focus(),document.activeElement!==et))return},[ee,z]),Se=b.useCallback(()=>ge([W,I]),[ge,W,I]);b.useEffect(()=>{ve&&Se()},[ve,Se]);const{onOpenChange:K,triggerPointerDownPosRef:fe}=T;b.useEffect(()=>{if(I){let xe={x:0,y:0};const Pe=Ce=>{var et,Ve;xe={x:Math.abs(Math.round(Ce.pageX)-(((et=fe.current)==null?void 0:et.x)??0)),y:Math.abs(Math.round(Ce.pageY)-(((Ve=fe.current)==null?void 0:Ve.y)??0))}},Ue=Ce=>{xe.x<=10&&xe.y<=10?Ce.preventDefault():I.contains(Ce.target)||K(!1),document.removeEventListener("pointermove",Pe),fe.current=null};return fe.current!==null&&(document.addEventListener("pointermove",Pe),document.addEventListener("pointerup",Ue,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Pe),document.removeEventListener("pointerup",Ue,{capture:!0})}}},[I,K,fe]),b.useEffect(()=>{const xe=()=>K(!1);return window.addEventListener("blur",xe),window.addEventListener("resize",xe),()=>{window.removeEventListener("blur",xe),window.removeEventListener("resize",xe)}},[K]);const[A,M]=OT(xe=>{const Pe=ee().filter(et=>!et.disabled),Ue=Pe.find(et=>et.ref.current===document.activeElement),Ce=DT(Pe,xe,Ue);Ce&&setTimeout(()=>Ce.ref.current.focus())}),X=b.useCallback((xe,Pe,Ue)=>{const Ce=!he.current&&!Ue;(T.value!==void 0&&T.value===Pe||Ce)&&(F(xe),Ce&&(he.current=!0))},[T.value]),B=b.useCallback(()=>I==null?void 0:I.focus(),[I]),Ee=b.useCallback((xe,Pe,Ue)=>{const Ce=!he.current&&!Ue;(T.value!==void 0&&T.value===Pe||Ce)&&H(xe)},[T.value]),De=r==="popper"?Vv:vT,Te=De===Vv?{side:u,sideOffset:d,align:f,alignOffset:p,arrowPadding:m,collisionBoundary:x,collisionPadding:v,sticky:S,hideWhenDetached:N,avoidCollisions:_}:{};return i.jsx(xT,{scope:n,content:I,viewport:z,onViewportChange:$,itemRefCallback:X,selectedItem:W,onItemLeave:B,itemTextRefCallback:Ee,focusSelectedItem:Se,selectedItemText:Y,position:r,isPositioned:ve,searchRef:A,children:i.jsx(kh,{as:vU,allowPinchZoom:!0,children:i.jsx(Nh,{asChild:!0,trapped:T.open,onMountAutoFocus:xe=>{xe.preventDefault()},onUnmountAutoFocus:nt(s,xe=>{var Pe;(Pe=T.trigger)==null||Pe.focus({preventScroll:!0}),xe.preventDefault()}),children:i.jsx(jh,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:o,onPointerDownOutside:l,onFocusOutside:xe=>xe.preventDefault(),onDismiss:()=>T.onOpenChange(!1),children:i.jsx(De,{role:"listbox",id:T.contentId,"data-state":T.open?"open":"closed",dir:T.dir,onContextMenu:xe=>xe.preventDefault(),...P,...Te,onPlaced:()=>ae(!0),ref:V,style:{display:"flex",flexDirection:"column",outline:"none",...P.style},onKeyDown:nt(P.onKeyDown,xe=>{const Pe=xe.ctrlKey||xe.altKey||xe.metaKey;if(xe.key==="Tab"&&xe.preventDefault(),!Pe&&xe.key.length===1&&M(xe.key),["ArrowUp","ArrowDown","Home","End"].includes(xe.key)){let Ce=ee().filter(et=>!et.disabled).map(et=>et.ref.current);if(["ArrowUp","End"].includes(xe.key)&&(Ce=Ce.slice().reverse()),["ArrowUp","ArrowDown"].includes(xe.key)){const et=xe.target,Ve=Ce.indexOf(et);Ce=Ce.slice(Ve+1)}setTimeout(()=>ge(Ce)),xe.preventDefault()}})})})})})})});yT.displayName=yU;var bU="SelectItemAlignedPosition",vT=b.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:r,...s}=e,o=il(bc,n),l=al(bc,n),[u,d]=b.useState(null),[f,p]=b.useState(null),m=qt(t,V=>p(V)),x=ux(n),v=b.useRef(!1),S=b.useRef(!0),{viewport:N,selectedItem:_,selectedItemText:P,focusSelectedItem:T}=l,I=b.useCallback(()=>{if(o.trigger&&o.valueNode&&u&&f&&N&&_&&P){const V=o.trigger.getBoundingClientRect(),W=f.getBoundingClientRect(),F=o.valueNode.getBoundingClientRect(),Y=P.getBoundingClientRect();if(o.dir!=="rtl"){const et=Y.left-W.left,Ve=F.left-et,_t=V.left-Ve,yt=V.width+_t,$t=Math.max(yt,W.width),dn=window.innerWidth-oi,ln=Uv(Ve,[oi,Math.max(oi,dn-$t)]);u.style.minWidth=yt+"px",u.style.left=ln+"px"}else{const et=W.right-Y.right,Ve=window.innerWidth-F.right-et,_t=window.innerWidth-V.right-Ve,yt=V.width+_t,$t=Math.max(yt,W.width),dn=window.innerWidth-oi,ln=Uv(Ve,[oi,Math.max(oi,dn-$t)]);u.style.minWidth=yt+"px",u.style.right=ln+"px"}const H=x(),ee=window.innerHeight-oi*2,ve=N.scrollHeight,ae=window.getComputedStyle(f),he=parseInt(ae.borderTopWidth,10),ge=parseInt(ae.paddingTop,10),Se=parseInt(ae.borderBottomWidth,10),K=parseInt(ae.paddingBottom,10),fe=he+ge+ve+K+Se,A=Math.min(_.offsetHeight*5,fe),M=window.getComputedStyle(N),X=parseInt(M.paddingTop,10),B=parseInt(M.paddingBottom,10),Ee=V.top+V.height/2-oi,De=ee-Ee,Te=_.offsetHeight/2,xe=_.offsetTop+Te,Pe=he+ge+xe,Ue=fe-Pe;if(Pe<=Ee){const et=H.length>0&&_===H[H.length-1].ref.current;u.style.bottom="0px";const Ve=f.clientHeight-N.offsetTop-N.offsetHeight,_t=Math.max(De,Te+(et?B:0)+Ve+Se),yt=Pe+_t;u.style.height=yt+"px"}else{const et=H.length>0&&_===H[0].ref.current;u.style.top="0px";const _t=Math.max(Ee,he+N.offsetTop+(et?X:0)+Te)+Ue;u.style.height=_t+"px",N.scrollTop=Pe-Ee+N.offsetTop}u.style.margin=`${oi}px 0`,u.style.minHeight=A+"px",u.style.maxHeight=ee+"px",r==null||r(),requestAnimationFrame(()=>v.current=!0)}},[x,o.trigger,o.valueNode,u,f,N,_,P,o.dir,r]);kr(()=>I(),[I]);const[L,z]=b.useState();kr(()=>{f&&z(window.getComputedStyle(f).zIndex)},[f]);const $=b.useCallback(V=>{V&&S.current===!0&&(I(),T==null||T(),S.current=!1)},[I,T]);return i.jsx(jU,{scope:n,contentWrapper:u,shouldExpandOnScrollRef:v,onScrollButtonChange:$,children:i.jsx("div",{ref:d,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:L},children:i.jsx(At.div,{...s,ref:m,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});vT.displayName=bU;var wU="SelectPopperPosition",Vv=b.forwardRef((e,t)=>{const{__scopeSelect:n,align:r="start",collisionPadding:s=oi,...o}=e,l=dx(n);return i.jsx(gw,{...l,...o,ref:t,align:r,collisionPadding:s,style:{boxSizing:"border-box",...o.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Vv.displayName=wU;var[jU,kw]=hd(bc,{}),Wv="SelectViewport",bT=b.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:r,...s}=e,o=al(Wv,n),l=kw(Wv,n),u=qt(t,o.onViewportChange),d=b.useRef(0);return i.jsxs(i.Fragment,{children:[i.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),i.jsx(cx.Slot,{scope:n,children:i.jsx(At.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:u,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:nt(s.onScroll,f=>{const p=f.currentTarget,{contentWrapper:m,shouldExpandOnScrollRef:x}=l;if(x!=null&&x.current&&m){const v=Math.abs(d.current-p.scrollTop);if(v>0){const S=window.innerHeight-oi*2,N=parseFloat(m.style.minHeight),_=parseFloat(m.style.height),P=Math.max(N,_);if(P<S){const T=P+v,I=Math.min(S,T),L=T-I;m.style.height=I+"px",m.style.bottom==="0px"&&(p.scrollTop=L>0?L:0,m.style.justifyContent="flex-end")}}}d.current=p.scrollTop})})})]})});bT.displayName=Wv;var wT="SelectGroup",[NU,SU]=hd(wT),kU=b.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=hi();return i.jsx(NU,{scope:n,id:s,children:i.jsx(At.div,{role:"group","aria-labelledby":s,...r,ref:t})})});kU.displayName=wT;var jT="SelectLabel",NT=b.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=SU(jT,n);return i.jsx(At.div,{id:s.id,...r,ref:t})});NT.displayName=jT;var xg="SelectItem",[_U,ST]=hd(xg),kT=b.forwardRef((e,t)=>{const{__scopeSelect:n,value:r,disabled:s=!1,textValue:o,...l}=e,u=il(xg,n),d=al(xg,n),f=u.value===r,[p,m]=b.useState(o??""),[x,v]=b.useState(!1),S=qt(t,T=>{var I;return(I=d.itemRefCallback)==null?void 0:I.call(d,T,r,s)}),N=hi(),_=b.useRef("touch"),P=()=>{s||(u.onValueChange(r),u.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return i.jsx(_U,{scope:n,value:r,disabled:s,textId:N,isSelected:f,onItemTextChange:b.useCallback(T=>{m(I=>I||((T==null?void 0:T.textContent)??"").trim())},[]),children:i.jsx(cx.ItemSlot,{scope:n,value:r,disabled:s,textValue:p,children:i.jsx(At.div,{role:"option","aria-labelledby":N,"data-highlighted":x?"":void 0,"aria-selected":f&&x,"data-state":f?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...l,ref:S,onFocus:nt(l.onFocus,()=>v(!0)),onBlur:nt(l.onBlur,()=>v(!1)),onClick:nt(l.onClick,()=>{_.current!=="mouse"&&P()}),onPointerUp:nt(l.onPointerUp,()=>{_.current==="mouse"&&P()}),onPointerDown:nt(l.onPointerDown,T=>{_.current=T.pointerType}),onPointerMove:nt(l.onPointerMove,T=>{var I;_.current=T.pointerType,s?(I=d.onItemLeave)==null||I.call(d):_.current==="mouse"&&T.currentTarget.focus({preventScroll:!0})}),onPointerLeave:nt(l.onPointerLeave,T=>{var I;T.currentTarget===document.activeElement&&((I=d.onItemLeave)==null||I.call(d))}),onKeyDown:nt(l.onKeyDown,T=>{var L;((L=d.searchRef)==null?void 0:L.current)!==""&&T.key===" "||(dU.includes(T.key)&&P(),T.key===" "&&T.preventDefault())})})})})});kT.displayName=xg;var wf="SelectItemText",_T=b.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:s,...o}=e,l=il(wf,n),u=al(wf,n),d=ST(wf,n),f=mU(wf,n),[p,m]=b.useState(null),x=qt(t,P=>m(P),d.onItemTextChange,P=>{var T;return(T=u.itemTextRefCallback)==null?void 0:T.call(u,P,d.value,d.disabled)}),v=p==null?void 0:p.textContent,S=b.useMemo(()=>i.jsx("option",{value:d.value,disabled:d.disabled,children:v},d.value),[d.disabled,d.value,v]),{onNativeOptionAdd:N,onNativeOptionRemove:_}=f;return kr(()=>(N(S),()=>_(S)),[N,_,S]),i.jsxs(i.Fragment,{children:[i.jsx(At.span,{id:d.textId,...o,ref:x}),d.isSelected&&l.valueNode&&!l.valueNodeHasChildren?yh.createPortal(o.children,l.valueNode):null]})});_T.displayName=wf;var CT="SelectItemIndicator",ET=b.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return ST(CT,n).isSelected?i.jsx(At.span,{"aria-hidden":!0,...r,ref:t}):null});ET.displayName=CT;var qv="SelectScrollUpButton",PT=b.forwardRef((e,t)=>{const n=al(qv,e.__scopeSelect),r=kw(qv,e.__scopeSelect),[s,o]=b.useState(!1),l=qt(t,r.onScrollButtonChange);return kr(()=>{if(n.viewport&&n.isPositioned){let u=function(){const f=d.scrollTop>0;o(f)};const d=n.viewport;return u(),d.addEventListener("scroll",u),()=>d.removeEventListener("scroll",u)}},[n.viewport,n.isPositioned]),s?i.jsx(TT,{...e,ref:l,onAutoScroll:()=>{const{viewport:u,selectedItem:d}=n;u&&d&&(u.scrollTop=u.scrollTop-d.offsetHeight)}}):null});PT.displayName=qv;var Hv="SelectScrollDownButton",AT=b.forwardRef((e,t)=>{const n=al(Hv,e.__scopeSelect),r=kw(Hv,e.__scopeSelect),[s,o]=b.useState(!1),l=qt(t,r.onScrollButtonChange);return kr(()=>{if(n.viewport&&n.isPositioned){let u=function(){const f=d.scrollHeight-d.clientHeight,p=Math.ceil(d.scrollTop)<f;o(p)};const d=n.viewport;return u(),d.addEventListener("scroll",u),()=>d.removeEventListener("scroll",u)}},[n.viewport,n.isPositioned]),s?i.jsx(TT,{...e,ref:l,onAutoScroll:()=>{const{viewport:u,selectedItem:d}=n;u&&d&&(u.scrollTop=u.scrollTop+d.offsetHeight)}}):null});AT.displayName=Hv;var TT=b.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:r,...s}=e,o=al("SelectScrollButton",n),l=b.useRef(null),u=ux(n),d=b.useCallback(()=>{l.current!==null&&(window.clearInterval(l.current),l.current=null)},[]);return b.useEffect(()=>()=>d(),[d]),kr(()=>{var p;const f=u().find(m=>m.ref.current===document.activeElement);(p=f==null?void 0:f.ref.current)==null||p.scrollIntoView({block:"nearest"})},[u]),i.jsx(At.div,{"aria-hidden":!0,...s,ref:t,style:{flexShrink:0,...s.style},onPointerDown:nt(s.onPointerDown,()=>{l.current===null&&(l.current=window.setInterval(r,50))}),onPointerMove:nt(s.onPointerMove,()=>{var f;(f=o.onItemLeave)==null||f.call(o),l.current===null&&(l.current=window.setInterval(r,50))}),onPointerLeave:nt(s.onPointerLeave,()=>{d()})})}),CU="SelectSeparator",RT=b.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return i.jsx(At.div,{"aria-hidden":!0,...r,ref:t})});RT.displayName=CU;var Kv="SelectArrow",EU=b.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=dx(n),o=il(Kv,n),l=al(Kv,n);return o.open&&l.position==="popper"?i.jsx(xw,{...s,...r,ref:t}):null});EU.displayName=Kv;var PU="SelectBubbleInput",IT=b.forwardRef(({__scopeSelect:e,value:t,...n},r)=>{const s=b.useRef(null),o=qt(r,s),l=oT(t);return b.useEffect(()=>{const u=s.current;if(!u)return;const d=window.HTMLSelectElement.prototype,p=Object.getOwnPropertyDescriptor(d,"value").set;if(l!==t&&p){const m=new Event("change",{bubbles:!0});p.call(u,t),u.dispatchEvent(m)}},[l,t]),i.jsx(At.select,{...n,style:{...lT,...n.style},ref:o,defaultValue:t})});IT.displayName=PU;function MT(e){return e===""||e===void 0}function OT(e){const t=Nr(e),n=b.useRef(""),r=b.useRef(0),s=b.useCallback(l=>{const u=n.current+l;t(u),(function d(f){n.current=f,window.clearTimeout(r.current),f!==""&&(r.current=window.setTimeout(()=>d(""),1e3))})(u)},[t]),o=b.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return b.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,s,o]}function DT(e,t,n){const s=t.length>1&&Array.from(t).every(f=>f===t[0])?t[0]:t,o=n?e.indexOf(n):-1;let l=AU(e,Math.max(o,0));s.length===1&&(l=l.filter(f=>f!==n));const d=l.find(f=>f.textValue.toLowerCase().startsWith(s.toLowerCase()));return d!==n?d:void 0}function AU(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var TU=cT,LT=dT,RU=hT,IU=pT,MU=mT,FT=gT,OU=bT,$T=NT,BT=kT,DU=_T,LU=ET,zT=PT,UT=AT,VT=RT;const hr=TU,pr=RU,rr=b.forwardRef(({className:e,children:t,...n},r)=>i.jsxs(LT,{ref:r,className:Ne("flex h-9 w-full items-center justify-between whitespace-nowrap rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-1 focus:ring-ring disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...n,children:[t,i.jsx(IU,{asChild:!0,children:i.jsx(Vg,{className:"h-4 w-4 opacity-50"})})]}));rr.displayName=LT.displayName;const WT=b.forwardRef(({className:e,...t},n)=>i.jsx(zT,{ref:n,className:Ne("flex cursor-default items-center justify-center py-1",e),...t,children:i.jsx(yD,{className:"h-4 w-4"})}));WT.displayName=zT.displayName;const qT=b.forwardRef(({className:e,...t},n)=>i.jsx(UT,{ref:n,className:Ne("flex cursor-default items-center justify-center py-1",e),...t,children:i.jsx(Vg,{className:"h-4 w-4"})}));qT.displayName=UT.displayName;const sr=b.forwardRef(({className:e,children:t,position:n="popper",...r},s)=>i.jsx(MU,{children:i.jsxs(FT,{ref:s,className:Ne("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...r,children:[i.jsx(WT,{}),i.jsx(OU,{className:Ne("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),i.jsx(qT,{})]})}));sr.displayName=FT.displayName;const FU=b.forwardRef(({className:e,children:t,...n},r)=>i.jsx($T,{ref:r,className:Ne("px-2 py-1.5 text-sm font-semibold",e),...n,children:t}));FU.displayName=$T.displayName;const Vt=b.forwardRef(({className:e,children:t,...n},r)=>i.jsxs(BT,{ref:r,className:Ne("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[i.jsx("span",{className:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center",children:i.jsx(LU,{children:i.jsx(Qu,{className:"h-4 w-4"})})}),i.jsx(DU,{children:t})]}));Vt.displayName=BT.displayName;const $U=b.forwardRef(({className:e,children:t,...n},r)=>i.jsx(VT,{ref:r,className:Ne("-mx-1 my-1 h-px bg-muted",e),...n,children:t}));$U.displayName=VT.displayName;var BU=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],zU=BU.reduce((e,t)=>{const n=Hg(`Primitive.${t}`),r=b.forwardRef((s,o)=>{const{asChild:l,...u}=s,d=l?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),i.jsx(d,{...u,ref:o})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{}),UU="Label",HT=b.forwardRef((e,t)=>i.jsx(zU.label,{...e,ref:t,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=e.onMouseDown)==null||s.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));HT.displayName=UU;var KT=HT;const VU=Ug("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),kt=b.forwardRef(({className:e,children:t,...n},r)=>i.jsx(KT,{ref:r,className:Ne(VU(),e),...n,children:t}));kt.displayName=KT.displayName;const ea=b.forwardRef(({className:e,...t},n)=>i.jsx("textarea",{className:Ne("flex min-h-[60px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-base shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:n,...t}));ea.displayName="Textarea";function _w({className:e,...t}){return i.jsx("div",{className:Ne("animate-pulse rounded-md bg-primary/10",e),...t})}class WU{constructor(){this.notificationQueue=[],this.lastCheck=null}async checkAssignmentDeadlines(t){if(!t||t.length===0)return[];const n=await Am();if(!n.deadlines_enabled)return[];const r=new Date,s=[],o=n.intervals||[15,7,3,1];for(const l of t){if(l.status==="submitted"||l.status==="graded")continue;const u=new Date(l.due_date),d=MS(u,r);for(const f of o)if(d===f){const p=await this.createAssignmentNotification(l,f);p&&s.push(p)}if(Go(u)&&!Cu(u)&&d>=-1){const f=await this.createOverdueNotification(l,Math.abs(d));f&&s.push(f)}if(Cu(u)){const f=await this.createDueTodayNotification(l);f&&s.push(f)}}return s}async createAssignmentNotification(t,n){try{let r="medium",s=`in ${n} days`;n===1?(r="high",s="tomorrow"):n===3?(r="high",s="in 3 days"):n<=7&&(r="medium");const o=await wu({type:"assignment_deadline",title:`Assignment Due ${s}`,message:`"${t.title}" is due ${s}. ${t.weight?`Worth ${t.weight}% of your grade.`:""}`,priority:r,entity_type:"assignment",entity_id:t.id});return o&&this.sendDesktopNotification(`Assignment Due ${s}`,`"${t.title}" is due ${s}.`),o}catch(r){return console.error("Error creating assignment notification:",r),null}}async createDueTodayNotification(t){try{const n=await wu({type:"assignment_deadline",title:" Assignment Due Today!",message:`"${t.title}" is due today! Don't forget to submit.`,priority:"urgent",entity_type:"assignment",entity_id:t.id});return n&&this.sendDesktopNotification(" Assignment Due Today!",`"${t.title}" is due today! Don't forget to submit.`),n}catch(n){return console.error("Error creating due today notification:",n),null}}async createOverdueNotification(t,n){try{const r=await wu({type:"assignment_overdue",title:" Overdue Assignment",message:`"${t.title}" was due ${n} ${n===1?"day":"days"} ago. Submit as soon as possible!`,priority:"urgent",entity_type:"assignment",entity_id:t.id});return r&&this.sendDesktopNotification(" Overdue Assignment",`"${t.title}" is overdue by ${n} ${n===1?"day":"days"}!`),r}catch(r){return console.error("Error creating overdue notification:",r),null}}async createMaterialNotification(t,n){try{if(!(await Am()).materials_enabled)return null;const s=await wu({type:"material_added",title:" New Study Material",message:`New material "${t.title}" added to ${n||"your module"}`,priority:"low",entity_type:"material",entity_id:t.id});return s&&this.sendDesktopNotification(" New Study Material",`"${t.title}" added to ${n||"your module"}`),s}catch(r){return console.error("Error creating material notification:",r),null}}async createGradedNotification(t,n){try{return await wu({type:"assignment_graded",title:" Assignment Graded",message:`Your assignment "${t.title}" has been graded: ${n}/${t.max_grade||100}`,priority:"medium",entity_type:"assignment",entity_id:t.id})}catch(r){return console.error("Error creating graded notification:",r),null}}sendDesktopNotification(t,n,r=null){const s=window.electron;if(s)try{s.showNotification({title:t,body:n})}catch(o){console.error("Error sending desktop notification:",o)}}async performFullCheck(t){if(!t)return[];const n=await Am();if(!n.deadlines_enabled)return[];const r=new Date;r.setHours(0,0,0,0);const s=await Wt.table("notifications").where("created_date").above(r.toISOString()).toArray(),o=[],l=n.intervals||[15,7,3,1],u=new Date;for(const d of t){if(d.status==="submitted"||d.status==="graded")continue;const f=new Date(d.due_date),p=MS(f,u);for(const m of l)if(p===m&&!s.some(v=>v.entity_id===d.id&&v.message.includes(`in ${m} days`))){const v=await this.createAssignmentNotification(d,m);v&&o.push(v)}if(Go(f)&&!Cu(f)&&p>=-1&&!s.some(x=>x.entity_id===d.id&&x.type==="assignment_overdue")){const x=await this.createOverdueNotification(d,Math.abs(p));x&&o.push(x)}if(Cu(f)&&!s.some(x=>x.entity_id===d.id&&x.title.includes("Today"))){const x=await this.createDueTodayNotification(d);x&&o.push(x)}}return this.lastCheck=new Date,o}}const yg=new WU,qU=Object.freeze(Object.defineProperty({__proto__:null,default:yg,notificationService:yg},Symbol.toStringTag,{value:"Module"})),GT=b.createContext(null),Cw=()=>{const e=b.useContext(GT);if(!e)throw new Error("useNotifications must be used within NotificationProvider");return e},HU=({children:e})=>{cs();const[t,n]=b.useState(null),{data:r=[],refetch:s}=zt({queryKey:["notifications"],queryFn:()=>vE(),refetchInterval:6e4}),{data:o=0,refetch:l}=zt({queryKey:["unreadCount"],queryFn:()=>bE(),refetchInterval:6e4}),u=async()=>{await s(),await l()},d=async m=>{m&&m.length>0&&(await yg.performFullCheck(m),await u(),n(new Date))},f=(m,x)=>{yg.sendDesktopNotification(m,x)};b.useEffect(()=>{const m=async()=>{const S=await ke.entities.Assignment.list();S&&S.length>0&&await d(S)},x=window.electron;x&&x.on&&x.on("request-deadline-check",m);const v=setInterval(m,1e3*60*30);return()=>clearInterval(v)},[]);const p={notifications:r,unreadCount:o,refreshNotifications:u,checkForNotifications:d,sendDesktopNotification:f,lastCheckTime:t};return i.jsx(GT.Provider,{value:p,children:e})},Bl={not_started:{label:"Not Started",icon:Qm,color:"text-slate-400",bg:"bg-slate-100"},in_progress:{label:"In Progress",icon:pi,color:"text-blue-500",bg:"bg-blue-100"},submitted:{label:"Submitted",icon:Ki,color:"text-emerald-500",bg:"bg-emerald-100"},graded:{label:"Graded",icon:Ki,color:"text-purple-500",bg:"bg-purple-100"}},zl={low:{label:"Low",color:"bg-slate-100 text-slate-600"},medium:{label:"Medium",color:"bg-blue-100 text-blue-700"},high:{label:"High",color:"bg-orange-100 text-orange-700"},urgent:{label:"Urgent",color:"bg-red-100 text-red-700"}};function KU(){var _e,Fe;const[e,t]=b.useState(""),[n,r]=b.useState("all"),[s,o]=b.useState("upcoming"),[l,u]=b.useState("due_date_asc"),[d,f]=b.useState(!1),[p,m]=b.useState(null),[x,v]=b.useState(!1),[S,N]=b.useState(!1),[_,P]=b.useState(!1),[T,I]=b.useState(null),[L,z]=b.useState(null),[$,V]=b.useState(null),[W,F]=b.useState(""),[Y,H]=b.useState(""),[ee,ve]=b.useState(!1),[ae,he]=b.useState(!1),[ge,Se]=b.useState(!1),[K,fe]=b.useState(!1),[A,M]=b.useState(""),[X,B]=b.useState({title:"",module_id:"",description:"",due_date:"",status:"not_started",priority:"medium",weight:10}),Ee=cs(),{refreshNotifications:De}=Cw(),{data:Te,isLoading:xe}=zt({queryKey:["assignments"],queryFn:()=>ke.entities.Assignment.list("-due_date")}),{data:Pe}=zt({queryKey:["modules"],queryFn:()=>ke.entities.Module.list()}),Ue=Ws({mutationFn:re=>ke.entities.Assignment.create(re),onSuccess:async()=>{Ee.invalidateQueries({queryKey:["assignments"]}),await De(),Ve()}}),Ce=Ws({mutationFn:re=>ke.entities.Assignment.update(re.id,re.data),onSuccess:async(re,$e)=>{if(Ee.invalidateQueries({queryKey:["assignments"]}),$e.data.status==="graded"&&$e.data.grade!==void 0){const dt=await bs(()=>Promise.resolve().then(()=>qU),void 0,import.meta.url),Tt=(Te==null?void 0:Te.find(rn=>rn.id===(re==null?void 0:re.id)))||re||{...$e.data,id:$e.id};await dt.default.createGradedNotification(Tt,$e.data.grade)}await De(),Ve()}}),et=Ws({mutationFn:re=>ke.entities.Assignment.delete(re),onSuccess:()=>{Ee.invalidateQueries({queryKey:["assignments"]}),De()}}),Ve=()=>{B({title:"",module_id:"",description:"",due_date:"",status:"not_started",priority:"medium",weight:10}),m(null),f(!1)},_t=re=>{m(re),B({title:re.title||"",module_id:re.module_id||"",description:re.description||"",due_date:re.due_date?fc(new Date(re.due_date),"yyyy-MM-dd'T'HH:mm"):"",status:re.status||"not_started",priority:re.priority||"medium",weight:re.weight||10}),f(!0)},yt=()=>{p?Ce.mutate({id:p.id,data:X}):Ue.mutate(X)},$t=re=>{re.preventDefault(),re.stopPropagation(),re.type==="dragenter"||re.type==="dragover"?ve(!0):re.type==="dragleave"&&ve(!1)},dn=re=>{re.preventDefault(),re.stopPropagation(),ve(!1),re.dataTransfer.files&&re.dataTransfer.files[0]&&z(re.dataTransfer.files[0])},ln=re=>{re.target.files&&re.target.files[0]&&z(re.target.files[0])},zn=async()=>{var re,$e,dt;if(L){he(!0);try{const{file_url:Tt}=await ke.integrations.Core.UploadFile({file:L}),rn=L.name.split(".").pop().toLowerCase();let Kt;if(["xlsx","xls","csv","ics"].includes(rn))try{const vn=await ke.integrations.Core.ExtractDataFromUploadedFile({file_url:Tt,json_schema:{type:"object",properties:{modules:{type:"array",items:{type:"object",properties:{code:{type:"string"},title:{type:"string"},instructor:{type:"string"},credits:{type:"number"},semester:{type:"string"}}}},assignments:{type:"array",items:{type:"object",properties:{title:{type:"string"},module_code:{type:"string"},due_date:{type:"string"},description:{type:"string"},priority:{type:"string"},weight:{type:"number"}}}}}}});vn.status==="success"&&vn.output&&(Kt=vn.output)}catch(vn){console.log("ExtractData failed, falling back to LLM:",vn)}if(Kt||(Kt=await ke.integrations.Core.InvokeLLM({prompt:`You are analyzing an academic calendar/schedule document that may be in various formats (Excel/XLSX, ICS calendar, PDF, Word, or image).

CRITICAL INSTRUCTIONS:
- For XLSX/Excel files: Read all sheets and extract course codes, titles, instructors, assignment names, and due dates
- For ICS calendar files: Parse all calendar events, treating them as assignments with due dates
- For PDF/Word/Images: Extract all visible text about courses and assignments
- Look for patterns like: course codes (CS101, MATH201), assignment titles (Homework 1, Project 2), due dates, instructor names
- Extract EVERY assignment you can find with its due date

Return a JSON object with this EXACT structure:
{
  "modules": [
    {
      "code": "Course code (e.g., CS301)",
      "title": "Full course title",
      "instructor": "Professor name (or empty string)",
      "credits": 3,
      "semester": "Spring 2025"
    }
  ],
  "assignments": [
    {
      "title": "Assignment title",
      "module_code": "Associated course code",
      "due_date": "ISO format YYYY-MM-DDTHH:MM:SS",
      "description": "Details if available",
      "priority": "medium",
      "weight": 10
    }
  ]
}

If you find calendar events without clear course associations, create a generic module called "General" with code "GEN".
Extract ALL assignments and courses you can identify. Be thorough.`,systemPrompt:"You are an expert academic advisor who extracts structured data from documents.",response_json_schema:{type:"object",properties:{modules:{type:"array",items:{type:"object",properties:{code:{type:"string"},title:{type:"string"},instructor:{type:"string"},credits:{type:"number"},semester:{type:"string"}}}},assignments:{type:"array",items:{type:"object",properties:{title:{type:"string"},module_code:{type:"string"},due_date:{type:"string"},description:{type:"string"},priority:{type:"string"},weight:{type:"number"}}}}}}})),((re=Kt==null?void 0:Kt.modules)==null?void 0:re.length)>0){const vn=[];for(const Sn of Kt.modules)try{const He=await ke.entities.Module.create({code:Sn.code||"N/A",title:Sn.title||"Untitled",instructor:Sn.instructor||"",credits:Sn.credits||3,semester:Sn.semester||"Spring 2025",progress:0});vn.push(He)}catch(He){console.error("Module creation error:",He)}if((($e=Kt==null?void 0:Kt.assignments)==null?void 0:$e.length)>0){const Sn=await ke.entities.Assignment.list();for(const He of Kt.assignments)try{const Fn=vn.find(kn=>kn.code===He.module_code);Fn&&(Sn.find(Ks=>Ks.title===He.title&&Ks.due_date===He.due_date)||await ke.entities.Assignment.create({title:He.title||"Untitled Assignment",module_id:Fn.id,description:He.description||"",due_date:He.due_date,status:"not_started",priority:He.priority||"medium",weight:He.weight||10}))}catch(Fn){console.error("Assignment creation error:",Fn)}}Ee.invalidateQueries({queryKey:["assignments"]}),Ee.invalidateQueries({queryKey:["modules"]}),alert(`Imported ${vn.length} modules and ${((dt=Kt.assignments)==null?void 0:dt.length)||0} assignments!`),v(!1),z(null)}else alert("No data found in document")}catch(Tt){alert((Tt==null?void 0:Tt.message)||"Failed to process calendar")}finally{he(!1)}}},yn=re=>{const $e=Pe==null?void 0:Pe.find(dt=>dt.id===re);return($e==null?void 0:$e.code)||"Unknown"},fn=re=>{if(!re)return{text:"Undated",urgent:!1};const $e=new Date(re);return isNaN($e.getTime())?{text:"Invalid date",urgent:!1}:Go($e)?{text:"Overdue",urgent:!0}:Cu($e)?{text:"Due today",urgent:!0}:uP($e)?{text:"Due tomorrow",urgent:!1}:{text:rw($e,{addSuffix:!0}),urgent:!1}},Pn=async()=>{if(T){Se(!0);try{let re=W;$&&(re=(await ke.integrations.Core.UploadFile({file:$})).file_url);let $e="";Y&&($e=await ke.integrations.Core.InvokeLLM({prompt:`Analyze this student's assignment submission and provide:

Assignment: ${T.title}
Student's Work:
${Y}

Provide:
1. A brief summary of what the student submitted (2-3 sentences)
2. Key strengths in their approach
3. Areas that could be improved or expanded
4. Overall assessment of completeness

Keep it constructive and helpful.`})),await Ce.mutateAsync({id:T.id,data:{status:"submitted",submission_url:re,description:Y?`${T.description||""}

--- SUBMISSION ---
${Y}

--- AI ANALYSIS ---
${$e}`:T.description}}),$e&&alert("Assignment submitted! AI has analyzed your work - check the assignment description for feedback."),N(!1),I(null),V(null),F(""),H("")}catch(re){alert((re==null?void 0:re.message)||"Failed to submit assignment")}finally{Se(!1)}}},ds=async()=>{if(T){fe(!0);try{const re=Pe==null?void 0:Pe.find(dt=>dt.id===T.module_id),$e=await ke.integrations.Core.InvokeLLM({prompt:`Help a student brainstorm ideas and approaches for completing this assignment:

Assignment: ${T.title}
Course: ${(re==null?void 0:re.title)||"Unknown"} (${(re==null?void 0:re.code)||""})
Description: ${T.description||"No description provided"}
Due Date: ${fc(new Date(T.due_date),"PPP")}
Weight: ${T.weight}% of grade

Provide:
1. 3-5 key approaches or strategies to tackle this assignment
2. Important topics or concepts to focus on
3. Suggested timeline/breakdown of tasks
4. Resources or study materials that might help
5. Common pitfalls to avoid

Format your response in a clear, organized manner with bullet points and sections.`});M($e)}catch(re){alert((re==null?void 0:re.message)||"Failed to generate ideas")}finally{fe(!1)}}},Cr=(Te==null?void 0:Te.filter(re=>{var Tt;const $e=(Tt=re.title)==null?void 0:Tt.toLowerCase().includes(e.toLowerCase()),dt=n==="all"||re.status===n;return $e&&dt}).sort((re,$e)=>{const dt=re.due_date?new Date(re.due_date):new Date(0),Tt=$e.due_date?new Date($e.due_date):new Date(0),rn=isNaN(dt.getTime())?0:dt.getTime(),Kt=isNaN(Tt.getTime())?0:Tt.getTime();switch(l){case"due_date_asc":return rn-Kt;case"due_date_desc":return Kt-rn;case"priority":const vn={urgent:0,high:1,medium:2,low:3};return vn[re.priority]-vn[$e.priority];default:return 0}}))||[],hn={pending:Cr.filter(re=>["not_started","in_progress"].includes(re.status)&&!Go(new Date(re.due_date))),overdue:Cr.filter(re=>["not_started","in_progress"].includes(re.status)&&Go(new Date(re.due_date))),completed:Cr.filter(re=>["submitted","graded"].includes(re.status))},Yr=s==="upcoming"?[...hn.pending,...hn.completed]:hn.overdue;return i.jsxs("div",{className:"max-w-7xl mx-auto space-y-8",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold text-slate-900 tracking-tight",children:"Assignments"}),i.jsx("p",{className:"text-slate-500 mt-1",children:"Track deadlines and manage your coursework"})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs(Oe,{onClick:()=>v(!0),variant:"outline",className:"shadow-sm",children:[i.jsx(os,{className:"w-4 h-4 mr-2"}),"Import Calendar"]}),i.jsxs(Oe,{onClick:()=>f(!0),className:"bg-blue-600 hover:bg-blue-700 shadow-lg shadow-blue-500/25",children:[i.jsx(Yf,{className:"w-4 h-4 mr-2"}),"Add Assignment"]})]})]}),i.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[i.jsxs("div",{className:"relative flex-1 max-w-md",children:[i.jsx(qa,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),i.jsx(un,{placeholder:"Search assignments...",value:e,onChange:re=>t(re.target.value),className:"pl-10 bg-white"})]}),i.jsxs(hr,{value:n,onValueChange:r,children:[i.jsxs(rr,{className:"w-40 bg-white",children:[i.jsx(DC,{className:"w-4 h-4 mr-2 text-slate-400"}),i.jsx(pr,{})]}),i.jsxs(sr,{children:[i.jsx(Vt,{value:"all",children:"All Status"}),Object.entries(Bl).map(([re,$e])=>i.jsx(Vt,{value:re,children:$e.label},re))]})]}),i.jsxs(hr,{value:l,onValueChange:u,children:[i.jsxs(rr,{className:"w-48 bg-white",children:[i.jsx(Q4,{className:"w-4 h-4 mr-2 text-slate-400"}),i.jsx(pr,{})]}),i.jsxs(sr,{children:[i.jsx(Vt,{value:"due_date_asc",children:"Due Date (Soonest)"}),i.jsx(Vt,{value:"due_date_desc",children:"Due Date (Latest)"}),i.jsx(Vt,{value:"priority",children:"Priority (Highest)"})]})]})]}),i.jsxs("div",{className:"flex border-b border-slate-200",children:[i.jsx("button",{onClick:()=>o("upcoming"),className:Ne("px-6 py-3 text-sm font-semibold transition-all border-b-2",s==="upcoming"?"border-blue-600 text-blue-600":"border-transparent text-slate-500 hover:text-slate-700"),children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Xo,{className:"w-4 h-4"}),"Upcoming & Completed",hn.pending.length>0&&i.jsx(It,{className:"ml-1 bg-blue-100 text-blue-700 hover:bg-blue-100 h-5 px-1.5 min-w-[20px] justify-center",children:hn.pending.length})]})}),i.jsx("button",{onClick:()=>o("overdue"),className:Ne("px-6 py-3 text-sm font-semibold transition-all border-b-2",s==="overdue"?"border-red-600 text-red-600":"border-transparent text-slate-500 hover:text-slate-700"),children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(nS,{className:"w-4 h-4"}),"Passed Due Events",hn.overdue.length>0&&i.jsx(It,{className:"ml-1 bg-red-100 text-red-700 hover:bg-red-100 h-5 px-1.5 min-w-[20px] justify-center",children:hn.overdue.length})]})})]}),xe?i.jsx("div",{className:"space-y-4",children:Array(5).fill(0).map((re,$e)=>i.jsx(_w,{className:"h-24 rounded-xl"},$e))}):Yr.length===0?i.jsxs("div",{className:"text-center py-16 bg-white rounded-2xl border border-slate-200/60",children:[i.jsx("div",{className:"w-16 h-16 rounded-2xl bg-slate-100 flex items-center justify-center mx-auto mb-4",children:s==="upcoming"?i.jsx(IC,{className:"w-8 h-8 text-slate-400"}):i.jsx(nS,{className:"w-8 h-8 text-slate-400"})}),i.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:s==="upcoming"?"No upcoming assignments":"No passed due events"}),i.jsx("p",{className:"text-slate-500 mt-1 mb-4",children:s==="upcoming"?"Add your first assignment to track":"Great job! You don't have any overdue tasks."}),s==="upcoming"&&i.jsxs(Oe,{onClick:()=>f(!0),children:[i.jsx(Yf,{className:"w-4 h-4 mr-2"}),"Add Assignment"]})]}):i.jsxs("div",{className:"space-y-8",children:[s==="overdue"&&i.jsxs("div",{className:"space-y-4",children:[i.jsxs("h2",{className:"text-lg font-semibold text-red-600 flex items-center gap-2",children:[i.jsx(Jm,{className:"w-5 h-5 text-red-500"}),"Overdue Tasks (",hn.overdue.length,")"]}),i.jsx("div",{className:"space-y-3",children:hn.overdue.map(re=>{const $e=Bl[re.status]||Bl.not_started,dt=zl[re.priority]||zl.low,Tt=fn(re.due_date),rn=$e.icon||Qm;return i.jsx("div",{className:"group bg-red-50/50 rounded-xl border border-red-200 p-5 hover:shadow-lg hover:bg-red-50 transition-all",children:i.jsxs("div",{className:"flex items-start gap-4",children:[i.jsx("button",{onClick:()=>{Ce.mutate({id:re.id,data:{status:"in_progress"}})},className:Ne("mt-0.5 transition-colors",$e.color),children:i.jsx(rn,{className:"w-5 h-5"})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs("div",{className:"flex items-start justify-between gap-4",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold text-slate-900",children:re.title}),i.jsx("p",{className:"text-sm text-slate-500 mt-0.5",children:yn(re.module_id)})]}),i.jsxs(mg,{children:[i.jsx(gg,{asChild:!0,children:i.jsx(Oe,{variant:"ghost",size:"icon",className:"opacity-0 group-hover:opacity-100",children:i.jsx(pv,{className:"w-4 h-4"})})}),i.jsxs(nh,{align:"end",children:[i.jsxs(fi,{onClick:()=>_t(re),children:[i.jsx(gv,{className:"w-4 h-4 mr-2"}),"Edit"]}),i.jsxs(fi,{onClick:()=>et.mutate(re.id),className:"text-red-600",children:[i.jsx(Qf,{className:"w-4 h-4 mr-2"}),"Delete"]})]})]})]}),i.jsxs("div",{className:"flex flex-wrap items-center gap-2 mt-3",children:[i.jsx(It,{variant:"outline",className:dt.color,children:dt.label}),i.jsxs(It,{variant:"outline",className:"bg-red-100 text-red-700 border-red-200",children:[i.jsx(Jm,{className:"w-3 h-3 mr-1"}),Tt.text]})]})]})]})},re.id)})})]}),s==="upcoming"&&i.jsxs(i.Fragment,{children:[hn.pending.length>0&&i.jsxs("div",{className:"space-y-4",children:[i.jsxs("h2",{className:"text-lg font-semibold text-slate-900 flex items-center gap-2",children:[i.jsx(pi,{className:"w-5 h-5 text-blue-500"}),"Pending (",hn.pending.length,")"]}),i.jsx("div",{className:"space-y-3",children:hn.pending.map(re=>{const $e=Bl[re.status]||Bl.not_started,dt=zl[re.priority]||zl.low,Tt=fn(re.due_date),rn=$e.icon||Qm;return i.jsx("div",{className:"group bg-white rounded-xl border border-slate-200/60 p-5 hover:shadow-lg hover:border-slate-300 transition-all",children:i.jsxs("div",{className:"flex items-start gap-4",children:[i.jsx("button",{onClick:()=>{Ce.mutate({id:re.id,data:{status:re.status==="not_started"?"in_progress":"submitted"}})},className:Ne("mt-0.5 transition-colors",$e.color),children:i.jsx(rn,{className:"w-5 h-5"})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs("div",{className:"flex items-start justify-between gap-4",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold text-slate-900",children:re.title}),i.jsx("p",{className:"text-sm text-slate-500 mt-0.5",children:yn(re.module_id)})]}),i.jsxs(mg,{children:[i.jsx(gg,{asChild:!0,children:i.jsx(Oe,{variant:"ghost",size:"icon",className:"opacity-0 group-hover:opacity-100",children:i.jsx(pv,{className:"w-4 h-4"})})}),i.jsxs(nh,{align:"end",children:[i.jsxs(fi,{onClick:()=>{I(re),P(!0)},children:[i.jsx(Ft,{className:"w-4 h-4 mr-2 text-purple-600"}),"AI Helper"]}),i.jsxs(fi,{onClick:()=>{I(re),N(!0)},children:[i.jsx(zi,{className:"w-4 h-4 mr-2 text-blue-600"}),"Submit"]}),i.jsxs(fi,{onClick:()=>_t(re),children:[i.jsx(gv,{className:"w-4 h-4 mr-2"}),"Edit"]}),i.jsxs(fi,{onClick:()=>et.mutate(re.id),className:"text-red-600",children:[i.jsx(Qf,{className:"w-4 h-4 mr-2"}),"Delete"]})]})]})]}),i.jsxs("div",{className:"flex flex-wrap items-center gap-2 mt-3",children:[i.jsx(It,{variant:"outline",className:dt.color,children:dt.label}),i.jsxs(It,{variant:"outline",className:Ne(Tt.urgent?"bg-red-50 text-red-700 border-red-200":"bg-slate-50 text-slate-600"),children:[i.jsx(Xo,{className:"w-3 h-3 mr-1"}),Tt.text]}),re.weight&&i.jsxs(It,{variant:"outline",className:"bg-slate-50",children:[re.weight,"% weight"]})]})]})]})},re.id)})})]}),hn.completed.length>0&&i.jsxs("div",{className:"space-y-4",children:[i.jsxs("h2",{className:"text-lg font-semibold text-slate-900 flex items-center gap-2 pt-4 border-t border-slate-100",children:[i.jsx(Ki,{className:"w-5 h-5 text-emerald-500"}),"Completed (",hn.completed.length,")"]}),i.jsx("div",{className:"space-y-3",children:hn.completed.map(re=>{const $e=Bl[re.status]||Bl.submitted;zl[re.priority]||zl.low;const dt=$e.icon||Ki;return i.jsx("div",{className:"group bg-slate-50 rounded-xl border border-slate-200/60 p-5 opacity-70 hover:opacity-100 transition-all",children:i.jsxs("div",{className:"flex items-start gap-4",children:[i.jsx(dt,{className:Ne("w-5 h-5 mt-0.5",$e.color)}),i.jsx("div",{className:"flex-1 min-w-0",children:i.jsxs("div",{className:"flex items-start justify-between gap-4",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("h3",{className:"font-semibold text-slate-700 line-through",children:re.title}),i.jsx("p",{className:"text-sm text-slate-500 mt-0.5",children:yn(re.module_id)})]}),re.grade!==void 0&&i.jsxs(It,{className:"bg-purple-100 text-purple-700",children:[re.grade,"/",re.max_grade||100]})]})})]})},re.id)})})]})]})]}),i.jsx(Yl,{open:S,onOpenChange:N,children:i.jsxs(Uo,{className:"max-w-md",children:[i.jsx(Vo,{children:i.jsxs(Wo,{className:"flex items-center gap-2",children:[i.jsx(zi,{className:"w-5 h-5 text-blue-600"}),"Submit Assignment"]})}),i.jsxs("div",{className:"space-y-4 py-4",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold text-slate-900",children:T==null?void 0:T.title}),i.jsx("p",{className:"text-sm text-slate-500",children:(_e=Pe==null?void 0:Pe.find(re=>re.id===(T==null?void 0:T.module_id)))==null?void 0:_e.code})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(kt,{children:"Your Work / Content"}),i.jsx(ea,{placeholder:"Write or paste your assignment content here... AI will analyze it and provide feedback.",value:Y,onChange:re=>H(re.target.value),rows:8,className:"font-mono text-sm"}),i.jsxs("p",{className:"text-xs text-slate-500",children:[i.jsx(Ft,{className:"w-3 h-3 inline mr-1"}),"AI will analyze your submission and provide constructive feedback"]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(kt,{children:"Attachment (Optional)"}),i.jsx("div",{className:"border-2 border-dashed rounded-lg p-4 text-center",children:$?i.jsxs("div",{children:[i.jsx(Sr,{className:"w-8 h-8 text-emerald-600 mx-auto mb-2"}),i.jsx("p",{className:"text-sm font-medium",children:$.name}),i.jsxs(Oe,{variant:"ghost",size:"sm",onClick:()=>V(null),className:"mt-2",children:[i.jsx(Dr,{className:"w-4 h-4 mr-1"}),"Remove"]})]}):i.jsxs(i.Fragment,{children:[i.jsx(os,{className:"w-8 h-8 text-slate-400 mx-auto mb-2"}),i.jsx(Oe,{variant:"outline",size:"sm",onClick:()=>document.getElementById("submission-upload").click(),children:"Choose File"}),i.jsx("input",{id:"submission-upload",type:"file",className:"hidden",onChange:re=>{var $e;return V(($e=re.target.files)==null?void 0:$e[0])}})]})})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(kt,{children:"Or Link (Optional)"}),i.jsx(un,{placeholder:"https://...",value:W,onChange:re=>F(re.target.value)})]})]}),i.jsxs(lg,{children:[i.jsx(Oe,{variant:"outline",onClick:()=>N(!1),children:"Cancel"}),i.jsx(Oe,{onClick:Pn,disabled:ge||!Y&&!$&&!W,className:"bg-blue-600 hover:bg-blue-700",children:ge?i.jsxs(i.Fragment,{children:[i.jsx(jn,{className:"w-4 h-4 mr-2 animate-spin"}),Y?"Analyzing & Submitting...":"Submitting..."]}):i.jsxs(i.Fragment,{children:[i.jsx(zi,{className:"w-4 h-4 mr-2"}),"Submit Assignment"]})})]})]})}),i.jsx(Yl,{open:_,onOpenChange:P,children:i.jsxs(Uo,{className:"max-w-2xl max-h-[80vh] overflow-y-auto",children:[i.jsx(Vo,{children:i.jsxs(Wo,{className:"flex items-center gap-2",children:[i.jsx(Ft,{className:"w-5 h-5 text-purple-600"}),"AI Assignment Helper"]})}),i.jsxs("div",{className:"space-y-4 py-4",children:[i.jsxs("div",{className:"bg-slate-50 rounded-lg p-4",children:[i.jsx("h3",{className:"font-semibold text-slate-900",children:T==null?void 0:T.title}),i.jsxs("p",{className:"text-sm text-slate-600 mt-1",children:[(Fe=Pe==null?void 0:Pe.find(re=>re.id===(T==null?void 0:T.module_id)))==null?void 0:Fe.code,"  Due ",(T==null?void 0:T.due_date)&&fc(new Date(T.due_date),"PPP")]}),(T==null?void 0:T.description)&&i.jsx("p",{className:"text-sm text-slate-600 mt-2",children:T.description})]}),A?i.jsxs("div",{className:"prose prose-sm max-w-none",children:[i.jsx("div",{className:"bg-white rounded-lg border border-slate-200 p-4 whitespace-pre-wrap",children:A}),i.jsx(Oe,{variant:"outline",onClick:()=>{M(""),ds()},className:"mt-4",disabled:K,children:"Regenerate Ideas"})]}):i.jsxs("div",{className:"text-center py-8",children:[i.jsx(Ft,{className:"w-12 h-12 text-purple-600 mx-auto mb-4"}),i.jsx("p",{className:"text-slate-600 mb-4",children:"Get AI-powered suggestions on how to approach this assignment"}),i.jsx(Oe,{onClick:ds,disabled:K,className:"bg-purple-600 hover:bg-purple-700",children:K?i.jsxs(i.Fragment,{children:[i.jsx(jn,{className:"w-4 h-4 mr-2 animate-spin"}),"Generating Ideas..."]}):i.jsxs(i.Fragment,{children:[i.jsx(Ft,{className:"w-4 h-4 mr-2"}),"Generate Ideas"]})})]})]})]})}),i.jsx(Yl,{open:x,onOpenChange:v,children:i.jsxs(Uo,{className:"max-w-md",children:[i.jsx(Vo,{children:i.jsxs(Wo,{className:"flex items-center gap-2",children:[i.jsx(os,{className:"w-5 h-5 text-blue-600"}),"Import Academic Calendar"]})}),i.jsxs("div",{className:"space-y-4 py-4",children:[i.jsx("p",{className:"text-sm text-slate-600",children:"Upload your school calendar in Excel, Word, PDF, ICS, or image format. AI will extract modules and assignments automatically."}),i.jsx("div",{className:Ne("border-2 border-dashed rounded-xl p-8 text-center transition-colors",ee?"border-blue-500 bg-blue-50":"border-slate-300",L&&"border-emerald-500 bg-emerald-50"),onDragEnter:$t,onDragLeave:$t,onDragOver:$t,onDrop:dn,children:L?i.jsxs("div",{children:[i.jsx(Sr,{className:"w-12 h-12 text-emerald-600 mx-auto mb-3"}),i.jsx("p",{className:"font-medium text-slate-900",children:L.name}),i.jsxs("p",{className:"text-sm text-slate-500",children:[(L.size/1024).toFixed(1)," KB"]}),i.jsxs(Oe,{variant:"outline",size:"sm",className:"mt-3",onClick:()=>z(null),children:[i.jsx(Dr,{className:"w-4 h-4 mr-2"}),"Remove"]})]}):i.jsxs(i.Fragment,{children:[i.jsx(os,{className:"w-12 h-12 text-slate-400 mx-auto mb-3"}),i.jsx("p",{className:"text-slate-600 mb-2",children:"Drag and drop your calendar"}),i.jsx("p",{className:"text-sm text-slate-400 mb-4",children:"Supports Excel, Word, PDF, Images, ICS"}),i.jsx(Oe,{variant:"outline",onClick:()=>document.getElementById("calendar-upload").click(),children:"Browse Files"}),i.jsx("input",{id:"calendar-upload",type:"file",className:"hidden",onChange:ln,accept:".pdf,.doc,.docx,.xls,.xlsx,.png,.jpg,.jpeg,.txt,.ics"})]})}),i.jsx(Oe,{onClick:zn,disabled:!L||ae,className:"w-full",children:ae?i.jsxs(i.Fragment,{children:[i.jsx(jn,{className:"w-4 h-4 mr-2 animate-spin"}),"Processing..."]}):i.jsxs(i.Fragment,{children:[i.jsx(os,{className:"w-4 h-4 mr-2"}),"Import Calendar"]})})]})]})}),i.jsx(Yl,{open:d,onOpenChange:f,children:i.jsxs(Uo,{className:"max-w-md",children:[i.jsx(Vo,{children:i.jsx(Wo,{children:p?"Edit Assignment":"Add New Assignment"})}),i.jsxs("div",{className:"space-y-4 py-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(kt,{children:"Title"}),i.jsx(un,{placeholder:"Assignment title",value:X.title,onChange:re=>B({...X,title:re.target.value})})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(kt,{children:"Module"}),i.jsxs(hr,{value:X.module_id,onValueChange:re=>B({...X,module_id:re}),children:[i.jsx(rr,{children:i.jsx(pr,{placeholder:"Select module"})}),i.jsx(sr,{children:Pe==null?void 0:Pe.map(re=>i.jsxs(Vt,{value:re.id,children:[re.code," - ",re.title]},re.id))})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(kt,{children:"Description"}),i.jsx(ea,{placeholder:"Assignment details...",value:X.description,onChange:re=>B({...X,description:re.target.value}),rows:3})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(kt,{children:"Due Date"}),i.jsx(un,{type:"datetime-local",value:X.due_date,onChange:re=>B({...X,due_date:re.target.value})})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(kt,{children:"Priority"}),i.jsxs(hr,{value:X.priority,onValueChange:re=>B({...X,priority:re}),children:[i.jsx(rr,{children:i.jsx(pr,{})}),i.jsx(sr,{children:Object.entries(zl).map(([re,$e])=>i.jsx(Vt,{value:re,children:$e.label},re))})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(kt,{children:"Weight (%)"}),i.jsx(un,{type:"number",value:X.weight,onChange:re=>B({...X,weight:parseInt(re.target.value)})})]})]})]}),i.jsxs(lg,{children:[i.jsx(Oe,{variant:"outline",onClick:Ve,children:"Cancel"}),i.jsx(Oe,{onClick:yt,disabled:!X.title||!X.module_id,className:"bg-blue-600 hover:bg-blue-700",children:p?"Update":"Create"})]})]})})]})}function df({title:e,value:t,subtitle:n,icon:r,trend:s,trendUp:o,gradient:l}){return i.jsxs("div",{className:Ne("relative overflow-hidden rounded-2xl p-6 transition-all duration-300 hover:shadow-xl hover:-translate-y-1",l||"bg-white border border-slate-200/60"),children:[l&&i.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-white/10 to-transparent"}),i.jsxs("div",{className:"relative",children:[i.jsxs("div",{className:"flex items-start justify-between mb-4",children:[i.jsx("div",{className:Ne("p-3 rounded-xl",l?"bg-white/20":"bg-slate-100"),children:i.jsx(r,{className:Ne("w-5 h-5",l?"text-white":"text-slate-600")})}),s&&i.jsxs("span",{className:Ne("text-xs font-medium px-2 py-1 rounded-full",o?"bg-emerald-100 text-emerald-700":"bg-red-100 text-red-700"),children:[o?"+":"",s]})]}),i.jsx("h3",{className:Ne("text-3xl font-bold tracking-tight",l?"text-white":"text-slate-900"),children:t}),i.jsx("p",{className:Ne("text-sm font-medium mt-1",l?"text-white/80":"text-slate-500"),children:e}),n&&i.jsx("p",{className:Ne("text-xs mt-2",l?"text-white/60":"text-slate-400"),children:n})]})]})}function GU({assignments:e,modules:t}){const n=o=>{const l=t==null?void 0:t.find(u=>u.id===o);return(l==null?void 0:l.code)||"Unknown"},r=o=>{const l=new Date(o);return Go(l)?{text:"Overdue",urgent:!0}:Cu(l)?{text:"Due today",urgent:!0}:uP(l)?{text:"Due tomorrow",urgent:!1}:{text:rw(l,{addSuffix:!0}),urgent:!1}},s=[...e||[]].filter(o=>o.status!=="submitted"&&o.status!=="graded"&&!Go(new Date(o.due_date))).sort((o,l)=>new Date(o.due_date).getTime()-new Date(l.due_date).getTime()).slice(0,5);return i.jsxs("div",{className:"bg-white rounded-[2.5rem] border border-slate-200/60 overflow-hidden shadow-sm",children:[i.jsx("div",{className:"p-6 border-b border-slate-100 flex items-center justify-between",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-2 rounded-xl bg-red-50",children:i.jsx(Xo,{className:"w-5 h-5 text-red-600"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-bold text-slate-900 tracking-tight",children:"Upcoming Deadlines"}),i.jsxs("p",{className:"text-[10px] text-slate-500 uppercase font-black tracking-widest",children:[s.length," pending"]})]})]})}),i.jsx("div",{className:"p-6",children:s.length===0?i.jsxs("div",{className:"py-12 text-center",children:[i.jsx("div",{className:"w-12 h-12 rounded-full bg-emerald-50 flex items-center justify-center mx-auto mb-3",children:i.jsx(pi,{className:"w-6 h-6 text-emerald-600"})}),i.jsx("p",{className:"text-sm font-black text-slate-600",children:"All caught up!"}),i.jsx("p",{className:"text-xs text-slate-400 mt-1",children:"No upcoming deadlines"})]}):i.jsx("div",{className:"flex flex-nowrap gap-4 overflow-x-auto pencil-scroll scroll-smooth",children:s.map(o=>{const l=r(o.due_date);return i.jsxs("div",{className:"min-w-[280px] p-5 bg-slate-50/50 hover:bg-white rounded-3xl border border-slate-100 hover:border-red-200 transition-all hover:shadow-lg flex-shrink-0 group",children:[i.jsxs("div",{className:"flex justify-between items-start mb-3",children:[i.jsx(It,{variant:"outline",className:Ne("text-[10px] font-black uppercase px-2 py-0.5",l.urgent?"bg-red-500 text-white border-none shadow-lg shadow-red-500/20":"bg-white text-slate-600 border-slate-200"),children:l.text}),i.jsx("div",{className:Ne("w-2 h-2 rounded-full",l.urgent?"bg-red-500 animate-pulse":"bg-blue-500")})]}),i.jsxs("div",{className:"space-y-1",children:[i.jsx("p",{className:"font-black text-slate-900 truncate",children:o.title}),i.jsx("p",{className:"text-xs text-slate-500 font-bold uppercase tracking-wider",children:n(o.module_id)})]}),i.jsxs("div",{className:"mt-4 pt-4 border-t border-slate-100 flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-1.5 text-slate-400",children:[i.jsx(pi,{className:"w-3.5 h-3.5"}),i.jsx("span",{className:"text-[10px] font-bold",children:fc(new Date(o.due_date),"MMM d, h:mm a")})]}),i.jsx(Jo,{className:"w-4 h-4 text-slate-200 group-hover:text-red-400 transition-colors"})]})]},o.id)})})})]})}/**
 * @remix-run/router v1.23.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function rh(){return rh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},rh.apply(this,arguments)}var qo;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(qo||(qo={}));const uk="popstate";function YU(e){e===void 0&&(e={});function t(s,o){let{pathname:l="/",search:u="",hash:d=""}=Sc(s.location.hash.substr(1));return!l.startsWith("/")&&!l.startsWith(".")&&(l="/"+l),Gv("",{pathname:l,search:u,hash:d},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(s,o){let l=s.document.querySelector("base"),u="";if(l&&l.getAttribute("href")){let d=s.location.href,f=d.indexOf("#");u=f===-1?d:d.slice(0,f)}return u+"#"+(typeof o=="string"?o:vg(o))}function r(s,o){fx(s.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(o)+")")}return XU(t,n,r,e)}function Gn(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function fx(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function QU(){return Math.random().toString(36).substr(2,8)}function dk(e,t){return{usr:e.state,key:e.key,idx:t}}function Gv(e,t,n,r){return n===void 0&&(n=null),rh({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Sc(t):t,{state:n,key:t&&t.key||r||QU()})}function vg(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function Sc(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function XU(e,t,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:o=!1}=r,l=s.history,u=qo.Pop,d=null,f=p();f==null&&(f=0,l.replaceState(rh({},l.state,{idx:f}),""));function p(){return(l.state||{idx:null}).idx}function m(){u=qo.Pop;let _=p(),P=_==null?null:_-f;f=_,d&&d({action:u,location:N.location,delta:P})}function x(_,P){u=qo.Push;let T=Gv(N.location,_,P);n&&n(T,_),f=p()+1;let I=dk(T,f),L=N.createHref(T);try{l.pushState(I,"",L)}catch(z){if(z instanceof DOMException&&z.name==="DataCloneError")throw z;s.location.assign(L)}o&&d&&d({action:u,location:N.location,delta:1})}function v(_,P){u=qo.Replace;let T=Gv(N.location,_,P);n&&n(T,_),f=p();let I=dk(T,f),L=N.createHref(T);l.replaceState(I,"",L),o&&d&&d({action:u,location:N.location,delta:0})}function S(_){let P=s.location.origin!=="null"?s.location.origin:s.location.href,T=typeof _=="string"?_:vg(_);return T=T.replace(/ $/,"%20"),Gn(P,"No window.location.(origin|href) available to create URL for href: "+T),new URL(T,P)}let N={get action(){return u},get location(){return e(s,l)},listen(_){if(d)throw new Error("A history only accepts one active listener");return s.addEventListener(uk,m),d=_,()=>{s.removeEventListener(uk,m),d=null}},createHref(_){return t(s,_)},createURL:S,encodeLocation(_){let P=S(_);return{pathname:P.pathname,search:P.search,hash:P.hash}},push:x,replace:v,go(_){return l.go(_)}};return N}var fk;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(fk||(fk={}));function JU(e,t,n){return n===void 0&&(n="/"),ZU(e,t,n)}function ZU(e,t,n,r){let s=typeof t=="string"?Sc(t):t,o=Ew(s.pathname||"/",n);if(o==null)return null;let l=YT(e);eV(l);let u=null;for(let d=0;u==null&&d<l.length;++d){let f=fV(o);u=cV(l[d],f)}return u}function YT(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(o,l,u)=>{let d={relativePath:u===void 0?o.path||"":u,caseSensitive:o.caseSensitive===!0,childrenIndex:l,route:o};d.relativePath.startsWith("/")&&(Gn(d.relativePath.startsWith(r),'Absolute route path "'+d.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),d.relativePath=d.relativePath.slice(r.length));let f=Yo([r,d.relativePath]),p=n.concat(d);o.children&&o.children.length>0&&(Gn(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+f+'".')),YT(o.children,t,p,f)),!(o.path==null&&!o.index)&&t.push({path:f,score:oV(f,o.index),routesMeta:p})};return e.forEach((o,l)=>{var u;if(o.path===""||!((u=o.path)!=null&&u.includes("?")))s(o,l);else for(let d of QT(o.path))s(o,l,d)}),t}function QT(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,s=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return s?[o,""]:[o];let l=QT(r.join("/")),u=[];return u.push(...l.map(d=>d===""?o:[o,d].join("/"))),s&&u.push(...l),u.map(d=>e.startsWith("/")&&d===""?"/":d)}function eV(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:lV(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const tV=/^:[\w-]+$/,nV=3,rV=2,sV=1,iV=10,aV=-2,hk=e=>e==="*";function oV(e,t){let n=e.split("/"),r=n.length;return n.some(hk)&&(r+=aV),t&&(r+=rV),n.filter(s=>!hk(s)).reduce((s,o)=>s+(tV.test(o)?nV:o===""?sV:iV),r)}function lV(e,t){return e.length===t.length&&e.slice(0,-1).every((r,s)=>r===t[s])?e[e.length-1]-t[t.length-1]:0}function cV(e,t,n){let{routesMeta:r}=e,s={},o="/",l=[];for(let u=0;u<r.length;++u){let d=r[u],f=u===r.length-1,p=o==="/"?t:t.slice(o.length)||"/",m=uV({path:d.relativePath,caseSensitive:d.caseSensitive,end:f},p),x=d.route;if(!m)return null;Object.assign(s,m.params),l.push({params:s,pathname:Yo([o,m.pathname]),pathnameBase:xV(Yo([o,m.pathnameBase])),route:x}),m.pathnameBase!=="/"&&(o=Yo([o,m.pathnameBase]))}return l}function uV(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=dV(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let o=s[0],l=o.replace(/(.)\/+$/,"$1"),u=s.slice(1);return{params:r.reduce((f,p,m)=>{let{paramName:x,isOptional:v}=p;if(x==="*"){let N=u[m]||"";l=o.slice(0,o.length-N.length).replace(/(.)\/+$/,"$1")}const S=u[m];return v&&!S?f[x]=void 0:f[x]=(S||"").replace(/%2F/g,"/"),f},{}),pathname:o,pathnameBase:l,pattern:e}}function dV(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),fx(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,u,d)=>(r.push({paramName:u,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),r]}function fV(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return fx(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Ew(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}const hV=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,pV=e=>hV.test(e);function mV(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:s=""}=typeof e=="string"?Sc(e):e,o;if(n)if(pV(n))o=n;else{if(n.includes("//")){let l=n;n=n.replace(/\/\/+/g,"/"),fx(!1,"Pathnames cannot have embedded double slashes - normalizing "+(l+" -> "+n))}n.startsWith("/")?o=pk(n.substring(1),"/"):o=pk(n,t)}else o=t;return{pathname:o,search:yV(r),hash:vV(s)}}function pk(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function _y(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function gV(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function XT(e,t){let n=gV(e);return t?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function JT(e,t,n,r){r===void 0&&(r=!1);let s;typeof e=="string"?s=Sc(e):(s=rh({},e),Gn(!s.pathname||!s.pathname.includes("?"),_y("?","pathname","search",s)),Gn(!s.pathname||!s.pathname.includes("#"),_y("#","pathname","hash",s)),Gn(!s.search||!s.search.includes("#"),_y("#","search","hash",s)));let o=e===""||s.pathname==="",l=o?"/":s.pathname,u;if(l==null)u=n;else{let m=t.length-1;if(!r&&l.startsWith("..")){let x=l.split("/");for(;x[0]==="..";)x.shift(),m-=1;s.pathname=x.join("/")}u=m>=0?t[m]:"/"}let d=mV(s,u),f=l&&l!=="/"&&l.endsWith("/"),p=(o||l===".")&&n.endsWith("/");return!d.pathname.endsWith("/")&&(f||p)&&(d.pathname+="/"),d}const Yo=e=>e.join("/").replace(/\/\/+/g,"/"),xV=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),yV=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,vV=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function bV(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const ZT=["post","put","patch","delete"];new Set(ZT);const wV=["get",...ZT];new Set(wV);/**
 * React Router v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function sh(){return sh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},sh.apply(this,arguments)}const Pw=b.createContext(null),jV=b.createContext(null),kc=b.createContext(null),hx=b.createContext(null),ol=b.createContext({outlet:null,matches:[],isDataRoute:!1}),eR=b.createContext(null);function NV(e,t){let{relative:n}=t===void 0?{}:t;Ph()||Gn(!1);let{basename:r,navigator:s}=b.useContext(kc),{hash:o,pathname:l,search:u}=nR(e,{relative:n}),d=l;return r!=="/"&&(d=l==="/"?r:Yo([r,l])),s.createHref({pathname:d,search:u,hash:o})}function Ph(){return b.useContext(hx)!=null}function _c(){return Ph()||Gn(!1),b.useContext(hx).location}function tR(e){b.useContext(kc).static||b.useLayoutEffect(e)}function Aw(){let{isDataRoute:e}=b.useContext(ol);return e?LV():SV()}function SV(){Ph()||Gn(!1);let e=b.useContext(Pw),{basename:t,future:n,navigator:r}=b.useContext(kc),{matches:s}=b.useContext(ol),{pathname:o}=_c(),l=JSON.stringify(XT(s,n.v7_relativeSplatPath)),u=b.useRef(!1);return tR(()=>{u.current=!0}),b.useCallback(function(f,p){if(p===void 0&&(p={}),!u.current)return;if(typeof f=="number"){r.go(f);return}let m=JT(f,JSON.parse(l),o,p.relative==="path");e==null&&t!=="/"&&(m.pathname=m.pathname==="/"?t:Yo([t,m.pathname])),(p.replace?r.replace:r.push)(m,p.state,p)},[t,r,l,o,e])}function kV(){let{matches:e}=b.useContext(ol),t=e[e.length-1];return t?t.params:{}}function nR(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=b.useContext(kc),{matches:s}=b.useContext(ol),{pathname:o}=_c(),l=JSON.stringify(XT(s,r.v7_relativeSplatPath));return b.useMemo(()=>JT(e,JSON.parse(l),o,n==="path"),[e,l,o,n])}function _V(e,t){return CV(e,t)}function CV(e,t,n,r){Ph()||Gn(!1);let{navigator:s}=b.useContext(kc),{matches:o}=b.useContext(ol),l=o[o.length-1],u=l?l.params:{};l&&l.pathname;let d=l?l.pathnameBase:"/";l&&l.route;let f=_c(),p;if(t){var m;let _=typeof t=="string"?Sc(t):t;d==="/"||(m=_.pathname)!=null&&m.startsWith(d)||Gn(!1),p=_}else p=f;let x=p.pathname||"/",v=x;if(d!=="/"){let _=d.replace(/^\//,"").split("/");v="/"+x.replace(/^\//,"").split("/").slice(_.length).join("/")}let S=JU(e,{pathname:v}),N=RV(S&&S.map(_=>Object.assign({},_,{params:Object.assign({},u,_.params),pathname:Yo([d,s.encodeLocation?s.encodeLocation(_.pathname).pathname:_.pathname]),pathnameBase:_.pathnameBase==="/"?d:Yo([d,s.encodeLocation?s.encodeLocation(_.pathnameBase).pathname:_.pathnameBase])})),o,n,r);return t&&N?b.createElement(hx.Provider,{value:{location:sh({pathname:"/",search:"",hash:"",state:null,key:"default"},p),navigationType:qo.Pop}},N):N}function EV(){let e=DV(),t=bV(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return b.createElement(b.Fragment,null,b.createElement("h2",null,"Unexpected Application Error!"),b.createElement("h3",{style:{fontStyle:"italic"}},t),n?b.createElement("pre",{style:s},n):null,null)}const PV=b.createElement(EV,null);class AV extends b.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?b.createElement(ol.Provider,{value:this.props.routeContext},b.createElement(eR.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function TV(e){let{routeContext:t,match:n,children:r}=e,s=b.useContext(Pw);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),b.createElement(ol.Provider,{value:t},r)}function RV(e,t,n,r){var s;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var o;if(!n)return null;if(n.errors)e=n.matches;else if((o=r)!=null&&o.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let l=e,u=(s=n)==null?void 0:s.errors;if(u!=null){let p=l.findIndex(m=>m.route.id&&(u==null?void 0:u[m.route.id])!==void 0);p>=0||Gn(!1),l=l.slice(0,Math.min(l.length,p+1))}let d=!1,f=-1;if(n&&r&&r.v7_partialHydration)for(let p=0;p<l.length;p++){let m=l[p];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(f=p),m.route.id){let{loaderData:x,errors:v}=n,S=m.route.loader&&x[m.route.id]===void 0&&(!v||v[m.route.id]===void 0);if(m.route.lazy||S){d=!0,f>=0?l=l.slice(0,f+1):l=[l[0]];break}}}return l.reduceRight((p,m,x)=>{let v,S=!1,N=null,_=null;n&&(v=u&&m.route.id?u[m.route.id]:void 0,N=m.route.errorElement||PV,d&&(f<0&&x===0?(FV("route-fallback"),S=!0,_=null):f===x&&(S=!0,_=m.route.hydrateFallbackElement||null)));let P=t.concat(l.slice(0,x+1)),T=()=>{let I;return v?I=N:S?I=_:m.route.Component?I=b.createElement(m.route.Component,null):m.route.element?I=m.route.element:I=p,b.createElement(TV,{match:m,routeContext:{outlet:p,matches:P,isDataRoute:n!=null},children:I})};return n&&(m.route.ErrorBoundary||m.route.errorElement||x===0)?b.createElement(AV,{location:n.location,revalidation:n.revalidation,component:N,error:v,children:T(),routeContext:{outlet:null,matches:P,isDataRoute:!0}}):T()},null)}var rR=(function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e})(rR||{}),sR=(function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e})(sR||{});function IV(e){let t=b.useContext(Pw);return t||Gn(!1),t}function MV(e){let t=b.useContext(jV);return t||Gn(!1),t}function OV(e){let t=b.useContext(ol);return t||Gn(!1),t}function iR(e){let t=OV(),n=t.matches[t.matches.length-1];return n.route.id||Gn(!1),n.route.id}function DV(){var e;let t=b.useContext(eR),n=MV(),r=iR();return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function LV(){let{router:e}=IV(rR.UseNavigateStable),t=iR(sR.UseNavigateStable),n=b.useRef(!1);return tR(()=>{n.current=!0}),b.useCallback(function(s,o){o===void 0&&(o={}),n.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,sh({fromRouteId:t},o)))},[e,t])}const mk={};function FV(e,t,n){mk[e]||(mk[e]=!0)}function $V(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function Om(e){Gn(!1)}function BV(e){let{basename:t="/",children:n=null,location:r,navigationType:s=qo.Pop,navigator:o,static:l=!1,future:u}=e;Ph()&&Gn(!1);let d=t.replace(/^\/*/,"/"),f=b.useMemo(()=>({basename:d,navigator:o,static:l,future:sh({v7_relativeSplatPath:!1},u)}),[d,u,o,l]);typeof r=="string"&&(r=Sc(r));let{pathname:p="/",search:m="",hash:x="",state:v=null,key:S="default"}=r,N=b.useMemo(()=>{let _=Ew(p,d);return _==null?null:{location:{pathname:_,search:m,hash:x,state:v,key:S},navigationType:s}},[d,p,m,x,v,S,s]);return N==null?null:b.createElement(kc.Provider,{value:f},b.createElement(hx.Provider,{children:n,value:N}))}function zV(e){let{children:t,location:n}=e;return _V(Yv(t),n)}new Promise(()=>{});function Yv(e,t){t===void 0&&(t=[]);let n=[];return b.Children.forEach(e,(r,s)=>{if(!b.isValidElement(r))return;let o=[...t,s];if(r.type===b.Fragment){n.push.apply(n,Yv(r.props.children,o));return}r.type!==Om&&Gn(!1),!r.props.index||!r.props.children||Gn(!1);let l={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=Yv(r.props.children,o)),n.push(l)}),n}/**
 * React Router DOM v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Qv(){return Qv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Qv.apply(this,arguments)}function UV(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,o;for(o=0;o<r.length;o++)s=r[o],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function VV(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function WV(e,t){return e.button===0&&(!t||t==="_self")&&!VV(e)}const qV=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],HV="6";try{window.__reactRouterVersion=HV}catch{}const KV="startTransition",gk=zg[KV];function GV(e){let{basename:t,children:n,future:r,window:s}=e,o=b.useRef();o.current==null&&(o.current=YU({window:s,v5Compat:!0}));let l=o.current,[u,d]=b.useState({action:l.action,location:l.location}),{v7_startTransition:f}=r||{},p=b.useCallback(m=>{f&&gk?gk(()=>d(m)):d(m)},[d,f]);return b.useLayoutEffect(()=>l.listen(p),[l,p]),b.useEffect(()=>$V(r),[r]),b.createElement(BV,{basename:t,children:n,location:u.location,navigationType:u.action,navigator:l,future:r})}const YV=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",QV=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Mr=b.forwardRef(function(t,n){let{onClick:r,relative:s,reloadDocument:o,replace:l,state:u,target:d,to:f,preventScrollReset:p,viewTransition:m}=t,x=UV(t,qV),{basename:v}=b.useContext(kc),S,N=!1;if(typeof f=="string"&&QV.test(f)&&(S=f,YV))try{let I=new URL(window.location.href),L=f.startsWith("//")?new URL(I.protocol+f):new URL(f),z=Ew(L.pathname,v);L.origin===I.origin&&z!=null?f=z+L.search+L.hash:N=!0}catch{}let _=NV(f,{relative:s}),P=XV(f,{replace:l,state:u,target:d,preventScrollReset:p,relative:s,viewTransition:m});function T(I){r&&r(I),I.defaultPrevented||P(I)}return b.createElement("a",Qv({},x,{href:S||_,onClick:N||o?r:T,ref:n,target:d}))});var xk;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(xk||(xk={}));var yk;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(yk||(yk={}));function XV(e,t){let{target:n,replace:r,state:s,preventScrollReset:o,relative:l,viewTransition:u}=t===void 0?{}:t,d=Aw(),f=_c(),p=nR(e,{relative:l});return b.useCallback(m=>{if(WV(m,n)){m.preventDefault();let x=r!==void 0?r:vg(f)===vg(p);d(e,{replace:x,state:s,preventScrollReset:o,relative:l,viewTransition:u})}},[f,d,p,r,s,n,e,o,l,u])}function qn(e){return"/"+e.replace(/ /g,"-")}const JV={blue:"bg-blue-500",purple:"bg-purple-500",emerald:"bg-emerald-500",orange:"bg-orange-500",pink:"bg-pink-500",cyan:"bg-cyan-500"};function ZV({modules:e}){const t=Object.values(JV);return i.jsxs("div",{className:"bg-white rounded-2xl border border-slate-200/60 overflow-hidden",children:[i.jsxs("div",{className:"p-5 border-b border-slate-100 flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-2 rounded-xl bg-blue-50",children:i.jsx(Hn,{className:"w-5 h-5 text-blue-600"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold text-slate-900",children:"Module Progress"}),i.jsxs("p",{className:"text-xs text-slate-500",children:[(e==null?void 0:e.length)||0," enrolled"]})]})]}),i.jsxs(Mr,{to:qn("Modules"),className:"text-xs font-medium text-blue-600 hover:text-blue-700 flex items-center gap-1",children:["View all ",i.jsx(Hi,{className:"w-3 h-3"})]})]}),i.jsx("div",{className:"divide-y divide-slate-100",children:!e||e.length===0?i.jsxs("div",{className:"p-8 text-center",children:[i.jsx("div",{className:"w-12 h-12 rounded-full bg-slate-50 flex items-center justify-center mx-auto mb-3",children:i.jsx(Hn,{className:"w-6 h-6 text-slate-400"})}),i.jsx("p",{className:"text-sm font-medium text-slate-600",children:"No modules yet"}),i.jsx("p",{className:"text-xs text-slate-400 mt-1",children:"Add your first module to track progress"})]}):e.slice(0,4).map((n,r)=>{var s;return i.jsxs("div",{className:"p-4 hover:bg-slate-50 transition-colors",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[i.jsx("div",{className:Ne("w-10 h-10 rounded-xl flex items-center justify-center text-white font-semibold text-sm",n.color||t[r%t.length]),children:((s=n.code)==null?void 0:s.slice(0,2))||"M"}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"font-medium text-slate-900 truncate",children:n.title}),i.jsx("p",{className:"text-xs text-slate-500",children:n.code})]}),i.jsxs("span",{className:"text-sm font-semibold text-slate-900",children:[n.progress||0,"%"]})]}),i.jsx(Kg,{value:n.progress||0,className:"h-1.5"})]},n.id)})})]})}function e7({sessions:e}){const n=(()=>{if(!e||e.length===0)return 0;const l=[...new Set(e.map(f=>f.date))].sort((f,p)=>new Date(p)-new Date(f));let u=0;const d=new Date;d.setHours(0,0,0,0);for(let f=0;f<l.length;f++){const p=new Date(l[f]);p.setHours(0,0,0,0);const m=new Date(d);if(m.setDate(m.getDate()-f),p.getTime()===m.getTime())u++;else break}return u})(),r=(e==null?void 0:e.reduce((l,u)=>l+(u.duration_minutes||0),0))||0,s=Math.round(r/60),o=[{icon:mv,label:"Day Streak",value:n,color:"text-orange-500",bg:"bg-orange-50"},{icon:Xu,label:"Total Hours",value:s,color:"text-amber-500",bg:"bg-amber-50"},{icon:Ji,label:"Sessions",value:(e==null?void 0:e.length)||0,color:"text-blue-500",bg:"bg-blue-50"}];return i.jsxs("div",{className:"bg-gradient-to-br from-slate-900 to-slate-800 rounded-2xl p-6 text-white",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[i.jsx("div",{className:"p-3 rounded-xl bg-orange-500/20",children:i.jsx(mv,{className:"w-6 h-6 text-orange-400"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold text-lg",children:"Study Streak"}),i.jsx("p",{className:"text-sm text-slate-400",children:"Keep the momentum going!"})]})]}),i.jsx("div",{className:"grid grid-cols-3 gap-4",children:o.map((l,u)=>i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:Ne("w-12 h-12 rounded-xl mx-auto mb-2 flex items-center justify-center",l.bg.replace("bg-","bg-opacity-20 bg-")),children:i.jsx(l.icon,{className:Ne("w-5 h-5",l.color)})}),i.jsx("p",{className:"text-2xl font-bold",children:l.value}),i.jsx("p",{className:"text-xs text-slate-400 mt-0.5",children:l.label})]},u))}),n>=7&&i.jsx("div",{className:"mt-6 pt-5 border-t border-slate-700",children:i.jsxs("div",{className:"flex items-center gap-2 text-amber-400",children:[i.jsx(Wb,{className:"w-4 h-4 fill-current"}),i.jsx("span",{className:"text-sm font-medium",children:"Awesome! You're on fire! "})]})})]})}const Cy=[{title:"Generate Quiz",description:"Create active recall questions",icon:Kn,page:"StudyLab",params:"?tab=quiz",gradient:"from-violet-500 to-purple-600",isAi:!0},{title:"Summarize Notes",description:"AI-powered summaries",icon:Sr,page:"StudyLab",params:"?tab=notes",gradient:"from-blue-500 to-cyan-500",isAi:!0},{title:"Deep Dive",description:"Feynman technique explanations",icon:Ft,page:"StudyLab",params:"?tab=deepdive",gradient:"from-emerald-500 to-teal-600",isAi:!0},{title:"Upload Material",description:"Add PDFs or notes",icon:os,page:"StudyLab",params:"?tab=materials",gradient:"from-orange-500 to-red-500"}];function t7(){const[e,t]=b.useState(20),n=Aw();b.useEffect(()=>{ke.wallet.getBalance().then(t);const s=setInterval(()=>{ke.wallet.getBalance().then(t)},5e3);return()=>clearInterval(s)},[]);const r=s=>{const o=Cy.find(u=>u.title===s);if(!o)return;const l=o.isAi&&e<1;n(l?qn("Payment"):qn(o.page)+o.params)};return i.jsxs("div",{className:"w-full space-y-4",children:[i.jsx("div",{className:"block lg:hidden",children:i.jsxs(hr,{onValueChange:r,children:[i.jsx(rr,{className:"w-full h-14 rounded-2xl border-slate-200 bg-white shadow-sm font-bold text-slate-700",children:i.jsxs("div",{className:"flex items-center gap-2 text-slate-900",children:[i.jsx(Ft,{className:"w-4 h-4 text-violet-600"}),i.jsx(pr,{placeholder:"Quick Access Tools..."})]})}),i.jsx(sr,{className:"rounded-2xl border-slate-200",children:Cy.map((s,o)=>i.jsx(Vt,{value:s.title,className:"py-3 font-medium",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:Ne("p-1.5 rounded-lg bg-gradient-to-br text-white",s.gradient),children:i.jsx(s.icon,{className:"w-3.5 h-3.5"})}),i.jsx("span",{children:s.title})]})},o))})]})}),i.jsx("div",{className:"flex flex-nowrap gap-6 overflow-x-auto pb-8 pt-2 -mx-2 px-2 pencil-scroll scroll-smooth lg:flex hidden",children:Cy.map((s,o)=>{const l=s.isAi&&e<1;return i.jsxs(Mr,{to:l?qn("Payment"):qn(s.page)+s.params,className:Ne("group relative overflow-hidden rounded-[2rem] p-6 transition-all duration-300 hover:shadow-2xl hover:-translate-y-1 border min-w-[340px] flex-shrink-0",l?"bg-slate-50/80 border-slate-200 grayscale-[0.8]":"bg-white border-slate-100 hover:border-blue-400 shadow-xl shadow-slate-200/20"),children:[i.jsx("div",{className:Ne("absolute inset-0 bg-gradient-to-br opacity-0 group-hover:opacity-10 transition-opacity",s.gradient)}),i.jsxs("div",{className:"relative flex items-center gap-5",children:[i.jsx("div",{className:Ne("w-16 h-16 rounded-2xl bg-gradient-to-br flex items-center justify-center shadow-lg transform transition-transform group-hover:rotate-6 flex-shrink-0",l?"from-slate-400 to-slate-500":s.gradient),children:l?i.jsx(u3,{className:"w-8 h-8 text-white"}):i.jsx(s.icon,{className:"w-8 h-8 text-white"})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-0.5",children:[i.jsx("h4",{className:"font-black text-slate-900 text-lg tracking-tight truncate",children:s.title}),l&&i.jsx("span",{className:"px-1.5 py-0.5 bg-slate-900 text-white text-[8px] font-black rounded-full uppercase tracking-tighter",children:"Locked"})]}),i.jsx("p",{className:"text-xs text-slate-500 line-clamp-2 leading-tight",children:l?"Upgrade to unlock AI features":s.description}),i.jsxs("div",{className:"mt-3 flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-1.5",children:[i.jsx(En,{className:Ne("w-3 h-3 fill-current",l?"text-slate-300":"text-amber-500")}),i.jsx("span",{className:"text-[9px] font-bold text-slate-400 uppercase tracking-widest",children:"1 Credit"})]}),!l&&i.jsx(Hi,{className:"w-4 h-4 text-slate-300 group-hover:text-blue-500 group-hover:translate-x-1 transition-all"})]})]})]})]},o)})})]})}function n7(e){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}Array(12).fill(0);let Xv=1;class r7{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{const n=this.subscribers.indexOf(t);this.subscribers.splice(n,1)}),this.publish=t=>{this.subscribers.forEach(n=>n(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var n;const{message:r,...s}=t,o=typeof(t==null?void 0:t.id)=="number"||((n=t.id)==null?void 0:n.length)>0?t.id:Xv++,l=this.toasts.find(d=>d.id===o),u=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(o)&&this.dismissedToasts.delete(o),l?this.toasts=this.toasts.map(d=>d.id===o?(this.publish({...d,...t,id:o,title:r}),{...d,...t,id:o,dismissible:u,title:r}):d):this.addToast({title:r,...s,dismissible:u,id:o}),o},this.dismiss=t=>(t?(this.dismissedToasts.add(t),requestAnimationFrame(()=>this.subscribers.forEach(n=>n({id:t,dismiss:!0})))):this.toasts.forEach(n=>{this.subscribers.forEach(r=>r({id:n.id,dismiss:!0}))}),t),this.message=(t,n)=>this.create({...n,message:t}),this.error=(t,n)=>this.create({...n,message:t,type:"error"}),this.success=(t,n)=>this.create({...n,type:"success",message:t}),this.info=(t,n)=>this.create({...n,type:"info",message:t}),this.warning=(t,n)=>this.create({...n,type:"warning",message:t}),this.loading=(t,n)=>this.create({...n,type:"loading",message:t}),this.promise=(t,n)=>{if(!n)return;let r;n.loading!==void 0&&(r=this.create({...n,promise:t,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));const s=Promise.resolve(t instanceof Function?t():t);let o=r!==void 0,l;const u=s.then(async f=>{if(l=["resolve",f],jr.isValidElement(f))o=!1,this.create({id:r,type:"default",message:f});else if(i7(f)&&!f.ok){o=!1;const m=typeof n.error=="function"?await n.error(`HTTP error! status: ${f.status}`):n.error,x=typeof n.description=="function"?await n.description(`HTTP error! status: ${f.status}`):n.description,S=typeof m=="object"&&!jr.isValidElement(m)?m:{message:m};this.create({id:r,type:"error",description:x,...S})}else if(f instanceof Error){o=!1;const m=typeof n.error=="function"?await n.error(f):n.error,x=typeof n.description=="function"?await n.description(f):n.description,S=typeof m=="object"&&!jr.isValidElement(m)?m:{message:m};this.create({id:r,type:"error",description:x,...S})}else if(n.success!==void 0){o=!1;const m=typeof n.success=="function"?await n.success(f):n.success,x=typeof n.description=="function"?await n.description(f):n.description,S=typeof m=="object"&&!jr.isValidElement(m)?m:{message:m};this.create({id:r,type:"success",description:x,...S})}}).catch(async f=>{if(l=["reject",f],n.error!==void 0){o=!1;const p=typeof n.error=="function"?await n.error(f):n.error,m=typeof n.description=="function"?await n.description(f):n.description,v=typeof p=="object"&&!jr.isValidElement(p)?p:{message:p};this.create({id:r,type:"error",description:m,...v})}}).finally(()=>{o&&(this.dismiss(r),r=void 0),n.finally==null||n.finally.call(n)}),d=()=>new Promise((f,p)=>u.then(()=>l[0]==="reject"?p(l[1]):f(l[1])).catch(p));return typeof r!="string"&&typeof r!="number"?{unwrap:d}:Object.assign(r,{unwrap:d})},this.custom=(t,n)=>{const r=(n==null?void 0:n.id)||Xv++;return this.create({jsx:t(r),id:r,...n}),r},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const Ls=new r7,s7=(e,t)=>{const n=(t==null?void 0:t.id)||Xv++;return Ls.addToast({title:e,...t,id:n}),n},i7=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",a7=s7,o7=()=>Ls.toasts,l7=()=>Ls.getActiveToasts(),at=Object.assign(a7,{success:Ls.success,info:Ls.info,warning:Ls.warning,error:Ls.error,custom:Ls.custom,message:Ls.message,promise:Ls.promise,dismiss:Ls.dismiss,loading:Ls.loading},{getHistory:o7,getToasts:l7});n7("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");const c7=Object.freeze(Object.defineProperty({__proto__:null,toast:at},Symbol.toStringTag,{value:"Module"}));function u7(){const[e,t]=b.useState(!1),[n,r]=b.useState(!1),[s,o]=b.useState(null),l=cs(),u=async p=>{if(!p)return;t(!0);const m=at.loading(`Analyzing ${p.name}...`);try{console.log("Starting auto-organize for file:",p.name);const x=await ke.integrations.Organizer.AutoOrganizeUpload(p);console.log("Auto-organize result:",x),at.success(`Classified as ${x.type}: ${x.data.title}`,{id:m,description:"Organized into your dashboard automatically."}),l.invalidateQueries({queryKey:["modules"]}),l.invalidateQueries({queryKey:["assignments"]}),l.invalidateQueries({queryKey:["materials"]})}catch(x){console.error("Auto-organize full error object:",x);let v=x.message||"An unexpected error occurred during AI analysis.",S="Double-check your API keys and internet connection.";v.includes("404")||v.includes("not found")?S="The AI model version might be deprecated or incorrect in your .env file.":v.includes("quota")||v.includes("429")?S="You have exceeded your API quota for the day.":v.includes("Invalid")?S="The AI returned data that couldn't be parsed. New models might be hallucinating.":v.includes("Load failed")&&(S="Network error. The AI server could not be reached."),o({title:"AI Analysis Failed",message:v,hint:S,fileName:p.name}),at.error("Failed to classify document.",{id:m})}finally{t(!1)}},d=p=>{p.preventDefault(),p.stopPropagation(),p.type==="dragenter"||p.type==="dragover"?r(!0):p.type==="dragleave"&&r(!1)},f=p=>{p.preventDefault(),p.stopPropagation(),r(!1),p.dataTransfer.files&&p.dataTransfer.files[0]&&u(p.dataTransfer.files[0])};return i.jsxs("div",{className:"bg-white rounded-2xl border border-slate-200/60 overflow-hidden",children:[i.jsx("div",{className:"p-5 border-b border-slate-100 flex items-center justify-between",children:i.jsxs("div",{children:[i.jsxs("h3",{className:"font-semibold text-slate-900 flex items-center gap-2",children:[i.jsx(Ft,{className:"w-4 h-4 text-violet-600"}),"AI Auto-Organizer"]}),i.jsx("p",{className:"text-xs text-slate-500 mt-0.5",children:"Drop any document or image to auto-sort it"})]})}),i.jsxs("div",{className:"p-6",children:[i.jsxs("label",{onDragEnter:d,onDragLeave:d,onDragOver:d,onDrop:f,className:Ne("relative group cursor-pointer flex flex-col items-center justify-center py-10 px-6 rounded-2xl border-2 border-dashed transition-all duration-300",n?"border-violet-500 bg-violet-50/50":"border-slate-200 hover:border-slate-300 hover:bg-slate-50",e&&"pointer-events-none opacity-60"),children:[i.jsx("input",{type:"file",className:"hidden",onChange:p=>u(p.target.files[0]),accept:".pdf,.jpg,.jpeg,.png,.doc,.docx,.xls,.xlsx,.ppt,.pptx,.txt,.csv"}),i.jsx("div",{className:Ne("w-12 h-12 rounded-xl flex items-center justify-center mb-4 transition-transform duration-300",n?"bg-violet-500 text-white scale-110":"bg-slate-100 text-slate-400 group-hover:scale-110"),children:e?i.jsx(jn,{className:"w-6 h-6 animate-spin"}):i.jsx(os,{className:"w-6 h-6"})}),i.jsxs("div",{className:"text-center",children:[i.jsx("p",{className:"text-sm font-medium text-slate-900",children:e?"AI is scanning your file...":"Click to upload or drag & drop"}),i.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Supports PDFs, Images, Office Docs, and Text"})]}),n&&i.jsx("div",{className:"absolute inset-0 bg-violet-500/5 backdrop-blur-[1px] rounded-2xl flex items-center justify-center",children:i.jsxs("div",{className:"bg-white px-4 py-2 rounded-full shadow-lg border border-violet-100 flex items-center gap-2",children:[i.jsx(Ft,{className:"w-4 h-4 text-violet-600 animate-pulse"}),i.jsx("span",{className:"text-sm font-semibold text-violet-700 font-mono",children:"CLASSIFY MODE ACTIVE"})]})})]}),i.jsx("div",{className:"mt-6 space-y-3",children:i.jsxs("div",{className:"flex items-start gap-3 p-3 rounded-xl bg-blue-50/50 border border-blue-100/50",children:[i.jsx(qa,{className:"w-4 h-4 text-blue-600 mt-0.5"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs font-semibold text-blue-900",children:"What happens after upload?"}),i.jsx("p",{className:"text-[10px] text-blue-700 mt-0.5 leading-relaxed",children:"AI scans the text and visuals to identify if it's a syllabus (Module), homework (Assignment), or revision material. It then creates the entries and links them automatically."})]})]})})]}),s&&i.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-slate-900/60 backdrop-blur-sm",children:i.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-md shadow-2xl border border-slate-200 overflow-hidden animate-in fade-in zoom-in duration-300",children:[i.jsxs("div",{className:"p-5 border-b border-slate-100 bg-red-50 flex items-center gap-3",children:[i.jsx("div",{className:"w-10 h-10 rounded-full bg-red-100 flex items-center justify-center",children:i.jsx(Jo,{className:"w-6 h-6 text-red-600"})}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-bold text-slate-900",children:s.title}),i.jsx("p",{className:"text-[10px] text-red-600 font-mono uppercase tracking-wider",children:"Error Insight"})]}),i.jsx("button",{onClick:()=>o(null),className:"ml-auto p-2 hover:bg-red-200 rounded-full transition-colors",children:i.jsx(Dr,{className:"w-4 h-4 text-red-700"})})]}),i.jsxs("div",{className:"p-6",children:[i.jsx("div",{className:"bg-slate-50 border border-slate-200 rounded-xl p-4 mb-4 overflow-auto pencil-scroll max-h-40",children:i.jsx("p",{className:"text-sm text-slate-700 leading-relaxed font-medium",children:s.message})}),s.fileName&&i.jsxs("p",{className:"text-xs text-slate-500 mb-2",children:["File: ",i.jsx("span",{className:"font-mono bg-slate-100 px-1 py-0.5 rounded text-slate-700",children:s.fileName})]}),s.hint&&i.jsxs("div",{className:"mt-2 text-xs bg-amber-50 text-amber-800 p-2 rounded-lg border border-amber-100 flex gap-2 items-start",children:[i.jsx(Ft,{className:"w-3 h-3 mt-0.5 flex-shrink-0"}),i.jsx("span",{children:s.hint})]}),i.jsx("div",{className:"flex gap-3",children:i.jsx("button",{className:"flex-1 px-4 py-2 text-sm font-medium text-slate-700 bg-white border border-slate-200 rounded-xl hover:bg-slate-50 transition-colors",onClick:()=>o(null),children:"Close"})})]})]})})]})}function aR({insights:e=[]}){if(!e||e.length===0)return i.jsx(Nt,{className:"p-6 bg-gradient-to-br from-blue-50 to-indigo-50 border-2 border-blue-100",children:i.jsxs("div",{className:"text-center py-8",children:[i.jsx(Kn,{className:"w-12 h-12 text-blue-400 mx-auto mb-3"}),i.jsx("p",{className:"text-slate-600",children:"Complete some quizzes or activities to get personalized insights!"})]})});const t=r=>({brain:Kn,checkCircle:Us,bookOpen:Hn,target:Ji,alertCircle:Jo,alertTriangle:Jm,trendingUp:sl})[r]||Kn,n=r=>{switch(r){case"high":return{bg:"bg-gradient-to-br from-red-50 to-orange-50",border:"border-red-200",iconBg:"bg-red-100",iconText:"text-red-600",badge:"bg-red-100 text-red-700 border-red-200"};case"medium":return{bg:"bg-gradient-to-br from-amber-50 to-yellow-50",border:"border-amber-200",iconBg:"bg-amber-100",iconText:"text-amber-600",badge:"bg-amber-100 text-amber-700 border-amber-200"};case"low":default:return{bg:"bg-gradient-to-br from-emerald-50 to-teal-50",border:"border-emerald-200",iconBg:"bg-emerald-100",iconText:"text-emerald-600",badge:"bg-emerald-100 text-emerald-700 border-emerald-200"}}};return i.jsx("div",{className:"space-y-4",children:e.map((r,s)=>{const o=t(r.icon),l=n(r.priority);return i.jsx(Nt,{className:Ne("p-5 border-2 transition-all hover:shadow-lg",l.bg,l.border),children:i.jsxs("div",{className:"flex items-start gap-4",children:[i.jsx("div",{className:Ne("w-12 h-12 rounded-xl flex items-center justify-center flex-shrink-0",l.iconBg),children:i.jsx(o,{className:Ne("w-6 h-6",l.iconText)})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("div",{className:"flex items-start justify-between mb-2",children:i.jsx("h4",{className:"font-bold text-slate-900",children:r.title})}),i.jsx("p",{className:"text-sm text-slate-700 leading-relaxed",children:r.description})]})]})},s)})})}var vk;(function(e){e.STRING="string",e.NUMBER="number",e.INTEGER="integer",e.BOOLEAN="boolean",e.ARRAY="array",e.OBJECT="object"})(vk||(vk={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var bk;(function(e){e.LANGUAGE_UNSPECIFIED="language_unspecified",e.PYTHON="python"})(bk||(bk={}));var wk;(function(e){e.OUTCOME_UNSPECIFIED="outcome_unspecified",e.OUTCOME_OK="outcome_ok",e.OUTCOME_FAILED="outcome_failed",e.OUTCOME_DEADLINE_EXCEEDED="outcome_deadline_exceeded"})(wk||(wk={}));var jk;(function(e){e.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",e.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",e.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",e.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",e.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY"})(jk||(jk={}));var Nk;(function(e){e.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE"})(Nk||(Nk={}));var Sk;(function(e){e.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",e.NEGLIGIBLE="NEGLIGIBLE",e.LOW="LOW",e.MEDIUM="MEDIUM",e.HIGH="HIGH"})(Sk||(Sk={}));var kk;(function(e){e.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",e.SAFETY="SAFETY",e.OTHER="OTHER"})(kk||(kk={}));var Lf;(function(e){e.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",e.STOP="STOP",e.MAX_TOKENS="MAX_TOKENS",e.SAFETY="SAFETY",e.RECITATION="RECITATION",e.LANGUAGE="LANGUAGE",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT",e.SPII="SPII",e.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",e.OTHER="OTHER"})(Lf||(Lf={}));var _k;(function(e){e.TASK_TYPE_UNSPECIFIED="TASK_TYPE_UNSPECIFIED",e.RETRIEVAL_QUERY="RETRIEVAL_QUERY",e.RETRIEVAL_DOCUMENT="RETRIEVAL_DOCUMENT",e.SEMANTIC_SIMILARITY="SEMANTIC_SIMILARITY",e.CLASSIFICATION="CLASSIFICATION",e.CLUSTERING="CLUSTERING"})(_k||(_k={}));var Ck;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.AUTO="AUTO",e.ANY="ANY",e.NONE="NONE"})(Ck||(Ck={}));var Ek;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.MODE_DYNAMIC="MODE_DYNAMIC"})(Ek||(Ek={}));var Pk;(function(e){e.GENERATE_CONTENT="generateContent",e.STREAM_GENERATE_CONTENT="streamGenerateContent",e.COUNT_TOKENS="countTokens",e.EMBED_CONTENT="embedContent",e.BATCH_EMBED_CONTENTS="batchEmbedContents"})(Pk||(Pk={}));Lf.RECITATION,Lf.SAFETY,Lf.LANGUAGE;function St(e,t,n,r,s){if(typeof t=="function"?e!==t||!0:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return t.set(e,n),n}function we(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)}let oR=function(){const{crypto:e}=globalThis;if(e!=null&&e.randomUUID)return oR=e.randomUUID.bind(e),e.randomUUID();const t=new Uint8Array(1),n=e?()=>e.getRandomValues(t)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,r=>(+r^n()&15>>+r/4).toString(16))};function Jv(e){return typeof e=="object"&&e!==null&&("name"in e&&e.name==="AbortError"||"message"in e&&String(e.message).includes("FetchRequestCanceledException"))}const Zv=e=>{if(e instanceof Error)return e;if(typeof e=="object"&&e!==null){try{if(Object.prototype.toString.call(e)==="[object Error]"){const t=new Error(e.message,e.cause?{cause:e.cause}:{});return e.stack&&(t.stack=e.stack),e.cause&&!t.cause&&(t.cause=e.cause),e.name&&(t.name=e.name),t}}catch{}try{return new Error(JSON.stringify(e))}catch{}}return new Error(e)};class xt extends Error{}class _r extends xt{constructor(t,n,r,s){super(`${_r.makeMessage(t,n,r)}`),this.status=t,this.headers=s,this.requestID=s==null?void 0:s.get("x-request-id"),this.error=n;const o=n;this.code=o==null?void 0:o.code,this.param=o==null?void 0:o.param,this.type=o==null?void 0:o.type}static makeMessage(t,n,r){const s=n!=null&&n.message?typeof n.message=="string"?n.message:JSON.stringify(n.message):n?JSON.stringify(n):r;return t&&s?`${t} ${s}`:t?`${t} status code (no body)`:s||"(no status code or body)"}static generate(t,n,r,s){if(!t||!s)return new px({message:r,cause:Zv(n)});const o=n==null?void 0:n.error;return t===400?new lR(t,o,r,s):t===401?new cR(t,o,r,s):t===403?new uR(t,o,r,s):t===404?new dR(t,o,r,s):t===409?new fR(t,o,r,s):t===422?new hR(t,o,r,s):t===429?new pR(t,o,r,s):t>=500?new mR(t,o,r,s):new _r(t,o,r,s)}}class Vs extends _r{constructor({message:t}={}){super(void 0,void 0,t||"Request was aborted.",void 0)}}class px extends _r{constructor({message:t,cause:n}){super(void 0,void 0,t||"Connection error.",void 0),n&&(this.cause=n)}}class Tw extends px{constructor({message:t}={}){super({message:t??"Request timed out."})}}class lR extends _r{}class cR extends _r{}class uR extends _r{}class dR extends _r{}class fR extends _r{}class hR extends _r{}class pR extends _r{}class mR extends _r{}class gR extends xt{constructor(){super("Could not parse response content as the length limit was reached")}}class xR extends xt{constructor(){super("Could not parse response content as the request was rejected by the content filter")}}class jf extends Error{constructor(t){super(t)}}const d7=/^[a-z][a-z0-9+.-]*:/i,f7=e=>d7.test(e);let as=e=>(as=Array.isArray,as(e)),Ak=as;function yR(e){return typeof e!="object"?{}:e??{}}function h7(e){if(!e)return!0;for(const t in e)return!1;return!0}function p7(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Ey(e){return e!=null&&typeof e=="object"&&!Array.isArray(e)}const m7=(e,t)=>{if(typeof t!="number"||!Number.isInteger(t))throw new xt(`${e} must be an integer`);if(t<0)throw new xt(`${e} must be a positive integer`);return t},g7=e=>{try{return JSON.parse(e)}catch{return}},Ah=e=>new Promise(t=>setTimeout(t,e)),ju="6.18.0",x7=()=>typeof window<"u"&&typeof window.document<"u"&&typeof navigator<"u";function y7(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const v7=()=>{var n;const e=y7();if(e==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ju,"X-Stainless-OS":Rk(Deno.build.os),"X-Stainless-Arch":Tk(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:((n=Deno.version)==null?void 0:n.deno)??"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ju,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(e==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ju,"X-Stainless-OS":Rk(globalThis.process.platform??"unknown"),"X-Stainless-Arch":Tk(globalThis.process.arch??"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":globalThis.process.version??"unknown"};const t=b7();return t?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ju,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${t.browser}`,"X-Stainless-Runtime-Version":t.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ju,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function b7(){if(typeof navigator>"u"||!navigator)return null;const e=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:t,pattern:n}of e){const r=n.exec(navigator.userAgent);if(r){const s=r[1]||0,o=r[2]||0,l=r[3]||0;return{browser:t,version:`${s}.${o}.${l}`}}}return null}const Tk=e=>e==="x32"?"x32":e==="x86_64"||e==="x64"?"x64":e==="arm"?"arm":e==="aarch64"||e==="arm64"?"arm64":e?`other:${e}`:"unknown",Rk=e=>(e=e.toLowerCase(),e.includes("ios")?"iOS":e==="android"?"Android":e==="darwin"?"MacOS":e==="win32"?"Windows":e==="freebsd"?"FreeBSD":e==="openbsd"?"OpenBSD":e==="linux"?"Linux":e?`Other:${e}`:"Unknown");let Ik;const w7=()=>Ik??(Ik=v7());function j7(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new OpenAI({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function vR(...e){const t=globalThis.ReadableStream;if(typeof t>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new t(...e)}function bR(e){let t=Symbol.asyncIterator in e?e[Symbol.asyncIterator]():e[Symbol.iterator]();return vR({start(){},async pull(n){const{done:r,value:s}=await t.next();r?n.close():n.enqueue(s)},async cancel(){var n;await((n=t.return)==null?void 0:n.call(t))}})}function wR(e){if(e[Symbol.asyncIterator])return e;const t=e.getReader();return{async next(){try{const n=await t.read();return n!=null&&n.done&&t.releaseLock(),n}catch(n){throw t.releaseLock(),n}},async return(){const n=t.cancel();return t.releaseLock(),await n,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function N7(e){var r,s;if(e===null||typeof e!="object")return;if(e[Symbol.asyncIterator]){await((s=(r=e[Symbol.asyncIterator]()).return)==null?void 0:s.call(r));return}const t=e.getReader(),n=t.cancel();t.releaseLock(),await n}const S7=({headers:e,body:t})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(t)}),jR="RFC3986",NR=e=>String(e),Mk={RFC1738:e=>String(e).replace(/%20/g,"+"),RFC3986:NR},k7="RFC1738";let eb=(e,t)=>(eb=Object.hasOwn??Function.prototype.call.bind(Object.prototype.hasOwnProperty),eb(e,t));const Oi=(()=>{const e=[];for(let t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e})(),Py=1024,_7=(e,t,n,r,s)=>{if(e.length===0)return e;let o=e;if(typeof e=="symbol"?o=Symbol.prototype.toString.call(e):typeof e!="string"&&(o=String(e)),n==="iso-8859-1")return escape(o).replace(/%u[0-9a-f]{4}/gi,function(u){return"%26%23"+parseInt(u.slice(2),16)+"%3B"});let l="";for(let u=0;u<o.length;u+=Py){const d=o.length>=Py?o.slice(u,u+Py):o,f=[];for(let p=0;p<d.length;++p){let m=d.charCodeAt(p);if(m===45||m===46||m===95||m===126||m>=48&&m<=57||m>=65&&m<=90||m>=97&&m<=122||s===k7&&(m===40||m===41)){f[f.length]=d.charAt(p);continue}if(m<128){f[f.length]=Oi[m];continue}if(m<2048){f[f.length]=Oi[192|m>>6]+Oi[128|m&63];continue}if(m<55296||m>=57344){f[f.length]=Oi[224|m>>12]+Oi[128|m>>6&63]+Oi[128|m&63];continue}p+=1,m=65536+((m&1023)<<10|d.charCodeAt(p)&1023),f[f.length]=Oi[240|m>>18]+Oi[128|m>>12&63]+Oi[128|m>>6&63]+Oi[128|m&63]}l+=f.join("")}return l};function C7(e){return!e||typeof e!="object"?!1:!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))}function Ok(e,t){if(as(e)){const n=[];for(let r=0;r<e.length;r+=1)n.push(t(e[r]));return n}return t(e)}const SR={brackets(e){return String(e)+"[]"},comma:"comma",indices(e,t){return String(e)+"["+t+"]"},repeat(e){return String(e)}},kR=function(e,t){Array.prototype.push.apply(e,as(t)?t:[t])};let Dk;const tr={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:_7,encodeValuesOnly:!1,format:jR,formatter:NR,indices:!1,serializeDate(e){return(Dk??(Dk=Function.prototype.call.bind(Date.prototype.toISOString)))(e)},skipNulls:!1,strictNullHandling:!1};function E7(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"||typeof e=="symbol"||typeof e=="bigint"}const Ay={};function _R(e,t,n,r,s,o,l,u,d,f,p,m,x,v,S,N,_,P){let T=e,I=P,L=0,z=!1;for(;(I=I.get(Ay))!==void 0&&!z;){const Y=I.get(e);if(L+=1,typeof Y<"u"){if(Y===L)throw new RangeError("Cyclic object value");z=!0}typeof I.get(Ay)>"u"&&(L=0)}if(typeof f=="function"?T=f(t,T):T instanceof Date?T=x==null?void 0:x(T):n==="comma"&&as(T)&&(T=Ok(T,function(Y){return Y instanceof Date?x==null?void 0:x(Y):Y})),T===null){if(o)return d&&!N?d(t,tr.encoder,_,"key",v):t;T=""}if(E7(T)||C7(T)){if(d){const Y=N?t:d(t,tr.encoder,_,"key",v);return[(S==null?void 0:S(Y))+"="+(S==null?void 0:S(d(T,tr.encoder,_,"value",v)))]}return[(S==null?void 0:S(t))+"="+(S==null?void 0:S(String(T)))]}const $=[];if(typeof T>"u")return $;let V;if(n==="comma"&&as(T))N&&d&&(T=Ok(T,d)),V=[{value:T.length>0?T.join(",")||null:void 0}];else if(as(f))V=f;else{const Y=Object.keys(T);V=p?Y.sort(p):Y}const W=u?String(t).replace(/\./g,"%2E"):String(t),F=r&&as(T)&&T.length===1?W+"[]":W;if(s&&as(T)&&T.length===0)return F+"[]";for(let Y=0;Y<V.length;++Y){const H=V[Y],ee=typeof H=="object"&&typeof H.value<"u"?H.value:T[H];if(l&&ee===null)continue;const ve=m&&u?H.replace(/\./g,"%2E"):H,ae=as(T)?typeof n=="function"?n(F,ve):F:F+(m?"."+ve:"["+ve+"]");P.set(e,L);const he=new WeakMap;he.set(Ay,P),kR($,_R(ee,ae,n,r,s,o,l,u,n==="comma"&&N&&as(T)?null:d,f,p,m,x,v,S,N,_,he))}return $}function P7(e=tr){if(typeof e.allowEmptyArrays<"u"&&typeof e.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof e.encodeDotInKeys<"u"&&typeof e.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(e.encoder!==null&&typeof e.encoder<"u"&&typeof e.encoder!="function")throw new TypeError("Encoder has to be a function.");const t=e.charset||tr.charset;if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");let n=jR;if(typeof e.format<"u"){if(!eb(Mk,e.format))throw new TypeError("Unknown format option provided.");n=e.format}const r=Mk[n];let s=tr.filter;(typeof e.filter=="function"||as(e.filter))&&(s=e.filter);let o;if(e.arrayFormat&&e.arrayFormat in SR?o=e.arrayFormat:"indices"in e?o=e.indices?"indices":"repeat":o=tr.arrayFormat,"commaRoundTrip"in e&&typeof e.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");const l=typeof e.allowDots>"u"?e.encodeDotInKeys?!0:tr.allowDots:!!e.allowDots;return{addQueryPrefix:typeof e.addQueryPrefix=="boolean"?e.addQueryPrefix:tr.addQueryPrefix,allowDots:l,allowEmptyArrays:typeof e.allowEmptyArrays=="boolean"?!!e.allowEmptyArrays:tr.allowEmptyArrays,arrayFormat:o,charset:t,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:tr.charsetSentinel,commaRoundTrip:!!e.commaRoundTrip,delimiter:typeof e.delimiter>"u"?tr.delimiter:e.delimiter,encode:typeof e.encode=="boolean"?e.encode:tr.encode,encodeDotInKeys:typeof e.encodeDotInKeys=="boolean"?e.encodeDotInKeys:tr.encodeDotInKeys,encoder:typeof e.encoder=="function"?e.encoder:tr.encoder,encodeValuesOnly:typeof e.encodeValuesOnly=="boolean"?e.encodeValuesOnly:tr.encodeValuesOnly,filter:s,format:n,formatter:r,serializeDate:typeof e.serializeDate=="function"?e.serializeDate:tr.serializeDate,skipNulls:typeof e.skipNulls=="boolean"?e.skipNulls:tr.skipNulls,sort:typeof e.sort=="function"?e.sort:null,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:tr.strictNullHandling}}function A7(e,t={}){let n=e;const r=P7(t);let s,o;typeof r.filter=="function"?(o=r.filter,n=o("",n)):as(r.filter)&&(o=r.filter,s=o);const l=[];if(typeof n!="object"||n===null)return"";const u=SR[r.arrayFormat],d=u==="comma"&&r.commaRoundTrip;s||(s=Object.keys(n)),r.sort&&s.sort(r.sort);const f=new WeakMap;for(let x=0;x<s.length;++x){const v=s[x];r.skipNulls&&n[v]===null||kR(l,_R(n[v],v,u,d,r.allowEmptyArrays,r.strictNullHandling,r.skipNulls,r.encodeDotInKeys,r.encode?r.encoder:null,r.filter,r.sort,r.allowDots,r.serializeDate,r.format,r.formatter,r.encodeValuesOnly,r.charset,f))}const p=l.join(r.delimiter);let m=r.addQueryPrefix===!0?"?":"";return r.charsetSentinel&&(r.charset==="iso-8859-1"?m+="utf8=%26%2310003%3B&":m+="utf8=%E2%9C%93&"),p.length>0?m+p:""}function T7(e){let t=0;for(const s of e)t+=s.length;const n=new Uint8Array(t);let r=0;for(const s of e)n.set(s,r),r+=s.length;return n}let Lk;function Rw(e){let t;return(Lk??(t=new globalThis.TextEncoder,Lk=t.encode.bind(t)))(e)}let Fk;function $k(e){let t;return(Fk??(t=new globalThis.TextDecoder,Fk=t.decode.bind(t)))(e)}var gs,xs;class mx{constructor(){gs.set(this,void 0),xs.set(this,void 0),St(this,gs,new Uint8Array),St(this,xs,null)}decode(t){if(t==null)return[];const n=t instanceof ArrayBuffer?new Uint8Array(t):typeof t=="string"?Rw(t):t;St(this,gs,T7([we(this,gs,"f"),n]));const r=[];let s;for(;(s=R7(we(this,gs,"f"),we(this,xs,"f")))!=null;){if(s.carriage&&we(this,xs,"f")==null){St(this,xs,s.index);continue}if(we(this,xs,"f")!=null&&(s.index!==we(this,xs,"f")+1||s.carriage)){r.push($k(we(this,gs,"f").subarray(0,we(this,xs,"f")-1))),St(this,gs,we(this,gs,"f").subarray(we(this,xs,"f"))),St(this,xs,null);continue}const o=we(this,xs,"f")!==null?s.preceding-1:s.preceding,l=$k(we(this,gs,"f").subarray(0,o));r.push(l),St(this,gs,we(this,gs,"f").subarray(s.index)),St(this,xs,null)}return r}flush(){return we(this,gs,"f").length?this.decode(`
`):[]}}gs=new WeakMap,xs=new WeakMap;mx.NEWLINE_CHARS=new Set([`
`,"\r"]);mx.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function R7(e,t){for(let s=t??0;s<e.length;s++){if(e[s]===10)return{preceding:s,index:s+1,carriage:!1};if(e[s]===13)return{preceding:s,index:s+1,carriage:!0}}return null}function I7(e){for(let r=0;r<e.length-1;r++){if(e[r]===10&&e[r+1]===10||e[r]===13&&e[r+1]===13)return r+2;if(e[r]===13&&e[r+1]===10&&r+3<e.length&&e[r+2]===13&&e[r+3]===10)return r+4}return-1}const bg={off:0,error:200,warn:300,info:400,debug:500},Bk=(e,t,n)=>{if(e){if(p7(bg,e))return e;vr(n).warn(`${t} was set to ${JSON.stringify(e)}, expected one of ${JSON.stringify(Object.keys(bg))}`)}};function Nf(){}function dm(e,t,n){return!t||bg[e]>bg[n]?Nf:t[e].bind(t)}const M7={error:Nf,warn:Nf,info:Nf,debug:Nf};let zk=new WeakMap;function vr(e){const t=e.logger,n=e.logLevel??"off";if(!t)return M7;const r=zk.get(t);if(r&&r[0]===n)return r[1];const s={error:dm("error",t,n),warn:dm("warn",t,n),info:dm("info",t,n),debug:dm("debug",t,n)};return zk.set(t,[n,s]),s}const Wl=e=>(e.options&&(e.options={...e.options},delete e.options.headers),e.headers&&(e.headers=Object.fromEntries((e.headers instanceof Headers?[...e.headers]:Object.entries(e.headers)).map(([t,n])=>[t,t.toLowerCase()==="authorization"||t.toLowerCase()==="cookie"||t.toLowerCase()==="set-cookie"?"***":n]))),"retryOfRequestLogID"in e&&(e.retryOfRequestLogID&&(e.retryOf=e.retryOfRequestLogID),delete e.retryOfRequestLogID),e);var ff;class qi{constructor(t,n,r){this.iterator=t,ff.set(this,void 0),this.controller=n,St(this,ff,r)}static fromSSEResponse(t,n,r){let s=!1;const o=r?vr(r):console;async function*l(){if(s)throw new xt("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");s=!0;let u=!1;try{for await(const d of O7(t,n))if(!u){if(d.data.startsWith("[DONE]")){u=!0;continue}if(d.event===null||!d.event.startsWith("thread.")){let f;try{f=JSON.parse(d.data)}catch(p){throw o.error("Could not parse message into JSON:",d.data),o.error("From chunk:",d.raw),p}if(f&&f.error)throw new _r(void 0,f.error,void 0,t.headers);yield f}else{let f;try{f=JSON.parse(d.data)}catch(p){throw console.error("Could not parse message into JSON:",d.data),console.error("From chunk:",d.raw),p}if(d.event=="error")throw new _r(void 0,f.error,f.message,void 0);yield{event:d.event,data:f}}}u=!0}catch(d){if(Jv(d))return;throw d}finally{u||n.abort()}}return new qi(l,n,r)}static fromReadableStream(t,n,r){let s=!1;async function*o(){const u=new mx,d=wR(t);for await(const f of d)for(const p of u.decode(f))yield p;for(const f of u.flush())yield f}async function*l(){if(s)throw new xt("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");s=!0;let u=!1;try{for await(const d of o())u||d&&(yield JSON.parse(d));u=!0}catch(d){if(Jv(d))return;throw d}finally{u||n.abort()}}return new qi(l,n,r)}[(ff=new WeakMap,Symbol.asyncIterator)](){return this.iterator()}tee(){const t=[],n=[],r=this.iterator(),s=o=>({next:()=>{if(o.length===0){const l=r.next();t.push(l),n.push(l)}return o.shift()}});return[new qi(()=>s(t),this.controller,we(this,ff,"f")),new qi(()=>s(n),this.controller,we(this,ff,"f"))]}toReadableStream(){const t=this;let n;return vR({async start(){n=t[Symbol.asyncIterator]()},async pull(r){try{const{value:s,done:o}=await n.next();if(o)return r.close();const l=Rw(JSON.stringify(s)+`
`);r.enqueue(l)}catch(s){r.error(s)}},async cancel(){var r;await((r=n.return)==null?void 0:r.call(n))}})}}async function*O7(e,t){if(!e.body)throw t.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new xt("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new xt("Attempted to iterate over a response with no body");const n=new L7,r=new mx,s=wR(e.body);for await(const o of D7(s))for(const l of r.decode(o)){const u=n.decode(l);u&&(yield u)}for(const o of r.flush()){const l=n.decode(o);l&&(yield l)}}async function*D7(e){let t=new Uint8Array;for await(const n of e){if(n==null)continue;const r=n instanceof ArrayBuffer?new Uint8Array(n):typeof n=="string"?Rw(n):n;let s=new Uint8Array(t.length+r.length);s.set(t),s.set(r,t.length),t=s;let o;for(;(o=I7(t))!==-1;)yield t.slice(0,o),t=t.slice(o)}t.length>0&&(yield t)}class L7{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(t){if(t.endsWith("\r")&&(t=t.substring(0,t.length-1)),!t){if(!this.event&&!this.data.length)return null;const o={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],o}if(this.chunks.push(t),t.startsWith(":"))return null;let[n,r,s]=F7(t,":");return s.startsWith(" ")&&(s=s.substring(1)),n==="event"?this.event=s:n==="data"&&this.data.push(s),null}}function F7(e,t){const n=e.indexOf(t);return n!==-1?[e.substring(0,n),t,e.substring(n+t.length)]:[e,"",""]}async function CR(e,t){const{response:n,requestLogID:r,retryOfRequestLogID:s,startTime:o}=t,l=await(async()=>{var m;if(t.options.stream)return vr(e).debug("response",n.status,n.url,n.headers,n.body),t.options.__streamClass?t.options.__streamClass.fromSSEResponse(n,t.controller,e):qi.fromSSEResponse(n,t.controller,e);if(n.status===204)return null;if(t.options.__binaryResponse)return n;const u=n.headers.get("content-type"),d=(m=u==null?void 0:u.split(";")[0])==null?void 0:m.trim();if((d==null?void 0:d.includes("application/json"))||(d==null?void 0:d.endsWith("+json"))){if(n.headers.get("content-length")==="0")return;const v=await n.json();return ER(v,n)}return await n.text()})();return vr(e).debug(`[${r}] response parsed`,Wl({retryOfRequestLogID:s,url:n.url,status:n.status,body:l,durationMs:Date.now()-o})),l}function ER(e,t){return!e||typeof e!="object"||Array.isArray(e)?e:Object.defineProperty(e,"_request_id",{value:t.headers.get("x-request-id"),enumerable:!1})}var Sf;class gx extends Promise{constructor(t,n,r=CR){super(s=>{s(null)}),this.responsePromise=n,this.parseResponse=r,Sf.set(this,void 0),St(this,Sf,t)}_thenUnwrap(t){return new gx(we(this,Sf,"f"),this.responsePromise,async(n,r)=>ER(t(await this.parseResponse(n,r),r),r.response))}asResponse(){return this.responsePromise.then(t=>t.response)}async withResponse(){const[t,n]=await Promise.all([this.parse(),this.asResponse()]);return{data:t,response:n,request_id:n.headers.get("x-request-id")}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(t=>this.parseResponse(we(this,Sf,"f"),t))),this.parsedPromise}then(t,n){return this.parse().then(t,n)}catch(t){return this.parse().catch(t)}finally(t){return this.parse().finally(t)}}Sf=new WeakMap;var fm;class Iw{constructor(t,n,r,s){fm.set(this,void 0),St(this,fm,t),this.options=s,this.response=n,this.body=r}hasNextPage(){return this.getPaginatedItems().length?this.nextPageRequestOptions()!=null:!1}async getNextPage(){const t=this.nextPageRequestOptions();if(!t)throw new xt("No next page expected; please check `.hasNextPage()` before calling `.getNextPage()`.");return await we(this,fm,"f").requestAPIList(this.constructor,t)}async*iterPages(){let t=this;for(yield t;t.hasNextPage();)t=await t.getNextPage(),yield t}async*[(fm=new WeakMap,Symbol.asyncIterator)](){for await(const t of this.iterPages())for(const n of t.getPaginatedItems())yield n}}class $7 extends gx{constructor(t,n,r){super(t,n,async(s,o)=>new r(s,o.response,await CR(s,o),o.options))}async*[Symbol.asyncIterator](){const t=await this;for await(const n of t)yield n}}class xx extends Iw{constructor(t,n,r,s){super(t,n,r,s),this.data=r.data||[],this.object=r.object}getPaginatedItems(){return this.data??[]}nextPageRequestOptions(){return null}}class Yn extends Iw{constructor(t,n,r,s){super(t,n,r,s),this.data=r.data||[],this.has_more=r.has_more||!1}getPaginatedItems(){return this.data??[]}hasNextPage(){return this.has_more===!1?!1:super.hasNextPage()}nextPageRequestOptions(){var r;const t=this.getPaginatedItems(),n=(r=t[t.length-1])==null?void 0:r.id;return n?{...this.options,query:{...yR(this.options.query),after:n}}:null}}class wg extends Iw{constructor(t,n,r,s){super(t,n,r,s),this.data=r.data||[],this.has_more=r.has_more||!1,this.last_id=r.last_id||""}getPaginatedItems(){return this.data??[]}hasNextPage(){return this.has_more===!1?!1:super.hasNextPage()}nextPageRequestOptions(){const t=this.last_id;return t?{...this.options,query:{...yR(this.options.query),after:t}}:null}}const PR=()=>{var e;if(typeof File>"u"){const{process:t}=globalThis,n=typeof((e=t==null?void 0:t.versions)==null?void 0:e.node)=="string"&&parseInt(t.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(n?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function Ff(e,t,n){return PR(),new File(e,t??"unknown_file",n)}function Dm(e){return(typeof e=="object"&&e!==null&&("name"in e&&e.name&&String(e.name)||"url"in e&&e.url&&String(e.url)||"filename"in e&&e.filename&&String(e.filename)||"path"in e&&e.path&&String(e.path))||"").split(/[\\/]/).pop()||void 0}const Mw=e=>e!=null&&typeof e=="object"&&typeof e[Symbol.asyncIterator]=="function",Uk=async(e,t)=>tb(e.body)?{...e,body:await AR(e.body,t)}:e,wc=async(e,t)=>({...e,body:await AR(e.body,t)}),Vk=new WeakMap;function B7(e){const t=typeof e=="function"?e:e.fetch,n=Vk.get(t);if(n)return n;const r=(async()=>{try{const s="Response"in t?t.Response:(await t("data:,")).constructor,o=new FormData;return o.toString()!==await new s(o).text()}catch{return!0}})();return Vk.set(t,r),r}const AR=async(e,t)=>{if(!await B7(t))throw new TypeError("The provided fetch function does not support file uploads with the current global FormData class.");const n=new FormData;return await Promise.all(Object.entries(e||{}).map(([r,s])=>nb(n,r,s))),n},TR=e=>e instanceof Blob&&"name"in e,z7=e=>typeof e=="object"&&e!==null&&(e instanceof Response||Mw(e)||TR(e)),tb=e=>{if(z7(e))return!0;if(Array.isArray(e))return e.some(tb);if(e&&typeof e=="object"){for(const t in e)if(tb(e[t]))return!0}return!1},nb=async(e,t,n)=>{if(n!==void 0){if(n==null)throw new TypeError(`Received null for "${t}"; to pass null in FormData, you must use the string 'null'`);if(typeof n=="string"||typeof n=="number"||typeof n=="boolean")e.append(t,String(n));else if(n instanceof Response)e.append(t,Ff([await n.blob()],Dm(n)));else if(Mw(n))e.append(t,Ff([await new Response(bR(n)).blob()],Dm(n)));else if(TR(n))e.append(t,n,Dm(n));else if(Array.isArray(n))await Promise.all(n.map(r=>nb(e,t+"[]",r)));else if(typeof n=="object")await Promise.all(Object.entries(n).map(([r,s])=>nb(e,`${t}[${r}]`,s)));else throw new TypeError(`Invalid value given to form, expected a string, number, boolean, object, Array, File or Blob but got ${n} instead`)}},RR=e=>e!=null&&typeof e=="object"&&typeof e.size=="number"&&typeof e.type=="string"&&typeof e.text=="function"&&typeof e.slice=="function"&&typeof e.arrayBuffer=="function",U7=e=>e!=null&&typeof e=="object"&&typeof e.name=="string"&&typeof e.lastModified=="number"&&RR(e),V7=e=>e!=null&&typeof e=="object"&&typeof e.url=="string"&&typeof e.blob=="function";async function W7(e,t,n){if(PR(),e=await e,U7(e))return e instanceof File?e:Ff([await e.arrayBuffer()],e.name);if(V7(e)){const s=await e.blob();return t||(t=new URL(e.url).pathname.split(/[\\/]/).pop()),Ff(await rb(s),t,n)}const r=await rb(e);if(t||(t=Dm(e)),!(n!=null&&n.type)){const s=r.find(o=>typeof o=="object"&&"type"in o&&o.type);typeof s=="string"&&(n={...n,type:s})}return Ff(r,t,n)}async function rb(e){var n;let t=[];if(typeof e=="string"||ArrayBuffer.isView(e)||e instanceof ArrayBuffer)t.push(e);else if(RR(e))t.push(e instanceof Blob?e:await e.arrayBuffer());else if(Mw(e))for await(const r of e)t.push(...await rb(r));else{const r=(n=e==null?void 0:e.constructor)==null?void 0:n.name;throw new Error(`Unexpected data type: ${typeof e}${r?`; constructor: ${r}`:""}${q7(e)}`)}return t}function q7(e){return typeof e!="object"||e===null?"":`; props: [${Object.getOwnPropertyNames(e).map(n=>`"${n}"`).join(", ")}]`}class pt{constructor(t){this._client=t}}function IR(e){return e.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const Wk=Object.freeze(Object.create(null)),H7=(e=IR)=>function(n,...r){if(n.length===1)return n[0];let s=!1;const o=[],l=n.reduce((p,m,x)=>{var N;/[?#]/.test(m)&&(s=!0);const v=r[x];let S=(s?encodeURIComponent:e)(""+v);return x!==r.length&&(v==null||typeof v=="object"&&v.toString===((N=Object.getPrototypeOf(Object.getPrototypeOf(v.hasOwnProperty??Wk)??Wk))==null?void 0:N.toString))&&(S=v+"",o.push({start:p.length+m.length,length:S.length,error:`Value of type ${Object.prototype.toString.call(v).slice(8,-1)} is not a valid path parameter`})),p+m+(x===r.length?"":S)},""),u=l.split(/[?#]/,1)[0],d=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let f;for(;(f=d.exec(u))!==null;)o.push({start:f.index,length:f[0].length,error:`Value "${f[0]}" can't be safely passed as a path parameter`});if(o.sort((p,m)=>p.start-m.start),o.length>0){let p=0;const m=o.reduce((x,v)=>{const S=" ".repeat(v.start-p),N="^".repeat(v.length);return p=v.start+v.length,x+S+N},"");throw new xt(`Path parameters result in path with invalid segments:
${o.map(x=>x.error).join(`
`)}
${l}
${m}`)}return l},ze=H7(IR);let MR=class extends pt{list(t,n={},r){return this._client.getAPIList(ze`/chat/completions/${t}/messages`,Yn,{query:n,...r})}};function jg(e){return e!==void 0&&"function"in e&&e.function!==void 0}function Ow(e){return(e==null?void 0:e.$brand)==="auto-parseable-response-format"}function Th(e){return(e==null?void 0:e.$brand)==="auto-parseable-tool"}function K7(e,t){return!t||!OR(t)?{...e,choices:e.choices.map(n=>(DR(n.message.tool_calls),{...n,message:{...n.message,parsed:null,...n.message.tool_calls?{tool_calls:n.message.tool_calls}:void 0}}))}:Dw(e,t)}function Dw(e,t){const n=e.choices.map(r=>{var s;if(r.finish_reason==="length")throw new gR;if(r.finish_reason==="content_filter")throw new xR;return DR(r.message.tool_calls),{...r,message:{...r.message,...r.message.tool_calls?{tool_calls:((s=r.message.tool_calls)==null?void 0:s.map(o=>Y7(t,o)))??void 0}:void 0,parsed:r.message.content&&!r.message.refusal?G7(t,r.message.content):null}}});return{...e,choices:n}}function G7(e,t){var n,r;return((n=e.response_format)==null?void 0:n.type)!=="json_schema"?null:((r=e.response_format)==null?void 0:r.type)==="json_schema"?"$parseRaw"in e.response_format?e.response_format.$parseRaw(t):JSON.parse(t):null}function Y7(e,t){var r;const n=(r=e.tools)==null?void 0:r.find(s=>{var o;return jg(s)&&((o=s.function)==null?void 0:o.name)===t.function.name});return{...t,function:{...t.function,parsed_arguments:Th(n)?n.$parseRaw(t.function.arguments):n!=null&&n.function.strict?JSON.parse(t.function.arguments):null}}}function Q7(e,t){var r;if(!e||!("tools"in e)||!e.tools)return!1;const n=(r=e.tools)==null?void 0:r.find(s=>{var o;return jg(s)&&((o=s.function)==null?void 0:o.name)===t.function.name});return jg(n)&&(Th(n)||(n==null?void 0:n.function.strict)||!1)}function OR(e){var t;return Ow(e.response_format)?!0:((t=e.tools)==null?void 0:t.some(n=>Th(n)||n.type==="function"&&n.function.strict===!0))??!1}function DR(e){for(const t of e||[])if(t.type!=="function")throw new xt(`Currently only \`function\` tool calls are supported; Received \`${t.type}\``)}function X7(e){for(const t of e??[]){if(t.type!=="function")throw new xt(`Currently only \`function\` tool types support auto-parsing; Received \`${t.type}\``);if(t.function.strict!==!0)throw new xt(`The \`${t.function.name}\` tool is not marked with \`strict: true\`. Only strict function tools can be auto-parsed`)}}const Ng=e=>(e==null?void 0:e.role)==="assistant",LR=e=>(e==null?void 0:e.role)==="tool";var sb,Lm,Fm,kf,_f,$m,Cf,Ra,Ef,Sg,kg,Nu,FR;class Lw{constructor(){sb.add(this),this.controller=new AbortController,Lm.set(this,void 0),Fm.set(this,()=>{}),kf.set(this,()=>{}),_f.set(this,void 0),$m.set(this,()=>{}),Cf.set(this,()=>{}),Ra.set(this,{}),Ef.set(this,!1),Sg.set(this,!1),kg.set(this,!1),Nu.set(this,!1),St(this,Lm,new Promise((t,n)=>{St(this,Fm,t,"f"),St(this,kf,n,"f")})),St(this,_f,new Promise((t,n)=>{St(this,$m,t,"f"),St(this,Cf,n,"f")})),we(this,Lm,"f").catch(()=>{}),we(this,_f,"f").catch(()=>{})}_run(t){setTimeout(()=>{t().then(()=>{this._emitFinal(),this._emit("end")},we(this,sb,"m",FR).bind(this))},0)}_connected(){this.ended||(we(this,Fm,"f").call(this),this._emit("connect"))}get ended(){return we(this,Ef,"f")}get errored(){return we(this,Sg,"f")}get aborted(){return we(this,kg,"f")}abort(){this.controller.abort()}on(t,n){return(we(this,Ra,"f")[t]||(we(this,Ra,"f")[t]=[])).push({listener:n}),this}off(t,n){const r=we(this,Ra,"f")[t];if(!r)return this;const s=r.findIndex(o=>o.listener===n);return s>=0&&r.splice(s,1),this}once(t,n){return(we(this,Ra,"f")[t]||(we(this,Ra,"f")[t]=[])).push({listener:n,once:!0}),this}emitted(t){return new Promise((n,r)=>{St(this,Nu,!0),t!=="error"&&this.once("error",r),this.once(t,n)})}async done(){St(this,Nu,!0),await we(this,_f,"f")}_emit(t,...n){if(we(this,Ef,"f"))return;t==="end"&&(St(this,Ef,!0),we(this,$m,"f").call(this));const r=we(this,Ra,"f")[t];if(r&&(we(this,Ra,"f")[t]=r.filter(s=>!s.once),r.forEach(({listener:s})=>s(...n))),t==="abort"){const s=n[0];!we(this,Nu,"f")&&!(r!=null&&r.length)&&Promise.reject(s),we(this,kf,"f").call(this,s),we(this,Cf,"f").call(this,s),this._emit("end");return}if(t==="error"){const s=n[0];!we(this,Nu,"f")&&!(r!=null&&r.length)&&Promise.reject(s),we(this,kf,"f").call(this,s),we(this,Cf,"f").call(this,s),this._emit("end")}}_emitFinal(){}}Lm=new WeakMap,Fm=new WeakMap,kf=new WeakMap,_f=new WeakMap,$m=new WeakMap,Cf=new WeakMap,Ra=new WeakMap,Ef=new WeakMap,Sg=new WeakMap,kg=new WeakMap,Nu=new WeakMap,sb=new WeakSet,FR=function(t){if(St(this,Sg,!0),t instanceof Error&&t.name==="AbortError"&&(t=new Vs),t instanceof Vs)return St(this,kg,!0),this._emit("abort",t);if(t instanceof xt)return this._emit("error",t);if(t instanceof Error){const n=new xt(t.message);return n.cause=t,this._emit("error",n)}return this._emit("error",new xt(String(t)))};function J7(e){return typeof e.parse=="function"}var Wr,ib,_g,ab,ob,lb,$R,BR;const Z7=10;class zR extends Lw{constructor(){super(...arguments),Wr.add(this),this._chatCompletions=[],this.messages=[]}_addChatCompletion(t){var r;this._chatCompletions.push(t),this._emit("chatCompletion",t);const n=(r=t.choices[0])==null?void 0:r.message;return n&&this._addMessage(n),t}_addMessage(t,n=!0){if("content"in t||(t.content=null),this.messages.push(t),n){if(this._emit("message",t),LR(t)&&t.content)this._emit("functionToolCallResult",t.content);else if(Ng(t)&&t.tool_calls)for(const r of t.tool_calls)r.type==="function"&&this._emit("functionToolCall",r.function)}}async finalChatCompletion(){await this.done();const t=this._chatCompletions[this._chatCompletions.length-1];if(!t)throw new xt("stream ended without producing a ChatCompletion");return t}async finalContent(){return await this.done(),we(this,Wr,"m",ib).call(this)}async finalMessage(){return await this.done(),we(this,Wr,"m",_g).call(this)}async finalFunctionToolCall(){return await this.done(),we(this,Wr,"m",ab).call(this)}async finalFunctionToolCallResult(){return await this.done(),we(this,Wr,"m",ob).call(this)}async totalUsage(){return await this.done(),we(this,Wr,"m",lb).call(this)}allChatCompletions(){return[...this._chatCompletions]}_emitFinal(){const t=this._chatCompletions[this._chatCompletions.length-1];t&&this._emit("finalChatCompletion",t);const n=we(this,Wr,"m",_g).call(this);n&&this._emit("finalMessage",n);const r=we(this,Wr,"m",ib).call(this);r&&this._emit("finalContent",r);const s=we(this,Wr,"m",ab).call(this);s&&this._emit("finalFunctionToolCall",s);const o=we(this,Wr,"m",ob).call(this);o!=null&&this._emit("finalFunctionToolCallResult",o),this._chatCompletions.some(l=>l.usage)&&this._emit("totalUsage",we(this,Wr,"m",lb).call(this))}async _createChatCompletion(t,n,r){const s=r==null?void 0:r.signal;s&&(s.aborted&&this.controller.abort(),s.addEventListener("abort",()=>this.controller.abort())),we(this,Wr,"m",$R).call(this,n);const o=await t.chat.completions.create({...n,stream:!1},{...r,signal:this.controller.signal});return this._connected(),this._addChatCompletion(Dw(o,n))}async _runChatCompletion(t,n,r){for(const s of n.messages)this._addMessage(s,!1);return await this._createChatCompletion(t,n,r)}async _runTools(t,n,r){var v,S,N;const s="tool",{tool_choice:o="auto",stream:l,...u}=n,d=typeof o!="string"&&o.type==="function"&&((v=o==null?void 0:o.function)==null?void 0:v.name),{maxChatCompletions:f=Z7}=r||{},p=n.tools.map(_=>{if(Th(_)){if(!_.$callback)throw new xt("Tool given to `.runTools()` that does not have an associated function");return{type:"function",function:{function:_.$callback,name:_.function.name,description:_.function.description||"",parameters:_.function.parameters,parse:_.$parseRaw,strict:!0}}}return _}),m={};for(const _ of p)_.type==="function"&&(m[_.function.name||_.function.function.name]=_.function);const x="tools"in n?p.map(_=>_.type==="function"?{type:"function",function:{name:_.function.name||_.function.function.name,parameters:_.function.parameters,description:_.function.description,strict:_.function.strict}}:_):void 0;for(const _ of n.messages)this._addMessage(_,!1);for(let _=0;_<f;++_){const T=(S=(await this._createChatCompletion(t,{...u,tool_choice:o,tools:x,messages:[...this.messages]},r)).choices[0])==null?void 0:S.message;if(!T)throw new xt("missing message in ChatCompletion response");if(!((N=T.tool_calls)!=null&&N.length))return;for(const I of T.tool_calls){if(I.type!=="function")continue;const L=I.id,{name:z,arguments:$}=I.function,V=m[z];if(V){if(d&&d!==z){const H=`Invalid tool_call: ${JSON.stringify(z)}. ${JSON.stringify(d)} requested. Please try again`;this._addMessage({role:s,tool_call_id:L,content:H});continue}}else{const H=`Invalid tool_call: ${JSON.stringify(z)}. Available options are: ${Object.keys(m).map(ee=>JSON.stringify(ee)).join(", ")}. Please try again`;this._addMessage({role:s,tool_call_id:L,content:H});continue}let W;try{W=J7(V)?await V.parse($):$}catch(H){const ee=H instanceof Error?H.message:String(H);this._addMessage({role:s,tool_call_id:L,content:ee});continue}const F=await V.function(W,this),Y=we(this,Wr,"m",BR).call(this,F);if(this._addMessage({role:s,tool_call_id:L,content:Y}),d)return}}}}Wr=new WeakSet,ib=function(){return we(this,Wr,"m",_g).call(this).content??null},_g=function(){let t=this.messages.length;for(;t-- >0;){const n=this.messages[t];if(Ng(n))return{...n,content:n.content??null,refusal:n.refusal??null}}throw new xt("stream ended without producing a ChatCompletionMessage with role=assistant")},ab=function(){var t,n;for(let r=this.messages.length-1;r>=0;r--){const s=this.messages[r];if(Ng(s)&&((t=s==null?void 0:s.tool_calls)!=null&&t.length))return(n=s.tool_calls.filter(o=>o.type==="function").at(-1))==null?void 0:n.function}},ob=function(){for(let t=this.messages.length-1;t>=0;t--){const n=this.messages[t];if(LR(n)&&n.content!=null&&typeof n.content=="string"&&this.messages.some(r=>{var s;return r.role==="assistant"&&((s=r.tool_calls)==null?void 0:s.some(o=>o.type==="function"&&o.id===n.tool_call_id))}))return n.content}},lb=function(){const t={completion_tokens:0,prompt_tokens:0,total_tokens:0};for(const{usage:n}of this._chatCompletions)n&&(t.completion_tokens+=n.completion_tokens,t.prompt_tokens+=n.prompt_tokens,t.total_tokens+=n.total_tokens);return t},$R=function(t){if(t.n!=null&&t.n>1)throw new xt("ChatCompletion convenience helpers only support n=1 at this time. To use n>1, please use chat.completions.create() directly.")},BR=function(t){return typeof t=="string"?t:t===void 0?"undefined":JSON.stringify(t)};class Fw extends zR{static runTools(t,n,r){const s=new Fw,o={...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"runTools"}};return s._run(()=>s._runTools(t,n,o)),s}_addMessage(t,n=!0){super._addMessage(t,n),Ng(t)&&t.content&&this._emit("content",t.content)}}const UR=1,VR=2,WR=4,qR=8,HR=16,KR=32,GR=64,YR=128,QR=256,XR=YR|QR,JR=HR|KR|XR|GR,ZR=UR|VR|JR,eI=WR|qR,eW=ZR|eI,ur={STR:UR,NUM:VR,ARR:WR,OBJ:qR,NULL:HR,BOOL:KR,NAN:GR,INFINITY:YR,MINUS_INFINITY:QR,INF:XR,SPECIAL:JR,ATOM:ZR,COLLECTION:eI,ALL:eW};class tW extends Error{}class nW extends Error{}function rW(e,t=ur.ALL){if(typeof e!="string")throw new TypeError(`expecting str, got ${typeof e}`);if(!e.trim())throw new Error(`${e} is empty`);return sW(e.trim(),t)}const sW=(e,t)=>{const n=e.length;let r=0;const s=x=>{throw new tW(`${x} at position ${r}`)},o=x=>{throw new nW(`${x} at position ${r}`)},l=()=>(m(),r>=n&&s("Unexpected end of input"),e[r]==='"'?u():e[r]==="{"?d():e[r]==="["?f():e.substring(r,r+4)==="null"||ur.NULL&t&&n-r<4&&"null".startsWith(e.substring(r))?(r+=4,null):e.substring(r,r+4)==="true"||ur.BOOL&t&&n-r<4&&"true".startsWith(e.substring(r))?(r+=4,!0):e.substring(r,r+5)==="false"||ur.BOOL&t&&n-r<5&&"false".startsWith(e.substring(r))?(r+=5,!1):e.substring(r,r+8)==="Infinity"||ur.INFINITY&t&&n-r<8&&"Infinity".startsWith(e.substring(r))?(r+=8,1/0):e.substring(r,r+9)==="-Infinity"||ur.MINUS_INFINITY&t&&1<n-r&&n-r<9&&"-Infinity".startsWith(e.substring(r))?(r+=9,-1/0):e.substring(r,r+3)==="NaN"||ur.NAN&t&&n-r<3&&"NaN".startsWith(e.substring(r))?(r+=3,NaN):p()),u=()=>{const x=r;let v=!1;for(r++;r<n&&(e[r]!=='"'||v&&e[r-1]==="\\");)v=e[r]==="\\"?!v:!1,r++;if(e.charAt(r)=='"')try{return JSON.parse(e.substring(x,++r-Number(v)))}catch(S){o(String(S))}else if(ur.STR&t)try{return JSON.parse(e.substring(x,r-Number(v))+'"')}catch{return JSON.parse(e.substring(x,e.lastIndexOf("\\"))+'"')}s("Unterminated string literal")},d=()=>{r++,m();const x={};try{for(;e[r]!=="}";){if(m(),r>=n&&ur.OBJ&t)return x;const v=u();m(),r++;try{const S=l();Object.defineProperty(x,v,{value:S,writable:!0,enumerable:!0,configurable:!0})}catch(S){if(ur.OBJ&t)return x;throw S}m(),e[r]===","&&r++}}catch{if(ur.OBJ&t)return x;s("Expected '}' at end of object")}return r++,x},f=()=>{r++;const x=[];try{for(;e[r]!=="]";)x.push(l()),m(),e[r]===","&&r++}catch{if(ur.ARR&t)return x;s("Expected ']' at end of array")}return r++,x},p=()=>{if(r===0){e==="-"&&ur.NUM&t&&s("Not sure what '-' is");try{return JSON.parse(e)}catch(v){if(ur.NUM&t)try{return e[e.length-1]==="."?JSON.parse(e.substring(0,e.lastIndexOf("."))):JSON.parse(e.substring(0,e.lastIndexOf("e")))}catch{}o(String(v))}}const x=r;for(e[r]==="-"&&r++;e[r]&&!",]}".includes(e[r]);)r++;r==n&&!(ur.NUM&t)&&s("Unterminated number literal");try{return JSON.parse(e.substring(x,r))}catch{e.substring(x,r)==="-"&&ur.NUM&t&&s("Not sure what '-' is");try{return JSON.parse(e.substring(x,e.lastIndexOf("e")))}catch(S){o(String(S))}}},m=()=>{for(;r<n&&` 
\r	`.includes(e[r]);)r++};return l()},qk=e=>rW(e,ur.ALL^ur.NUM);var er,Pa,mu,ko,Ty,hm,Ry,Iy,My,pm,Oy,Hk;class ih extends zR{constructor(t){super(),er.add(this),Pa.set(this,void 0),mu.set(this,void 0),ko.set(this,void 0),St(this,Pa,t),St(this,mu,[])}get currentChatCompletionSnapshot(){return we(this,ko,"f")}static fromReadableStream(t){const n=new ih(null);return n._run(()=>n._fromReadableStream(t)),n}static createChatCompletion(t,n,r){const s=new ih(n);return s._run(()=>s._runChatCompletion(t,{...n,stream:!0},{...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"stream"}})),s}async _createChatCompletion(t,n,r){var l;super._createChatCompletion;const s=r==null?void 0:r.signal;s&&(s.aborted&&this.controller.abort(),s.addEventListener("abort",()=>this.controller.abort())),we(this,er,"m",Ty).call(this);const o=await t.chat.completions.create({...n,stream:!0},{...r,signal:this.controller.signal});this._connected();for await(const u of o)we(this,er,"m",Ry).call(this,u);if((l=o.controller.signal)!=null&&l.aborted)throw new Vs;return this._addChatCompletion(we(this,er,"m",pm).call(this))}async _fromReadableStream(t,n){var l;const r=n==null?void 0:n.signal;r&&(r.aborted&&this.controller.abort(),r.addEventListener("abort",()=>this.controller.abort())),we(this,er,"m",Ty).call(this),this._connected();const s=qi.fromReadableStream(t,this.controller);let o;for await(const u of s)o&&o!==u.id&&this._addChatCompletion(we(this,er,"m",pm).call(this)),we(this,er,"m",Ry).call(this,u),o=u.id;if((l=s.controller.signal)!=null&&l.aborted)throw new Vs;return this._addChatCompletion(we(this,er,"m",pm).call(this))}[(Pa=new WeakMap,mu=new WeakMap,ko=new WeakMap,er=new WeakSet,Ty=function(){this.ended||St(this,ko,void 0)},hm=function(n){let r=we(this,mu,"f")[n.index];return r||(r={content_done:!1,refusal_done:!1,logprobs_content_done:!1,logprobs_refusal_done:!1,done_tool_calls:new Set,current_tool_call_index:null},we(this,mu,"f")[n.index]=r,r)},Ry=function(n){var s,o,l,u,d,f,p,m,x,v,S,N,_,P,T;if(this.ended)return;const r=we(this,er,"m",Hk).call(this,n);this._emit("chunk",n,r);for(const I of n.choices){const L=r.choices[I.index];I.delta.content!=null&&((s=L.message)==null?void 0:s.role)==="assistant"&&((o=L.message)!=null&&o.content)&&(this._emit("content",I.delta.content,L.message.content),this._emit("content.delta",{delta:I.delta.content,snapshot:L.message.content,parsed:L.message.parsed})),I.delta.refusal!=null&&((l=L.message)==null?void 0:l.role)==="assistant"&&((u=L.message)!=null&&u.refusal)&&this._emit("refusal.delta",{delta:I.delta.refusal,snapshot:L.message.refusal}),((d=I.logprobs)==null?void 0:d.content)!=null&&((f=L.message)==null?void 0:f.role)==="assistant"&&this._emit("logprobs.content.delta",{content:(p=I.logprobs)==null?void 0:p.content,snapshot:((m=L.logprobs)==null?void 0:m.content)??[]}),((x=I.logprobs)==null?void 0:x.refusal)!=null&&((v=L.message)==null?void 0:v.role)==="assistant"&&this._emit("logprobs.refusal.delta",{refusal:(S=I.logprobs)==null?void 0:S.refusal,snapshot:((N=L.logprobs)==null?void 0:N.refusal)??[]});const z=we(this,er,"m",hm).call(this,L);L.finish_reason&&(we(this,er,"m",My).call(this,L),z.current_tool_call_index!=null&&we(this,er,"m",Iy).call(this,L,z.current_tool_call_index));for(const $ of I.delta.tool_calls??[])z.current_tool_call_index!==$.index&&(we(this,er,"m",My).call(this,L),z.current_tool_call_index!=null&&we(this,er,"m",Iy).call(this,L,z.current_tool_call_index)),z.current_tool_call_index=$.index;for(const $ of I.delta.tool_calls??[]){const V=(_=L.message.tool_calls)==null?void 0:_[$.index];V!=null&&V.type&&((V==null?void 0:V.type)==="function"?this._emit("tool_calls.function.arguments.delta",{name:(P=V.function)==null?void 0:P.name,index:$.index,arguments:V.function.arguments,parsed_arguments:V.function.parsed_arguments,arguments_delta:((T=$.function)==null?void 0:T.arguments)??""}):(V==null||V.type,void 0))}}},Iy=function(n,r){var l,u,d;if(we(this,er,"m",hm).call(this,n).done_tool_calls.has(r))return;const o=(l=n.message.tool_calls)==null?void 0:l[r];if(!o)throw new Error("no tool call snapshot");if(!o.type)throw new Error("tool call snapshot missing `type`");if(o.type==="function"){const f=(d=(u=we(this,Pa,"f"))==null?void 0:u.tools)==null?void 0:d.find(p=>jg(p)&&p.function.name===o.function.name);this._emit("tool_calls.function.arguments.done",{name:o.function.name,index:r,arguments:o.function.arguments,parsed_arguments:Th(f)?f.$parseRaw(o.function.arguments):f!=null&&f.function.strict?JSON.parse(o.function.arguments):null})}else o.type},My=function(n){var s,o;const r=we(this,er,"m",hm).call(this,n);if(n.message.content&&!r.content_done){r.content_done=!0;const l=we(this,er,"m",Oy).call(this);this._emit("content.done",{content:n.message.content,parsed:l?l.$parseRaw(n.message.content):null})}n.message.refusal&&!r.refusal_done&&(r.refusal_done=!0,this._emit("refusal.done",{refusal:n.message.refusal})),(s=n.logprobs)!=null&&s.content&&!r.logprobs_content_done&&(r.logprobs_content_done=!0,this._emit("logprobs.content.done",{content:n.logprobs.content})),(o=n.logprobs)!=null&&o.refusal&&!r.logprobs_refusal_done&&(r.logprobs_refusal_done=!0,this._emit("logprobs.refusal.done",{refusal:n.logprobs.refusal}))},pm=function(){if(this.ended)throw new xt("stream has ended, this shouldn't happen");const n=we(this,ko,"f");if(!n)throw new xt("request ended without sending any chunks");return St(this,ko,void 0),St(this,mu,[]),iW(n,we(this,Pa,"f"))},Oy=function(){var r;const n=(r=we(this,Pa,"f"))==null?void 0:r.response_format;return Ow(n)?n:null},Hk=function(n){var r,s,o,l;let u=we(this,ko,"f");const{choices:d,...f}=n;u?Object.assign(u,f):u=St(this,ko,{...f,choices:[]});for(const{delta:p,finish_reason:m,index:x,logprobs:v=null,...S}of n.choices){let N=u.choices[x];if(N||(N=u.choices[x]={finish_reason:m,index:x,message:{},logprobs:v,...S}),v)if(!N.logprobs)N.logprobs=Object.assign({},v);else{const{content:$,refusal:V,...W}=v;Object.assign(N.logprobs,W),$&&((r=N.logprobs).content??(r.content=[]),N.logprobs.content.push(...$)),V&&((s=N.logprobs).refusal??(s.refusal=[]),N.logprobs.refusal.push(...V))}if(m&&(N.finish_reason=m,we(this,Pa,"f")&&OR(we(this,Pa,"f")))){if(m==="length")throw new gR;if(m==="content_filter")throw new xR}if(Object.assign(N,S),!p)continue;const{content:_,refusal:P,function_call:T,role:I,tool_calls:L,...z}=p;if(Object.assign(N.message,z),P&&(N.message.refusal=(N.message.refusal||"")+P),I&&(N.message.role=I),T&&(N.message.function_call?(T.name&&(N.message.function_call.name=T.name),T.arguments&&((o=N.message.function_call).arguments??(o.arguments=""),N.message.function_call.arguments+=T.arguments)):N.message.function_call=T),_&&(N.message.content=(N.message.content||"")+_,!N.message.refusal&&we(this,er,"m",Oy).call(this)&&(N.message.parsed=qk(N.message.content))),L){N.message.tool_calls||(N.message.tool_calls=[]);for(const{index:$,id:V,type:W,function:F,...Y}of L){const H=(l=N.message.tool_calls)[$]??(l[$]={});Object.assign(H,Y),V&&(H.id=V),W&&(H.type=W),F&&(H.function??(H.function={name:F.name??"",arguments:""})),F!=null&&F.name&&(H.function.name=F.name),F!=null&&F.arguments&&(H.function.arguments+=F.arguments,Q7(we(this,Pa,"f"),H)&&(H.function.parsed_arguments=qk(H.function.arguments)))}}}return u},Symbol.asyncIterator)](){const t=[],n=[];let r=!1;return this.on("chunk",s=>{const o=n.shift();o?o.resolve(s):t.push(s)}),this.on("end",()=>{r=!0;for(const s of n)s.resolve(void 0);n.length=0}),this.on("abort",s=>{r=!0;for(const o of n)o.reject(s);n.length=0}),this.on("error",s=>{r=!0;for(const o of n)o.reject(s);n.length=0}),{next:async()=>t.length?{value:t.shift(),done:!1}:r?{value:void 0,done:!0}:new Promise((o,l)=>n.push({resolve:o,reject:l})).then(o=>o?{value:o,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}toReadableStream(){return new qi(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}}function iW(e,t){const{id:n,choices:r,created:s,model:o,system_fingerprint:l,...u}=e,d={...u,id:n,choices:r.map(({message:f,finish_reason:p,index:m,logprobs:x,...v})=>{if(!p)throw new xt(`missing finish_reason for choice ${m}`);const{content:S=null,function_call:N,tool_calls:_,...P}=f,T=f.role;if(!T)throw new xt(`missing role for choice ${m}`);if(N){const{arguments:I,name:L}=N;if(I==null)throw new xt(`missing function_call.arguments for choice ${m}`);if(!L)throw new xt(`missing function_call.name for choice ${m}`);return{...v,message:{content:S,function_call:{arguments:I,name:L},role:T,refusal:f.refusal??null},finish_reason:p,index:m,logprobs:x}}return _?{...v,index:m,finish_reason:p,logprobs:x,message:{...P,role:T,content:S,refusal:f.refusal??null,tool_calls:_.map((I,L)=>{const{function:z,type:$,id:V,...W}=I,{arguments:F,name:Y,...H}=z||{};if(V==null)throw new xt(`missing choices[${m}].tool_calls[${L}].id
${mm(e)}`);if($==null)throw new xt(`missing choices[${m}].tool_calls[${L}].type
${mm(e)}`);if(Y==null)throw new xt(`missing choices[${m}].tool_calls[${L}].function.name
${mm(e)}`);if(F==null)throw new xt(`missing choices[${m}].tool_calls[${L}].function.arguments
${mm(e)}`);return{...W,id:V,type:$,function:{...H,name:Y,arguments:F}}})}}:{...v,message:{...P,content:S,role:T,refusal:f.refusal??null},finish_reason:p,index:m,logprobs:x}}),created:s,model:o,object:"chat.completion",...l?{system_fingerprint:l}:{}};return K7(d,t)}function mm(e){return JSON.stringify(e)}class Cg extends ih{static fromReadableStream(t){const n=new Cg(null);return n._run(()=>n._fromReadableStream(t)),n}static runTools(t,n,r){const s=new Cg(n),o={...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"runTools"}};return s._run(()=>s._runTools(t,n,o)),s}}let $w=class extends pt{constructor(){super(...arguments),this.messages=new MR(this._client)}create(t,n){return this._client.post("/chat/completions",{body:t,...n,stream:t.stream??!1})}retrieve(t,n){return this._client.get(ze`/chat/completions/${t}`,n)}update(t,n,r){return this._client.post(ze`/chat/completions/${t}`,{body:n,...r})}list(t={},n){return this._client.getAPIList("/chat/completions",Yn,{query:t,...n})}delete(t,n){return this._client.delete(ze`/chat/completions/${t}`,n)}parse(t,n){return X7(t.tools),this._client.chat.completions.create(t,{...n,headers:{...n==null?void 0:n.headers,"X-Stainless-Helper-Method":"chat.completions.parse"}})._thenUnwrap(r=>Dw(r,t))}runTools(t,n){return t.stream?Cg.runTools(this._client,t,n):Fw.runTools(this._client,t,n)}stream(t,n){return ih.createChatCompletion(this._client,t,n)}};$w.Messages=MR;class Bw extends pt{constructor(){super(...arguments),this.completions=new $w(this._client)}}Bw.Completions=$w;const tI=Symbol("brand.privateNullableHeaders");function*aW(e){if(!e)return;if(tI in e){const{values:r,nulls:s}=e;yield*r.entries();for(const o of s)yield[o,null];return}let t=!1,n;e instanceof Headers?n=e.entries():Ak(e)?n=e:(t=!0,n=Object.entries(e??{}));for(let r of n){const s=r[0];if(typeof s!="string")throw new TypeError("expected header name to be a string");const o=Ak(r[1])?r[1]:[r[1]];let l=!1;for(const u of o)u!==void 0&&(t&&!l&&(l=!0,yield[s,null]),yield[s,u])}}const ot=e=>{const t=new Headers,n=new Set;for(const r of e){const s=new Set;for(const[o,l]of aW(r)){const u=o.toLowerCase();s.has(u)||(t.delete(o),s.add(u)),l===null?(t.delete(o),n.add(u)):(t.append(o,l),n.delete(u))}}return{[tI]:!0,values:t,nulls:n}};class nI extends pt{create(t,n){return this._client.post("/audio/speech",{body:t,...n,headers:ot([{Accept:"application/octet-stream"},n==null?void 0:n.headers]),__binaryResponse:!0})}}class rI extends pt{create(t,n){return this._client.post("/audio/transcriptions",wc({body:t,...n,stream:t.stream??!1,__metadata:{model:t.model}},this._client))}}class sI extends pt{create(t,n){return this._client.post("/audio/translations",wc({body:t,...n,__metadata:{model:t.model}},this._client))}}class Rh extends pt{constructor(){super(...arguments),this.transcriptions=new rI(this._client),this.translations=new sI(this._client),this.speech=new nI(this._client)}}Rh.Transcriptions=rI;Rh.Translations=sI;Rh.Speech=nI;class iI extends pt{create(t,n){return this._client.post("/batches",{body:t,...n})}retrieve(t,n){return this._client.get(ze`/batches/${t}`,n)}list(t={},n){return this._client.getAPIList("/batches",Yn,{query:t,...n})}cancel(t,n){return this._client.post(ze`/batches/${t}/cancel`,n)}}class aI extends pt{create(t,n){return this._client.post("/assistants",{body:t,...n,headers:ot([{"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers])})}retrieve(t,n){return this._client.get(ze`/assistants/${t}`,{...n,headers:ot([{"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers])})}update(t,n,r){return this._client.post(ze`/assistants/${t}`,{body:n,...r,headers:ot([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}list(t={},n){return this._client.getAPIList("/assistants",Yn,{query:t,...n,headers:ot([{"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers])})}delete(t,n){return this._client.delete(ze`/assistants/${t}`,{...n,headers:ot([{"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers])})}}let oI=class extends pt{create(t,n){return this._client.post("/realtime/sessions",{body:t,...n,headers:ot([{"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers])})}};class lI extends pt{create(t,n){return this._client.post("/realtime/transcription_sessions",{body:t,...n,headers:ot([{"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers])})}}let yx=class extends pt{constructor(){super(...arguments),this.sessions=new oI(this._client),this.transcriptionSessions=new lI(this._client)}};yx.Sessions=oI;yx.TranscriptionSessions=lI;class cI extends pt{create(t,n){return this._client.post("/chatkit/sessions",{body:t,...n,headers:ot([{"OpenAI-Beta":"chatkit_beta=v1"},n==null?void 0:n.headers])})}cancel(t,n){return this._client.post(ze`/chatkit/sessions/${t}/cancel`,{...n,headers:ot([{"OpenAI-Beta":"chatkit_beta=v1"},n==null?void 0:n.headers])})}}let uI=class extends pt{retrieve(t,n){return this._client.get(ze`/chatkit/threads/${t}`,{...n,headers:ot([{"OpenAI-Beta":"chatkit_beta=v1"},n==null?void 0:n.headers])})}list(t={},n){return this._client.getAPIList("/chatkit/threads",wg,{query:t,...n,headers:ot([{"OpenAI-Beta":"chatkit_beta=v1"},n==null?void 0:n.headers])})}delete(t,n){return this._client.delete(ze`/chatkit/threads/${t}`,{...n,headers:ot([{"OpenAI-Beta":"chatkit_beta=v1"},n==null?void 0:n.headers])})}listItems(t,n={},r){return this._client.getAPIList(ze`/chatkit/threads/${t}/items`,wg,{query:n,...r,headers:ot([{"OpenAI-Beta":"chatkit_beta=v1"},r==null?void 0:r.headers])})}};class vx extends pt{constructor(){super(...arguments),this.sessions=new cI(this._client),this.threads=new uI(this._client)}}vx.Sessions=cI;vx.Threads=uI;class dI extends pt{create(t,n,r){return this._client.post(ze`/threads/${t}/messages`,{body:n,...r,headers:ot([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}retrieve(t,n,r){const{thread_id:s}=n;return this._client.get(ze`/threads/${s}/messages/${t}`,{...r,headers:ot([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}update(t,n,r){const{thread_id:s,...o}=n;return this._client.post(ze`/threads/${s}/messages/${t}`,{body:o,...r,headers:ot([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}list(t,n={},r){return this._client.getAPIList(ze`/threads/${t}/messages`,Yn,{query:n,...r,headers:ot([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}delete(t,n,r){const{thread_id:s}=n;return this._client.delete(ze`/threads/${s}/messages/${t}`,{...r,headers:ot([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}}class fI extends pt{retrieve(t,n,r){const{thread_id:s,run_id:o,...l}=n;return this._client.get(ze`/threads/${s}/runs/${o}/steps/${t}`,{query:l,...r,headers:ot([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}list(t,n,r){const{thread_id:s,...o}=n;return this._client.getAPIList(ze`/threads/${s}/runs/${t}/steps`,Yn,{query:o,...r,headers:ot([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}}const oW=e=>{if(typeof Buffer<"u"){const t=Buffer.from(e,"base64");return Array.from(new Float32Array(t.buffer,t.byteOffset,t.length/Float32Array.BYTES_PER_ELEMENT))}else{const t=atob(e),n=t.length,r=new Uint8Array(n);for(let s=0;s<n;s++)r[s]=t.charCodeAt(s);return Array.from(new Float32Array(r.buffer))}};var Dy={};const gu=e=>{var t,n,r,s;if(typeof globalThis.process<"u")return((t=Dy==null?void 0:Dy[e])==null?void 0:t.trim())??void 0;if(typeof globalThis.Deno<"u")return(s=(r=(n=globalThis.Deno.env)==null?void 0:n.get)==null?void 0:r.call(n,e))==null?void 0:s.trim()};var wr,Ql,cb,Li,Bm,ci,Xl,Eu,Kl,Eg,vs,zm,Um,$f,Pf,Af,Kk,Gk,Yk,Qk,Xk,Jk,Zk;class Bf extends Lw{constructor(){super(...arguments),wr.add(this),cb.set(this,[]),Li.set(this,{}),Bm.set(this,{}),ci.set(this,void 0),Xl.set(this,void 0),Eu.set(this,void 0),Kl.set(this,void 0),Eg.set(this,void 0),vs.set(this,void 0),zm.set(this,void 0),Um.set(this,void 0),$f.set(this,void 0)}[(cb=new WeakMap,Li=new WeakMap,Bm=new WeakMap,ci=new WeakMap,Xl=new WeakMap,Eu=new WeakMap,Kl=new WeakMap,Eg=new WeakMap,vs=new WeakMap,zm=new WeakMap,Um=new WeakMap,$f=new WeakMap,wr=new WeakSet,Symbol.asyncIterator)](){const t=[],n=[];let r=!1;return this.on("event",s=>{const o=n.shift();o?o.resolve(s):t.push(s)}),this.on("end",()=>{r=!0;for(const s of n)s.resolve(void 0);n.length=0}),this.on("abort",s=>{r=!0;for(const o of n)o.reject(s);n.length=0}),this.on("error",s=>{r=!0;for(const o of n)o.reject(s);n.length=0}),{next:async()=>t.length?{value:t.shift(),done:!1}:r?{value:void 0,done:!0}:new Promise((o,l)=>n.push({resolve:o,reject:l})).then(o=>o?{value:o,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}static fromReadableStream(t){const n=new Ql;return n._run(()=>n._fromReadableStream(t)),n}async _fromReadableStream(t,n){var o;const r=n==null?void 0:n.signal;r&&(r.aborted&&this.controller.abort(),r.addEventListener("abort",()=>this.controller.abort())),this._connected();const s=qi.fromReadableStream(t,this.controller);for await(const l of s)we(this,wr,"m",Pf).call(this,l);if((o=s.controller.signal)!=null&&o.aborted)throw new Vs;return this._addRun(we(this,wr,"m",Af).call(this))}toReadableStream(){return new qi(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}static createToolAssistantStream(t,n,r,s){const o=new Ql;return o._run(()=>o._runToolAssistantStream(t,n,r,{...s,headers:{...s==null?void 0:s.headers,"X-Stainless-Helper-Method":"stream"}})),o}async _createToolAssistantStream(t,n,r,s){var d;const o=s==null?void 0:s.signal;o&&(o.aborted&&this.controller.abort(),o.addEventListener("abort",()=>this.controller.abort()));const l={...r,stream:!0},u=await t.submitToolOutputs(n,l,{...s,signal:this.controller.signal});this._connected();for await(const f of u)we(this,wr,"m",Pf).call(this,f);if((d=u.controller.signal)!=null&&d.aborted)throw new Vs;return this._addRun(we(this,wr,"m",Af).call(this))}static createThreadAssistantStream(t,n,r){const s=new Ql;return s._run(()=>s._threadAssistantStream(t,n,{...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"stream"}})),s}static createAssistantStream(t,n,r,s){const o=new Ql;return o._run(()=>o._runAssistantStream(t,n,r,{...s,headers:{...s==null?void 0:s.headers,"X-Stainless-Helper-Method":"stream"}})),o}currentEvent(){return we(this,zm,"f")}currentRun(){return we(this,Um,"f")}currentMessageSnapshot(){return we(this,ci,"f")}currentRunStepSnapshot(){return we(this,$f,"f")}async finalRunSteps(){return await this.done(),Object.values(we(this,Li,"f"))}async finalMessages(){return await this.done(),Object.values(we(this,Bm,"f"))}async finalRun(){if(await this.done(),!we(this,Xl,"f"))throw Error("Final run was not received.");return we(this,Xl,"f")}async _createThreadAssistantStream(t,n,r){var u;const s=r==null?void 0:r.signal;s&&(s.aborted&&this.controller.abort(),s.addEventListener("abort",()=>this.controller.abort()));const o={...n,stream:!0},l=await t.createAndRun(o,{...r,signal:this.controller.signal});this._connected();for await(const d of l)we(this,wr,"m",Pf).call(this,d);if((u=l.controller.signal)!=null&&u.aborted)throw new Vs;return this._addRun(we(this,wr,"m",Af).call(this))}async _createAssistantStream(t,n,r,s){var d;const o=s==null?void 0:s.signal;o&&(o.aborted&&this.controller.abort(),o.addEventListener("abort",()=>this.controller.abort()));const l={...r,stream:!0},u=await t.create(n,l,{...s,signal:this.controller.signal});this._connected();for await(const f of u)we(this,wr,"m",Pf).call(this,f);if((d=u.controller.signal)!=null&&d.aborted)throw new Vs;return this._addRun(we(this,wr,"m",Af).call(this))}static accumulateDelta(t,n){for(const[r,s]of Object.entries(n)){if(!t.hasOwnProperty(r)){t[r]=s;continue}let o=t[r];if(o==null){t[r]=s;continue}if(r==="index"||r==="type"){t[r]=s;continue}if(typeof o=="string"&&typeof s=="string")o+=s;else if(typeof o=="number"&&typeof s=="number")o+=s;else if(Ey(o)&&Ey(s))o=this.accumulateDelta(o,s);else if(Array.isArray(o)&&Array.isArray(s)){if(o.every(l=>typeof l=="string"||typeof l=="number")){o.push(...s);continue}for(const l of s){if(!Ey(l))throw new Error(`Expected array delta entry to be an object but got: ${l}`);const u=l.index;if(u==null)throw console.error(l),new Error("Expected array delta entry to have an `index` property");if(typeof u!="number")throw new Error(`Expected array delta entry \`index\` property to be a number but got ${u}`);const d=o[u];d==null?o.push(l):o[u]=this.accumulateDelta(d,l)}continue}else throw Error(`Unhandled record type: ${r}, deltaValue: ${s}, accValue: ${o}`);t[r]=o}return t}_addRun(t){return t}async _threadAssistantStream(t,n,r){return await this._createThreadAssistantStream(n,t,r)}async _runAssistantStream(t,n,r,s){return await this._createAssistantStream(n,t,r,s)}async _runToolAssistantStream(t,n,r,s){return await this._createToolAssistantStream(n,t,r,s)}}Ql=Bf,Pf=function(t){if(!this.ended)switch(St(this,zm,t),we(this,wr,"m",Yk).call(this,t),t.event){case"thread.created":break;case"thread.run.created":case"thread.run.queued":case"thread.run.in_progress":case"thread.run.requires_action":case"thread.run.completed":case"thread.run.incomplete":case"thread.run.failed":case"thread.run.cancelling":case"thread.run.cancelled":case"thread.run.expired":we(this,wr,"m",Zk).call(this,t);break;case"thread.run.step.created":case"thread.run.step.in_progress":case"thread.run.step.delta":case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":we(this,wr,"m",Gk).call(this,t);break;case"thread.message.created":case"thread.message.in_progress":case"thread.message.delta":case"thread.message.completed":case"thread.message.incomplete":we(this,wr,"m",Kk).call(this,t);break;case"error":throw new Error("Encountered an error event in event processing - errors should be processed earlier")}},Af=function(){if(this.ended)throw new xt("stream has ended, this shouldn't happen");if(!we(this,Xl,"f"))throw Error("Final run has not been received");return we(this,Xl,"f")},Kk=function(t){const[n,r]=we(this,wr,"m",Xk).call(this,t,we(this,ci,"f"));St(this,ci,n),we(this,Bm,"f")[n.id]=n;for(const s of r){const o=n.content[s.index];(o==null?void 0:o.type)=="text"&&this._emit("textCreated",o.text)}switch(t.event){case"thread.message.created":this._emit("messageCreated",t.data);break;case"thread.message.in_progress":break;case"thread.message.delta":if(this._emit("messageDelta",t.data.delta,n),t.data.delta.content)for(const s of t.data.delta.content){if(s.type=="text"&&s.text){let o=s.text,l=n.content[s.index];if(l&&l.type=="text")this._emit("textDelta",o,l.text);else throw Error("The snapshot associated with this text delta is not text or missing")}if(s.index!=we(this,Eu,"f")){if(we(this,Kl,"f"))switch(we(this,Kl,"f").type){case"text":this._emit("textDone",we(this,Kl,"f").text,we(this,ci,"f"));break;case"image_file":this._emit("imageFileDone",we(this,Kl,"f").image_file,we(this,ci,"f"));break}St(this,Eu,s.index)}St(this,Kl,n.content[s.index])}break;case"thread.message.completed":case"thread.message.incomplete":if(we(this,Eu,"f")!==void 0){const s=t.data.content[we(this,Eu,"f")];if(s)switch(s.type){case"image_file":this._emit("imageFileDone",s.image_file,we(this,ci,"f"));break;case"text":this._emit("textDone",s.text,we(this,ci,"f"));break}}we(this,ci,"f")&&this._emit("messageDone",t.data),St(this,ci,void 0)}},Gk=function(t){const n=we(this,wr,"m",Qk).call(this,t);switch(St(this,$f,n),t.event){case"thread.run.step.created":this._emit("runStepCreated",t.data);break;case"thread.run.step.delta":const r=t.data.delta;if(r.step_details&&r.step_details.type=="tool_calls"&&r.step_details.tool_calls&&n.step_details.type=="tool_calls")for(const o of r.step_details.tool_calls)o.index==we(this,Eg,"f")?this._emit("toolCallDelta",o,n.step_details.tool_calls[o.index]):(we(this,vs,"f")&&this._emit("toolCallDone",we(this,vs,"f")),St(this,Eg,o.index),St(this,vs,n.step_details.tool_calls[o.index]),we(this,vs,"f")&&this._emit("toolCallCreated",we(this,vs,"f")));this._emit("runStepDelta",t.data.delta,n);break;case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":St(this,$f,void 0),t.data.step_details.type=="tool_calls"&&we(this,vs,"f")&&(this._emit("toolCallDone",we(this,vs,"f")),St(this,vs,void 0)),this._emit("runStepDone",t.data,n);break}},Yk=function(t){we(this,cb,"f").push(t),this._emit("event",t)},Qk=function(t){switch(t.event){case"thread.run.step.created":return we(this,Li,"f")[t.data.id]=t.data,t.data;case"thread.run.step.delta":let n=we(this,Li,"f")[t.data.id];if(!n)throw Error("Received a RunStepDelta before creation of a snapshot");let r=t.data;if(r.delta){const s=Ql.accumulateDelta(n,r.delta);we(this,Li,"f")[t.data.id]=s}return we(this,Li,"f")[t.data.id];case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":case"thread.run.step.in_progress":we(this,Li,"f")[t.data.id]=t.data;break}if(we(this,Li,"f")[t.data.id])return we(this,Li,"f")[t.data.id];throw new Error("No snapshot available")},Xk=function(t,n){let r=[];switch(t.event){case"thread.message.created":return[t.data,r];case"thread.message.delta":if(!n)throw Error("Received a delta with no existing snapshot (there should be one from message creation)");let s=t.data;if(s.delta.content)for(const o of s.delta.content)if(o.index in n.content){let l=n.content[o.index];n.content[o.index]=we(this,wr,"m",Jk).call(this,o,l)}else n.content[o.index]=o,r.push(o);return[n,r];case"thread.message.in_progress":case"thread.message.completed":case"thread.message.incomplete":if(n)return[n,r];throw Error("Received thread message event with no existing snapshot")}throw Error("Tried to accumulate a non-message event")},Jk=function(t,n){return Ql.accumulateDelta(n,t)},Zk=function(t){switch(St(this,Um,t.data),t.event){case"thread.run.created":break;case"thread.run.queued":break;case"thread.run.in_progress":break;case"thread.run.requires_action":case"thread.run.cancelled":case"thread.run.failed":case"thread.run.completed":case"thread.run.expired":case"thread.run.incomplete":St(this,Xl,t.data),we(this,vs,"f")&&(this._emit("toolCallDone",we(this,vs,"f")),St(this,vs,void 0));break}};let zw=class extends pt{constructor(){super(...arguments),this.steps=new fI(this._client)}create(t,n,r){const{include:s,...o}=n;return this._client.post(ze`/threads/${t}/runs`,{query:{include:s},body:o,...r,headers:ot([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers]),stream:n.stream??!1})}retrieve(t,n,r){const{thread_id:s}=n;return this._client.get(ze`/threads/${s}/runs/${t}`,{...r,headers:ot([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}update(t,n,r){const{thread_id:s,...o}=n;return this._client.post(ze`/threads/${s}/runs/${t}`,{body:o,...r,headers:ot([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}list(t,n={},r){return this._client.getAPIList(ze`/threads/${t}/runs`,Yn,{query:n,...r,headers:ot([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}cancel(t,n,r){const{thread_id:s}=n;return this._client.post(ze`/threads/${s}/runs/${t}/cancel`,{...r,headers:ot([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}async createAndPoll(t,n,r){const s=await this.create(t,n,r);return await this.poll(s.id,{thread_id:t},r)}createAndStream(t,n,r){return Bf.createAssistantStream(t,this._client.beta.threads.runs,n,r)}async poll(t,n,r){var o;const s=ot([r==null?void 0:r.headers,{"X-Stainless-Poll-Helper":"true","X-Stainless-Custom-Poll-Interval":((o=r==null?void 0:r.pollIntervalMs)==null?void 0:o.toString())??void 0}]);for(;;){const{data:l,response:u}=await this.retrieve(t,n,{...r,headers:{...r==null?void 0:r.headers,...s}}).withResponse();switch(l.status){case"queued":case"in_progress":case"cancelling":let d=5e3;if(r!=null&&r.pollIntervalMs)d=r.pollIntervalMs;else{const f=u.headers.get("openai-poll-after-ms");if(f){const p=parseInt(f);isNaN(p)||(d=p)}}await Ah(d);break;case"requires_action":case"incomplete":case"cancelled":case"completed":case"failed":case"expired":return l}}}stream(t,n,r){return Bf.createAssistantStream(t,this._client.beta.threads.runs,n,r)}submitToolOutputs(t,n,r){const{thread_id:s,...o}=n;return this._client.post(ze`/threads/${s}/runs/${t}/submit_tool_outputs`,{body:o,...r,headers:ot([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers]),stream:n.stream??!1})}async submitToolOutputsAndPoll(t,n,r){const s=await this.submitToolOutputs(t,n,r);return await this.poll(s.id,n,r)}submitToolOutputsStream(t,n,r){return Bf.createToolAssistantStream(t,this._client.beta.threads.runs,n,r)}};zw.Steps=fI;class bx extends pt{constructor(){super(...arguments),this.runs=new zw(this._client),this.messages=new dI(this._client)}create(t={},n){return this._client.post("/threads",{body:t,...n,headers:ot([{"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers])})}retrieve(t,n){return this._client.get(ze`/threads/${t}`,{...n,headers:ot([{"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers])})}update(t,n,r){return this._client.post(ze`/threads/${t}`,{body:n,...r,headers:ot([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}delete(t,n){return this._client.delete(ze`/threads/${t}`,{...n,headers:ot([{"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers])})}createAndRun(t,n){return this._client.post("/threads/runs",{body:t,...n,headers:ot([{"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers]),stream:t.stream??!1})}async createAndRunPoll(t,n){const r=await this.createAndRun(t,n);return await this.runs.poll(r.id,{thread_id:r.thread_id},n)}createAndRunStream(t,n){return Bf.createThreadAssistantStream(t,this._client.beta.threads,n)}}bx.Runs=zw;bx.Messages=dI;class pd extends pt{constructor(){super(...arguments),this.realtime=new yx(this._client),this.chatkit=new vx(this._client),this.assistants=new aI(this._client),this.threads=new bx(this._client)}}pd.Realtime=yx;pd.ChatKit=vx;pd.Assistants=aI;pd.Threads=bx;class hI extends pt{create(t,n){return this._client.post("/completions",{body:t,...n,stream:t.stream??!1})}}class pI extends pt{retrieve(t,n,r){const{container_id:s}=n;return this._client.get(ze`/containers/${s}/files/${t}/content`,{...r,headers:ot([{Accept:"application/binary"},r==null?void 0:r.headers]),__binaryResponse:!0})}}let Uw=class extends pt{constructor(){super(...arguments),this.content=new pI(this._client)}create(t,n,r){return this._client.post(ze`/containers/${t}/files`,wc({body:n,...r},this._client))}retrieve(t,n,r){const{container_id:s}=n;return this._client.get(ze`/containers/${s}/files/${t}`,r)}list(t,n={},r){return this._client.getAPIList(ze`/containers/${t}/files`,Yn,{query:n,...r})}delete(t,n,r){const{container_id:s}=n;return this._client.delete(ze`/containers/${s}/files/${t}`,{...r,headers:ot([{Accept:"*/*"},r==null?void 0:r.headers])})}};Uw.Content=pI;class Vw extends pt{constructor(){super(...arguments),this.files=new Uw(this._client)}create(t,n){return this._client.post("/containers",{body:t,...n})}retrieve(t,n){return this._client.get(ze`/containers/${t}`,n)}list(t={},n){return this._client.getAPIList("/containers",Yn,{query:t,...n})}delete(t,n){return this._client.delete(ze`/containers/${t}`,{...n,headers:ot([{Accept:"*/*"},n==null?void 0:n.headers])})}}Vw.Files=Uw;class mI extends pt{create(t,n,r){const{include:s,...o}=n;return this._client.post(ze`/conversations/${t}/items`,{query:{include:s},body:o,...r})}retrieve(t,n,r){const{conversation_id:s,...o}=n;return this._client.get(ze`/conversations/${s}/items/${t}`,{query:o,...r})}list(t,n={},r){return this._client.getAPIList(ze`/conversations/${t}/items`,wg,{query:n,...r})}delete(t,n,r){const{conversation_id:s}=n;return this._client.delete(ze`/conversations/${s}/items/${t}`,r)}}class Ww extends pt{constructor(){super(...arguments),this.items=new mI(this._client)}create(t={},n){return this._client.post("/conversations",{body:t,...n})}retrieve(t,n){return this._client.get(ze`/conversations/${t}`,n)}update(t,n,r){return this._client.post(ze`/conversations/${t}`,{body:n,...r})}delete(t,n){return this._client.delete(ze`/conversations/${t}`,n)}}Ww.Items=mI;class gI extends pt{create(t,n){const r=!!t.encoding_format;let s=r?t.encoding_format:"base64";r&&vr(this._client).debug("embeddings/user defined encoding_format:",t.encoding_format);const o=this._client.post("/embeddings",{body:{...t,encoding_format:s},...n});return r?o:(vr(this._client).debug("embeddings/decoding base64 embeddings from base64"),o._thenUnwrap(l=>(l&&l.data&&l.data.forEach(u=>{const d=u.embedding;u.embedding=oW(d)}),l)))}}class xI extends pt{retrieve(t,n,r){const{eval_id:s,run_id:o}=n;return this._client.get(ze`/evals/${s}/runs/${o}/output_items/${t}`,r)}list(t,n,r){const{eval_id:s,...o}=n;return this._client.getAPIList(ze`/evals/${s}/runs/${t}/output_items`,Yn,{query:o,...r})}}class qw extends pt{constructor(){super(...arguments),this.outputItems=new xI(this._client)}create(t,n,r){return this._client.post(ze`/evals/${t}/runs`,{body:n,...r})}retrieve(t,n,r){const{eval_id:s}=n;return this._client.get(ze`/evals/${s}/runs/${t}`,r)}list(t,n={},r){return this._client.getAPIList(ze`/evals/${t}/runs`,Yn,{query:n,...r})}delete(t,n,r){const{eval_id:s}=n;return this._client.delete(ze`/evals/${s}/runs/${t}`,r)}cancel(t,n,r){const{eval_id:s}=n;return this._client.post(ze`/evals/${s}/runs/${t}`,r)}}qw.OutputItems=xI;class Hw extends pt{constructor(){super(...arguments),this.runs=new qw(this._client)}create(t,n){return this._client.post("/evals",{body:t,...n})}retrieve(t,n){return this._client.get(ze`/evals/${t}`,n)}update(t,n,r){return this._client.post(ze`/evals/${t}`,{body:n,...r})}list(t={},n){return this._client.getAPIList("/evals",Yn,{query:t,...n})}delete(t,n){return this._client.delete(ze`/evals/${t}`,n)}}Hw.Runs=qw;let yI=class extends pt{create(t,n){return this._client.post("/files",wc({body:t,...n},this._client))}retrieve(t,n){return this._client.get(ze`/files/${t}`,n)}list(t={},n){return this._client.getAPIList("/files",Yn,{query:t,...n})}delete(t,n){return this._client.delete(ze`/files/${t}`,n)}content(t,n){return this._client.get(ze`/files/${t}/content`,{...n,headers:ot([{Accept:"application/binary"},n==null?void 0:n.headers]),__binaryResponse:!0})}async waitForProcessing(t,{pollInterval:n=5e3,maxWait:r=1800*1e3}={}){const s=new Set(["processed","error","deleted"]),o=Date.now();let l=await this.retrieve(t);for(;!l.status||!s.has(l.status);)if(await Ah(n),l=await this.retrieve(t),Date.now()-o>r)throw new Tw({message:`Giving up on waiting for file ${t} to finish processing after ${r} milliseconds.`});return l}};class vI extends pt{}let bI=class extends pt{run(t,n){return this._client.post("/fine_tuning/alpha/graders/run",{body:t,...n})}validate(t,n){return this._client.post("/fine_tuning/alpha/graders/validate",{body:t,...n})}};class Kw extends pt{constructor(){super(...arguments),this.graders=new bI(this._client)}}Kw.Graders=bI;class wI extends pt{create(t,n,r){return this._client.getAPIList(ze`/fine_tuning/checkpoints/${t}/permissions`,xx,{body:n,method:"post",...r})}retrieve(t,n={},r){return this._client.get(ze`/fine_tuning/checkpoints/${t}/permissions`,{query:n,...r})}delete(t,n,r){const{fine_tuned_model_checkpoint:s}=n;return this._client.delete(ze`/fine_tuning/checkpoints/${s}/permissions/${t}`,r)}}let Gw=class extends pt{constructor(){super(...arguments),this.permissions=new wI(this._client)}};Gw.Permissions=wI;class jI extends pt{list(t,n={},r){return this._client.getAPIList(ze`/fine_tuning/jobs/${t}/checkpoints`,Yn,{query:n,...r})}}class Yw extends pt{constructor(){super(...arguments),this.checkpoints=new jI(this._client)}create(t,n){return this._client.post("/fine_tuning/jobs",{body:t,...n})}retrieve(t,n){return this._client.get(ze`/fine_tuning/jobs/${t}`,n)}list(t={},n){return this._client.getAPIList("/fine_tuning/jobs",Yn,{query:t,...n})}cancel(t,n){return this._client.post(ze`/fine_tuning/jobs/${t}/cancel`,n)}listEvents(t,n={},r){return this._client.getAPIList(ze`/fine_tuning/jobs/${t}/events`,Yn,{query:n,...r})}pause(t,n){return this._client.post(ze`/fine_tuning/jobs/${t}/pause`,n)}resume(t,n){return this._client.post(ze`/fine_tuning/jobs/${t}/resume`,n)}}Yw.Checkpoints=jI;class md extends pt{constructor(){super(...arguments),this.methods=new vI(this._client),this.jobs=new Yw(this._client),this.checkpoints=new Gw(this._client),this.alpha=new Kw(this._client)}}md.Methods=vI;md.Jobs=Yw;md.Checkpoints=Gw;md.Alpha=Kw;class NI extends pt{}class Qw extends pt{constructor(){super(...arguments),this.graderModels=new NI(this._client)}}Qw.GraderModels=NI;class SI extends pt{createVariation(t,n){return this._client.post("/images/variations",wc({body:t,...n},this._client))}edit(t,n){return this._client.post("/images/edits",wc({body:t,...n,stream:t.stream??!1},this._client))}generate(t,n){return this._client.post("/images/generations",{body:t,...n,stream:t.stream??!1})}}class kI extends pt{retrieve(t,n){return this._client.get(ze`/models/${t}`,n)}list(t){return this._client.getAPIList("/models",xx,t)}delete(t,n){return this._client.delete(ze`/models/${t}`,n)}}class _I extends pt{create(t,n){return this._client.post("/moderations",{body:t,...n})}}class CI extends pt{accept(t,n,r){return this._client.post(ze`/realtime/calls/${t}/accept`,{body:n,...r,headers:ot([{Accept:"*/*"},r==null?void 0:r.headers])})}hangup(t,n){return this._client.post(ze`/realtime/calls/${t}/hangup`,{...n,headers:ot([{Accept:"*/*"},n==null?void 0:n.headers])})}refer(t,n,r){return this._client.post(ze`/realtime/calls/${t}/refer`,{body:n,...r,headers:ot([{Accept:"*/*"},r==null?void 0:r.headers])})}reject(t,n={},r){return this._client.post(ze`/realtime/calls/${t}/reject`,{body:n,...r,headers:ot([{Accept:"*/*"},r==null?void 0:r.headers])})}}class EI extends pt{create(t,n){return this._client.post("/realtime/client_secrets",{body:t,...n})}}class wx extends pt{constructor(){super(...arguments),this.clientSecrets=new EI(this._client),this.calls=new CI(this._client)}}wx.ClientSecrets=EI;wx.Calls=CI;function lW(e,t){return!t||!uW(t)?{...e,output_parsed:null,output:e.output.map(n=>n.type==="function_call"?{...n,parsed_arguments:null}:n.type==="message"?{...n,content:n.content.map(r=>({...r,parsed:null}))}:n)}:PI(e,t)}function PI(e,t){const n=e.output.map(s=>{if(s.type==="function_call")return{...s,parsed_arguments:hW(t,s)};if(s.type==="message"){const o=s.content.map(l=>l.type==="output_text"?{...l,parsed:cW(t,l.text)}:l);return{...s,content:o}}return s}),r=Object.assign({},e,{output:n});return Object.getOwnPropertyDescriptor(e,"output_text")||ub(r),Object.defineProperty(r,"output_parsed",{enumerable:!0,get(){for(const s of r.output)if(s.type==="message"){for(const o of s.content)if(o.type==="output_text"&&o.parsed!==null)return o.parsed}return null}}),r}function cW(e,t){var n,r,s,o;return((r=(n=e.text)==null?void 0:n.format)==null?void 0:r.type)!=="json_schema"?null:"$parseRaw"in((s=e.text)==null?void 0:s.format)?((o=e.text)==null?void 0:o.format).$parseRaw(t):JSON.parse(t)}function uW(e){var t;return!!Ow((t=e.text)==null?void 0:t.format)}function dW(e){return(e==null?void 0:e.$brand)==="auto-parseable-tool"}function fW(e,t){return e.find(n=>n.type==="function"&&n.name===t)}function hW(e,t){const n=fW(e.tools??[],t.name);return{...t,...t,parsed_arguments:dW(n)?n.$parseRaw(t.arguments):n!=null&&n.strict?JSON.parse(t.arguments):null}}function ub(e){const t=[];for(const n of e.output)if(n.type==="message")for(const r of n.content)r.type==="output_text"&&t.push(r.text);e.output_text=t.join("")}var xu,gm,_o,xm,e_,t_,n_,r_;class Xw extends Lw{constructor(t){super(),xu.add(this),gm.set(this,void 0),_o.set(this,void 0),xm.set(this,void 0),St(this,gm,t)}static createResponse(t,n,r){const s=new Xw(n);return s._run(()=>s._createOrRetrieveResponse(t,n,{...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"stream"}})),s}async _createOrRetrieveResponse(t,n,r){var u;const s=r==null?void 0:r.signal;s&&(s.aborted&&this.controller.abort(),s.addEventListener("abort",()=>this.controller.abort())),we(this,xu,"m",e_).call(this);let o,l=null;"response_id"in n?(o=await t.responses.retrieve(n.response_id,{stream:!0},{...r,signal:this.controller.signal,stream:!0}),l=n.starting_after??null):o=await t.responses.create({...n,stream:!0},{...r,signal:this.controller.signal}),this._connected();for await(const d of o)we(this,xu,"m",t_).call(this,d,l);if((u=o.controller.signal)!=null&&u.aborted)throw new Vs;return we(this,xu,"m",n_).call(this)}[(gm=new WeakMap,_o=new WeakMap,xm=new WeakMap,xu=new WeakSet,e_=function(){this.ended||St(this,_o,void 0)},t_=function(n,r){if(this.ended)return;const s=(l,u)=>{(r==null||u.sequence_number>r)&&this._emit(l,u)},o=we(this,xu,"m",r_).call(this,n);switch(s("event",n),n.type){case"response.output_text.delta":{const l=o.output[n.output_index];if(!l)throw new xt(`missing output at index ${n.output_index}`);if(l.type==="message"){const u=l.content[n.content_index];if(!u)throw new xt(`missing content at index ${n.content_index}`);if(u.type!=="output_text")throw new xt(`expected content to be 'output_text', got ${u.type}`);s("response.output_text.delta",{...n,snapshot:u.text})}break}case"response.function_call_arguments.delta":{const l=o.output[n.output_index];if(!l)throw new xt(`missing output at index ${n.output_index}`);l.type==="function_call"&&s("response.function_call_arguments.delta",{...n,snapshot:l.arguments});break}default:s(n.type,n);break}},n_=function(){if(this.ended)throw new xt("stream has ended, this shouldn't happen");const n=we(this,_o,"f");if(!n)throw new xt("request ended without sending any events");St(this,_o,void 0);const r=pW(n,we(this,gm,"f"));return St(this,xm,r),r},r_=function(n){var s;let r=we(this,_o,"f");if(!r){if(n.type!=="response.created")throw new xt(`When snapshot hasn't been set yet, expected 'response.created' event, got ${n.type}`);return r=St(this,_o,n.response),r}switch(n.type){case"response.output_item.added":{r.output.push(n.item);break}case"response.content_part.added":{const o=r.output[n.output_index];if(!o)throw new xt(`missing output at index ${n.output_index}`);const l=o.type,u=n.part;l==="message"&&u.type!=="reasoning_text"?o.content.push(u):l==="reasoning"&&u.type==="reasoning_text"&&(o.content||(o.content=[]),o.content.push(u));break}case"response.output_text.delta":{const o=r.output[n.output_index];if(!o)throw new xt(`missing output at index ${n.output_index}`);if(o.type==="message"){const l=o.content[n.content_index];if(!l)throw new xt(`missing content at index ${n.content_index}`);if(l.type!=="output_text")throw new xt(`expected content to be 'output_text', got ${l.type}`);l.text+=n.delta}break}case"response.function_call_arguments.delta":{const o=r.output[n.output_index];if(!o)throw new xt(`missing output at index ${n.output_index}`);o.type==="function_call"&&(o.arguments+=n.delta);break}case"response.reasoning_text.delta":{const o=r.output[n.output_index];if(!o)throw new xt(`missing output at index ${n.output_index}`);if(o.type==="reasoning"){const l=(s=o.content)==null?void 0:s[n.content_index];if(!l)throw new xt(`missing content at index ${n.content_index}`);if(l.type!=="reasoning_text")throw new xt(`expected content to be 'reasoning_text', got ${l.type}`);l.text+=n.delta}break}case"response.completed":{St(this,_o,n.response);break}}return r},Symbol.asyncIterator)](){const t=[],n=[];let r=!1;return this.on("event",s=>{const o=n.shift();o?o.resolve(s):t.push(s)}),this.on("end",()=>{r=!0;for(const s of n)s.resolve(void 0);n.length=0}),this.on("abort",s=>{r=!0;for(const o of n)o.reject(s);n.length=0}),this.on("error",s=>{r=!0;for(const o of n)o.reject(s);n.length=0}),{next:async()=>t.length?{value:t.shift(),done:!1}:r?{value:void 0,done:!0}:new Promise((o,l)=>n.push({resolve:o,reject:l})).then(o=>o?{value:o,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}async finalResponse(){await this.done();const t=we(this,xm,"f");if(!t)throw new xt("stream ended without producing a ChatCompletion");return t}}function pW(e,t){return lW(e,t)}class AI extends pt{list(t,n={},r){return this._client.getAPIList(ze`/responses/${t}/input_items`,Yn,{query:n,...r})}}class TI extends pt{count(t={},n){return this._client.post("/responses/input_tokens",{body:t,...n})}}class jx extends pt{constructor(){super(...arguments),this.inputItems=new AI(this._client),this.inputTokens=new TI(this._client)}create(t,n){return this._client.post("/responses",{body:t,...n,stream:t.stream??!1})._thenUnwrap(r=>("object"in r&&r.object==="response"&&ub(r),r))}retrieve(t,n={},r){return this._client.get(ze`/responses/${t}`,{query:n,...r,stream:(n==null?void 0:n.stream)??!1})._thenUnwrap(s=>("object"in s&&s.object==="response"&&ub(s),s))}delete(t,n){return this._client.delete(ze`/responses/${t}`,{...n,headers:ot([{Accept:"*/*"},n==null?void 0:n.headers])})}parse(t,n){return this._client.responses.create(t,n)._thenUnwrap(r=>PI(r,t))}stream(t,n){return Xw.createResponse(this._client,t,n)}cancel(t,n){return this._client.post(ze`/responses/${t}/cancel`,n)}compact(t,n){return this._client.post("/responses/compact",{body:t,...n})}}jx.InputItems=AI;jx.InputTokens=TI;class RI extends pt{create(t,n,r){return this._client.post(ze`/uploads/${t}/parts`,wc({body:n,...r},this._client))}}class Jw extends pt{constructor(){super(...arguments),this.parts=new RI(this._client)}create(t,n){return this._client.post("/uploads",{body:t,...n})}cancel(t,n){return this._client.post(ze`/uploads/${t}/cancel`,n)}complete(t,n,r){return this._client.post(ze`/uploads/${t}/complete`,{body:n,...r})}}Jw.Parts=RI;const mW=async e=>{const t=await Promise.allSettled(e),n=t.filter(s=>s.status==="rejected");if(n.length){for(const s of n)console.error(s.reason);throw new Error(`${n.length} promise(s) failed - see the above errors`)}const r=[];for(const s of t)s.status==="fulfilled"&&r.push(s.value);return r};class II extends pt{create(t,n,r){return this._client.post(ze`/vector_stores/${t}/file_batches`,{body:n,...r,headers:ot([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}retrieve(t,n,r){const{vector_store_id:s}=n;return this._client.get(ze`/vector_stores/${s}/file_batches/${t}`,{...r,headers:ot([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}cancel(t,n,r){const{vector_store_id:s}=n;return this._client.post(ze`/vector_stores/${s}/file_batches/${t}/cancel`,{...r,headers:ot([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}async createAndPoll(t,n,r){const s=await this.create(t,n);return await this.poll(t,s.id,r)}listFiles(t,n,r){const{vector_store_id:s,...o}=n;return this._client.getAPIList(ze`/vector_stores/${s}/file_batches/${t}/files`,Yn,{query:o,...r,headers:ot([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}async poll(t,n,r){var o;const s=ot([r==null?void 0:r.headers,{"X-Stainless-Poll-Helper":"true","X-Stainless-Custom-Poll-Interval":((o=r==null?void 0:r.pollIntervalMs)==null?void 0:o.toString())??void 0}]);for(;;){const{data:l,response:u}=await this.retrieve(n,{vector_store_id:t},{...r,headers:s}).withResponse();switch(l.status){case"in_progress":let d=5e3;if(r!=null&&r.pollIntervalMs)d=r.pollIntervalMs;else{const f=u.headers.get("openai-poll-after-ms");if(f){const p=parseInt(f);isNaN(p)||(d=p)}}await Ah(d);break;case"failed":case"cancelled":case"completed":return l}}}async uploadAndPoll(t,{files:n,fileIds:r=[]},s){if(n==null||n.length==0)throw new Error("No `files` provided to process. If you've already uploaded files you should use `.createAndPoll()` instead");const o=(s==null?void 0:s.maxConcurrency)??5,l=Math.min(o,n.length),u=this._client,d=n.values(),f=[...r];async function p(x){for(let v of x){const S=await u.files.create({file:v,purpose:"assistants"},s);f.push(S.id)}}const m=Array(l).fill(d).map(p);return await mW(m),await this.createAndPoll(t,{file_ids:f})}}class MI extends pt{create(t,n,r){return this._client.post(ze`/vector_stores/${t}/files`,{body:n,...r,headers:ot([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}retrieve(t,n,r){const{vector_store_id:s}=n;return this._client.get(ze`/vector_stores/${s}/files/${t}`,{...r,headers:ot([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}update(t,n,r){const{vector_store_id:s,...o}=n;return this._client.post(ze`/vector_stores/${s}/files/${t}`,{body:o,...r,headers:ot([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}list(t,n={},r){return this._client.getAPIList(ze`/vector_stores/${t}/files`,Yn,{query:n,...r,headers:ot([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}delete(t,n,r){const{vector_store_id:s}=n;return this._client.delete(ze`/vector_stores/${s}/files/${t}`,{...r,headers:ot([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}async createAndPoll(t,n,r){const s=await this.create(t,n,r);return await this.poll(t,s.id,r)}async poll(t,n,r){var o;const s=ot([r==null?void 0:r.headers,{"X-Stainless-Poll-Helper":"true","X-Stainless-Custom-Poll-Interval":((o=r==null?void 0:r.pollIntervalMs)==null?void 0:o.toString())??void 0}]);for(;;){const l=await this.retrieve(n,{vector_store_id:t},{...r,headers:s}).withResponse(),u=l.data;switch(u.status){case"in_progress":let d=5e3;if(r!=null&&r.pollIntervalMs)d=r.pollIntervalMs;else{const f=l.response.headers.get("openai-poll-after-ms");if(f){const p=parseInt(f);isNaN(p)||(d=p)}}await Ah(d);break;case"failed":case"completed":return u}}}async upload(t,n,r){const s=await this._client.files.create({file:n,purpose:"assistants"},r);return this.create(t,{file_id:s.id},r)}async uploadAndPoll(t,n,r){const s=await this.upload(t,n,r);return await this.poll(t,s.id,r)}content(t,n,r){const{vector_store_id:s}=n;return this._client.getAPIList(ze`/vector_stores/${s}/files/${t}/content`,xx,{...r,headers:ot([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}}class Nx extends pt{constructor(){super(...arguments),this.files=new MI(this._client),this.fileBatches=new II(this._client)}create(t,n){return this._client.post("/vector_stores",{body:t,...n,headers:ot([{"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers])})}retrieve(t,n){return this._client.get(ze`/vector_stores/${t}`,{...n,headers:ot([{"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers])})}update(t,n,r){return this._client.post(ze`/vector_stores/${t}`,{body:n,...r,headers:ot([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}list(t={},n){return this._client.getAPIList("/vector_stores",Yn,{query:t,...n,headers:ot([{"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers])})}delete(t,n){return this._client.delete(ze`/vector_stores/${t}`,{...n,headers:ot([{"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers])})}search(t,n,r){return this._client.getAPIList(ze`/vector_stores/${t}/search`,xx,{body:n,method:"post",...r,headers:ot([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}}Nx.Files=MI;Nx.FileBatches=II;class OI extends pt{create(t,n){return this._client.post("/videos",Uk({body:t,...n},this._client))}retrieve(t,n){return this._client.get(ze`/videos/${t}`,n)}list(t={},n){return this._client.getAPIList("/videos",wg,{query:t,...n})}delete(t,n){return this._client.delete(ze`/videos/${t}`,n)}downloadContent(t,n={},r){return this._client.get(ze`/videos/${t}/content`,{query:n,...r,headers:ot([{Accept:"application/binary"},r==null?void 0:r.headers]),__binaryResponse:!0})}remix(t,n,r){return this._client.post(ze`/videos/${t}/remix`,Uk({body:n,...r},this._client))}}var Su,DI,Vm;class LI extends pt{constructor(){super(...arguments),Su.add(this)}async unwrap(t,n,r=this._client.webhookSecret,s=300){return await this.verifySignature(t,n,r,s),JSON.parse(t)}async verifySignature(t,n,r=this._client.webhookSecret,s=300){if(typeof crypto>"u"||typeof crypto.subtle.importKey!="function"||typeof crypto.subtle.verify!="function")throw new Error("Webhook signature verification is only supported when the `crypto` global is defined");we(this,Su,"m",DI).call(this,r);const o=ot([n]).values,l=we(this,Su,"m",Vm).call(this,o,"webhook-signature"),u=we(this,Su,"m",Vm).call(this,o,"webhook-timestamp"),d=we(this,Su,"m",Vm).call(this,o,"webhook-id"),f=parseInt(u,10);if(isNaN(f))throw new jf("Invalid webhook timestamp format");const p=Math.floor(Date.now()/1e3);if(p-f>s)throw new jf("Webhook timestamp is too old");if(f>p+s)throw new jf("Webhook timestamp is too new");const m=l.split(" ").map(N=>N.startsWith("v1,")?N.substring(3):N),x=r.startsWith("whsec_")?Buffer.from(r.replace("whsec_",""),"base64"):Buffer.from(r,"utf-8"),v=d?`${d}.${u}.${t}`:`${u}.${t}`,S=await crypto.subtle.importKey("raw",x,{name:"HMAC",hash:"SHA-256"},!1,["verify"]);for(const N of m)try{const _=Buffer.from(N,"base64");if(await crypto.subtle.verify("HMAC",S,_,new TextEncoder().encode(v)))return}catch{continue}throw new jf("The given webhook signature does not match the expected signature")}}Su=new WeakSet,DI=function(t){if(typeof t!="string"||t.length===0)throw new Error("The webhook secret must either be set using the env var, OPENAI_WEBHOOK_SECRET, on the client class, OpenAI({ webhookSecret: '123' }), or passed to this function")},Vm=function(t,n){if(!t)throw new Error("Headers are required");const r=t.get(n);if(r==null)throw new Error(`Missing required header: ${n}`);return r};var db,Zw,Wm,FI;class Dt{constructor({baseURL:t=gu("OPENAI_BASE_URL"),apiKey:n=gu("OPENAI_API_KEY"),organization:r=gu("OPENAI_ORG_ID")??null,project:s=gu("OPENAI_PROJECT_ID")??null,webhookSecret:o=gu("OPENAI_WEBHOOK_SECRET")??null,...l}={}){if(db.add(this),Wm.set(this,void 0),this.completions=new hI(this),this.chat=new Bw(this),this.embeddings=new gI(this),this.files=new yI(this),this.images=new SI(this),this.audio=new Rh(this),this.moderations=new _I(this),this.models=new kI(this),this.fineTuning=new md(this),this.graders=new Qw(this),this.vectorStores=new Nx(this),this.webhooks=new LI(this),this.beta=new pd(this),this.batches=new iI(this),this.uploads=new Jw(this),this.responses=new jx(this),this.realtime=new wx(this),this.conversations=new Ww(this),this.evals=new Hw(this),this.containers=new Vw(this),this.videos=new OI(this),n===void 0)throw new xt("Missing credentials. Please pass an `apiKey`, or set the `OPENAI_API_KEY` environment variable.");const u={apiKey:n,organization:r,project:s,webhookSecret:o,...l,baseURL:t||"https://api.openai.com/v1"};if(!u.dangerouslyAllowBrowser&&x7())throw new xt(`It looks like you're running in a browser-like environment.

This is disabled by default, as it risks exposing your secret API credentials to attackers.
If you understand the risks and have appropriate mitigations in place,
you can set the \`dangerouslyAllowBrowser\` option to \`true\`, e.g.,

new OpenAI({ apiKey, dangerouslyAllowBrowser: true });

https://help.openai.com/en/articles/5112595-best-practices-for-api-key-safety
`);this.baseURL=u.baseURL,this.timeout=u.timeout??Zw.DEFAULT_TIMEOUT,this.logger=u.logger??console;const d="warn";this.logLevel=d,this.logLevel=Bk(u.logLevel,"ClientOptions.logLevel",this)??Bk(gu("OPENAI_LOG"),"process.env['OPENAI_LOG']",this)??d,this.fetchOptions=u.fetchOptions,this.maxRetries=u.maxRetries??2,this.fetch=u.fetch??j7(),St(this,Wm,S7),this._options=u,this.apiKey=typeof n=="string"?n:"Missing Key",this.organization=r,this.project=s,this.webhookSecret=o}withOptions(t){return new this.constructor({...this._options,baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,organization:this.organization,project:this.project,webhookSecret:this.webhookSecret,...t})}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:t,nulls:n}){}async authHeaders(t){return ot([{Authorization:`Bearer ${this.apiKey}`}])}stringifyQuery(t){return A7(t,{arrayFormat:"brackets"})}getUserAgent(){return`${this.constructor.name}/JS ${ju}`}defaultIdempotencyKey(){return`stainless-node-retry-${oR()}`}makeStatusError(t,n,r,s){return _r.generate(t,n,r,s)}async _callApiKey(){const t=this._options.apiKey;if(typeof t!="function")return!1;let n;try{n=await t()}catch(r){throw r instanceof xt?r:new xt(`Failed to get token from 'apiKey' function: ${r.message}`,{cause:r})}if(typeof n!="string"||!n)throw new xt(`Expected 'apiKey' function argument to return a string but it returned ${n}`);return this.apiKey=n,!0}buildURL(t,n,r){const s=!we(this,db,"m",FI).call(this)&&r||this.baseURL,o=f7(t)?new URL(t):new URL(s+(s.endsWith("/")&&t.startsWith("/")?t.slice(1):t)),l=this.defaultQuery();return h7(l)||(n={...l,...n}),typeof n=="object"&&n&&!Array.isArray(n)&&(o.search=this.stringifyQuery(n)),o.toString()}async prepareOptions(t){await this._callApiKey()}async prepareRequest(t,{url:n,options:r}){}get(t,n){return this.methodRequest("get",t,n)}post(t,n){return this.methodRequest("post",t,n)}patch(t,n){return this.methodRequest("patch",t,n)}put(t,n){return this.methodRequest("put",t,n)}delete(t,n){return this.methodRequest("delete",t,n)}methodRequest(t,n,r){return this.request(Promise.resolve(r).then(s=>({method:t,path:n,...s})))}request(t,n=null){return new gx(this,this.makeRequest(t,n,void 0))}async makeRequest(t,n,r){var P,T;const s=await t,o=s.maxRetries??this.maxRetries;n==null&&(n=o),await this.prepareOptions(s);const{req:l,url:u,timeout:d}=await this.buildRequest(s,{retryCount:o-n});await this.prepareRequest(l,{url:u,options:s});const f="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),p=r===void 0?"":`, retryOf: ${r}`,m=Date.now();if(vr(this).debug(`[${f}] sending request`,Wl({retryOfRequestLogID:r,method:s.method,url:u,options:s,headers:l.headers})),(P=s.signal)!=null&&P.aborted)throw new Vs;const x=new AbortController,v=await this.fetchWithTimeout(u,l,d,x).catch(Zv),S=Date.now();if(v instanceof globalThis.Error){const I=`retrying, ${n} attempts remaining`;if((T=s.signal)!=null&&T.aborted)throw new Vs;const L=Jv(v)||/timed? ?out/i.test(String(v)+("cause"in v?String(v.cause):""));if(n)return vr(this).info(`[${f}] connection ${L?"timed out":"failed"} - ${I}`),vr(this).debug(`[${f}] connection ${L?"timed out":"failed"} (${I})`,Wl({retryOfRequestLogID:r,url:u,durationMs:S-m,message:v.message})),this.retryRequest(s,n,r??f);throw vr(this).info(`[${f}] connection ${L?"timed out":"failed"} - error; no more retries left`),vr(this).debug(`[${f}] connection ${L?"timed out":"failed"} (error; no more retries left)`,Wl({retryOfRequestLogID:r,url:u,durationMs:S-m,message:v.message})),L?new Tw:new px({cause:v})}const N=[...v.headers.entries()].filter(([I])=>I==="x-request-id").map(([I,L])=>", "+I+": "+JSON.stringify(L)).join(""),_=`[${f}${p}${N}] ${l.method} ${u} ${v.ok?"succeeded":"failed"} with status ${v.status} in ${S-m}ms`;if(!v.ok){const I=await this.shouldRetry(v);if(n&&I){const F=`retrying, ${n} attempts remaining`;return await N7(v.body),vr(this).info(`${_} - ${F}`),vr(this).debug(`[${f}] response error (${F})`,Wl({retryOfRequestLogID:r,url:v.url,status:v.status,headers:v.headers,durationMs:S-m})),this.retryRequest(s,n,r??f,v.headers)}const L=I?"error; no more retries left":"error; not retryable";vr(this).info(`${_} - ${L}`);const z=await v.text().catch(F=>Zv(F).message),$=g7(z),V=$?void 0:z;throw vr(this).debug(`[${f}] response error (${L})`,Wl({retryOfRequestLogID:r,url:v.url,status:v.status,headers:v.headers,message:V,durationMs:Date.now()-m})),this.makeStatusError(v.status,$,V,v.headers)}return vr(this).info(_),vr(this).debug(`[${f}] response start`,Wl({retryOfRequestLogID:r,url:v.url,status:v.status,headers:v.headers,durationMs:S-m})),{response:v,options:s,controller:x,requestLogID:f,retryOfRequestLogID:r,startTime:m}}getAPIList(t,n,r){return this.requestAPIList(n,r&&"then"in r?r.then(s=>({method:"get",path:t,...s})):{method:"get",path:t,...r})}requestAPIList(t,n){const r=this.makeRequest(n,null,void 0);return new $7(this,r,t)}async fetchWithTimeout(t,n,r,s){const{signal:o,method:l,...u}=n||{},d=this._makeAbort(s);o&&o.addEventListener("abort",d,{once:!0});const f=setTimeout(d,r),p=globalThis.ReadableStream&&u.body instanceof globalThis.ReadableStream||typeof u.body=="object"&&u.body!==null&&Symbol.asyncIterator in u.body,m={signal:s.signal,...p?{duplex:"half"}:{},method:"GET",...u};l&&(m.method=l.toUpperCase());try{return await this.fetch.call(void 0,t,m)}finally{clearTimeout(f)}}async shouldRetry(t){const n=t.headers.get("x-should-retry");return n==="true"?!0:n==="false"?!1:t.status===408||t.status===409||t.status===429||t.status>=500}async retryRequest(t,n,r,s){let o;const l=s==null?void 0:s.get("retry-after-ms");if(l){const d=parseFloat(l);Number.isNaN(d)||(o=d)}const u=s==null?void 0:s.get("retry-after");if(u&&!o){const d=parseFloat(u);Number.isNaN(d)?o=Date.parse(u)-Date.now():o=d*1e3}if(!(o&&0<=o&&o<60*1e3)){const d=t.maxRetries??this.maxRetries;o=this.calculateDefaultRetryTimeoutMillis(n,d)}return await Ah(o),this.makeRequest(t,n-1,r)}calculateDefaultRetryTimeoutMillis(t,n){const o=n-t,l=Math.min(.5*Math.pow(2,o),8),u=1-Math.random()*.25;return l*u*1e3}async buildRequest(t,{retryCount:n=0}={}){const r={...t},{method:s,path:o,query:l,defaultBaseURL:u}=r,d=this.buildURL(o,l,u);"timeout"in r&&m7("timeout",r.timeout),r.timeout=r.timeout??this.timeout;const{bodyHeaders:f,body:p}=this.buildBody({options:r}),m=await this.buildHeaders({options:t,method:s,bodyHeaders:f,retryCount:n});return{req:{method:s,headers:m,...r.signal&&{signal:r.signal},...globalThis.ReadableStream&&p instanceof globalThis.ReadableStream&&{duplex:"half"},...p&&{body:p},...this.fetchOptions??{},...r.fetchOptions??{}},url:d,timeout:r.timeout}}async buildHeaders({options:t,method:n,bodyHeaders:r,retryCount:s}){let o={};this.idempotencyHeader&&n!=="get"&&(t.idempotencyKey||(t.idempotencyKey=this.defaultIdempotencyKey()),o[this.idempotencyHeader]=t.idempotencyKey);const l=ot([o,{Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(s),...t.timeout?{"X-Stainless-Timeout":String(Math.trunc(t.timeout/1e3))}:{},...w7(),"OpenAI-Organization":this.organization,"OpenAI-Project":this.project},await this.authHeaders(t),this._options.defaultHeaders,r,t.headers]);return this.validateHeaders(l),l.values}_makeAbort(t){return()=>t.abort()}buildBody({options:{body:t,headers:n}}){if(!t)return{bodyHeaders:void 0,body:void 0};const r=ot([n]);return ArrayBuffer.isView(t)||t instanceof ArrayBuffer||t instanceof DataView||typeof t=="string"&&r.values.has("content-type")||globalThis.Blob&&t instanceof globalThis.Blob||t instanceof FormData||t instanceof URLSearchParams||globalThis.ReadableStream&&t instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:t}:typeof t=="object"&&(Symbol.asyncIterator in t||Symbol.iterator in t&&"next"in t&&typeof t.next=="function")?{bodyHeaders:void 0,body:bR(t)}:we(this,Wm,"f").call(this,{body:t,headers:r})}}Zw=Dt,Wm=new WeakMap,db=new WeakSet,FI=function(){return this.baseURL!=="https://api.openai.com/v1"};Dt.OpenAI=Zw;Dt.DEFAULT_TIMEOUT=6e5;Dt.OpenAIError=xt;Dt.APIError=_r;Dt.APIConnectionError=px;Dt.APIConnectionTimeoutError=Tw;Dt.APIUserAbortError=Vs;Dt.NotFoundError=dR;Dt.ConflictError=fR;Dt.RateLimitError=pR;Dt.BadRequestError=lR;Dt.AuthenticationError=cR;Dt.InternalServerError=mR;Dt.PermissionDeniedError=uR;Dt.UnprocessableEntityError=hR;Dt.InvalidWebhookSignatureError=jf;Dt.toFile=W7;Dt.Completions=hI;Dt.Chat=Bw;Dt.Embeddings=gI;Dt.Files=yI;Dt.Images=SI;Dt.Audio=Rh;Dt.Moderations=_I;Dt.Models=kI;Dt.FineTuning=md;Dt.Graders=Qw;Dt.VectorStores=Nx;Dt.Webhooks=LI;Dt.Beta=pd;Dt.Batches=iI;Dt.Uploads=Jw;Dt.Responses=jx;Dt.Realtime=wx;Dt.Conversations=Ww;Dt.Evals=Hw;Dt.Containers=Vw;Dt.Videos=OI;const s_={PYTHON:5001,GO:5002},hf={PYTHON:`http://127.0.0.1:${s_.PYTHON}`,GO:`http://127.0.0.1:${s_.GO}`},i_=()=>({gemini:localStorage.getItem("gemini_key")||"AIzaSyCT8cjpHixIO65fm-GtMtrpZQDN4Q334to",deepseek:localStorage.getItem("deepseek_key")||"sk-f0eb31df7949493cab154002913a9183",openai:localStorage.getItem("openai_key")||"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",xai:localStorage.getItem("xai_key")||"xai-e7tZ05yP9AGavPkGHVSc7Xv7xkMUGvPsvQ1sV73GXP22EzB1T2Sktmj4kQIO5vZFRoiaLDGLFvqYZH3I"}),ah={async isPythonReady(){try{return(await fetch(`${hf.PYTHON}/health`,{method:"GET",signal:AbortSignal.timeout(1e3)})).ok}catch{return!1}},async isGoReady(){try{return(await fetch(`${hf.GO}/search?q=ping`,{method:"GET",signal:AbortSignal.timeout(1e3)})).ok}catch{return!1}},async classifyDocument(e,t,n=!1){const{localApi:r}=await bs(async()=>{const{localApi:s}=await Promise.resolve().then(()=>CS);return{localApi:s}},void 0,import.meta.url);try{const s=await r.wallet.getBalance();if(!n&&s<1)throw new Error("INSUFFICIENT_CREDITS");const o=await fetch(`${hf.PYTHON}/classify`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({fileBase64:e,mimeType:t,keys:i_()})});if(!o.ok){const u=await o.json().catch(()=>({}));throw new Error(u.error||`Python Backend Error: ${o.status}`)}const l=await o.json();return n||await r.wallet.spendCredits(1,`Classify Document: ${t}`),l}catch(s){throw console.error("BackendBridge: Classify failed:",s),s}},async searchResources(e){try{const t=await fetch(`${hf.GO}/search?q=${encodeURIComponent(e)}`);if(!t.ok)throw new Error(`Go Backend Error: ${t.status}`);return await t.json()}catch(t){throw console.error("BackendBridge: Search failed:",t),t}},async generateText(e,t="",n={}){const{localApi:r}=await bs(async()=>{const{localApi:o}=await Promise.resolve().then(()=>CS);return{localApi:o}},void 0,import.meta.url),s=n.isBackground||!1;try{const o=await r.wallet.getBalance();if(!s&&o<1)throw new Error("INSUFFICIENT_CREDITS");const l=await fetch(`${hf.PYTHON}/generate`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({prompt:e,systemPrompt:t,keys:i_(),...n})});if(!l.ok){const d=await l.json().catch(()=>({}));throw new Error(d.error||`Python Backend Error: ${l.status}`)}const u=await l.json();if(s||await r.wallet.spendCredits(1,`AI Inquiry: ${e.substring(0,30)}...`),n.response_json_schema&&typeof u.text=="string")try{return this._extractAndParseJSON(u.text)}catch(d){console.warn("Failed to parse JSON from AI response, returning raw text",d)}return u.text}catch(o){throw console.error("BackendBridge: Generate failed:",o),o}},_extractAndParseJSON(e){if(!e||typeof e!="string")return e;const t=e.trim();try{return JSON.parse(t)}catch{const r=t.replace(/```json\n?|```/g,"").trim();try{return JSON.parse(r)}catch{const o=r.indexOf("{"),l=r.indexOf("[");let u=-1;if(o!==-1&&(l===-1||o<l)?u=o:l!==-1&&(u=l),u===-1)throw console.error("No JSON structure starter ({ or [) found in AI response:",t.substring(0,100)),new Error("No JSON structure found in response");const f=r[u]==="{"?"}":"]";let p=r.lastIndexOf(f);if(p===-1||p<=u)throw console.error("No closing JSON structure found in AI response:",t.substring(0,100)),new Error("Malformed JSON structure in response");const m=r.substring(u,p+1);try{return JSON.parse(m)}catch(x){try{const v=m.replace(/,\s*([\}\]])/g,"$1").replace(/(['"])?([a-zA-Z0-9_]+)(['"])?:\s*/g,'"$2":').replace(/:\s*'([^']*)'/g,': "$1"').replace(/\\'/g,"'");return JSON.parse(v)}catch{throw console.error("All JSON parsing attempts failed. Raw response snippet:",t.substring(0,200)),x}}}}}},Ly=Object.freeze(Object.defineProperty({__proto__:null,BackendBridge:ah},Symbol.toStringTag,{value:"Module"})),$I=async()=>({gemini:"AIzaSyCT8cjpHixIO65fm-GtMtrpZQDN4Q334to",deepseek:"sk-f0eb31df7949493cab154002913a9183",xai:"xai-e7tZ05yP9AGavPkGHVSc7Xv7xkMUGvPsvQ1sV73GXP22EzB1T2Sktmj4kQIO5vZFRoiaLDGLFvqYZH3I",openai:"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"}),fb=async()=>{const e=await $I();if(window.electron&&window.electron.checkAIStatus){const t=await window.electron.checkAIStatus({openai:e.openai,grok:e.xai,deepseek:e.deepseek,gemini:e.gemini});return{gemini:t.gemini.status,deepseek:t.deepseek.status,grok:t.grok.status,openai:t.openai.status,details:t}}return{gemini:!!e.gemini,deepseek:!!e.deepseek,grok:!!e.xai,openai:!!e.openai,details:{}}},Jl=async(e,t="",n={})=>{console.log("AI: Routing Gemini request to Python backend...");try{return await ah.generateText(e,t,n)}catch(r){throw console.error("Python backend failed for Gemini prompt:",r),r}},Tf=async(e,t="")=>{const{deepseek:n}=await $I();if(!n)return console.warn("DeepSeek API Key missing, falling back to Python..."),Jl(e,t);const r=new Dt({apiKey:n,baseURL:"https://api.deepseek.com/v1",dangerouslyAllowBrowser:!0});try{return(await r.chat.completions.create({model:"deepseek-chat",messages:[{role:"system",content:t||"You are a helpful study assistant."},{role:"user",content:e}]})).choices[0].message.content}catch(s){throw console.error("DeepSeek direct call failed:",s),new Error(`All AI providers failed. DeepSeek error: ${s.message}`)}},ku=async(e,t="")=>Jl(e,t),_u=async(e,t="",n={})=>(n.imageBase64&&console.warn("Vision support currently only available in pure JS, but routing to Python for text..."),await ah.generateText(e,t,n)),gW={async summarize(e,t="gemini"){const n=`Summarize the following study material into structured notes:

${e}`;try{return t==="gemini"?await Jl(n):t==="openai"?await _u(n):t==="grok"?await ku(n):await Tf(n)}catch{return console.warn(`Summarize with ${t} failed, trying fallback...`),await _u(n).catch(()=>ku(n)).catch(()=>Tf(n))}},async generateQuiz(e,t=5,n="gemini"){const r=`Generate ${t} multiple choice questions (with 4 options and 1 correct answer) based on this content:

${e}

Return the result in JSON format: [{question, options:[], answer}]`;let s;try{n==="gemini"?s=await Jl(r):n==="openai"?s=await _u(r):n==="grok"?s=await ku(r):s=await Tf(r)}catch{console.warn(`Quiz generation with ${n} failed, trying fallback...`),s=await _u(r).catch(()=>ku(r)).catch(()=>Tf(r))}try{if(!s)throw new Error("Empty response from AI");let o=s.replace(/```json\s*/g,"").replace(/```\s*/g,"").trim();const l=o.indexOf("["),u=o.lastIndexOf("]");return l!==-1&&u>l&&(o=o.substring(l,u+1)),JSON.parse(o)}catch(o){throw console.error("Quiz JSON parse failed:",o,"Raw response:",s==null?void 0:s.substring(0,100)),o}},async getFeedback(e,t,n="deepseek"){const r=`Assignment: ${e.title}
Description: ${e.description}

Student's Work: ${t}

Provide constructive feedback and grading suggestions.`;try{return await _u(r)}catch{return await Jl(r).catch(()=>ku(r))}},async classifyAndExtract(e,t,n={}){console.log("AI classifyAndExtract: Routed via BackendBridge");try{return await ah.classifyDocument(e,t,n.isBackground||!1)}catch(r){throw console.warn("Local Python Backend unavailable, falling back to pure JS/API calls...",r),new Error("AI Service Unavailable: Ensure the app is running in Desktop mode.")}},async findResources(e,t={}){console.log(`Go findResources: Searching for "${e}"...`);try{return await ah.searchResources(e)}catch(n){console.warn("Local Go Backend unavailable, falling back to Gemini...",n);const r=`Find 5-7 high-quality, free educational resources (PDFs, study guides, YouTube playlists, interactive tools) for: "${e}".
            Focus on reputable sources like Khan Academy, Coursera (free courses), OpenStax, and university repositories.
            Return ONLY valid JSON.
            
            [{
                "title": "Descriptive Title",
                "url": "https://...",
                "description": "Brief summary",
                "type": "video" | "pdf" | "article" | "tool",
                "why_useful": "Why this student should use it"
            }]`,o=(await Jl(r,"You are an academic researcher finding the best free learning materials.",t)).replace(/```json/g,"").replace(/```/g,"").trim(),l=o.match(/\[[\s\S]*\]/);return JSON.parse(l?l[0]:o)}},async findRelatedMaterials(e,t){return this.findResources(`${e} ${t} study materials`)},async findTelegramResources(e){console.log(`Telegram Discovery: Generated Deep Search Links for "${e}"`);const t=e.replace(/[^a-zA-Z0-9 ]/g,"").trim(),n=t.split(" ")[0];return[{title:`[Search] "${t}" PDFs on Telegram`,url:`https://www.google.com/search?q=site:t.me+${encodeURIComponent(t)}+filetype:pdf`,description:"Deep scan of indexed Telegram files. Click to view found PDFs.",type:"link",verified:!0,tags:["pdf-search","deep-scan"]},{title:`@unisagroups_bot Search: ${n}`,url:`https://t.me/unisagroups_bot?start=${encodeURIComponent(n)}`,description:"Direct bot search for specific module communities.",type:"bot",verified:!0,tags:["bot-search","community"]},{title:`Global File Search: ${n}`,url:`https://cse.google.com/cse?cx=006436681783584873733:31p6j2j2q6s&q=${encodeURIComponent(n)}`,description:"Search across 1000+ educational Telegram channels.",type:"link",verified:!0,tags:["global-search","notes"]}]}},a_=Object.freeze(Object.defineProperty({__proto__:null,generateWithDeepSeek:Tf,generateWithGemini:Jl,generateWithGrok:ku,generateWithOpenAI:_u,getAIStatus:fb,studyBuddyAI:gW},Symbol.toStringTag,{value:"Module"}));async function e1(e=[],t=[],n=[]){try{const r=await SE(),s=await kE(),o=await _E(),l=await CE(),u=await EE(),d=await xW(r,s,o,l,e),f=yW(l,u,e),p=vW(n,l,s),m=await BI(t,s,l,e),x=bW(d,l,t),v=l.length>0?[{title:`${l[0].topic} Mastery - Khan Academy`,url:"https://www.khanacademy.org",type:"video",description:"Master the fundamentals of this topic with step-by-step videos."},{title:`Advanced ${l[0].topic} Guide`,url:"https://en.wikipedia.org",type:"article",description:"Deep dive into the theory and complex applications."}]:[];return{insights:d,complexTopics:f,recommendedMaterials:p,externalResources:v,studyPlan:m,actionPlan:x,activitySummary:r,performanceTrends:o}}catch(r){return console.error("Error generating recommendations:",r),{insights:[],complexTopics:[],recommendedMaterials:[],studyPlan:null,actionPlan:[],error:r.message}}}async function xW(e,t,n,r,s=[]){const o=[],l=e.activities.filter(f=>f.activity_type==="deep_dive");if(l.length>0){const f=l.reduce((p,m)=>p+(m.performance_score||0),0)/l.length;o.push({title:"Deep Dive Topics",description:f>=70?`Your performance of ${Math.round(f)} on deep dive topics indicates you engage well with complex issues. Keep up the analytical thinking!`:`Your average score of ${Math.round(f)} on deep dive questions suggests more practice with critical analysis could help.`,priority:f>=70?"low":"medium",type:"performance",icon:"brain"})}(e.totalQuizzes>0||e.totalActivities>0)&&o.push({title:"Initial Attempts",description:`You've attempted ${e.totalQuizzes} quizzes and ${e.totalActivities} learning activities, which is a fantastic first step in your learning process!`,priority:"low",type:"encouragement",icon:"checkCircle"});const u=t.filter(f=>f.totalMinutes>0);s.length>0&&u.length===0?o.push({title:"Module Progress",description:"All modules show minimal progress, indicating you might need a more structured approach to engage with them regularly.",priority:"high",type:"warning",icon:"alertCircle"}):u.length<s.length*.5&&o.push({title:"Module Progress",description:`You're actively working on ${u.length} of ${s.length} modules. Consider dedicating time to neglected modules to maintain balanced progress.`,priority:"medium",type:"suggestion",icon:"bookOpen"});const d=l.filter(f=>!f.completed||f.performance_score===null);return d.length>0&&o.push({title:"Answering Deep Dive Questions",description:`You have ${d.length} deep dive topic${d.length>1?"s":""} with no performance data. Actively engaging with these can improve your critical analysis skills.`,priority:"medium",type:"action",icon:"target"}),n.trend==="improving"?o.push({title:"Performance Trend",description:`Your scores are improving! Average increased from ${Math.round(n.firstHalfAvg)} to ${Math.round(n.secondHalfAvg)}. Your study methods are working!`,priority:"low",type:"success",icon:"trendingUp"}):n.trend==="declining"&&o.push({title:"Performance Trend",description:`Scores have dipped from ${Math.round(n.firstHalfAvg)} to ${Math.round(n.secondHalfAvg)}. Consider reviewing weak topics and adjusting study techniques.`,priority:"high",type:"warning",icon:"alertTriangle"}),o.sort((f,p)=>{const m={high:0,medium:1,low:2};return m[f.priority]-m[p.priority]})}function yW(e,t,n){const r=[],s=new Set;return e.slice(0,3).forEach(o=>{if(!s.has(o.topic)){const l=n==null?void 0:n.find(u=>u.id===o.moduleId);r.push({topic:o.topic,reason:`You scored ${o.score}% on this topic. An AI-generated tutorial can help clarify key concepts.`,moduleCode:(l==null?void 0:l.code)||null}),s.add(o.topic)}}),r.slice(0,5)}function vW(e,t,n){const r=[];return t.forEach(s=>{e.filter(l=>l.module_id===s.moduleId||l.title.toLowerCase().includes(s.topic.toLowerCase())).slice(0,2).forEach(l=>{r.push({title:l.title,type:l.type==="pdf"?"module material":l.type,reason:`Helps with ${s.topic} where you scored ${s.score}%`,moduleId:l.module_id,materialId:l.id})})}),r.slice(0,6)}async function BI(e,t,n,r,s=!1){try{const o=localStorage.getItem("last_study_plan"),l=localStorage.getItem("last_study_plan_time"),u=Date.now();if(!s&&o&&l&&u-parseInt(l)<864e5)return JSON.parse(o);if(!s)return{weeklyHours:"Pending",schedule:"Click 'Generate AI Plan' to create your personalized weekly schedule. (Costs 1 Credit)",isPlaceholder:!0};const d=e.filter(p=>p.status!=="submitted"&&p.status!=="graded"&&new Date(p.due_date).getTime()>new Date().getTime()).sort((p,m)=>new Date(p.due_date).getTime()-new Date(m.due_date).getTime()).slice(0,5),f=await ke.integrations.Core.InvokeLLM({prompt:`Create a weekly study plan (Monday-Sunday) for a student with:

**Upcoming Assignments:**
${JSON.stringify(d.map(p=>{var m;return{title:p.title,dueDate:p.due_date,module:(m=r==null?void 0:r.find(x=>x.id===p.module_id))==null?void 0:m.code}}),null,2)}

**Weak Topics (need more focus):**
${JSON.stringify(n.slice(0,5).map(p=>({topic:p.topic,score:p.score})),null,2)}

**Module Engagement:**
${JSON.stringify(t.map(p=>{var m;return{module:(m=r==null?void 0:r.find(x=>x.id===p.moduleId))==null?void 0:m.code,hours:Math.round(p.totalMinutes/60)}}),null,2)}

Generate a realistic, balanced weekly schedule with specific hour allocations for each day. Include:
- Assignment work (prioritize by deadline)
- Review of weak topics
- Regular module study time
- At least one rest day
- Total recommended hours per week

Format as a readable paragraph describing each day's focus.`,systemPrompt:"You are an academic advisor creating personalized study schedules.",response_json_schema:{type:"object",properties:{weeklyHours:{type:"string"},schedule:{type:"string"}}}});return localStorage.setItem("last_study_plan",JSON.stringify(f)),localStorage.setItem("last_study_plan_time",u.toString()),f}catch(o){return console.error("Error generating study plan:",o),{weeklyHours:"10 hours",schedule:"Unable to generate plan. Ensure you have credits and try again."}}}function bW(e,t,n){const r=[];return n.filter(o=>{const l=(new Date(o.due_date).getTime()-new Date().getTime())/864e5;return l>0&&l<=7&&o.status!=="submitted"}).forEach(o=>{r.push({action:`Complete ${o.title}`,priority:"high",expectedImpact:`Avoid missing deadline on ${new Date(o.due_date).toLocaleDateString()}`,timeRequired:"2-4 hours"})}),t.slice(0,2).forEach(o=>{r.push({action:`Review ${o.topic}`,priority:"medium",expectedImpact:`Improve from ${o.score}% to 80%+ through focused practice`,timeRequired:"1-2 hours"})}),e.filter(o=>o.priority==="high").forEach(o=>{r.push({action:o.title,priority:"high",expectedImpact:o.description,timeRequired:"30 mins - 1 hour"})}),r.slice(0,6)}const wW=Object.freeze(Object.defineProperty({__proto__:null,generateRecommendations:e1,generateWeeklyPlan:BI},Symbol.toStringTag,{value:"Module"}));function jW({onComplete:e}){const[t,n]=b.useState(1),r=[{title:"Welcome to Study Buddy AI",description:"Your ultimate AI companion for academic excellence. Let's show you how to get the most out of it.",icon:k3,color:"bg-blue-600",image:"https://images.unsplash.com/photo-1522202176988-66273c2fd55f?q=80&w=2071&auto=format&fit=crop"},{title:"Powerful AI Study Tools",description:"Upload your PDFs and generate instant summaries, custom quizzes, and deep-dive explanations tailored to your syllabus.",icon:Kn,color:"bg-purple-600",image:"https://images.unsplash.com/photo-1501504905252-473c47e087f8?q=80&w=1974&auto=format&fit=crop"},{title:"Simple, Fair Pricing",description:"We use a credit-based system. Every time the AI answers a question or analyzes a file, it uses 1 credit.",icon:En,color:"bg-amber-500",customContent:i.jsxs("div",{className:"grid grid-cols-1 gap-3 mt-4",children:[i.jsxs("div",{className:"flex items-center gap-3 p-3 bg-slate-50 rounded-xl border border-slate-100",children:[i.jsx("div",{className:"w-10 h-10 rounded-lg bg-emerald-100 flex items-center justify-center text-emerald-600 font-bold",children:"25"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-bold text-slate-900",children:"Free Credits"}),i.jsx("p",{className:"text-xs text-slate-500",children:"Every single month, for everyone."})]})]}),i.jsxs("div",{className:"flex items-center gap-3 p-3 bg-blue-50 rounded-xl border border-blue-100",children:[i.jsx("div",{className:"w-10 h-10 rounded-lg bg-blue-600 flex items-center justify-center text-white font-bold",children:"$5"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-bold text-slate-900",children:"50 Credits Bundle"}),i.jsx("p",{className:"text-xs text-slate-500",children:"Perfect for single subject prep."})]})]}),i.jsxs("div",{className:"flex items-center gap-3 p-3 bg-indigo-50 rounded-xl border border-indigo-100",children:[i.jsx("div",{className:"w-10 h-10 rounded-lg bg-indigo-600 flex items-center justify-center text-white font-bold",children:"$15"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-bold text-slate-900",children:"150 Credits Bundle"}),i.jsx("p",{className:"text-xs text-slate-500",children:"Full power for the whole semester."})]})]})]})}],s=r[t-1],o=()=>{t<r.length?n(t+1):(localStorage.setItem("has_seen_onboarding_v2","true"),e())};return i.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-slate-900/60 backdrop-blur-md animate-in fade-in duration-300",children:i.jsxs("div",{className:"bg-white w-full max-w-2xl rounded-[2.5rem] shadow-2xl overflow-hidden flex flex-col md:flex-row animate-in zoom-in duration-500",children:[i.jsxs("div",{className:"md:w-5/12 relative h-48 md:h-auto",children:[s.image?i.jsx("img",{src:s.image,className:"absolute inset-0 w-full h-full object-cover",alt:"Onboarding"}):i.jsx("div",{className:`absolute inset-0 ${s.color} flex items-center justify-center`,children:i.jsx(s.icon,{className:"w-24 h-24 text-white/20"})}),i.jsxs("div",{className:"absolute inset-0 bg-gradient-to-t md:bg-gradient-to-r from-black/60 to-transparent flex flex-col justify-end p-8 text-white",children:[i.jsx("div",{className:`w-12 h-12 rounded-2xl ${s.color} flex items-center justify-center shadow-lg border border-white/20 mb-4`,children:i.jsx(s.icon,{className:"w-6 h-6"})}),i.jsxs("p",{className:"text-xs font-bold tracking-widest uppercase opacity-70",children:["Step ",t," of 3"]})]})]}),i.jsxs("div",{className:"md:w-7/12 p-8 md:p-12 flex flex-col justify-between",children:[i.jsxs("div",{className:"space-y-4",children:[i.jsx("h2",{className:"text-2xl md:text-3xl font-black text-slate-900 tracking-tight leading-tight",children:s.title}),i.jsx("p",{className:"text-slate-500 leading-relaxed",children:s.description}),s.customContent]}),i.jsxs("div",{className:"mt-12 flex items-center justify-between",children:[i.jsx("div",{className:"flex gap-1.5",children:[1,2,3].map(l=>i.jsx("div",{className:`h-1.5 rounded-full transition-all duration-300 ${t===l?"w-8 bg-blue-600":"w-1.5 bg-slate-200"}`},l))}),i.jsxs(Oe,{onClick:o,className:"rounded-2xl px-8 py-6 bg-blue-600 hover:bg-blue-700 shadow-xl shadow-blue-600/20 text-lg font-bold group",children:[t===r.length?"Get Started":"Continue",i.jsx(Hi,{className:"w-5 h-5 ml-2 transition-transform group-hover:translate-x-1"})]})]})]})]})})}function NW(){const e=cs(),[t,n]=b.useState(null),[r,s]=b.useState(!1),[o,l]=b.useState(!1),[u,d]=b.useState(0),{checkForNotifications:f}=Cw();b.useEffect(()=>{fb().then(n),ke.wallet.getBalance().then(d);const ae=setInterval(()=>{ke.wallet.getBalance().then(d)},5e3);return localStorage.getItem("has_seen_onboarding_v2")||l(!0),()=>clearInterval(ae)},[]);const{data:p,isLoading:m}=zt({queryKey:["modules"],queryFn:async()=>(await ke.entities.Module.list()).sort((he,ge)=>(he.code||"").localeCompare(ge.code||""))}),{data:x,isLoading:v}=zt({queryKey:["assignments"],queryFn:()=>ke.entities.Assignment.list("due_date")}),{data:S}=zt({queryKey:["materials"],queryFn:()=>ke.entities.StudyMaterial.list()}),{data:N,isLoading:_}=zt({queryKey:["recommendations",p==null?void 0:p.length,x==null?void 0:x.length],queryFn:()=>e1(p||[],x||[],S||[]),enabled:!!p});b.useEffect(()=>{x&&x.length>0&&f(x)},[x,f]);const{data:P,isLoading:T}=zt({queryKey:["quizzes"],queryFn:()=>ke.entities.Quiz.list()}),{data:I,isLoading:L}=zt({queryKey:["sessions"],queryFn:()=>ke.entities.StudySession.list()}),z=async()=>{s(!0),await e.invalidateQueries(),await fb().then(n),setTimeout(()=>s(!1),800)},$=async()=>{confirm("Are you sure you want to DELETE ALL DATA? This cannot be undone.")&&(await Wt.delete(),window.location.reload())},V=m||v||T||L,W=(x==null?void 0:x.filter(ae=>ae.status!=="submitted"&&ae.status!=="graded"&&!Go(new Date(ae.due_date))).length)||0,F=(I==null?void 0:I.reduce((ae,he)=>ae+(he.duration_minutes||0),0))||0,Y=Math.round(F/60),H=P!=null&&P.length?Math.round(P.reduce((ae,he)=>ae+(he.best_score||0),0)/P.length):0,ee=t&&Object.values(t).some(Boolean),ve=N!=null&&N.insights?[...N.insights].sort((ae,he)=>(he.priority||0)-(ae.priority||0)):[];return i.jsxs("div",{className:"max-w-screen-2xl mx-auto space-y-8 animate-in fade-in duration-700",children:[o&&i.jsx(jW,{onComplete:()=>l(!1)}),i.jsxs("div",{className:"bg-gradient-to-r from-blue-600 via-indigo-700 to-slate-900 rounded-[2.5rem] p-8 text-white shadow-2xl relative overflow-hidden group",children:[i.jsx("div",{className:"absolute top-0 right-0 p-10 opacity-10 group-hover:scale-110 transition-transform duration-700",children:i.jsx(En,{className:"w-48 h-48 fill-current"})}),i.jsxs("div",{className:"relative flex flex-col xl:flex-row items-center justify-between gap-8",children:[i.jsxs("div",{className:"space-y-2 text-center xl:text-left",children:[i.jsxs("div",{className:"inline-flex items-center gap-2 px-3 py-1 bg-white/10 rounded-full text-xs font-bold tracking-widest text-blue-200",children:[i.jsx(Ft,{className:"w-3 h-3"}),"UPGRADE YOUR PLAN"]}),i.jsx("h2",{className:"text-3xl font-black",children:"Ready to unlock more?"}),i.jsx("p",{className:"text-blue-100/70 text-sm max-w-md",children:"Get instant access to deep-dive reports, unlimited summaries, and personalized AI pathways."})]}),i.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4 w-full xl:w-auto",children:[{name:"Starter",price:"$5",url:"https://pay.yoco.com/r/7XPopK"},{name:"Professional",price:"$10",url:"https://pay.yoco.com/r/mEq5we"},{name:"Academic",price:"$15",url:"https://pay.yoco.com/r/4gzxbB"}].map(ae=>i.jsxs("button",{onClick:()=>window.open(ae.url,"_blank"),className:"p-5 bg-white/5 hover:bg-white/10 backdrop-blur-md rounded-3xl border border-white/10 flex flex-col items-center gap-1 transition-all hover:scale-105 active:scale-95",children:[i.jsx("span",{className:"text-[10px] font-bold text-blue-300 uppercase tracking-tighter",children:ae.name}),i.jsx("span",{className:"text-xl font-black",children:ae.price})]},ae.name))})]})]}),i.jsxs("div",{className:"flex flex-col md:flex-row md:items-end justify-between gap-4",children:[i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center gap-2 text-blue-600 mb-2",children:[i.jsx(Ft,{className:"w-4 h-4"}),i.jsx("span",{className:"text-sm font-medium",children:"AI-Powered Learning"})]}),i.jsx("h1",{className:"text-3xl font-bold text-slate-900 tracking-tight",children:"Study Buddy Dashboard"}),i.jsx("p",{className:"text-slate-500 mt-1",children:"Track your progress and access AI study tools"})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsxs(mg,{children:[i.jsx(gg,{asChild:!0,children:i.jsxs(Oe,{variant:"outline",className:`gap-2 border-slate-200 ${ee?"text-green-600 bg-green-50":"text-slate-500"}`,children:[i.jsx(En,{className:"w-4 h-4 fill-current"}),ee?"AI Online":"AI Offline",i.jsx(Vg,{className:"w-3 h-3 opacity-50"})]})}),i.jsxs(nh,{align:"end",className:"w-64",children:[i.jsx(iT,{children:"Active AI Models"}),i.jsx(aT,{}),(t==null?void 0:t.details)&&Object.entries(t.details).map(([ae,he])=>i.jsxs(fi,{className:"flex justify-between cursor-default py-2",children:[i.jsxs("div",{className:"flex flex-col",children:[i.jsx("span",{className:"capitalize font-medium text-sm",children:ae}),i.jsx("span",{className:"text-xs text-slate-500",children:he.status?he.model:he.error?"Connection Failed":"Key Missing"})]}),he.status?i.jsx(Us,{className:"w-4 h-4 text-green-500"}):i.jsx(RC,{className:"w-4 h-4 text-slate-300"})]},ae))]})]}),i.jsx(Oe,{variant:"outline",size:"icon",onClick:z,className:r?"animate-spin":"",children:i.jsx(pc,{className:"w-4 h-4"})}),i.jsx(Oe,{variant:"outline",size:"icon",onClick:$,title:"Delete All Data",className:"text-red-500 hover:bg-red-50 hover:text-red-600 border-red-200",children:i.jsx(Qf,{className:"w-4 h-4"})})]})]}),i.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:V?Array(4).fill(0).map((ae,he)=>i.jsx(_w,{className:"h-36 rounded-2xl"},he)):i.jsxs(i.Fragment,{children:[i.jsx(df,{title:"Available Credits",value:u,icon:En,gradient:"bg-gradient-to-br from-indigo-600 to-blue-700",subtitle:"Free Monthly Credits",trend:"25/mo",trendUp:!0}),i.jsx(df,{title:"Enrolled Modules",value:(p==null?void 0:p.length)||0,icon:Hn,gradient:null,subtitle:"Active courses",trend:null,trendUp:!1}),i.jsx(df,{title:"Pending Tasks",value:W,icon:IC,gradient:"bg-gradient-to-br from-amber-500 to-orange-500",subtitle:"Due soon",trend:null,trendUp:!1}),i.jsx(df,{title:"Quizzes Completed",value:(P==null?void 0:P.length)||0,icon:Kn,trend:H>0?`${H}% avg`:null,trendUp:H>=70,subtitle:"Active recall practice",gradient:null}),i.jsx(df,{title:"Study Hours",value:Y,icon:pi,trend:"+12%",trendUp:!0,subtitle:"This semester",gradient:null})]})}),i.jsx("div",{className:"w-full animate-in fade-in slide-in-from-bottom-4 duration-500",children:i.jsx(GU,{assignments:x,modules:p})}),i.jsxs("div",{className:"space-y-4 animate-in fade-in slide-in-from-bottom-8 duration-700",children:[i.jsx("div",{className:"flex items-center justify-between px-2",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-2 rounded-xl bg-purple-50",children:i.jsx(Ft,{className:"w-5 h-5 text-purple-600"})}),i.jsxs("div",{className:"flex flex-col",children:[i.jsx("h3",{className:"font-bold text-slate-900 tracking-tight",children:"AI Study Tools"}),i.jsx("p",{className:"text-[10px] text-slate-500 uppercase font-bold tracking-widest",children:"Slide to explore"})]})]})}),i.jsx(t7,{})]}),i.jsxs("div",{className:"space-y-12 pb-12",children:[i.jsxs("div",{className:"animate-in fade-in slide-in-from-bottom-10 duration-1000",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-6 px-2",children:[i.jsx("div",{className:"p-2 rounded-xl bg-blue-50",children:i.jsx(Hn,{className:"w-5 h-5 text-blue-600"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-bold text-slate-900 tracking-tight",children:"Module Progress"}),i.jsx("p",{className:"text-[10px] text-slate-500 uppercase font-bold tracking-widest",children:"Academic Tracking"})]})]}),i.jsx(ZV,{modules:p})]}),i.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-3 gap-8 animate-in fade-in slide-in-from-bottom-12 duration-1000",children:[i.jsx("div",{className:"xl:col-span-1",children:i.jsx(u7,{})}),i.jsx("div",{className:"xl:col-span-1",children:i.jsx(e7,{sessions:I})}),i.jsx("div",{className:"xl:col-span-1",children:N!=null&&N.insights&&N.insights.length>0?i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-2 px-2",children:[i.jsx("div",{className:"p-2 rounded-xl bg-amber-50",children:i.jsx(Ft,{className:"w-5 h-5 text-amber-600"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-bold text-slate-900 tracking-tight",children:"AI Insights"}),i.jsx("p",{className:"text-[10px] text-slate-500 uppercase font-bold tracking-widest",children:"Smart Recommendations"})]})]}),i.jsx(aR,{insights:ve.slice(0,3)})]}):i.jsxs("div",{className:"h-full min-h-[200px] bg-slate-50/50 rounded-[2.5rem] border border-dashed border-slate-200 flex flex-center flex-col items-center justify-center p-8 text-center",children:[i.jsx(Ft,{className:"w-8 h-8 text-slate-300 mb-2"}),i.jsx("p",{className:"text-slate-400 text-xs font-bold uppercase tracking-widest",children:"No Insights Yet"}),i.jsx("p",{className:"text-slate-400 text-[10px] mt-1",children:"Study more to unlock AI tips"})]})})]})]})]})}function SW({studyPlan:e,onGenerate:t}){const n=e==null?void 0:e.isPlaceholder;return!e||!e.schedule?i.jsx(Nt,{className:"p-6 bg-gradient-to-br from-purple-50 to-indigo-50 border-2 border-purple-100",children:i.jsxs("div",{className:"text-center py-6",children:[i.jsx(Xo,{className:"w-10 h-10 text-purple-400 mx-auto mb-3"}),i.jsx("p",{className:"text-slate-600 mb-4",children:"Generate a learning path to get your personalized weekly study plan!"}),t&&i.jsx("button",{onClick:()=>t(!0),className:"px-4 py-2 bg-purple-600 text-white rounded-xl font-bold text-sm hover:bg-purple-700 transition-all shadow-lg shadow-purple-200",children:"Generate Now"})]})}):i.jsxs(Nt,{className:Ne("p-6 bg-gradient-to-br border-2 shadow-xl transition-all duration-500",n?"from-slate-50 to-slate-100 border-slate-200 opacity-90":"from-purple-50 to-indigo-50 border-purple-200 shadow-purple-500/10"),children:[i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:Ne("w-14 h-14 rounded-2xl flex items-center justify-center shadow-lg transition-colors",n?"bg-slate-400":"bg-gradient-to-br from-purple-500 to-indigo-600"),children:i.jsx(Hn,{className:"w-7 h-7 text-white"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-bold text-xl text-slate-900 flex items-center gap-2",children:"Weekly Study Plan "}),i.jsxs("p",{className:"text-sm text-purple-700 flex items-center gap-1 mt-1 font-bold",children:[i.jsx(pi,{className:"w-4 h-4"}),n?"Planning Required":`Recommended: ${e.weeklyHours||"10 hours"}`]})]})]}),t&&i.jsx("button",{onClick:()=>t(!0),className:Ne("px-4 py-2.5 rounded-xl font-black text-[11px] uppercase tracking-widest transition-all active:scale-95 shadow-lg",n?"bg-blue-600 text-white hover:bg-blue-700 shadow-blue-200 animate-pulse":"bg-white text-slate-600 hover:bg-slate-50 border border-slate-200"),children:n?"Generate AI Plan (1 Credit)":"Refresh Plan"})]}),i.jsx("div",{className:Ne("rounded-2xl p-6 border-2 transition-all",n?"bg-slate-50/50 border-dashed border-slate-300":"bg-white border-purple-200 shadow-inner"),children:i.jsx("div",{className:"prose prose-sm max-w-none",children:i.jsx("p",{className:Ne("leading-relaxed whitespace-pre-line font-medium",n?"text-slate-500 italic":"text-slate-700"),children:e.schedule})})}),!n&&i.jsx("div",{className:"mt-6 grid grid-cols-7 gap-2",children:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"].map((r,s)=>i.jsx("div",{className:Ne("text-center p-2 rounded-lg text-[10px] font-black uppercase tracking-tighter",s===6?"bg-pink-100 text-pink-700 border border-pink-200":"bg-purple-100 text-purple-700 border border-purple-200"),children:r},r))})]})}function kW({complexTopics:e=[],externalResources:t=[],recommendedMaterials:n=[],modules:r=[],onGenerateTutorial:s,generatingTutorial:o=null,tutorials:l={}}){const u=d=>{switch(d==null?void 0:d.toLowerCase()){case"video":return ND;case"website":return Ns;case"pdf":case"module material":return Sr;default:return Hn}};return i.jsxs("div",{className:"space-y-6",children:[e&&e.length>0&&i.jsxs(Nt,{className:"p-6 bg-white border-2 border-amber-100 shadow-lg",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[i.jsx("div",{className:"w-14 h-14 rounded-2xl bg-gradient-to-br from-amber-400 to-orange-500 flex items-center justify-center",children:i.jsx(Ho,{className:"w-7 h-7 text-white"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-bold text-xl text-slate-900",children:"Complex Topics Explained "}),i.jsx("p",{className:"text-sm text-slate-500",children:"Get AI-generated tutorials for challenging concepts"})]})]}),i.jsx("div",{className:"space-y-3",children:e.map((d,f)=>i.jsx("div",{className:"bg-gradient-to-br from-amber-50 to-orange-50 rounded-xl p-4 border-2 border-amber-200 hover:border-amber-300 transition-all",children:i.jsxs("div",{className:"flex items-start justify-between",children:[i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx("h4",{className:"font-semibold text-slate-900",children:d.topic}),d.moduleCode&&i.jsx(It,{variant:"outline",className:"text-xs bg-white border-amber-300",children:d.moduleCode})]}),i.jsx("p",{className:"text-sm text-slate-600 leading-relaxed",children:d.reason})]}),s&&i.jsx(Oe,{size:"sm",onClick:()=>s(d.topic,d.reason),disabled:o===d.topic,className:Ne("ml-4 flex-shrink-0 min-w-[140px]",l[d.topic]?"bg-emerald-600 hover:bg-emerald-700":"bg-amber-600 hover:bg-amber-700"),children:o===d.topic?i.jsxs(i.Fragment,{children:[i.jsx(jn,{className:"w-4 h-4 mr-2 animate-spin"}),"Neural Lab..."]}):l[d.topic]?i.jsxs(i.Fragment,{children:[i.jsx(Ki,{className:"w-4 h-4 mr-2"}),"View Tutorial"]}):i.jsxs(i.Fragment,{children:[i.jsx(Ho,{className:"w-4 h-4 mr-2"}),"Generate Tutorial"]})})]})},f))})]}),t&&t.length>0&&i.jsxs(Nt,{className:"p-6 bg-white border-2 border-purple-100 shadow-lg",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[i.jsx("div",{className:"w-14 h-14 rounded-2xl bg-gradient-to-br from-purple-400 to-pink-500 flex items-center justify-center",children:i.jsx(Ns,{className:"w-7 h-7 text-white"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-bold text-xl text-slate-900",children:"Advanced Learning Resources "}),i.jsx("p",{className:"text-sm text-slate-500",children:"Curated external resources to deepen your understanding"})]})]}),i.jsx("div",{className:"space-y-3",children:t.map((d,f)=>{const p=u(d.type);return i.jsxs("a",{href:d.url,target:"_blank",rel:"noopener noreferrer",className:"flex items-start gap-4 p-4 bg-gradient-to-br from-purple-50 to-pink-50 rounded-xl border-2 border-purple-200 hover:border-purple-300 hover:shadow-md transition-all group",children:[i.jsx("div",{className:"w-12 h-12 rounded-xl bg-purple-100 flex items-center justify-center flex-shrink-0 group-hover:bg-purple-200 transition-colors",children:i.jsx(p,{className:"w-6 h-6 text-purple-600"})}),i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[i.jsx("h4",{className:"font-semibold text-slate-900 group-hover:text-purple-700 transition-colors",children:d.title}),i.jsx(cc,{className:"w-4 h-4 text-slate-400"})]}),i.jsx("p",{className:"text-sm text-slate-600 mb-2",children:d.description}),i.jsx(It,{variant:"outline",className:"text-xs bg-white border-purple-300",children:d.type})]})]},f)})})]}),n&&n.length>0&&i.jsxs(Nt,{className:"p-6 bg-white border-2 border-blue-100 shadow-lg",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[i.jsx("div",{className:"w-14 h-14 rounded-2xl bg-gradient-to-br from-blue-400 to-cyan-500 flex items-center justify-center",children:i.jsx(Hn,{className:"w-7 h-7 text-white"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-bold text-xl text-slate-900",children:"Recommended for You "}),i.jsx("p",{className:"text-sm text-slate-500",children:"AI-suggested resources based on your progress"})]})]}),i.jsx("div",{className:"grid md:grid-cols-2 gap-4",children:n.map((d,f)=>{const p=r==null?void 0:r.find(m=>m.id===d.moduleId);return i.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-cyan-50 rounded-xl p-4 border-2 border-blue-200 hover:border-blue-300 transition-all group",children:[i.jsxs("div",{className:"flex items-start justify-between mb-2",children:[i.jsx("h4",{className:"font-semibold text-slate-900 flex-1",children:d.title}),i.jsx(It,{variant:"outline",className:"text-xs bg-white border-blue-300 flex-shrink-0 ml-2",children:d.type})]}),p&&i.jsx(It,{className:"bg-blue-600 text-white mb-2 text-xs",children:p.code}),i.jsx("p",{className:"text-sm text-slate-600 leading-relaxed",children:d.reason})]},f)})})]}),(!e||e.length===0)&&(!t||t.length===0)&&(!n||n.length===0)&&i.jsx(Nt,{className:"p-12 bg-gradient-to-br from-slate-50 to-gray-50 border-2 border-slate-200",children:i.jsxs("div",{className:"text-center",children:[i.jsx(Ho,{className:"w-16 h-16 text-slate-300 mx-auto mb-4"}),i.jsx("h3",{className:"font-bold text-lg text-slate-900 mb-2",children:"No Recommendations Yet"}),i.jsx("p",{className:"text-slate-600 mb-6",children:"Complete some quizzes or learning activities to get personalized recommendations!"}),i.jsx(Mr,{to:qn("StudyLab"),children:i.jsxs(Oe,{className:"bg-blue-600 hover:bg-blue-700",children:[i.jsx(Hn,{className:"w-4 h-4 mr-2"}),"Go to Study Lab",i.jsx(TC,{className:"w-4 h-4 ml-2"})]})})]})})]})}function _W(){var K,fe;const[e,t]=b.useState(!1),[n,r]=b.useState(null),[s,o]=b.useState(null),[l,u]=b.useState(!1),[d,f]=b.useState({goal:"",goal_type:"other",target_modules:[],deadline:""}),[p,m]=b.useState(null),[x,v]=b.useState({}),S=cs(),{data:N}=zt({queryKey:["modules"],queryFn:()=>ke.entities.Module.list()}),{data:_}=zt({queryKey:["quizzes"],queryFn:()=>ke.entities.Quiz.list("-last_attempted")}),{data:P}=zt({queryKey:["learning-activities"],queryFn:()=>ke.entities.LearningActivity.list("-created_date",50)}),{data:T}=zt({queryKey:["materials"],queryFn:()=>ke.entities.StudyMaterial.list()}),{data:I}=zt({queryKey:["assignments"],queryFn:()=>ke.entities.Assignment.list()}),{data:L}=zt({queryKey:["learning-goals"],queryFn:()=>ke.entities.LearningGoal.filter({status:"active"})}),{data:z}=zt({queryKey:["study-sessions"],queryFn:()=>ke.entities.StudySession.list("-date")}),$=Ws({mutationFn:async A=>await ke.entities.LearningGoal.create(A),onSuccess:()=>{S.invalidateQueries({queryKey:["learning-goals"]}),u(!1),f({goal:"",goal_type:"other",target_modules:[],deadline:""})}}),V=()=>{$.mutate(d)},W=Ws({mutationFn:A=>ke.entities.LearningGoal.delete(A),onSuccess:()=>S.invalidateQueries({queryKey:["learning-goals"]})}),{data:F,isLoading:Y,refetch:H,isFetching:ee}=zt({queryKey:["recommendations",N==null?void 0:N.length,I==null?void 0:I.length],queryFn:()=>e1(N||[],I||[],T||[]),enabled:!!N,staleTime:6e5}),ve=async(A=!1)=>{if(A){at.loading("AI Advisor: Creating your weekly plan...",{id:"gen-plan"});try{const{generateWeeklyPlan:M}=await bs(async()=>{const{generateWeeklyPlan:B}=await Promise.resolve().then(()=>wW);return{generateWeeklyPlan:B}},void 0,import.meta.url),X=await M(I||[],[],[],N||[],!0);S.setQueryData(["recommendations",N==null?void 0:N.length,I==null?void 0:I.length],B=>Object.assign({},B||{},{studyPlan:X})),at.success("AI Study Plan generated!",{id:"gen-plan"})}catch{at.error("Failed to generate plan. Check your credits.",{id:"gen-plan"})}}else H()},ae=()=>{ve(!1)},he=async(A,M)=>{if(x[A]){at.info(`Tutorial for "${A}" is ready below.`);return}m(A),at.loading(`Synthesizing tutorial for "${A}"...`,{id:"gen-tut"});try{const X=await ke.integrations.Core.InvokeLLM({prompt:`Create an engaging, easy-to-understand tutorial for high school students on: "${A}"
Context: ${M}
Structure the tutorial with:
1. **Quick Overview** - What this topic is about in simple terms
2. **Why It Matters** - Real-world applications
3. **Step-by-Step Explanation** - Break it down with examples
4. **Common Mistakes** - What to watch out for
5. **Practice Tips** - How to master this

Use conversational language, analogies, and examples. Make it fun and relatable!`,systemPrompt:"You are a master teacher who explains complex topics simply and effectively.",response_json_schema:null});v(B=>({...B,[A]:X})),at.success(`Tutorial for "${A}" created successfully!`,{id:"gen-tut"}),setTimeout(()=>{const B=document.getElementById("custom-tutorials-section");B==null||B.scrollIntoView({behavior:"smooth"})},300)}catch(X){console.error("Error generating tutorial:",X),at.error("Failed to generate tutorial. Please try again.",{id:"gen-tut"})}m(null)},ge=Y||e,Se=F&&(((K=F==null?void 0:F.insights)==null?void 0:K.length)>0||(F==null?void 0:F.studyPlan)||((fe=F==null?void 0:F.complexTopics)==null?void 0:fe.length)>0);return i.jsxs("div",{className:"max-w-6xl mx-auto space-y-6",children:[i.jsxs("div",{className:"flex items-start justify-between",children:[i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center gap-2 text-blue-600 mb-2",children:[i.jsx(sl,{className:"w-4 h-4"}),i.jsx("span",{className:"text-sm font-medium",children:"AI-Powered"})]}),i.jsx("h1",{className:"text-3xl font-bold text-slate-900",children:"Your Learning Path"}),i.jsx("p",{className:"text-slate-500 mt-1",children:"Personalized recommendations based on your progress & goals"})]}),i.jsxs(Yl,{open:l,onOpenChange:u,children:[i.jsx(gz,{asChild:!0,children:i.jsxs(Oe,{className:"bg-blue-600 hover:bg-blue-700",children:[i.jsx(Yf,{className:"w-4 h-4 mr-2"}),"Set Goal"]})}),i.jsxs(Uo,{children:[i.jsx(Vo,{children:i.jsx(Wo,{children:"Set a Learning Goal"})}),i.jsxs("div",{className:"space-y-4 mt-4",children:[i.jsxs("div",{children:[i.jsx(kt,{children:"Goal Description"}),i.jsx(ea,{placeholder:"E.g., Prepare for final exam, Master calculus, Improve essay writing...",value:d.goal,onChange:A=>f({...d,goal:A.target.value}),className:"mt-1"})]}),i.jsxs("div",{children:[i.jsx(kt,{children:"Goal Type"}),i.jsxs(hr,{value:d.goal_type,onValueChange:A=>f({...d,goal_type:A}),children:[i.jsx(rr,{className:"mt-1",children:i.jsx(pr,{})}),i.jsxs(sr,{children:[i.jsx(Vt,{value:"exam_prep",children:"Exam Preparation"}),i.jsx(Vt,{value:"topic_mastery",children:"Topic Mastery"}),i.jsx(Vt,{value:"skill_building",children:"Skill Building"}),i.jsx(Vt,{value:"grade_improvement",children:"Grade Improvement"}),i.jsx(Vt,{value:"other",children:"Other"})]})]})]}),i.jsxs("div",{children:[i.jsx(kt,{children:"Target Date (Optional)"}),i.jsx(un,{type:"date",value:d.deadline,onChange:A=>f({...d,deadline:A.target.value}),className:"mt-1"})]}),i.jsx(Oe,{onClick:V,disabled:!d.goal||$.isPending,className:"w-full",children:$.isPending?"Setting Goal...":"Create Goal"})]})]})]})]}),L&&L.length>0&&i.jsx("div",{className:"grid md:grid-cols-2 gap-4",children:L.map(A=>i.jsxs(Nt,{className:"p-4 bg-gradient-to-br from-blue-50 to-indigo-50 border-blue-200",children:[i.jsxs("div",{className:"flex items-start justify-between mb-2",children:[i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx("div",{className:"w-10 h-10 rounded-lg bg-blue-600 flex items-center justify-center flex-shrink-0",children:i.jsx(Ji,{className:"w-5 h-5 text-white"})}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-semibold text-slate-900",children:A.goal}),i.jsx(It,{variant:"outline",className:"mt-1 text-xs",children:A.goal_type.replace("_"," ")})]})]}),i.jsx(Oe,{size:"icon",variant:"ghost",onClick:()=>W.mutate(A.id),className:"h-8 w-8",disabled:W.isPending,children:i.jsx(Dr,{className:"w-4 h-4"})})]}),A.deadline&&i.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-600 mt-2",children:[i.jsx(Xo,{className:"w-4 h-4"}),i.jsxs("span",{children:["Target: ",new Date(A.deadline).toLocaleDateString()]})]})]},A.id))}),Se?i.jsxs("div",{className:"grid lg:grid-cols-3 gap-8",children:[i.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[i.jsx(kW,{complexTopics:(F==null?void 0:F.complexTopics)||[],recommendedMaterials:(F==null?void 0:F.recommendedMaterials)||[],externalResources:(F==null?void 0:F.externalResources)||[],modules:N||[],onGenerateTutorial:he,generatingTutorial:p,tutorials:x}),Object.keys(x).length>0&&i.jsxs("div",{id:"custom-tutorials-section",className:"space-y-6",children:[i.jsxs("h3",{className:"text-xl font-bold text-slate-900 flex items-center gap-2",children:[i.jsx(Ft,{className:"w-5 h-5 text-amber-500"}),"Your Custom Tutorials"]}),Object.entries(x).map(([A,M])=>i.jsxs(Nt,{className:"p-6 border-2 border-amber-200 bg-amber-50/30",children:[i.jsx("h4",{className:"font-bold text-lg mb-4 text-amber-900",children:A}),i.jsx("div",{className:"prose prose-sm max-w-none text-slate-700 whitespace-pre-line leading-relaxed",children:M})]},A))]})]}),i.jsxs("div",{className:"space-y-8",children:[i.jsxs("section",{children:[i.jsxs("h3",{className:"text-lg font-bold text-slate-900 mb-4 flex items-center gap-2",children:[i.jsx(Kn,{className:"w-5 h-5 text-blue-600"}),"Performance Insights"]}),i.jsx(aR,{insights:(F==null?void 0:F.insights)||[]})]}),i.jsxs("section",{children:[i.jsxs("h3",{className:"text-lg font-bold text-slate-900 mb-4 flex items-center gap-2",children:[i.jsx(Xo,{className:"w-5 h-5 text-purple-600"}),"Study Schedule"]}),i.jsx(SW,{studyPlan:F==null?void 0:F.studyPlan,onGenerate:ve})]}),i.jsxs(Nt,{className:"p-6 bg-gradient-to-br from-pink-500 to-rose-600 text-white border-none shadow-lg",children:[i.jsx(Ft,{className:"w-8 h-8 mb-4 text-pink-200"}),i.jsx("h3",{className:"font-bold text-lg mb-2",children:"Architect's Advice "}),i.jsx("p",{className:"text-pink-50 text-sm leading-relaxed",children:"Consistency is more important than intensity. Even 15 minutes of focused study is better than zero. You've got this!"})]}),i.jsx(Oe,{onClick:ae,disabled:ge||ee,variant:"outline",className:"w-full border-blue-200 hover:bg-blue-50 text-blue-600 py-6",children:ee?i.jsxs(i.Fragment,{children:[i.jsx(pc,{className:"w-4 h-4 mr-2 animate-spin"}),"Analyzing..."]}):i.jsxs(i.Fragment,{children:[i.jsx(pc,{className:"w-4 h-4 mr-2"}),"Refresh Recommendations"]})})]})]}):i.jsxs(Nt,{className:"relative overflow-hidden",children:[i.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50"}),i.jsxs("div",{className:"relative p-12 text-center",children:[i.jsx("div",{className:"w-20 h-20 rounded-full bg-gradient-to-br from-blue-500 to-indigo-600 flex items-center justify-center mx-auto mb-6 shadow-xl shadow-blue-500/30",children:i.jsx(Kn,{className:"w-10 h-10 text-white"})}),i.jsx("h2",{className:"text-2xl font-bold text-slate-900 mb-3",children:"Ready to Level Up Your Learning? "}),i.jsx("p",{className:"text-slate-600 mb-8 max-w-2xl mx-auto",children:"Let AI analyze your quiz scores, study patterns, goals, and progress to create a personalized learning path just for you! Get tailored recommendations, identify areas to focus on, and achieve your goals faster."}),i.jsx(Oe,{onClick:ae,disabled:ge||ee,size:"lg",className:"bg-gradient-to-r from-blue-600 via-indigo-600 to-purple-600 hover:from-blue-700 hover:via-indigo-700 hover:to-purple-700 shadow-xl shadow-blue-500/30",children:ge||ee?i.jsxs(i.Fragment,{children:[i.jsx(jn,{className:"w-5 h-5 mr-2 animate-spin"}),"Analyzing Your Progress..."]}):i.jsxs(i.Fragment,{children:[i.jsx(Ft,{className:"w-5 h-5 mr-2"}),"Generate My Learning Path"]})}),i.jsx("div",{className:"mt-12 grid md:grid-cols-3 gap-6 text-left",children:[{icon:Ji,title:"Identify Goals",desc:"Know what to focus on"},{icon:Ho,title:"Smart Tips",desc:"Get personalized advice"},{icon:Xu,title:"Track Progress",desc:"See your growth"}].map((A,M)=>i.jsxs("div",{className:"bg-white/60 backdrop-blur-sm rounded-2xl p-6 border border-slate-200/60",children:[i.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-blue-500 to-indigo-600 flex items-center justify-center mb-4 shadow-lg shadow-blue-500/20",children:i.jsx(A.icon,{className:"w-6 h-6 text-white"})}),i.jsx("h3",{className:"font-semibold text-slate-900 mb-2",children:A.title}),i.jsx("p",{className:"text-sm text-slate-600",children:A.desc})]},M))})]})]})]})}function CW({module:e,isOpen:t,onClose:n}){const[r,s]=b.useState(!1),[o,l]=b.useState(null),[u,d]=b.useState(""),[f,p]=b.useState(!1),[m,x]=b.useState(null),[v,S]=b.useState(null),N=cs(),{data:_,isLoading:P}=zt({queryKey:["materials",e==null?void 0:e.id],queryFn:()=>ke.entities.StudyMaterial.filter({module_id:e.id}),enabled:!!(e!=null&&e.id)&&t}),T=Ws({mutationFn:F=>ke.entities.StudyMaterial.delete(F),onSuccess:()=>{N.invalidateQueries({queryKey:["materials",e.id]}),at.success("Material deleted")}}),I=F=>{F.preventDefault(),F.stopPropagation(),F.type==="dragenter"||F.type==="dragover"?p(!0):F.type==="dragleave"&&p(!1)},L=F=>{F.preventDefault(),F.stopPropagation(),p(!1),F.dataTransfer.files&&F.dataTransfer.files[0]&&(l(F.dataTransfer.files[0]),u||d(F.dataTransfer.files[0].name.replace(/\.[^/.]+$/,"")))},z=F=>{F.target.files&&F.target.files[0]&&(l(F.target.files[0]),u||d(F.target.files[0].name.replace(/\.[^/.]+$/,"")))},$=async()=>{var F;if(!o){at.error("Please select a file");return}if(!u){at.error("Please enter a title");return}if(!(e!=null&&e.id)){at.error("Module not found");return}s(!0);try{const Y=await ke.integrations.Core.UploadFile({file:o});if(!(Y!=null&&Y.file_url))throw new Error("File upload failed - no URL returned");let H="";try{H=await ke.integrations.Core.InvokeLLM({prompt:"Extract all text content from this document. Return only the text, nothing else.",file_urls:[Y.file_url]})}catch(ee){console.warn("Content extraction skipped:",ee)}await ke.entities.StudyMaterial.create({title:u,module_id:e.id,type:(F=o.type)!=null&&F.includes("pdf")?"pdf":"notes",file_url:Y.file_url,content:H||"",is_processed:!1}),N.invalidateQueries({queryKey:["materials",e.id]}),at.success("Material uploaded successfully!"),l(null),d("")}catch(Y){console.error("Upload error:",Y),at.error((Y==null?void 0:Y.message)||"Upload failed. Please try again.")}finally{s(!1)}},V=async F=>{x(F.id);try{const Y=F.content&&F.content.length>50?F.content:`Topic: ${F.title}. (Content is brief, generate general questions based on this topic)`,H=await ke.integrations.Core.InvokeLLM({prompt:`You are a quiz generator.
        
        Generate 5 multiple choice questions based strictly on this context:
        "${Y}"
        
        RETURN JSON ONLY. No markdown, no pre-text.
        Structure:
        {
          "questions": [
            {
               "question": "Question text...",
               "options": ["A", "B", "C", "D"],
               "correct_answer": 0, // index of correct option
               "explanation": "Why it is correct"
            }
          ]
        }`,response_json_schema:{type:"object",properties:{questions:{type:"array",items:{type:"object",properties:{question:{type:"string"},options:{type:"array",items:{type:"string"}},correct_answer:{type:"number"},explanation:{type:"string"}}}}}}});await ke.entities.Quiz.create({title:`Quiz: ${F.title}`,module_id:e.id,material_id:F.id,questions:H.questions,difficulty:"medium",attempts:0}),at.success("Quiz generated!"),N.invalidateQueries({queryKey:["quizzes"]})}catch{at.error("Failed to generate quiz")}finally{x(null)}},W=async F=>{S(F.id);try{const Y=await ke.integrations.Core.InvokeLLM({prompt:`Create a concise summary of this content, highlighting the key concepts and important points: "${F.content}"`});await ke.entities.StudyMaterial.update(F.id,{summary:Y,is_processed:!0}),at.success("Summary generated!"),N.invalidateQueries({queryKey:["materials",e.id]})}catch{at.error("Failed to generate summary")}finally{S(null)}};return i.jsx(Yl,{open:t,onOpenChange:n,children:i.jsxs(Uo,{className:"max-w-3xl max-h-[80vh] overflow-y-auto",children:[i.jsxs(Vo,{children:[i.jsxs(Wo,{className:"flex items-center gap-2",children:[i.jsx(Hn,{className:"w-5 h-5 text-blue-600"}),e==null?void 0:e.title," - Course Materials"]}),i.jsx(VP,{children:"Upload materials and let AI generate quizzes and summaries"})]}),i.jsxs(tw,{defaultValue:"materials",className:"w-full",children:[i.jsxs(Qg,{className:"grid w-full grid-cols-2",children:[i.jsxs(Ju,{value:"materials",children:["Materials (",(_==null?void 0:_.length)||0,")"]}),i.jsx(Ju,{value:"upload",children:"Upload New"})]}),i.jsx(is,{value:"materials",className:"space-y-3",children:P?i.jsx("div",{className:"text-center py-8 text-slate-500",children:"Loading materials..."}):(_==null?void 0:_.length)===0?i.jsxs("div",{className:"text-center py-12 bg-slate-50 rounded-xl",children:[i.jsx(Sr,{className:"w-12 h-12 text-slate-300 mx-auto mb-3"}),i.jsx("p",{className:"text-slate-600 font-medium",children:"No materials yet"}),i.jsx("p",{className:"text-sm text-slate-400 mt-1",children:"Upload your first material to get started"})]}):_==null?void 0:_.map(F=>{var Y,H,ee;return i.jsxs("div",{className:"bg-white border border-slate-200 rounded-xl p-4 hover:shadow-md transition-shadow",children:[i.jsxs("div",{className:"flex items-start justify-between mb-3",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("h4",{className:"font-semibold text-slate-900",children:F.title}),i.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[i.jsx(It,{variant:"outline",className:"text-xs",children:F.type}),F.is_processed&&i.jsx(It,{className:"text-xs bg-emerald-100 text-emerald-700",children:"Processed"})]})]}),i.jsx(Oe,{variant:"ghost",size:"icon",onClick:()=>T.mutate(F.id),className:"text-red-600 hover:text-red-700",children:i.jsx(Qf,{className:"w-4 h-4"})})]}),F.summary&&i.jsx("div",{className:"bg-blue-50 rounded-lg p-3 mb-3",children:i.jsx("p",{className:"text-sm text-slate-700",children:F.summary})}),i.jsx("div",{className:"flex gap-2",children:(Y=F.tags)!=null&&Y.includes("bot-search")||(H=F.tags)!=null&&H.includes("pdf-search")||(ee=F.tags)!=null&&ee.includes("global-search")?i.jsxs(Oe,{variant:"outline",size:"sm",className:"w-full text-blue-600 border-blue-200 bg-blue-50 hover:bg-blue-100",onClick:()=>{var ve;return(ve=window.electron)!=null&&ve.openExternalUrl?window.electron.openExternalUrl(F.file_url):window.open(F.file_url,"_blank")},children:[i.jsx(Ns,{className:"w-4 h-4 mr-2"}),"Open Search Tool"]}):i.jsxs(i.Fragment,{children:[i.jsxs(Oe,{variant:"outline",size:"sm",onClick:()=>V(F),disabled:m===F.id||!F.content,className:"flex-1",children:[m===F.id?i.jsx(jn,{className:"w-4 h-4 mr-2 animate-spin"}):i.jsx(Ft,{className:"w-4 h-4 mr-2"}),"Generate Quiz"]}),i.jsxs(Oe,{variant:"outline",size:"sm",onClick:()=>W(F),disabled:v===F.id||F.is_processed||!F.content,className:"flex-1",children:[v===F.id?i.jsx(jn,{className:"w-4 h-4 mr-2 animate-spin"}):i.jsx(Sr,{className:"w-4 h-4 mr-2"}),F.is_processed?"Summary Done":"Generate Summary"]})]})})]},F.id)})}),i.jsx(is,{value:"upload",className:"space-y-4",children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx(kt,{children:"Material Title"}),i.jsx(un,{placeholder:"Lecture 5 - Data Structures",value:u,onChange:F=>d(F.target.value)})]}),i.jsx("div",{className:Ne("border-2 border-dashed rounded-xl p-8 text-center transition-colors",f?"border-blue-500 bg-blue-50":"border-slate-300"),onDragEnter:I,onDragLeave:I,onDragOver:I,onDrop:L,children:o?i.jsxs("div",{children:[i.jsx(Sr,{className:"w-12 h-12 text-blue-600 mx-auto mb-3"}),i.jsx("p",{className:"font-medium text-slate-900",children:o.name}),i.jsxs("p",{className:"text-sm text-slate-500",children:[(o.size/1024).toFixed(1)," KB"]}),i.jsx(Oe,{variant:"outline",size:"sm",className:"mt-3",onClick:()=>l(null),children:"Remove"})]}):i.jsxs(i.Fragment,{children:[i.jsx(os,{className:"w-12 h-12 text-slate-400 mx-auto mb-3"}),i.jsx("p",{className:"text-slate-600 mb-2",children:"Drag and drop your file here"}),i.jsx("p",{className:"text-sm text-slate-400 mb-4",children:"PDF, images, or text files"}),i.jsx(Oe,{variant:"outline",onClick:()=>document.getElementById("file-upload").click(),children:"Browse Files"}),i.jsx("input",{id:"file-upload",type:"file",className:"hidden",onChange:z,accept:".pdf,.png,.jpg,.jpeg,.txt,.doc,.docx"})]})}),i.jsx(Oe,{onClick:$,disabled:!o||!u||r,className:"w-full",children:r?i.jsxs(i.Fragment,{children:[i.jsx(jn,{className:"w-4 h-4 mr-2 animate-spin"}),"Uploading..."]}):i.jsxs(i.Fragment,{children:[i.jsx(os,{className:"w-4 h-4 mr-2"}),"Upload Material"]})})]})})]})]})})}const Aa=["bg-blue-500","bg-purple-500","bg-emerald-500","bg-orange-500","bg-pink-500","bg-cyan-500","bg-indigo-500","bg-teal-500"],EW=["Fall 2024","Spring 2025","Summer 2025","Fall 2025"];function PW(){const[e,t]=b.useState(""),[n,r]=b.useState(!1),[s,o]=b.useState(null),[l,u]=b.useState(!1),[d,f]=b.useState(null),[p,m]=b.useState({code:"",title:"",description:"",instructor:"",credits:3,semester:"Spring 2025",color:Aa[0],progress:0}),[x,v]=b.useState(!1),S=cs();jr.useEffect(()=>{const Y=new URLSearchParams(window.location.search).get("code");Y&&t(Y)},[]);const{data:N,isLoading:_}=zt({queryKey:["modules"],queryFn:async()=>(await ke.entities.Module.list()).sort((Y,H)=>(Y.code||"").localeCompare(H.code||""))}),P=Ws({mutationFn:F=>ke.entities.Module.create(F),onSuccess:()=>{S.invalidateQueries({queryKey:["modules"]}),L()}}),T=Ws({mutationFn:F=>ke.entities.Module.update(F.id,F.data),onSuccess:()=>{S.invalidateQueries({queryKey:["modules"]}),L()}}),I=Ws({mutationFn:F=>ke.entities.Module.delete(F),onSuccess:()=>S.invalidateQueries({queryKey:["modules"]})}),L=()=>{m({code:"",title:"",description:"",instructor:"",credits:3,semester:"Spring 2025",color:Aa[Math.floor(Math.random()*Aa.length)],progress:0}),o(null),r(!1)},z=F=>{o(F),m({code:F.code||"",title:F.title||"",description:F.description||"",instructor:F.instructor||"",credits:F.credits||3,semester:F.semester||"Spring 2025",color:F.color||Aa[0],progress:F.progress||0}),r(!0)},$=()=>{s?T.mutate({id:s.id,data:p}):P.mutate(p)},V=async()=>{if(!p.code&&!p.title){alert("Please enter a module code or title first");return}v(!0);try{const F=p.code||p.title,Y=await ke.integrations.Core.InvokeLLM({prompt:`Search for information about this university course/module: "${F}". 
        
Find and return:
- Full course title
- Course description
- Instructor name (if publicly available)
- Number of credits
- Any relevant course resources or links

Return only factual information found online. If you cannot find specific information, leave those fields empty.`,systemPrompt:"You are an academic researcher finding course details online.",response_json_schema:{type:"object",properties:{title:{type:"string"},description:{type:"string"},instructor:{type:"string"},credits:{type:"number"},resources:{type:"string"}}}});m({...p,title:Y.title||p.title,description:Y.description||p.description,instructor:Y.instructor||p.instructor,credits:Y.credits||p.credits}),Y.resources&&m(H=>({...H,description:H.description?`${H.description}

Resources:
${Y.resources}`:`Resources:
${Y.resources}`}))}catch{alert("Failed to find module information online")}finally{v(!1)}},W=(N==null?void 0:N.filter(F=>{var Y,H;return((Y=F.title)==null?void 0:Y.toLowerCase().includes(e.toLowerCase()))||((H=F.code)==null?void 0:H.toLowerCase().includes(e.toLowerCase()))}))||[];return i.jsxs("div",{className:"max-w-7xl mx-auto space-y-8",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold text-slate-900 tracking-tight",children:"My Modules"}),i.jsx("p",{className:"text-slate-500 mt-1",children:"Manage your enrolled courses and track progress"})]}),i.jsxs(Oe,{onClick:()=>r(!0),className:"bg-blue-600 hover:bg-blue-700 shadow-lg shadow-blue-500/25",children:[i.jsx(Yf,{className:"w-4 h-4 mr-2"}),"Add Module"]})]}),i.jsxs("div",{className:"relative max-w-md",children:[i.jsx(qa,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),i.jsx(un,{placeholder:"Search modules...",value:e,onChange:F=>t(F.target.value),className:"pl-10 bg-white border-slate-200"})]}),_?i.jsx("div",{className:"grid sm:grid-cols-2 lg:grid-cols-3 gap-6",children:Array(6).fill(0).map((F,Y)=>i.jsx(_w,{className:"h-64 rounded-2xl"},Y))}):W.length===0?i.jsxs("div",{className:"text-center py-16 bg-white rounded-2xl border border-slate-200/60",children:[i.jsx("div",{className:"w-16 h-16 rounded-2xl bg-slate-100 flex items-center justify-center mx-auto mb-4",children:i.jsx(Hn,{className:"w-8 h-8 text-slate-400"})}),i.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"No modules yet"}),i.jsx("p",{className:"text-slate-500 mt-1 mb-4",children:"Add your first module to get started"}),i.jsxs(Oe,{onClick:()=>r(!0),children:[i.jsx(Yf,{className:"w-4 h-4 mr-2"}),"Add Module"]})]}):i.jsx("div",{className:"grid sm:grid-cols-2 lg:grid-cols-3 gap-6",children:W.map((F,Y)=>{var H;return i.jsxs("div",{className:"group bg-white rounded-2xl border border-slate-200/60 overflow-hidden hover:shadow-xl hover:-translate-y-1 transition-all duration-300 cursor-pointer",onClick:()=>{f(F),u(!0)},children:[i.jsx("div",{className:Ne("h-3",F.color||Aa[Y%Aa.length])}),i.jsxs("div",{className:"p-6",children:[i.jsxs("div",{className:"flex items-start justify-between mb-4",children:[i.jsx("div",{className:Ne("w-12 h-12 rounded-xl flex items-center justify-center text-white font-bold text-lg",F.color||Aa[Y%Aa.length]),children:((H=F.code)==null?void 0:H.slice(0,2))||"M"}),i.jsxs(mg,{children:[i.jsx(gg,{asChild:!0,children:i.jsx(Oe,{variant:"ghost",size:"icon",className:"opacity-0 group-hover:opacity-100 transition-opacity",onClick:ee=>ee.stopPropagation(),children:i.jsx(pv,{className:"w-4 h-4"})})}),i.jsxs(nh,{align:"end",children:[i.jsxs(fi,{onClick:ee=>{ee.stopPropagation(),f(F),u(!0)},children:[i.jsx(Sr,{className:"w-4 h-4 mr-2"}),"Materials"]}),i.jsxs(fi,{onClick:ee=>{ee.stopPropagation(),z(F)},children:[i.jsx(gv,{className:"w-4 h-4 mr-2"}),"Edit"]}),i.jsxs(fi,{onClick:ee=>{ee.stopPropagation(),I.mutate(F.id)},className:"text-red-600",children:[i.jsx(Qf,{className:"w-4 h-4 mr-2"}),"Delete"]})]})]})]}),i.jsx(It,{variant:"secondary",className:"mb-2 bg-slate-100 text-slate-600",children:F.code}),i.jsx("h3",{className:"font-semibold text-slate-900 text-lg mb-2 line-clamp-2",children:F.title}),i.jsxs("div",{className:"space-y-2 text-sm text-slate-500 mb-4",children:[F.instructor&&i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(qg,{className:"w-4 h-4"}),i.jsx("span",{children:F.instructor})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(pi,{className:"w-4 h-4"}),i.jsxs("span",{children:[F.credits||3," credits"]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center justify-between text-sm",children:[i.jsx("span",{className:"text-slate-500",children:"Progress"}),i.jsxs("span",{className:"font-semibold text-slate-900",children:[F.progress||0,"%"]})]}),i.jsx(Kg,{value:F.progress||0,className:"h-2"})]})]})]},F.id)})}),i.jsx(Yl,{open:n,onOpenChange:r,children:i.jsxs(Uo,{className:"max-w-md",children:[i.jsx(Vo,{children:i.jsx(Wo,{children:s?"Edit Module":"Add New Module"})}),i.jsxs("div",{className:"space-y-4 py-4",children:[i.jsxs("div",{className:"bg-blue-50 rounded-lg p-3 flex items-start gap-3",children:[i.jsx(Ft,{className:"w-5 h-5 text-blue-600 mt-0.5 flex-shrink-0"}),i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"text-sm font-medium text-blue-900",children:"AI-Powered Search"}),i.jsx("p",{className:"text-xs text-blue-700 mt-0.5",children:"Enter a module code or title, then click search to auto-fill details from online sources"})]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(kt,{children:"Module Code"}),i.jsx(un,{placeholder:"CS301",value:p.code,onChange:F=>m({...p,code:F.target.value})})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(kt,{children:"Credits"}),i.jsx(un,{type:"number",value:p.credits,onChange:F=>m({...p,credits:parseInt(F.target.value)})})]})]}),i.jsx(Oe,{type:"button",variant:"outline",onClick:V,disabled:x||!p.code&&!p.title,className:"w-full",children:x?i.jsxs(i.Fragment,{children:[i.jsx(jn,{className:"w-4 h-4 mr-2 animate-spin"}),"Searching online..."]}):i.jsxs(i.Fragment,{children:[i.jsx(Ft,{className:"w-4 h-4 mr-2"}),"Search Module Online"]})}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(kt,{children:"Module Title"}),i.jsx(un,{placeholder:"Advanced Algorithms",value:p.title,onChange:F=>m({...p,title:F.target.value})})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(kt,{children:"Description"}),i.jsx(ea,{placeholder:"Course description...",value:p.description,onChange:F=>m({...p,description:F.target.value}),rows:3})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(kt,{children:"Instructor"}),i.jsx(un,{placeholder:"Dr. Smith",value:p.instructor,onChange:F=>m({...p,instructor:F.target.value})})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(kt,{children:"Semester"}),i.jsxs(hr,{value:p.semester,onValueChange:F=>m({...p,semester:F}),children:[i.jsx(rr,{children:i.jsx(pr,{})}),i.jsx(sr,{children:EW.map(F=>i.jsx(Vt,{value:F,children:F},F))})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(kt,{children:"Color"}),i.jsx("div",{className:"flex gap-2 flex-wrap",children:Aa.map(F=>i.jsx("button",{onClick:()=>m({...p,color:F}),className:Ne("w-8 h-8 rounded-lg transition-all",F,p.color===F&&"ring-2 ring-offset-2 ring-slate-900")},F))})]})]}),i.jsxs(lg,{children:[i.jsx(Oe,{variant:"outline",onClick:L,children:"Cancel"}),i.jsxs(Oe,{onClick:$,disabled:!p.code||!p.title,className:"bg-blue-600 hover:bg-blue-700",children:[s?"Update":"Create"," Module"]})]})]})}),i.jsx(CW,{module:d,isOpen:l,onClose:()=>{u(!1),f(null)}})]})}const ym=[{id:"basic",name:"Starter Bundle",price:5,credits:50,description:"Perfect for single subject deep-dives",popular:!1,paypalUrl:"https://www.paypal.com/ncp/payment/BSLN4YNSY3WH2",yocoUrl:"https://pay.yoco.com/r/7XPopK"},{id:"pro",name:"Pro Learner",price:10,credits:100,description:"Best for comprehensive exam prep",popular:!0,paypalUrl:"https://www.paypal.com/ncp/payment/Z88FF3R39WB44",yocoUrl:"https://pay.yoco.com/r/mEq5we"},{id:"master",name:"Master Suite",price:15,credits:150,description:"Full semester coverage for power users",popular:!1,paypalUrl:"https://www.paypal.com/ncp/payment/VVUM4GNPHPJTG",yocoUrl:"https://pay.yoco.com/r/4gzxbB"}];function AW(){const[e,t]=b.useState(null),[n,r]=b.useState(ym[1]),[s,o]=b.useState(0);b.useEffect(()=>{const f=new URLSearchParams(window.location.search),p=f.get("payment"),m=f.get("tier");if(p&&(t(p),p==="success")){const x=m||localStorage.getItem("last_selected_tier"),v=ym.find(S=>S.id===x)||ym[1];ke.wallet.addCredits(v.credits,{amount:v.price,currency:"USD",note:`Purchase of ${v.name}`}).then(S=>{o(S),at.success(`Success! ${v.credits} credits have been added.`),localStorage.removeItem("last_selected_tier")})}ke.wallet.getBalance().then(o)},[]);const l=f=>{r(f),localStorage.setItem("last_selected_tier",f.id)},u=()=>{window.open(n.paypalUrl,"_blank"),at.info("Opening PayPal... Please complete the payment and return.")},d=()=>{window.open(n.yocoUrl,"_blank"),at.info("Opening Secure Card Checkout... Please complete the payment and return.")};return e==="success"?i.jsx("div",{className:"max-w-md mx-auto mt-20",children:i.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl border border-slate-200 p-10 text-center animate-in fade-in zoom-in duration-500",children:[i.jsx("div",{className:"w-20 h-20 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-6 shadow-lg shadow-green-100/50",children:i.jsx(Us,{className:"w-10 h-10 text-green-600"})}),i.jsx("h2",{className:"text-3xl font-bold text-slate-900 mb-3",children:"Payment Successful!"}),i.jsx("p",{className:"text-slate-600 mb-8",children:"Your credits have been added to your local wallet. You're ready to use premium AI features!"}),i.jsxs("div",{className:"p-4 bg-slate-50 rounded-2xl mb-8 flex justify-between items-center",children:[i.jsx("span",{className:"text-slate-500 font-medium text-sm",children:"New Balance"}),i.jsxs("span",{className:"text-blue-600 font-bold flex items-center gap-1",children:[i.jsx(En,{className:"w-4 h-4 fill-current"})," ",s," Credits"]})]}),i.jsx(Mr,{to:qn("Dashboard"),children:i.jsx(Oe,{className:"w-full py-6 text-lg rounded-2xl bg-blue-600 hover:bg-blue-700 shadow-xl shadow-blue-500/25",children:"Return to Dashboard"})})]})}):i.jsxs("div",{className:"max-w-5xl mx-auto space-y-12",children:[i.jsxs("div",{className:"text-center space-y-4",children:[i.jsx("h1",{className:"text-4xl font-extrabold text-slate-900 tracking-tight",children:"Level Up Your Learning"}),i.jsx("p",{className:"text-lg text-slate-500 max-w-2xl mx-auto",children:"Add Learning Credits to your wallet to unlock deep-dive AI analysis, unlimited summaries, and personalized study paths."}),i.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-4",children:[i.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 bg-emerald-50 text-emerald-700 rounded-full border border-emerald-100 font-bold text-sm",children:[i.jsx(Us,{className:"w-4 h-4"}),"Free Plan: 25 Credits / Month"]}),i.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 bg-blue-50 text-blue-700 rounded-full border border-blue-100 font-bold text-sm",children:[i.jsx(En,{className:"w-4 h-4 fill-current"}),"Current Wallet Balance: ",s," Credits"]})]})]}),i.jsx("div",{className:"grid md:grid-cols-3 gap-8",children:ym.map(f=>i.jsxs("div",{onClick:()=>l(f),className:`relative p-8 rounded-3xl border-2 transition-all duration-300 cursor-pointer group ${n.id===f.id?"border-blue-500 bg-white ring-4 ring-blue-50 shadow-2xl scale-105 z-10":"border-slate-100 bg-slate-50/50 hover:border-slate-200"}`,children:[f.popular&&i.jsx("div",{className:"absolute -top-4 left-1/2 -translate-x-1/2 bg-gradient-to-r from-blue-600 to-indigo-600 text-white text-xs font-bold px-4 py-1.5 rounded-full shadow-lg",children:"MOST POPULAR"}),i.jsxs("div",{className:"space-y-4",children:[i.jsx("div",{className:"flex justify-between items-start",children:i.jsxs("div",{children:[i.jsx("h3",{className:"font-bold text-slate-900 text-xl",children:f.name}),i.jsx("p",{className:"text-slate-500 text-sm",children:f.description})]})}),i.jsxs("div",{className:"flex items-baseline gap-1",children:[i.jsxs("span",{className:"text-4xl font-black text-slate-900",children:["$",f.price]}),i.jsx("span",{className:"text-slate-400 font-medium",children:"one-time"})]}),i.jsxs("div",{className:"p-4 bg-blue-50 border border-blue-100 rounded-2xl flex items-center justify-between",children:[i.jsxs("div",{className:"flex flex-col",children:[i.jsx("span",{className:"text-blue-700 font-bold text-2xl",children:f.credits}),i.jsx("span",{className:"text-blue-600/70 text-xs uppercase font-bold tracking-widest leading-none",children:"Credits"})]}),i.jsx(En,{className:`w-8 h-8 ${n.id===f.id?"text-blue-600 animate-pulse":"text-blue-300"}`})]}),i.jsx("ul",{className:"space-y-3 pt-4",children:["Instant Delivery","Non-expiring Credits","AI Personalization","Priority Support"].map(p=>i.jsxs("li",{className:"flex items-center gap-2 text-sm text-slate-600 font-medium",children:[i.jsx(Us,{className:"w-4 h-4 text-green-500"}),p]},p))})]})]},f.id))}),i.jsx("div",{className:"bg-white rounded-3xl border border-slate-200 p-8 md:p-12 shadow-xl shadow-slate-200/50",children:i.jsxs("div",{className:"grid md:grid-cols-2 gap-12 items-center",children:[i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-12 h-12 rounded-2xl bg-blue-600 flex items-center justify-center text-white shadow-lg shadow-blue-500/30 font-bold text-xl",children:n.name[0]}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-bold text-slate-900 text-2xl",children:"Confirm Purchase"}),i.jsxs("p",{className:"text-slate-500",children:[n.name,"  ",n.credits," Credits"]})]})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex justify-between text-slate-600",children:[i.jsx("span",{children:"Pack Price"}),i.jsxs("span",{children:["$",n.price.toFixed(2)]})]}),i.jsxs("div",{className:"flex justify-between text-slate-900 font-bold text-lg pt-3 border-t",children:[i.jsx("span",{children:"Total Due"}),i.jsxs("span",{children:["$",n.price.toFixed(2)]})]})]}),i.jsxs("div",{className:"flex flex-col gap-4",children:[i.jsxs(Oe,{onClick:u,className:"w-full py-8 rounded-2xl bg-amber-400 hover:bg-amber-500 text-slate-900 font-bold text-lg shadow-lg shadow-amber-200/50 flex items-center justify-center gap-3",children:[i.jsx("img",{src:"https://www.paypalobjects.com/webstatic/mktg/logo/pp_cc_mark_37x23.jpg",alt:"PayPal",className:"h-6"}),"Pay with PayPal"]}),i.jsxs(Oe,{onClick:d,className:"w-full py-8 rounded-2xl bg-blue-600 hover:bg-blue-700 text-white font-bold text-lg shadow-lg shadow-blue-200/50 flex items-center justify-center gap-3",children:[i.jsx(OC,{className:"w-6 h-6"}),"Pay with Card (Yoco)"]})]})]}),i.jsxs("div",{className:"bg-slate-50 rounded-2xl p-8 space-y-6 border border-slate-100",children:[i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx(Xm,{className:"w-6 h-6 text-blue-600 mt-1"}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-bold text-slate-900",children:"Secure Checkout"}),i.jsx("p",{className:"text-sm text-slate-500",children:"Your payments are processed securely. We never store your credit card information on our servers."})]})]}),i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx(Us,{className:"w-6 h-6 text-blue-600 mt-1"}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-bold text-slate-900",children:"Instant Activation"}),i.jsx("p",{className:"text-sm text-slate-500",children:"Credits are added to your local wallet immediately after a successful transaction."})]})]})]})]})})]})}var Sx="Switch",[TW]=xi(Sx),[RW,IW]=TW(Sx),zI=b.forwardRef((e,t)=>{const{__scopeSwitch:n,name:r,checked:s,defaultChecked:o,required:l,disabled:u,value:d="on",onCheckedChange:f,form:p,...m}=e,[x,v]=b.useState(null),S=qt(t,I=>v(I)),N=b.useRef(!1),_=x?p||!!x.closest("form"):!0,[P,T]=Zo({prop:s,defaultProp:o??!1,onChange:f,caller:Sx});return i.jsxs(RW,{scope:n,checked:P,disabled:u,children:[i.jsx(At.button,{type:"button",role:"switch","aria-checked":P,"aria-required":l,"data-state":qI(P),"data-disabled":u?"":void 0,disabled:u,value:d,...m,ref:S,onClick:nt(e.onClick,I=>{T(L=>!L),_&&(N.current=I.isPropagationStopped(),N.current||I.stopPropagation())})}),_&&i.jsx(WI,{control:x,bubbles:!N.current,name:r,value:d,checked:P,required:l,disabled:u,form:p,style:{transform:"translateX(-100%)"}})]})});zI.displayName=Sx;var UI="SwitchThumb",VI=b.forwardRef((e,t)=>{const{__scopeSwitch:n,...r}=e,s=IW(UI,n);return i.jsx(At.span,{"data-state":qI(s.checked),"data-disabled":s.disabled?"":void 0,...r,ref:t})});VI.displayName=UI;var MW="SwitchBubbleInput",WI=b.forwardRef(({__scopeSwitch:e,control:t,checked:n,bubbles:r=!0,...s},o)=>{const l=b.useRef(null),u=qt(l,o),d=oT(n),f=nA(t);return b.useEffect(()=>{const p=l.current;if(!p)return;const m=window.HTMLInputElement.prototype,v=Object.getOwnPropertyDescriptor(m,"checked").set;if(d!==n&&v){const S=new Event("click",{bubbles:r});v.call(p,n),p.dispatchEvent(S)}},[d,n,r]),i.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...s,tabIndex:-1,ref:u,style:{...s.style,...f,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});WI.displayName=MW;function qI(e){return e?"checked":"unchecked"}var HI=zI,OW=VI;const Rf=b.forwardRef(({className:e,...t},n)=>i.jsx(HI,{className:Ne("peer inline-flex h-5 w-9 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent shadow-sm transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:n,children:i.jsx(OW,{className:Ne("pointer-events-none block h-4 w-4 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-4 data-[state=unchecked]:translate-x-0")})}));Rf.displayName=HI.displayName;var DW=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],LW=DW.reduce((e,t)=>{const n=Hg(`Primitive.${t}`),r=b.forwardRef((s,o)=>{const{asChild:l,...u}=s,d=l?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),i.jsx(d,{...u,ref:o})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{}),FW="Separator",o_="horizontal",$W=["horizontal","vertical"],KI=b.forwardRef((e,t)=>{const{decorative:n,orientation:r=o_,...s}=e,o=BW(r)?r:o_,u=n?{role:"none"}:{"aria-orientation":o==="vertical"?o:void 0,role:"separator"};return i.jsx(LW.div,{"data-orientation":o,...u,...s,ref:t})});KI.displayName=FW;function BW(e){return $W.includes(e)}var GI=KI;const Pg=b.forwardRef(({className:e,orientation:t="horizontal",decorative:n=!0,...r},s)=>i.jsx(GI,{ref:s,decorative:n,orientation:t,className:Ne("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...r}));Pg.displayName=GI.displayName;function zW(){var v;const{data:e}=zt({queryKey:["currentUser"],queryFn:()=>ke.auth.me()}),[t,n]=b.useState({full_name:"",email:""}),[r,s]=b.useState(null),[o,l]=b.useState(!0),[u,d]=b.useState({gemini:localStorage.getItem("gemini_key")||"",deepseek:localStorage.getItem("deepseek_key")||""});b.useEffect(()=>{e&&n({full_name:e.full_name||"",email:e.email||""})},[e]),b.useEffect(()=>{(async()=>{const{getNotificationSettings:N}=await bs(async()=>{const{getNotificationSettings:P}=await Promise.resolve().then(()=>_S);return{getNotificationSettings:P}},void 0,import.meta.url),_=await N();s(_),l(!1)})()},[]);const f=async()=>{await ke.auth.updateProfile(t),at.success("Profile updated successfully!")},p=()=>{localStorage.setItem("gemini_key",u.gemini),localStorage.setItem("deepseek_key",u.deepseek),at.success("AI keys saved successfully!")},m=async()=>{const{saveNotificationSettings:S}=await bs(async()=>{const{saveNotificationSettings:N}=await Promise.resolve().then(()=>_S);return{saveNotificationSettings:N}},void 0,import.meta.url);await S(r),at.success("Notification preferences saved!")},x=()=>{ke.auth.logout()};return i.jsxs("div",{className:"max-w-4xl mx-auto space-y-8 pb-10",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold text-slate-900 tracking-tight",children:"Settings"}),i.jsx("p",{className:"text-slate-500 mt-1",children:"Manage your account, AI preferences, and local storage"})]}),i.jsxs("div",{className:"grid gap-6",children:[i.jsxs(Nt,{children:[i.jsxs(Bo,{children:[i.jsxs(zo,{className:"flex items-center gap-2",children:[i.jsx(qg,{className:"w-5 h-5 text-slate-600"}),"Profile"]}),i.jsx(dc,{children:"Your personal information"})]}),i.jsxs(zs,{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("div",{className:"w-16 h-16 rounded-2xl bg-gradient-to-br from-blue-500 to-indigo-600 flex items-center justify-center text-white text-2xl font-bold",children:((v=t.full_name)==null?void 0:v.charAt(0))||"S"}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold text-slate-900",children:t.full_name||"Student"}),i.jsx("p",{className:"text-sm text-slate-500",children:t.email||"student@university.edu"})]})]}),i.jsx(Pg,{}),i.jsxs("div",{className:"grid sm:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(kt,{children:"Full Name"}),i.jsx(un,{value:t.full_name,onChange:S=>n({...t,full_name:S.target.value}),placeholder:"Your name"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(kt,{children:"Email"}),i.jsx(un,{value:t.email,onChange:S=>n({...t,email:S.target.value}),placeholder:"Email address"})]})]}),i.jsx(Oe,{className:"w-full bg-slate-900 hover:bg-slate-800 text-white",onClick:f,children:"Save Profile Info"})]})]}),i.jsxs(Nt,{className:"border-violet-200 shadow-sm",children:[i.jsxs(Bo,{children:[i.jsxs(zo,{className:"flex items-center gap-2",children:[i.jsx(Ft,{className:"w-5 h-5 text-violet-600"}),"AI Brains Configuration"]}),i.jsx(dc,{children:"Configure the AI models that power your AI Study Buddy."})]}),i.jsxs(zs,{className:"space-y-6",children:[i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs(kt,{className:"flex items-center gap-2",children:[i.jsx(rS,{className:"w-4 h-4 text-slate-400"}),"Gemini API Key (Google AI)"]}),i.jsx("span",{className:"text-[10px] bg-green-100 text-green-700 px-2 py-0.5 rounded-full font-bold uppercase",children:"ENV Active"})]}),i.jsx(un,{type:"password",placeholder:"Paste your Gemini AI key here...",value:u.gemini,onChange:S=>d({...u,gemini:S.target.value})}),i.jsx("p",{className:"text-[10px] text-slate-500 italic",children:"* Best for scanning PDFs, images of notes, and multimodal tasks."})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs(kt,{className:"flex items-center gap-2",children:[i.jsx(rS,{className:"w-4 h-4 text-slate-400"}),"DeepSeek API Key"]}),i.jsx("span",{className:"text-[10px] bg-green-100 text-green-700 px-2 py-0.5 rounded-full font-bold uppercase",children:"ENV Active"})]}),i.jsx(un,{type:"password",placeholder:"Paste your DeepSeek key here...",value:u.deepseek,onChange:S=>d({...u,deepseek:S.target.value})}),i.jsx("p",{className:"text-[10px] text-slate-500 italic",children:"* High-speed fallback for general chat and study assistance."})]})]}),i.jsxs(Oe,{className:"w-full bg-violet-600 hover:bg-violet-700 text-white",onClick:p,children:[i.jsx(MD,{className:"w-4 h-4 mr-2"}),"Save Config Locally"]})]})]}),i.jsxs(Nt,{children:[i.jsxs(Bo,{children:[i.jsxs(zo,{className:"flex items-center gap-2",children:[i.jsx(fv,{className:"w-5 h-5 text-slate-600"}),"Notifications"]}),i.jsx(dc,{children:"Configure how and when you receive updates"})]}),i.jsx(zs,{className:"space-y-6",children:o?i.jsx("p",{className:"text-sm text-slate-500",children:"Loading preferences..."}):i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-slate-900",children:"Assignment Deadlines"}),i.jsx("p",{className:"text-sm text-slate-500",children:"Get reminded about upcoming deadlines"})]}),i.jsx(Rf,{checked:(r==null?void 0:r.deadlines_enabled)??!0,onCheckedChange:S=>s({...r,deadlines_enabled:S})})]}),(r==null?void 0:r.deadlines_enabled)&&i.jsxs("div",{className:"ml-6 pl-4 border-l-2 border-blue-100 space-y-3",children:[i.jsx("p",{className:"text-sm font-medium text-slate-700",children:"Reminder Intervals"}),i.jsx("p",{className:"text-xs text-slate-500",children:"Choose when to be reminded before assignment due dates"}),i.jsx("div",{className:"flex flex-wrap gap-2",children:[15,7,3,1].map(S=>i.jsxs("button",{onClick:()=>{const N=r.intervals||[15,7,3,1],_=N.includes(S)?N.filter(P=>P!==S):[...N,S].sort((P,T)=>T-P);s({...r,intervals:_})},className:Ne("px-3 py-1.5 rounded-lg text-sm font-medium transition-colors",((r==null?void 0:r.intervals)||[15,7,3,1]).includes(S)?"bg-blue-600 text-white":"bg-slate-100 text-slate-600 hover:bg-slate-200"),children:[S," ",S===1?"day":"days"," before"]},S))})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-slate-900",children:"New Study Materials"}),i.jsx("p",{className:"text-sm text-slate-500",children:"Be notified when new materials are added"})]}),i.jsx(Rf,{checked:(r==null?void 0:r.materials_enabled)??!0,onCheckedChange:S=>s({...r,materials_enabled:S})})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-slate-900",children:"Achievements"}),i.jsx("p",{className:"text-sm text-slate-500",children:"Celebrate your study milestones"})]}),i.jsx(Rf,{checked:(r==null?void 0:r.achievements_enabled)??!0,onCheckedChange:S=>s({...r,achievements_enabled:S})})]}),i.jsx(Pg,{}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-slate-900",children:"Desktop Notifications"}),i.jsx("p",{className:"text-sm text-slate-500",children:"Show system notifications when app is minimized"})]}),i.jsx(Rf,{checked:(r==null?void 0:r.desktop_enabled)??!0,onCheckedChange:S=>s({...r,desktop_enabled:S})})]}),i.jsx(Oe,{onClick:m,className:"w-full bg-blue-600 hover:bg-blue-700 text-white",children:"Save Notification Preferences"})]})})]}),i.jsxs(Nt,{className:"border-red-200",children:[i.jsx(Bo,{children:i.jsxs(zo,{className:"flex items-center gap-2 text-slate-900",children:[i.jsx(zC,{className:"w-5 h-5 text-slate-600"}),"Account"]})}),i.jsx(zs,{children:i.jsxs(Oe,{variant:"outline",onClick:x,className:"text-red-600 border-red-200 hover:bg-red-50",children:[i.jsx(f3,{className:"w-4 h-4 mr-2"}),"Sign Out"]})})]})]})]})}async function UW(e,t=null){try{const n=e.file_url;if(!n)throw new Error("No file URL provided");const r=document.createElement("a");return r.href=n,r.download=t||e.title||"document.pdf",r.target="_blank",document.body.appendChild(r),r.click(),document.body.removeChild(r),{success:!0}}catch(n){return console.error("Error downloading PDF:",n),{success:!1,error:n.message}}}async function VW(e){try{const t=await WW(e);return await ke.integrations.Core.InvokeLLM({prompt:"Extract ALL text from this PDF document. Return ONLY the extracted text content, preserving paragraph structure and formatting as much as possible. Do not add any commentary or explanations.",systemPrompt:"You are an OCR assistant. Extract text accurately from documents.",image:t})}catch(t){throw console.error("Error extracting text from PDF:",t),t}}function WW(e){return new Promise((t,n)=>{const r=new FileReader;r.readAsDataURL(e),r.onload=()=>{const s=r.result.split(",")[1];t(s)},r.onerror=s=>n(s)})}function qW(e){if(!e)return!1;const t=e.file_url||"",n=e.type||"",r=e.title||"";return t.toLowerCase().endsWith(".pdf")||n==="pdf"||r.toLowerCase().endsWith(".pdf")}function HW({modules:e,onSuccess:t}){var Y;const[n,r]=b.useState(null),[s,o]=b.useState(""),[l,u]=b.useState(""),[d,f]=b.useState(!1),[p,m]=b.useState(!1),[x,v]=b.useState(!1),[S,N]=b.useState(null),[_,P]=b.useState(!1),T=cs(),I=Ws({mutationFn:H=>ke.entities.StudyMaterial.create(H),onSuccess:()=>{T.invalidateQueries({queryKey:["materials"]}),r(null),o(""),u(""),t==null||t()}}),L=b.useCallback(H=>{H.preventDefault(),H.stopPropagation(),H.type==="dragenter"||H.type==="dragover"?m(!0):H.type==="dragleave"&&m(!1)},[]),z=b.useCallback(async H=>{if(H.preventDefault(),H.stopPropagation(),m(!1),H.dataTransfer.files&&H.dataTransfer.files[0]){const ee=H.dataTransfer.files[0];(ee.type==="application/pdf"||ee.type.includes("text"))&&(r(ee),s||o(ee.name.replace(/\.[^/.]+$/,"")),e&&e.length>0&&await V(ee))}},[s,e]),$=async H=>{if(H.target.files&&H.target.files[0]){const ee=H.target.files[0];r(ee),s||o(ee.name.replace(/\.[^/.]+$/,"")),e&&e.length>0&&await V(ee)}},V=async H=>{if(!(!H||!e||e.length===0)){v(!0);try{const{file_url:ee}=await ke.integrations.Core.UploadFile({file:H}),ve=e.map(K=>`${K.code}: ${K.title}${K.description?" - "+K.description:""}`).join(`
`),ae=e.map(K=>K.code).join(", "),ge=(await ke.integrations.Core.InvokeLLM({prompt:`SCAN this document carefully and find the module/course code.

**WHERE TO LOOK (check ALL of these):**
1. Top of the first page - header area
2. Title or heading sections
3. Footer with course information
4. Any section labeled "Module", "Course", "Subject", "Code"
5. Study guide headers
6. Watermarks or stamps
7. Inside the document title/filename references

**PATTERNS TO MATCH:**
- Format like: CS301, BIO101, MATH201, ENG102
- May appear as: "Module: CS301" or "Course Code: CS301" or just "CS301"
- Sometimes written as "CS 301" (with space)
- Can be in parentheses or brackets

**Available Module Codes:**
${ae}

**Full Module List:**
${ve}

INSTRUCTIONS:
1. Read the ENTIRE first page carefully
2. Look for ANY of the module codes listed above
3. Check variations with/without spaces
4. Return ONLY the matching code in this exact format: just the code like "CS301"
5. If NO match found, return exactly: "NONE"

DO NOT explain, DO NOT add extra text. Return ONLY the code or "NONE".`,file_urls:[ee],isBackground:!0})).trim().toUpperCase().replace(/\s+/g,""),Se=e.find(K=>{const fe=K.code.toUpperCase().replace(/\s+/g,"");return fe===ge||ge.includes(fe)});Se&&u(Se.id)}catch(ee){console.error("Module analysis error:",ee)}finally{v(!1)}}},W=async H=>{P(!0);try{const ee=await ke.integrations.Core.InvokeLLM({prompt:`Analyze this document and extract ALL prescribed/recommended books, textbooks, or reference materials mentioned.

Look for sections like:
- Prescribed textbooks
- Recommended reading
- Reference books
- Required materials
- Bibliography

For EACH book found, extract:
- Title
- Author(s)
- Edition (if mentioned)

Return a list of books.`,file_urls:[H],isBackground:!0,response_json_schema:{type:"object",properties:{books:{type:"array",items:{type:"object",properties:{title:{type:"string"},author:{type:"string"},edition:{type:"string"}}}}}}});let ve=ee;if(typeof ee=="string"&&(ee.trim().startsWith("{")||ee.trim().startsWith("[")))try{ve=JSON.parse(ee.replace(/```json\n?|```/g,"").trim())}catch{console.warn("Manual JSON parse failed in scanForPrescribedBooks")}if(ve&&ve.books&&ve.books.length>0){const ae=e==null?void 0:e.find(ge=>ge.id===l),he=await Promise.all(ve.books.map(async ge=>{const Se=`${ge.title} ${ge.author} ${ge.edition||""} pdf free download`,K=await ke.integrations.Core.InvokeLLM({prompt:`Find free online resources (PDFs, ebooks, or web content) for this book:
Title: ${ge.title}
Author: ${ge.author}
Edition: ${ge.edition||"Any"}

Search for legitimate free sources like:
- OpenStax
- Project Gutenberg  
- University open courseware
- Author's official website
- Archive.org
- Google Books preview
- Academic repositories

Return the BEST 2-3 direct URLs to access this content.`,add_context_from_internet:!0,isBackground:!0,response_json_schema:{type:"object",properties:{urls:{type:"array",items:{type:"object",properties:{url:{type:"string"},source:{type:"string"},description:{type:"string"}}}}}}});let fe=K;if(typeof K=="string"&&(K.trim().startsWith("{")||K.trim().startsWith("[")))try{fe=JSON.parse(K.replace(/```json\n?|```/g,"").trim())}catch{console.warn("Manual JSON parse failed in webResponse")}return{...ge,resources:fe&&fe.urls||[],module_id:l,module_code:ae==null?void 0:ae.code}}));for(const ge of he)await ke.entities.PrescribedBook.create({title:ge.title,author:ge.author,edition:ge.edition||"",module_id:ge.module_id,resources:ge.resources,source_document:s});T.invalidateQueries({queryKey:["prescribed-books"]}),N(he)}}catch(ee){console.error("Error scanning books:",ee)}finally{P(!1)}},F=async()=>{if(!n||!s)return;f(!0);let H="";try{const{file_url:ee}=await ke.integrations.Core.UploadFile({file:n});if(qW(n))try{H=await VW(n),at.success("OCR: Text extracted from PDF successfully!")}catch(ve){console.error("OCR extraction failed:",ve)}await I.mutateAsync({title:s,content:H||void 0,module_id:l||void 0,type:n.type==="application/pdf"?"pdf":"notes",file_url:ee,is_processed:!!H}),await W(ee)}catch(ee){console.error("Upload failed:",ee),at.error("Failed to upload material")}finally{f(!1)}};return i.jsxs("div",{className:"bg-white rounded-2xl border border-slate-200/60 p-6",children:[i.jsxs("h3",{className:"font-semibold text-slate-900 mb-4 flex items-center gap-2",children:[i.jsx(os,{className:"w-5 h-5 text-blue-600"}),"Upload Study Material"]}),i.jsx("div",{onDragEnter:L,onDragLeave:L,onDragOver:L,onDrop:z,className:Ne("border-2 border-dashed rounded-xl p-8 text-center transition-all",p?"border-blue-500 bg-blue-50":"border-slate-200 hover:border-slate-300",n&&"border-emerald-500 bg-emerald-50"),children:n?i.jsxs("div",{className:"flex items-center justify-center gap-3",children:[i.jsx("div",{className:"w-12 h-12 rounded-xl bg-emerald-100 flex items-center justify-center",children:i.jsx(Sr,{className:"w-6 h-6 text-emerald-600"})}),i.jsxs("div",{className:"text-left",children:[i.jsx("p",{className:"font-medium text-slate-900",children:n.name}),i.jsxs("p",{className:"text-sm text-slate-500",children:[(n.size/1024/1024).toFixed(2)," MB"]})]}),i.jsx(Oe,{variant:"ghost",size:"icon",onClick:()=>r(null),className:"ml-2",children:i.jsx(Dr,{className:"w-4 h-4"})}),i.jsxs(Oe,{variant:"outline",size:"sm",onClick:()=>UW({file_url:URL.createObjectURL(n),title:n.name}),className:"ml-2 gap-2 text-xs",children:[i.jsx(Ub,{className:"w-3 h-3"}),"Download"]})]}):i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"w-14 h-14 rounded-2xl bg-slate-100 flex items-center justify-center mx-auto mb-4",children:i.jsx(VD,{className:"w-7 h-7 text-slate-400"})}),i.jsx("p",{className:"font-medium text-slate-900 mb-1",children:"Drag & drop your file here"}),i.jsx("p",{className:"text-sm text-slate-500 mb-4",children:"Supports PDF and text files"}),i.jsxs("label",{className:"cursor-pointer group",children:[i.jsx("input",{type:"file",accept:".pdf,.txt,.md",onChange:$,className:"hidden"}),i.jsx("div",{className:"inline-flex items-center justify-center rounded-xl px-6 py-2.5 text-sm font-semibold bg-white border border-slate-200 text-slate-900 group-hover:bg-slate-50 group-hover:border-slate-300 transition-all shadow-sm",children:"Browse Files"})]})]})}),n&&i.jsxs("div",{className:"mt-6 space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(kt,{children:"Title"}),i.jsx(un,{value:s,onChange:H=>o(H.target.value),placeholder:"Material title"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx(kt,{children:"Module"}),x&&i.jsxs("div",{className:"flex items-center gap-1 text-xs text-purple-600",children:[i.jsx(jn,{className:"w-3 h-3 animate-spin"}),"Auto-detecting..."]})]}),i.jsxs(hr,{value:l,onValueChange:u,children:[i.jsx(rr,{children:i.jsx(pr,{placeholder:"Select a module"})}),i.jsx(sr,{children:e==null?void 0:e.map(H=>i.jsxs(Vt,{value:H.id,children:[H.code," - ",H.title]},H.id))})]})]}),i.jsx(Oe,{onClick:F,disabled:d||!s,className:"w-full bg-blue-600 hover:bg-blue-700",children:d?i.jsxs(i.Fragment,{children:[i.jsx(jn,{className:"w-4 h-4 mr-2 animate-spin"}),_?"Scanning for books...":"Uploading..."]}):i.jsxs(i.Fragment,{children:[i.jsx(os,{className:"w-4 h-4 mr-2"}),"Upload Material"]})})]}),S&&S.length>0&&i.jsxs("div",{className:"mt-6 p-4 bg-gradient-to-br from-blue-50 to-indigo-50 rounded-xl border-2 border-blue-200",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx(Hn,{className:"w-5 h-5 text-blue-600"}),i.jsx("h4",{className:"font-semibold text-slate-900",children:"Prescribed Books Found "})]}),i.jsxs("p",{className:"text-sm text-slate-600 mb-4",children:[S.length," book(s) saved to Prescribed Books page  Module: ",((Y=S[0])==null?void 0:Y.module_code)||"N/A"]}),i.jsx("div",{className:"space-y-3",children:S.map((H,ee)=>{var ve;return i.jsxs("div",{className:"bg-white rounded-lg p-3 border border-blue-200",children:[i.jsx("h5",{className:"font-semibold text-slate-900 text-sm",children:H.title}),i.jsxs("p",{className:"text-xs text-slate-600 mt-1",children:[H.author," ",H.edition&&` ${H.edition}`]}),i.jsxs("p",{className:"text-xs text-blue-600 mt-1",children:[((ve=H.resources)==null?void 0:ve.length)||0," resource(s) found"]})]},ee)})})]})]})}function KW(e,t){const n={};return(e[e.length-1]===""?[...e,""]:e).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const GW=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,YW=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,QW={};function l_(e,t){return(QW.jsx?YW:GW).test(e)}const XW=/[ \t\n\f\r]/g;function JW(e){return typeof e=="object"?e.type==="text"?c_(e.value):!1:c_(e)}function c_(e){return e.replace(XW,"")===""}class Ih{constructor(t,n,r){this.normal=n,this.property=t,r&&(this.space=r)}}Ih.prototype.normal={};Ih.prototype.property={};Ih.prototype.space=void 0;function YI(e,t){const n={},r={};for(const s of e)Object.assign(n,s.property),Object.assign(r,s.normal);return new Ih(n,r,t)}function hb(e){return e.toLowerCase()}class us{constructor(t,n){this.attribute=n,this.property=t}}us.prototype.attribute="";us.prototype.booleanish=!1;us.prototype.boolean=!1;us.prototype.commaOrSpaceSeparated=!1;us.prototype.commaSeparated=!1;us.prototype.defined=!1;us.prototype.mustUseProperty=!1;us.prototype.number=!1;us.prototype.overloadedBoolean=!1;us.prototype.property="";us.prototype.spaceSeparated=!1;us.prototype.space=void 0;let ZW=0;const Mt=Cc(),Wn=Cc(),pb=Cc(),qe=Cc(),gn=Cc(),Du=Cc(),ys=Cc();function Cc(){return 2**++ZW}const mb=Object.freeze(Object.defineProperty({__proto__:null,boolean:Mt,booleanish:Wn,commaOrSpaceSeparated:ys,commaSeparated:Du,number:qe,overloadedBoolean:pb,spaceSeparated:gn},Symbol.toStringTag,{value:"Module"})),Fy=Object.keys(mb);class t1 extends us{constructor(t,n,r,s){let o=-1;if(super(t,n),u_(this,"space",s),typeof r=="number")for(;++o<Fy.length;){const l=Fy[o];u_(this,Fy[o],(r&mb[l])===mb[l])}}}t1.prototype.defined=!0;function u_(e,t,n){n&&(e[t]=n)}function gd(e){const t={},n={};for(const[r,s]of Object.entries(e.properties)){const o=new t1(r,e.transform(e.attributes||{},r),s,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(o.mustUseProperty=!0),t[r]=o,n[hb(r)]=r,n[hb(o.attribute)]=r}return new Ih(t,n,e.space)}const QI=gd({properties:{ariaActiveDescendant:null,ariaAtomic:Wn,ariaAutoComplete:null,ariaBusy:Wn,ariaChecked:Wn,ariaColCount:qe,ariaColIndex:qe,ariaColSpan:qe,ariaControls:gn,ariaCurrent:null,ariaDescribedBy:gn,ariaDetails:null,ariaDisabled:Wn,ariaDropEffect:gn,ariaErrorMessage:null,ariaExpanded:Wn,ariaFlowTo:gn,ariaGrabbed:Wn,ariaHasPopup:null,ariaHidden:Wn,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:gn,ariaLevel:qe,ariaLive:null,ariaModal:Wn,ariaMultiLine:Wn,ariaMultiSelectable:Wn,ariaOrientation:null,ariaOwns:gn,ariaPlaceholder:null,ariaPosInSet:qe,ariaPressed:Wn,ariaReadOnly:Wn,ariaRelevant:null,ariaRequired:Wn,ariaRoleDescription:gn,ariaRowCount:qe,ariaRowIndex:qe,ariaRowSpan:qe,ariaSelected:Wn,ariaSetSize:qe,ariaSort:null,ariaValueMax:qe,ariaValueMin:qe,ariaValueNow:qe,ariaValueText:null,role:null},transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()}});function XI(e,t){return t in e?e[t]:t}function JI(e,t){return XI(e,t.toLowerCase())}const eq=gd({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:Du,acceptCharset:gn,accessKey:gn,action:null,allow:null,allowFullScreen:Mt,allowPaymentRequest:Mt,allowUserMedia:Mt,alt:null,as:null,async:Mt,autoCapitalize:null,autoComplete:gn,autoFocus:Mt,autoPlay:Mt,blocking:gn,capture:null,charSet:null,checked:Mt,cite:null,className:gn,cols:qe,colSpan:null,content:null,contentEditable:Wn,controls:Mt,controlsList:gn,coords:qe|Du,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Mt,defer:Mt,dir:null,dirName:null,disabled:Mt,download:pb,draggable:Wn,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Mt,formTarget:null,headers:gn,height:qe,hidden:pb,high:qe,href:null,hrefLang:null,htmlFor:gn,httpEquiv:gn,id:null,imageSizes:null,imageSrcSet:null,inert:Mt,inputMode:null,integrity:null,is:null,isMap:Mt,itemId:null,itemProp:gn,itemRef:gn,itemScope:Mt,itemType:gn,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Mt,low:qe,manifest:null,max:null,maxLength:qe,media:null,method:null,min:null,minLength:qe,multiple:Mt,muted:Mt,name:null,nonce:null,noModule:Mt,noValidate:Mt,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Mt,optimum:qe,pattern:null,ping:gn,placeholder:null,playsInline:Mt,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:Mt,referrerPolicy:null,rel:gn,required:Mt,reversed:Mt,rows:qe,rowSpan:qe,sandbox:gn,scope:null,scoped:Mt,seamless:Mt,selected:Mt,shadowRootClonable:Mt,shadowRootDelegatesFocus:Mt,shadowRootMode:null,shape:null,size:qe,sizes:null,slot:null,span:qe,spellCheck:Wn,src:null,srcDoc:null,srcLang:null,srcSet:null,start:qe,step:null,style:null,tabIndex:qe,target:null,title:null,translate:null,type:null,typeMustMatch:Mt,useMap:null,value:Wn,width:qe,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:gn,axis:null,background:null,bgColor:null,border:qe,borderColor:null,bottomMargin:qe,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Mt,declare:Mt,event:null,face:null,frame:null,frameBorder:null,hSpace:qe,leftMargin:qe,link:null,longDesc:null,lowSrc:null,marginHeight:qe,marginWidth:qe,noResize:Mt,noHref:Mt,noShade:Mt,noWrap:Mt,object:null,profile:null,prompt:null,rev:null,rightMargin:qe,rules:null,scheme:null,scrolling:Wn,standby:null,summary:null,text:null,topMargin:qe,valueType:null,version:null,vAlign:null,vLink:null,vSpace:qe,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Mt,disableRemotePlayback:Mt,prefix:null,property:null,results:qe,security:null,unselectable:null},space:"html",transform:JI}),tq=gd({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:ys,accentHeight:qe,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:qe,amplitude:qe,arabicForm:null,ascent:qe,attributeName:null,attributeType:null,azimuth:qe,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:qe,by:null,calcMode:null,capHeight:qe,className:gn,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:qe,diffuseConstant:qe,direction:null,display:null,dur:null,divisor:qe,dominantBaseline:null,download:Mt,dx:null,dy:null,edgeMode:null,editable:null,elevation:qe,enableBackground:null,end:null,event:null,exponent:qe,externalResourcesRequired:null,fill:null,fillOpacity:qe,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:Du,g2:Du,glyphName:Du,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:qe,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:qe,horizOriginX:qe,horizOriginY:qe,id:null,ideographic:qe,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:qe,k:qe,k1:qe,k2:qe,k3:qe,k4:qe,kernelMatrix:ys,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:qe,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:qe,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:qe,overlineThickness:qe,paintOrder:null,panose1:null,path:null,pathLength:qe,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:gn,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:qe,pointsAtY:qe,pointsAtZ:qe,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:ys,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:ys,rev:ys,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:ys,requiredFeatures:ys,requiredFonts:ys,requiredFormats:ys,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:qe,specularExponent:qe,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:qe,strikethroughThickness:qe,string:null,stroke:null,strokeDashArray:ys,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:qe,strokeOpacity:qe,strokeWidth:null,style:null,surfaceScale:qe,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:ys,tabIndex:qe,tableValues:null,target:null,targetX:qe,targetY:qe,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:ys,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:qe,underlineThickness:qe,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:qe,values:null,vAlphabetic:qe,vMathematical:qe,vectorEffect:null,vHanging:qe,vIdeographic:qe,version:null,vertAdvY:qe,vertOriginX:qe,vertOriginY:qe,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:qe,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:XI}),ZI=gd({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()}}),e5=gd({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:JI}),t5=gd({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()}}),nq={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},rq=/[A-Z]/g,d_=/-[a-z]/g,sq=/^data[-\w.:]+$/i;function iq(e,t){const n=hb(t);let r=t,s=us;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&sq.test(t)){if(t.charAt(4)==="-"){const o=t.slice(5).replace(d_,oq);r="data"+o.charAt(0).toUpperCase()+o.slice(1)}else{const o=t.slice(4);if(!d_.test(o)){let l=o.replace(rq,aq);l.charAt(0)!=="-"&&(l="-"+l),t="data"+l}}s=t1}return new s(r,t)}function aq(e){return"-"+e.toLowerCase()}function oq(e){return e.charAt(1).toUpperCase()}const lq=YI([QI,eq,ZI,e5,t5],"html"),n1=YI([QI,tq,ZI,e5,t5],"svg");function cq(e){return e.join(" ").trim()}var yu={},$y,f_;function uq(){if(f_)return $y;f_=1;var e=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,t=/\n/g,n=/^\s*/,r=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,s=/^:\s*/,o=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,l=/^[;\s]*/,u=/^\s+|\s+$/g,d=`
`,f="/",p="*",m="",x="comment",v="declaration";function S(_,P){if(typeof _!="string")throw new TypeError("First argument must be a string");if(!_)return[];P=P||{};var T=1,I=1;function L(ae){var he=ae.match(t);he&&(T+=he.length);var ge=ae.lastIndexOf(d);I=~ge?ae.length-ge:I+ae.length}function z(){var ae={line:T,column:I};return function(he){return he.position=new $(ae),F(),he}}function $(ae){this.start=ae,this.end={line:T,column:I},this.source=P.source}$.prototype.content=_;function V(ae){var he=new Error(P.source+":"+T+":"+I+": "+ae);if(he.reason=ae,he.filename=P.source,he.line=T,he.column=I,he.source=_,!P.silent)throw he}function W(ae){var he=ae.exec(_);if(he){var ge=he[0];return L(ge),_=_.slice(ge.length),he}}function F(){W(n)}function Y(ae){var he;for(ae=ae||[];he=H();)he!==!1&&ae.push(he);return ae}function H(){var ae=z();if(!(f!=_.charAt(0)||p!=_.charAt(1))){for(var he=2;m!=_.charAt(he)&&(p!=_.charAt(he)||f!=_.charAt(he+1));)++he;if(he+=2,m===_.charAt(he-1))return V("End of comment missing");var ge=_.slice(2,he-2);return I+=2,L(ge),_=_.slice(he),I+=2,ae({type:x,comment:ge})}}function ee(){var ae=z(),he=W(r);if(he){if(H(),!W(s))return V("property missing ':'");var ge=W(o),Se=ae({type:v,property:N(he[0].replace(e,m)),value:ge?N(ge[0].replace(e,m)):m});return W(l),Se}}function ve(){var ae=[];Y(ae);for(var he;he=ee();)he!==!1&&(ae.push(he),Y(ae));return ae}return F(),ve()}function N(_){return _?_.replace(u,m):m}return $y=S,$y}var h_;function dq(){if(h_)return yu;h_=1;var e=yu&&yu.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(yu,"__esModule",{value:!0}),yu.default=n;const t=e(uq());function n(r,s){let o=null;if(!r||typeof r!="string")return o;const l=(0,t.default)(r),u=typeof s=="function";return l.forEach(d=>{if(d.type!=="declaration")return;const{property:f,value:p}=d;u?s(f,p,d):p&&(o=o||{},o[f]=p)}),o}return yu}var pf={},p_;function fq(){if(p_)return pf;p_=1,Object.defineProperty(pf,"__esModule",{value:!0}),pf.camelCase=void 0;var e=/^--[a-zA-Z0-9_-]+$/,t=/-([a-z])/g,n=/^[^-]+$/,r=/^-(webkit|moz|ms|o|khtml)-/,s=/^-(ms)-/,o=function(f){return!f||n.test(f)||e.test(f)},l=function(f,p){return p.toUpperCase()},u=function(f,p){return"".concat(p,"-")},d=function(f,p){return p===void 0&&(p={}),o(f)?f:(f=f.toLowerCase(),p.reactCompat?f=f.replace(s,u):f=f.replace(r,u),f.replace(t,l))};return pf.camelCase=d,pf}var mf,m_;function hq(){if(m_)return mf;m_=1;var e=mf&&mf.__importDefault||function(s){return s&&s.__esModule?s:{default:s}},t=e(dq()),n=fq();function r(s,o){var l={};return!s||typeof s!="string"||(0,t.default)(s,function(u,d){u&&d&&(l[(0,n.camelCase)(u,o)]=d)}),l}return r.default=r,mf=r,mf}var pq=hq();const mq=ad(pq),n5=r5("end"),r1=r5("start");function r5(e){return t;function t(n){const r=n&&n.position&&n.position[e]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function gq(e){const t=r1(e),n=n5(e);if(t&&n)return{start:t,end:n}}function zf(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?g_(e.position):"start"in e||"end"in e?g_(e):"line"in e||"column"in e?gb(e):""}function gb(e){return x_(e&&e.line)+":"+x_(e&&e.column)}function g_(e){return gb(e&&e.start)+"-"+gb(e&&e.end)}function x_(e){return e&&typeof e=="number"?e:1}class Fr extends Error{constructor(t,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let s="",o={},l=!1;if(n&&("line"in n&&"column"in n?o={place:n}:"start"in n&&"end"in n?o={place:n}:"type"in n?o={ancestors:[n],place:n.position}:o={...n}),typeof t=="string"?s=t:!o.cause&&t&&(l=!0,s=t.message,o.cause=t),!o.ruleId&&!o.source&&typeof r=="string"){const d=r.indexOf(":");d===-1?o.ruleId=r:(o.source=r.slice(0,d),o.ruleId=r.slice(d+1))}if(!o.place&&o.ancestors&&o.ancestors){const d=o.ancestors[o.ancestors.length-1];d&&(o.place=d.position)}const u=o.place&&"start"in o.place?o.place.start:o.place;this.ancestors=o.ancestors||void 0,this.cause=o.cause||void 0,this.column=u?u.column:void 0,this.fatal=void 0,this.file="",this.message=s,this.line=u?u.line:void 0,this.name=zf(o.place)||"1:1",this.place=o.place||void 0,this.reason=this.message,this.ruleId=o.ruleId||void 0,this.source=o.source||void 0,this.stack=l&&o.cause&&typeof o.cause.stack=="string"?o.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}Fr.prototype.file="";Fr.prototype.name="";Fr.prototype.reason="";Fr.prototype.message="";Fr.prototype.stack="";Fr.prototype.column=void 0;Fr.prototype.line=void 0;Fr.prototype.ancestors=void 0;Fr.prototype.cause=void 0;Fr.prototype.fatal=void 0;Fr.prototype.place=void 0;Fr.prototype.ruleId=void 0;Fr.prototype.source=void 0;const s1={}.hasOwnProperty,xq=new Map,yq=/[A-Z]/g,vq=new Set(["table","tbody","thead","tfoot","tr"]),bq=new Set(["td","th"]),s5="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function wq(e,t){if(!t||t.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=t.filePath||void 0;let r;if(t.development){if(typeof t.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=Pq(n,t.jsxDEV)}else{if(typeof t.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof t.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=Eq(n,t.jsx,t.jsxs)}const s={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:r,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:t.passKeys!==!1,passNode:t.passNode||!1,schema:t.space==="svg"?n1:lq,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:t.tableCellAlignToStyle!==!1},o=i5(s,e,void 0);return o&&typeof o!="string"?o:s.create(e,s.Fragment,{children:o||void 0},void 0)}function i5(e,t,n){if(t.type==="element")return jq(e,t,n);if(t.type==="mdxFlowExpression"||t.type==="mdxTextExpression")return Nq(e,t);if(t.type==="mdxJsxFlowElement"||t.type==="mdxJsxTextElement")return kq(e,t,n);if(t.type==="mdxjsEsm")return Sq(e,t);if(t.type==="root")return _q(e,t,n);if(t.type==="text")return Cq(e,t)}function jq(e,t,n){const r=e.schema;let s=r;t.tagName.toLowerCase()==="svg"&&r.space==="html"&&(s=n1,e.schema=s),e.ancestors.push(t);const o=o5(e,t.tagName,!1),l=Aq(e,t);let u=a1(e,t);return vq.has(t.tagName)&&(u=u.filter(function(d){return typeof d=="string"?!JW(d):!0})),a5(e,l,o,t),i1(l,u),e.ancestors.pop(),e.schema=r,e.create(t,o,l,n)}function Nq(e,t){if(t.data&&t.data.estree&&e.evaluater){const r=t.data.estree.body[0];return r.type,e.evaluater.evaluateExpression(r.expression)}oh(e,t.position)}function Sq(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);oh(e,t.position)}function kq(e,t,n){const r=e.schema;let s=r;t.name==="svg"&&r.space==="html"&&(s=n1,e.schema=s),e.ancestors.push(t);const o=t.name===null?e.Fragment:o5(e,t.name,!0),l=Tq(e,t),u=a1(e,t);return a5(e,l,o,t),i1(l,u),e.ancestors.pop(),e.schema=r,e.create(t,o,l,n)}function _q(e,t,n){const r={};return i1(r,a1(e,t)),e.create(t,e.Fragment,r,n)}function Cq(e,t){return t.value}function a5(e,t,n,r){typeof n!="string"&&n!==e.Fragment&&e.passNode&&(t.node=r)}function i1(e,t){if(t.length>0){const n=t.length>1?t:t[0];n&&(e.children=n)}}function Eq(e,t,n){return r;function r(s,o,l,u){const f=Array.isArray(l.children)?n:t;return u?f(o,l,u):f(o,l)}}function Pq(e,t){return n;function n(r,s,o,l){const u=Array.isArray(o.children),d=r1(r);return t(s,o,l,u,{columnNumber:d?d.column-1:void 0,fileName:e,lineNumber:d?d.line:void 0},void 0)}}function Aq(e,t){const n={};let r,s;for(s in t.properties)if(s!=="children"&&s1.call(t.properties,s)){const o=Rq(e,s,t.properties[s]);if(o){const[l,u]=o;e.tableCellAlignToStyle&&l==="align"&&typeof u=="string"&&bq.has(t.tagName)?r=u:n[l]=u}}if(r){const o=n.style||(n.style={});o[e.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function Tq(e,t){const n={};for(const r of t.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&e.evaluater){const o=r.data.estree.body[0];o.type;const l=o.expression;l.type;const u=l.properties[0];u.type,Object.assign(n,e.evaluater.evaluateExpression(u.argument))}else oh(e,t.position);else{const s=r.name;let o;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&e.evaluater){const u=r.value.data.estree.body[0];u.type,o=e.evaluater.evaluateExpression(u.expression)}else oh(e,t.position);else o=r.value===null?!0:r.value;n[s]=o}return n}function a1(e,t){const n=[];let r=-1;const s=e.passKeys?new Map:xq;for(;++r<t.children.length;){const o=t.children[r];let l;if(e.passKeys){const d=o.type==="element"?o.tagName:o.type==="mdxJsxFlowElement"||o.type==="mdxJsxTextElement"?o.name:void 0;if(d){const f=s.get(d)||0;l=d+"-"+f,s.set(d,f+1)}}const u=i5(e,o,l);u!==void 0&&n.push(u)}return n}function Rq(e,t,n){const r=iq(e.schema,t);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?KW(n):cq(n)),r.property==="style"){let s=typeof n=="object"?n:Iq(e,String(n));return e.stylePropertyNameCase==="css"&&(s=Mq(s)),["style",s]}return[e.elementAttributeNameCase==="react"&&r.space?nq[r.property]||r.property:r.attribute,n]}}function Iq(e,t){try{return mq(t,{reactCompat:!0})}catch(n){if(e.ignoreInvalidStyle)return{};const r=n,s=new Fr("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw s.file=e.filePath||void 0,s.url=s5+"#cannot-parse-style-attribute",s}}function o5(e,t,n){let r;if(!n)r={type:"Literal",value:t};else if(t.includes(".")){const s=t.split(".");let o=-1,l;for(;++o<s.length;){const u=l_(s[o])?{type:"Identifier",name:s[o]}:{type:"Literal",value:s[o]};l=l?{type:"MemberExpression",object:l,property:u,computed:!!(o&&u.type==="Literal"),optional:!1}:u}r=l}else r=l_(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};if(r.type==="Literal"){const s=r.value;return s1.call(e.components,s)?e.components[s]:s}if(e.evaluater)return e.evaluater.evaluateExpression(r);oh(e)}function oh(e,t){const n=new Fr("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=e.filePath||void 0,n.url=s5+"#cannot-handle-mdx-estrees-without-createevaluater",n}function Mq(e){const t={};let n;for(n in e)s1.call(e,n)&&(t[Oq(n)]=e[n]);return t}function Oq(e){let t=e.replace(yq,Dq);return t.slice(0,3)==="ms-"&&(t="-"+t),t}function Dq(e){return"-"+e.toLowerCase()}const By={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},Lq={};function Fq(e,t){const n=Lq,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,s=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return l5(e,r,s)}function l5(e,t,n){if($q(e)){if("value"in e)return e.type==="html"&&!n?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return y_(e.children,t,n)}return Array.isArray(e)?y_(e,t,n):""}function y_(e,t,n){const r=[];let s=-1;for(;++s<e.length;)r[s]=l5(e[s],t,n);return r.join("")}function $q(e){return!!(e&&typeof e=="object")}const v_=document.createElement("i");function o1(e){const t="&"+e+";";v_.innerHTML=t;const n=v_.textContent;return n.charCodeAt(n.length-1)===59&&e!=="semi"||n===t?!1:n}function ta(e,t,n,r){const s=e.length;let o=0,l;if(t<0?t=-t>s?0:s+t:t=t>s?s:t,n=n>0?n:0,r.length<1e4)l=Array.from(r),l.unshift(t,n),e.splice(...l);else for(n&&e.splice(t,n);o<r.length;)l=r.slice(o,o+1e4),l.unshift(t,0),e.splice(...l),o+=1e4,t+=1e4}function Bs(e,t){return e.length>0?(ta(e,e.length,0,t),e):t}const b_={}.hasOwnProperty;function Bq(e){const t={};let n=-1;for(;++n<e.length;)zq(t,e[n]);return t}function zq(e,t){let n;for(n in t){const s=(b_.call(e,n)?e[n]:void 0)||(e[n]={}),o=t[n];let l;if(o)for(l in o){b_.call(s,l)||(s[l]=[]);const u=o[l];Uq(s[l],Array.isArray(u)?u:u?[u]:[])}}}function Uq(e,t){let n=-1;const r=[];for(;++n<t.length;)(t[n].add==="after"?e:r).push(t[n]);ta(e,0,0,r)}function c5(e,t){const n=Number.parseInt(e,t);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}function Lu(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Vi=ll(/[A-Za-z]/),js=ll(/[\dA-Za-z]/),Vq=ll(/[#-'*+\--9=?A-Z^-~]/);function xb(e){return e!==null&&(e<32||e===127)}const yb=ll(/\d/),Wq=ll(/[\dA-Fa-f]/),qq=ll(/[!-/:-@[-`{-~]/);function Pt(e){return e!==null&&e<-2}function ls(e){return e!==null&&(e<0||e===32)}function tn(e){return e===-2||e===-1||e===32}const Hq=ll(new RegExp("\\p{P}|\\p{S}","u")),Kq=ll(/\s/);function ll(e){return t;function t(n){return n!==null&&n>-1&&e.test(String.fromCharCode(n))}}function xd(e){const t=[];let n=-1,r=0,s=0;for(;++n<e.length;){const o=e.charCodeAt(n);let l="";if(o===37&&js(e.charCodeAt(n+1))&&js(e.charCodeAt(n+2)))s=2;else if(o<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(o))||(l=String.fromCharCode(o));else if(o>55295&&o<57344){const u=e.charCodeAt(n+1);o<56320&&u>56319&&u<57344?(l=String.fromCharCode(o,u),s=1):l=""}else l=String.fromCharCode(o);l&&(t.push(e.slice(r,n),encodeURIComponent(l)),r=n+s+1,l=""),s&&(n+=s,s=0)}return t.join("")+e.slice(r)}function xn(e,t,n,r){const s=r?r-1:Number.POSITIVE_INFINITY;let o=0;return l;function l(d){return tn(d)?(e.enter(n),u(d)):t(d)}function u(d){return tn(d)&&o++<s?(e.consume(d),u):(e.exit(n),t(d))}}const Gq={tokenize:Yq};function Yq(e){const t=e.attempt(this.parser.constructs.contentInitial,r,s);let n;return t;function r(u){if(u===null){e.consume(u);return}return e.enter("lineEnding"),e.consume(u),e.exit("lineEnding"),xn(e,t,"linePrefix")}function s(u){return e.enter("paragraph"),o(u)}function o(u){const d=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=d),n=d,l(u)}function l(u){if(u===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(u);return}return Pt(u)?(e.consume(u),e.exit("chunkText"),o):(e.consume(u),l)}}const Qq={tokenize:Xq},w_={tokenize:Jq};function Xq(e){const t=this,n=[];let r=0,s,o,l;return u;function u(I){if(r<n.length){const L=n[r];return t.containerState=L[1],e.attempt(L[0].continuation,d,f)(I)}return f(I)}function d(I){if(r++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,s&&T();const L=t.events.length;let z=L,$;for(;z--;)if(t.events[z][0]==="exit"&&t.events[z][1].type==="chunkFlow"){$=t.events[z][1].end;break}P(r);let V=L;for(;V<t.events.length;)t.events[V][1].end={...$},V++;return ta(t.events,z+1,0,t.events.slice(L)),t.events.length=V,f(I)}return u(I)}function f(I){if(r===n.length){if(!s)return x(I);if(s.currentConstruct&&s.currentConstruct.concrete)return S(I);t.interrupt=!!(s.currentConstruct&&!s._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(w_,p,m)(I)}function p(I){return s&&T(),P(r),x(I)}function m(I){return t.parser.lazy[t.now().line]=r!==n.length,l=t.now().offset,S(I)}function x(I){return t.containerState={},e.attempt(w_,v,S)(I)}function v(I){return r++,n.push([t.currentConstruct,t.containerState]),x(I)}function S(I){if(I===null){s&&T(),P(0),e.consume(I);return}return s=s||t.parser.flow(t.now()),e.enter("chunkFlow",{_tokenizer:s,contentType:"flow",previous:o}),N(I)}function N(I){if(I===null){_(e.exit("chunkFlow"),!0),P(0),e.consume(I);return}return Pt(I)?(e.consume(I),_(e.exit("chunkFlow")),r=0,t.interrupt=void 0,u):(e.consume(I),N)}function _(I,L){const z=t.sliceStream(I);if(L&&z.push(null),I.previous=o,o&&(o.next=I),o=I,s.defineSkip(I.start),s.write(z),t.parser.lazy[I.start.line]){let $=s.events.length;for(;$--;)if(s.events[$][1].start.offset<l&&(!s.events[$][1].end||s.events[$][1].end.offset>l))return;const V=t.events.length;let W=V,F,Y;for(;W--;)if(t.events[W][0]==="exit"&&t.events[W][1].type==="chunkFlow"){if(F){Y=t.events[W][1].end;break}F=!0}for(P(r),$=V;$<t.events.length;)t.events[$][1].end={...Y},$++;ta(t.events,W+1,0,t.events.slice(V)),t.events.length=$}}function P(I){let L=n.length;for(;L-- >I;){const z=n[L];t.containerState=z[1],z[0].exit.call(t,e)}n.length=I}function T(){s.write([null]),o=void 0,s=void 0,t.containerState._closeFlow=void 0}}function Jq(e,t,n){return xn(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function j_(e){if(e===null||ls(e)||Kq(e))return 1;if(Hq(e))return 2}function l1(e,t,n){const r=[];let s=-1;for(;++s<e.length;){const o=e[s].resolveAll;o&&!r.includes(o)&&(t=o(t,n),r.push(o))}return t}const vb={name:"attention",resolveAll:Zq,tokenize:eH};function Zq(e,t){let n=-1,r,s,o,l,u,d,f,p;for(;++n<e.length;)if(e[n][0]==="enter"&&e[n][1].type==="attentionSequence"&&e[n][1]._close){for(r=n;r--;)if(e[r][0]==="exit"&&e[r][1].type==="attentionSequence"&&e[r][1]._open&&t.sliceSerialize(e[r][1]).charCodeAt(0)===t.sliceSerialize(e[n][1]).charCodeAt(0)){if((e[r][1]._close||e[n][1]._open)&&(e[n][1].end.offset-e[n][1].start.offset)%3&&!((e[r][1].end.offset-e[r][1].start.offset+e[n][1].end.offset-e[n][1].start.offset)%3))continue;d=e[r][1].end.offset-e[r][1].start.offset>1&&e[n][1].end.offset-e[n][1].start.offset>1?2:1;const m={...e[r][1].end},x={...e[n][1].start};N_(m,-d),N_(x,d),l={type:d>1?"strongSequence":"emphasisSequence",start:m,end:{...e[r][1].end}},u={type:d>1?"strongSequence":"emphasisSequence",start:{...e[n][1].start},end:x},o={type:d>1?"strongText":"emphasisText",start:{...e[r][1].end},end:{...e[n][1].start}},s={type:d>1?"strong":"emphasis",start:{...l.start},end:{...u.end}},e[r][1].end={...l.start},e[n][1].start={...u.end},f=[],e[r][1].end.offset-e[r][1].start.offset&&(f=Bs(f,[["enter",e[r][1],t],["exit",e[r][1],t]])),f=Bs(f,[["enter",s,t],["enter",l,t],["exit",l,t],["enter",o,t]]),f=Bs(f,l1(t.parser.constructs.insideSpan.null,e.slice(r+1,n),t)),f=Bs(f,[["exit",o,t],["enter",u,t],["exit",u,t],["exit",s,t]]),e[n][1].end.offset-e[n][1].start.offset?(p=2,f=Bs(f,[["enter",e[n][1],t],["exit",e[n][1],t]])):p=0,ta(e,r-1,n-r+3,f),n=r+f.length-p-2;break}}for(n=-1;++n<e.length;)e[n][1].type==="attentionSequence"&&(e[n][1].type="data");return e}function eH(e,t){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,s=j_(r);let o;return l;function l(d){return o=d,e.enter("attentionSequence"),u(d)}function u(d){if(d===o)return e.consume(d),u;const f=e.exit("attentionSequence"),p=j_(d),m=!p||p===2&&s||n.includes(d),x=!s||s===2&&p||n.includes(r);return f._open=!!(o===42?m:m&&(s||!x)),f._close=!!(o===42?x:x&&(p||!m)),t(d)}}function N_(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const tH={name:"autolink",tokenize:nH};function nH(e,t,n){let r=0;return s;function s(v){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(v),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),o}function o(v){return Vi(v)?(e.consume(v),l):v===64?n(v):f(v)}function l(v){return v===43||v===45||v===46||js(v)?(r=1,u(v)):f(v)}function u(v){return v===58?(e.consume(v),r=0,d):(v===43||v===45||v===46||js(v))&&r++<32?(e.consume(v),u):(r=0,f(v))}function d(v){return v===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(v),e.exit("autolinkMarker"),e.exit("autolink"),t):v===null||v===32||v===60||xb(v)?n(v):(e.consume(v),d)}function f(v){return v===64?(e.consume(v),p):Vq(v)?(e.consume(v),f):n(v)}function p(v){return js(v)?m(v):n(v)}function m(v){return v===46?(e.consume(v),r=0,p):v===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(v),e.exit("autolinkMarker"),e.exit("autolink"),t):x(v)}function x(v){if((v===45||js(v))&&r++<63){const S=v===45?x:m;return e.consume(v),S}return n(v)}}const kx={partial:!0,tokenize:rH};function rH(e,t,n){return r;function r(o){return tn(o)?xn(e,s,"linePrefix")(o):s(o)}function s(o){return o===null||Pt(o)?t(o):n(o)}}const u5={continuation:{tokenize:iH},exit:aH,name:"blockQuote",tokenize:sH};function sH(e,t,n){const r=this;return s;function s(l){if(l===62){const u=r.containerState;return u.open||(e.enter("blockQuote",{_container:!0}),u.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(l),e.exit("blockQuoteMarker"),o}return n(l)}function o(l){return tn(l)?(e.enter("blockQuotePrefixWhitespace"),e.consume(l),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(l))}}function iH(e,t,n){const r=this;return s;function s(l){return tn(l)?xn(e,o,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(l):o(l)}function o(l){return e.attempt(u5,t,n)(l)}}function aH(e){e.exit("blockQuote")}const d5={name:"characterEscape",tokenize:oH};function oH(e,t,n){return r;function r(o){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(o),e.exit("escapeMarker"),s}function s(o){return qq(o)?(e.enter("characterEscapeValue"),e.consume(o),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(o)}}const f5={name:"characterReference",tokenize:lH};function lH(e,t,n){const r=this;let s=0,o,l;return u;function u(m){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(m),e.exit("characterReferenceMarker"),d}function d(m){return m===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(m),e.exit("characterReferenceMarkerNumeric"),f):(e.enter("characterReferenceValue"),o=31,l=js,p(m))}function f(m){return m===88||m===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(m),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),o=6,l=Wq,p):(e.enter("characterReferenceValue"),o=7,l=yb,p(m))}function p(m){if(m===59&&s){const x=e.exit("characterReferenceValue");return l===js&&!o1(r.sliceSerialize(x))?n(m):(e.enter("characterReferenceMarker"),e.consume(m),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return l(m)&&s++<o?(e.consume(m),p):n(m)}}const S_={partial:!0,tokenize:uH},k_={concrete:!0,name:"codeFenced",tokenize:cH};function cH(e,t,n){const r=this,s={partial:!0,tokenize:z};let o=0,l=0,u;return d;function d($){return f($)}function f($){const V=r.events[r.events.length-1];return o=V&&V[1].type==="linePrefix"?V[2].sliceSerialize(V[1],!0).length:0,u=$,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),p($)}function p($){return $===u?(l++,e.consume($),p):l<3?n($):(e.exit("codeFencedFenceSequence"),tn($)?xn(e,m,"whitespace")($):m($))}function m($){return $===null||Pt($)?(e.exit("codeFencedFence"),r.interrupt?t($):e.check(S_,N,L)($)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),x($))}function x($){return $===null||Pt($)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),m($)):tn($)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),xn(e,v,"whitespace")($)):$===96&&$===u?n($):(e.consume($),x)}function v($){return $===null||Pt($)?m($):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),S($))}function S($){return $===null||Pt($)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),m($)):$===96&&$===u?n($):(e.consume($),S)}function N($){return e.attempt(s,L,_)($)}function _($){return e.enter("lineEnding"),e.consume($),e.exit("lineEnding"),P}function P($){return o>0&&tn($)?xn(e,T,"linePrefix",o+1)($):T($)}function T($){return $===null||Pt($)?e.check(S_,N,L)($):(e.enter("codeFlowValue"),I($))}function I($){return $===null||Pt($)?(e.exit("codeFlowValue"),T($)):(e.consume($),I)}function L($){return e.exit("codeFenced"),t($)}function z($,V,W){let F=0;return Y;function Y(he){return $.enter("lineEnding"),$.consume(he),$.exit("lineEnding"),H}function H(he){return $.enter("codeFencedFence"),tn(he)?xn($,ee,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(he):ee(he)}function ee(he){return he===u?($.enter("codeFencedFenceSequence"),ve(he)):W(he)}function ve(he){return he===u?(F++,$.consume(he),ve):F>=l?($.exit("codeFencedFenceSequence"),tn(he)?xn($,ae,"whitespace")(he):ae(he)):W(he)}function ae(he){return he===null||Pt(he)?($.exit("codeFencedFence"),V(he)):W(he)}}}function uH(e,t,n){const r=this;return s;function s(l){return l===null?n(l):(e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),o)}function o(l){return r.parser.lazy[r.now().line]?n(l):t(l)}}const zy={name:"codeIndented",tokenize:fH},dH={partial:!0,tokenize:hH};function fH(e,t,n){const r=this;return s;function s(f){return e.enter("codeIndented"),xn(e,o,"linePrefix",5)(f)}function o(f){const p=r.events[r.events.length-1];return p&&p[1].type==="linePrefix"&&p[2].sliceSerialize(p[1],!0).length>=4?l(f):n(f)}function l(f){return f===null?d(f):Pt(f)?e.attempt(dH,l,d)(f):(e.enter("codeFlowValue"),u(f))}function u(f){return f===null||Pt(f)?(e.exit("codeFlowValue"),l(f)):(e.consume(f),u)}function d(f){return e.exit("codeIndented"),t(f)}}function hH(e,t,n){const r=this;return s;function s(l){return r.parser.lazy[r.now().line]?n(l):Pt(l)?(e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),s):xn(e,o,"linePrefix",5)(l)}function o(l){const u=r.events[r.events.length-1];return u&&u[1].type==="linePrefix"&&u[2].sliceSerialize(u[1],!0).length>=4?t(l):Pt(l)?s(l):n(l)}}const pH={name:"codeText",previous:gH,resolve:mH,tokenize:xH};function mH(e){let t=e.length-4,n=3,r,s;if((e[n][1].type==="lineEnding"||e[n][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(r=n;++r<t;)if(e[r][1].type==="codeTextData"){e[n][1].type="codeTextPadding",e[t][1].type="codeTextPadding",n+=2,t-=2;break}}for(r=n-1,t++;++r<=t;)s===void 0?r!==t&&e[r][1].type!=="lineEnding"&&(s=r):(r===t||e[r][1].type==="lineEnding")&&(e[s][1].type="codeTextData",r!==s+2&&(e[s][1].end=e[r-1][1].end,e.splice(s+2,r-s-2),t-=r-s-2,r=s+2),s=void 0);return e}function gH(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function xH(e,t,n){let r=0,s,o;return l;function l(m){return e.enter("codeText"),e.enter("codeTextSequence"),u(m)}function u(m){return m===96?(e.consume(m),r++,u):(e.exit("codeTextSequence"),d(m))}function d(m){return m===null?n(m):m===32?(e.enter("space"),e.consume(m),e.exit("space"),d):m===96?(o=e.enter("codeTextSequence"),s=0,p(m)):Pt(m)?(e.enter("lineEnding"),e.consume(m),e.exit("lineEnding"),d):(e.enter("codeTextData"),f(m))}function f(m){return m===null||m===32||m===96||Pt(m)?(e.exit("codeTextData"),d(m)):(e.consume(m),f)}function p(m){return m===96?(e.consume(m),s++,p):s===r?(e.exit("codeTextSequence"),e.exit("codeText"),t(m)):(o.type="codeTextData",f(m))}}class yH{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(t,r):t>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(t,n,r){const s=n||0;this.setCursor(Math.trunc(t));const o=this.right.splice(this.right.length-s,Number.POSITIVE_INFINITY);return r&&gf(this.left,r),o.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),gf(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),gf(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const n=this.left.splice(t,Number.POSITIVE_INFINITY);gf(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);gf(this.left,n.reverse())}}}function gf(e,t){let n=0;if(t.length<1e4)e.push(...t);else for(;n<t.length;)e.push(...t.slice(n,n+1e4)),n+=1e4}function h5(e){const t={};let n=-1,r,s,o,l,u,d,f;const p=new yH(e);for(;++n<p.length;){for(;n in t;)n=t[n];if(r=p.get(n),n&&r[1].type==="chunkFlow"&&p.get(n-1)[1].type==="listItemPrefix"&&(d=r[1]._tokenizer.events,o=0,o<d.length&&d[o][1].type==="lineEndingBlank"&&(o+=2),o<d.length&&d[o][1].type==="content"))for(;++o<d.length&&d[o][1].type!=="content";)d[o][1].type==="chunkText"&&(d[o][1]._isInFirstContentOfListItem=!0,o++);if(r[0]==="enter")r[1].contentType&&(Object.assign(t,vH(p,n)),n=t[n],f=!0);else if(r[1]._container){for(o=n,s=void 0;o--;)if(l=p.get(o),l[1].type==="lineEnding"||l[1].type==="lineEndingBlank")l[0]==="enter"&&(s&&(p.get(s)[1].type="lineEndingBlank"),l[1].type="lineEnding",s=o);else if(!(l[1].type==="linePrefix"||l[1].type==="listItemIndent"))break;s&&(r[1].end={...p.get(s)[1].start},u=p.slice(s,n),u.unshift(r),p.splice(s,n-s+1,u))}}return ta(e,0,Number.POSITIVE_INFINITY,p.slice(0)),!f}function vH(e,t){const n=e.get(t)[1],r=e.get(t)[2];let s=t-1;const o=[];let l=n._tokenizer;l||(l=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(l._contentTypeTextTrailing=!0));const u=l.events,d=[],f={};let p,m,x=-1,v=n,S=0,N=0;const _=[N];for(;v;){for(;e.get(++s)[1]!==v;);o.push(s),v._tokenizer||(p=r.sliceStream(v),v.next||p.push(null),m&&l.defineSkip(v.start),v._isInFirstContentOfListItem&&(l._gfmTasklistFirstContentOfListItem=!0),l.write(p),v._isInFirstContentOfListItem&&(l._gfmTasklistFirstContentOfListItem=void 0)),m=v,v=v.next}for(v=n;++x<u.length;)u[x][0]==="exit"&&u[x-1][0]==="enter"&&u[x][1].type===u[x-1][1].type&&u[x][1].start.line!==u[x][1].end.line&&(N=x+1,_.push(N),v._tokenizer=void 0,v.previous=void 0,v=v.next);for(l.events=[],v?(v._tokenizer=void 0,v.previous=void 0):_.pop(),x=_.length;x--;){const P=u.slice(_[x],_[x+1]),T=o.pop();d.push([T,T+P.length-1]),e.splice(T,2,P)}for(d.reverse(),x=-1;++x<d.length;)f[S+d[x][0]]=S+d[x][1],S+=d[x][1]-d[x][0]-1;return f}const bH={resolve:jH,tokenize:NH},wH={partial:!0,tokenize:SH};function jH(e){return h5(e),e}function NH(e,t){let n;return r;function r(u){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),s(u)}function s(u){return u===null?o(u):Pt(u)?e.check(wH,l,o)(u):(e.consume(u),s)}function o(u){return e.exit("chunkContent"),e.exit("content"),t(u)}function l(u){return e.consume(u),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,s}}function SH(e,t,n){const r=this;return s;function s(l){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),xn(e,o,"linePrefix")}function o(l){if(l===null||Pt(l))return n(l);const u=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&u&&u[1].type==="linePrefix"&&u[2].sliceSerialize(u[1],!0).length>=4?t(l):e.interrupt(r.parser.constructs.flow,n,t)(l)}}function p5(e,t,n,r,s,o,l,u,d){const f=d||Number.POSITIVE_INFINITY;let p=0;return m;function m(P){return P===60?(e.enter(r),e.enter(s),e.enter(o),e.consume(P),e.exit(o),x):P===null||P===32||P===41||xb(P)?n(P):(e.enter(r),e.enter(l),e.enter(u),e.enter("chunkString",{contentType:"string"}),N(P))}function x(P){return P===62?(e.enter(o),e.consume(P),e.exit(o),e.exit(s),e.exit(r),t):(e.enter(u),e.enter("chunkString",{contentType:"string"}),v(P))}function v(P){return P===62?(e.exit("chunkString"),e.exit(u),x(P)):P===null||P===60||Pt(P)?n(P):(e.consume(P),P===92?S:v)}function S(P){return P===60||P===62||P===92?(e.consume(P),v):v(P)}function N(P){return!p&&(P===null||P===41||ls(P))?(e.exit("chunkString"),e.exit(u),e.exit(l),e.exit(r),t(P)):p<f&&P===40?(e.consume(P),p++,N):P===41?(e.consume(P),p--,N):P===null||P===32||P===40||xb(P)?n(P):(e.consume(P),P===92?_:N)}function _(P){return P===40||P===41||P===92?(e.consume(P),N):N(P)}}function m5(e,t,n,r,s,o){const l=this;let u=0,d;return f;function f(v){return e.enter(r),e.enter(s),e.consume(v),e.exit(s),e.enter(o),p}function p(v){return u>999||v===null||v===91||v===93&&!d||v===94&&!u&&"_hiddenFootnoteSupport"in l.parser.constructs?n(v):v===93?(e.exit(o),e.enter(s),e.consume(v),e.exit(s),e.exit(r),t):Pt(v)?(e.enter("lineEnding"),e.consume(v),e.exit("lineEnding"),p):(e.enter("chunkString",{contentType:"string"}),m(v))}function m(v){return v===null||v===91||v===93||Pt(v)||u++>999?(e.exit("chunkString"),p(v)):(e.consume(v),d||(d=!tn(v)),v===92?x:m)}function x(v){return v===91||v===92||v===93?(e.consume(v),u++,m):m(v)}}function g5(e,t,n,r,s,o){let l;return u;function u(x){return x===34||x===39||x===40?(e.enter(r),e.enter(s),e.consume(x),e.exit(s),l=x===40?41:x,d):n(x)}function d(x){return x===l?(e.enter(s),e.consume(x),e.exit(s),e.exit(r),t):(e.enter(o),f(x))}function f(x){return x===l?(e.exit(o),d(l)):x===null?n(x):Pt(x)?(e.enter("lineEnding"),e.consume(x),e.exit("lineEnding"),xn(e,f,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),p(x))}function p(x){return x===l||x===null||Pt(x)?(e.exit("chunkString"),f(x)):(e.consume(x),x===92?m:p)}function m(x){return x===l||x===92?(e.consume(x),p):p(x)}}function Uf(e,t){let n;return r;function r(s){return Pt(s)?(e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),n=!0,r):tn(s)?xn(e,r,n?"linePrefix":"lineSuffix")(s):t(s)}}const kH={name:"definition",tokenize:CH},_H={partial:!0,tokenize:EH};function CH(e,t,n){const r=this;let s;return o;function o(v){return e.enter("definition"),l(v)}function l(v){return m5.call(r,e,u,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(v)}function u(v){return s=Lu(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),v===58?(e.enter("definitionMarker"),e.consume(v),e.exit("definitionMarker"),d):n(v)}function d(v){return ls(v)?Uf(e,f)(v):f(v)}function f(v){return p5(e,p,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(v)}function p(v){return e.attempt(_H,m,m)(v)}function m(v){return tn(v)?xn(e,x,"whitespace")(v):x(v)}function x(v){return v===null||Pt(v)?(e.exit("definition"),r.parser.defined.push(s),t(v)):n(v)}}function EH(e,t,n){return r;function r(u){return ls(u)?Uf(e,s)(u):n(u)}function s(u){return g5(e,o,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(u)}function o(u){return tn(u)?xn(e,l,"whitespace")(u):l(u)}function l(u){return u===null||Pt(u)?t(u):n(u)}}const PH={name:"hardBreakEscape",tokenize:AH};function AH(e,t,n){return r;function r(o){return e.enter("hardBreakEscape"),e.consume(o),s}function s(o){return Pt(o)?(e.exit("hardBreakEscape"),t(o)):n(o)}}const TH={name:"headingAtx",resolve:RH,tokenize:IH};function RH(e,t){let n=e.length-2,r=3,s,o;return e[r][1].type==="whitespace"&&(r+=2),n-2>r&&e[n][1].type==="whitespace"&&(n-=2),e[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&e[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(s={type:"atxHeadingText",start:e[r][1].start,end:e[n][1].end},o={type:"chunkText",start:e[r][1].start,end:e[n][1].end,contentType:"text"},ta(e,r,n-r+1,[["enter",s,t],["enter",o,t],["exit",o,t],["exit",s,t]])),e}function IH(e,t,n){let r=0;return s;function s(p){return e.enter("atxHeading"),o(p)}function o(p){return e.enter("atxHeadingSequence"),l(p)}function l(p){return p===35&&r++<6?(e.consume(p),l):p===null||ls(p)?(e.exit("atxHeadingSequence"),u(p)):n(p)}function u(p){return p===35?(e.enter("atxHeadingSequence"),d(p)):p===null||Pt(p)?(e.exit("atxHeading"),t(p)):tn(p)?xn(e,u,"whitespace")(p):(e.enter("atxHeadingText"),f(p))}function d(p){return p===35?(e.consume(p),d):(e.exit("atxHeadingSequence"),u(p))}function f(p){return p===null||p===35||ls(p)?(e.exit("atxHeadingText"),u(p)):(e.consume(p),f)}}const MH=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],__=["pre","script","style","textarea"],OH={concrete:!0,name:"htmlFlow",resolveTo:FH,tokenize:$H},DH={partial:!0,tokenize:zH},LH={partial:!0,tokenize:BH};function FH(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function $H(e,t,n){const r=this;let s,o,l,u,d;return f;function f(B){return p(B)}function p(B){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(B),m}function m(B){return B===33?(e.consume(B),x):B===47?(e.consume(B),o=!0,N):B===63?(e.consume(B),s=3,r.interrupt?t:A):Vi(B)?(e.consume(B),l=String.fromCharCode(B),_):n(B)}function x(B){return B===45?(e.consume(B),s=2,v):B===91?(e.consume(B),s=5,u=0,S):Vi(B)?(e.consume(B),s=4,r.interrupt?t:A):n(B)}function v(B){return B===45?(e.consume(B),r.interrupt?t:A):n(B)}function S(B){const Ee="CDATA[";return B===Ee.charCodeAt(u++)?(e.consume(B),u===Ee.length?r.interrupt?t:ee:S):n(B)}function N(B){return Vi(B)?(e.consume(B),l=String.fromCharCode(B),_):n(B)}function _(B){if(B===null||B===47||B===62||ls(B)){const Ee=B===47,De=l.toLowerCase();return!Ee&&!o&&__.includes(De)?(s=1,r.interrupt?t(B):ee(B)):MH.includes(l.toLowerCase())?(s=6,Ee?(e.consume(B),P):r.interrupt?t(B):ee(B)):(s=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(B):o?T(B):I(B))}return B===45||js(B)?(e.consume(B),l+=String.fromCharCode(B),_):n(B)}function P(B){return B===62?(e.consume(B),r.interrupt?t:ee):n(B)}function T(B){return tn(B)?(e.consume(B),T):Y(B)}function I(B){return B===47?(e.consume(B),Y):B===58||B===95||Vi(B)?(e.consume(B),L):tn(B)?(e.consume(B),I):Y(B)}function L(B){return B===45||B===46||B===58||B===95||js(B)?(e.consume(B),L):z(B)}function z(B){return B===61?(e.consume(B),$):tn(B)?(e.consume(B),z):I(B)}function $(B){return B===null||B===60||B===61||B===62||B===96?n(B):B===34||B===39?(e.consume(B),d=B,V):tn(B)?(e.consume(B),$):W(B)}function V(B){return B===d?(e.consume(B),d=null,F):B===null||Pt(B)?n(B):(e.consume(B),V)}function W(B){return B===null||B===34||B===39||B===47||B===60||B===61||B===62||B===96||ls(B)?z(B):(e.consume(B),W)}function F(B){return B===47||B===62||tn(B)?I(B):n(B)}function Y(B){return B===62?(e.consume(B),H):n(B)}function H(B){return B===null||Pt(B)?ee(B):tn(B)?(e.consume(B),H):n(B)}function ee(B){return B===45&&s===2?(e.consume(B),ge):B===60&&s===1?(e.consume(B),Se):B===62&&s===4?(e.consume(B),M):B===63&&s===3?(e.consume(B),A):B===93&&s===5?(e.consume(B),fe):Pt(B)&&(s===6||s===7)?(e.exit("htmlFlowData"),e.check(DH,X,ve)(B)):B===null||Pt(B)?(e.exit("htmlFlowData"),ve(B)):(e.consume(B),ee)}function ve(B){return e.check(LH,ae,X)(B)}function ae(B){return e.enter("lineEnding"),e.consume(B),e.exit("lineEnding"),he}function he(B){return B===null||Pt(B)?ve(B):(e.enter("htmlFlowData"),ee(B))}function ge(B){return B===45?(e.consume(B),A):ee(B)}function Se(B){return B===47?(e.consume(B),l="",K):ee(B)}function K(B){if(B===62){const Ee=l.toLowerCase();return __.includes(Ee)?(e.consume(B),M):ee(B)}return Vi(B)&&l.length<8?(e.consume(B),l+=String.fromCharCode(B),K):ee(B)}function fe(B){return B===93?(e.consume(B),A):ee(B)}function A(B){return B===62?(e.consume(B),M):B===45&&s===2?(e.consume(B),A):ee(B)}function M(B){return B===null||Pt(B)?(e.exit("htmlFlowData"),X(B)):(e.consume(B),M)}function X(B){return e.exit("htmlFlow"),t(B)}}function BH(e,t,n){const r=this;return s;function s(l){return Pt(l)?(e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),o):n(l)}function o(l){return r.parser.lazy[r.now().line]?n(l):t(l)}}function zH(e,t,n){return r;function r(s){return e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),e.attempt(kx,t,n)}}const UH={name:"htmlText",tokenize:VH};function VH(e,t,n){const r=this;let s,o,l;return u;function u(A){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(A),d}function d(A){return A===33?(e.consume(A),f):A===47?(e.consume(A),z):A===63?(e.consume(A),I):Vi(A)?(e.consume(A),W):n(A)}function f(A){return A===45?(e.consume(A),p):A===91?(e.consume(A),o=0,S):Vi(A)?(e.consume(A),T):n(A)}function p(A){return A===45?(e.consume(A),v):n(A)}function m(A){return A===null?n(A):A===45?(e.consume(A),x):Pt(A)?(l=m,Se(A)):(e.consume(A),m)}function x(A){return A===45?(e.consume(A),v):m(A)}function v(A){return A===62?ge(A):A===45?x(A):m(A)}function S(A){const M="CDATA[";return A===M.charCodeAt(o++)?(e.consume(A),o===M.length?N:S):n(A)}function N(A){return A===null?n(A):A===93?(e.consume(A),_):Pt(A)?(l=N,Se(A)):(e.consume(A),N)}function _(A){return A===93?(e.consume(A),P):N(A)}function P(A){return A===62?ge(A):A===93?(e.consume(A),P):N(A)}function T(A){return A===null||A===62?ge(A):Pt(A)?(l=T,Se(A)):(e.consume(A),T)}function I(A){return A===null?n(A):A===63?(e.consume(A),L):Pt(A)?(l=I,Se(A)):(e.consume(A),I)}function L(A){return A===62?ge(A):I(A)}function z(A){return Vi(A)?(e.consume(A),$):n(A)}function $(A){return A===45||js(A)?(e.consume(A),$):V(A)}function V(A){return Pt(A)?(l=V,Se(A)):tn(A)?(e.consume(A),V):ge(A)}function W(A){return A===45||js(A)?(e.consume(A),W):A===47||A===62||ls(A)?F(A):n(A)}function F(A){return A===47?(e.consume(A),ge):A===58||A===95||Vi(A)?(e.consume(A),Y):Pt(A)?(l=F,Se(A)):tn(A)?(e.consume(A),F):ge(A)}function Y(A){return A===45||A===46||A===58||A===95||js(A)?(e.consume(A),Y):H(A)}function H(A){return A===61?(e.consume(A),ee):Pt(A)?(l=H,Se(A)):tn(A)?(e.consume(A),H):F(A)}function ee(A){return A===null||A===60||A===61||A===62||A===96?n(A):A===34||A===39?(e.consume(A),s=A,ve):Pt(A)?(l=ee,Se(A)):tn(A)?(e.consume(A),ee):(e.consume(A),ae)}function ve(A){return A===s?(e.consume(A),s=void 0,he):A===null?n(A):Pt(A)?(l=ve,Se(A)):(e.consume(A),ve)}function ae(A){return A===null||A===34||A===39||A===60||A===61||A===96?n(A):A===47||A===62||ls(A)?F(A):(e.consume(A),ae)}function he(A){return A===47||A===62||ls(A)?F(A):n(A)}function ge(A){return A===62?(e.consume(A),e.exit("htmlTextData"),e.exit("htmlText"),t):n(A)}function Se(A){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(A),e.exit("lineEnding"),K}function K(A){return tn(A)?xn(e,fe,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(A):fe(A)}function fe(A){return e.enter("htmlTextData"),l(A)}}const c1={name:"labelEnd",resolveAll:KH,resolveTo:GH,tokenize:YH},WH={tokenize:QH},qH={tokenize:XH},HH={tokenize:JH};function KH(e){let t=-1;const n=[];for(;++t<e.length;){const r=e[t][1];if(n.push(e[t]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const s=r.type==="labelImage"?4:2;r.type="data",t+=s}}return e.length!==n.length&&ta(e,0,e.length,n),e}function GH(e,t){let n=e.length,r=0,s,o,l,u;for(;n--;)if(s=e[n][1],o){if(s.type==="link"||s.type==="labelLink"&&s._inactive)break;e[n][0]==="enter"&&s.type==="labelLink"&&(s._inactive=!0)}else if(l){if(e[n][0]==="enter"&&(s.type==="labelImage"||s.type==="labelLink")&&!s._balanced&&(o=n,s.type!=="labelLink")){r=2;break}}else s.type==="labelEnd"&&(l=n);const d={type:e[o][1].type==="labelLink"?"link":"image",start:{...e[o][1].start},end:{...e[e.length-1][1].end}},f={type:"label",start:{...e[o][1].start},end:{...e[l][1].end}},p={type:"labelText",start:{...e[o+r+2][1].end},end:{...e[l-2][1].start}};return u=[["enter",d,t],["enter",f,t]],u=Bs(u,e.slice(o+1,o+r+3)),u=Bs(u,[["enter",p,t]]),u=Bs(u,l1(t.parser.constructs.insideSpan.null,e.slice(o+r+4,l-3),t)),u=Bs(u,[["exit",p,t],e[l-2],e[l-1],["exit",f,t]]),u=Bs(u,e.slice(l+1)),u=Bs(u,[["exit",d,t]]),ta(e,o,e.length,u),e}function YH(e,t,n){const r=this;let s=r.events.length,o,l;for(;s--;)if((r.events[s][1].type==="labelImage"||r.events[s][1].type==="labelLink")&&!r.events[s][1]._balanced){o=r.events[s][1];break}return u;function u(x){return o?o._inactive?m(x):(l=r.parser.defined.includes(Lu(r.sliceSerialize({start:o.end,end:r.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(x),e.exit("labelMarker"),e.exit("labelEnd"),d):n(x)}function d(x){return x===40?e.attempt(WH,p,l?p:m)(x):x===91?e.attempt(qH,p,l?f:m)(x):l?p(x):m(x)}function f(x){return e.attempt(HH,p,m)(x)}function p(x){return t(x)}function m(x){return o._balanced=!0,n(x)}}function QH(e,t,n){return r;function r(m){return e.enter("resource"),e.enter("resourceMarker"),e.consume(m),e.exit("resourceMarker"),s}function s(m){return ls(m)?Uf(e,o)(m):o(m)}function o(m){return m===41?p(m):p5(e,l,u,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(m)}function l(m){return ls(m)?Uf(e,d)(m):p(m)}function u(m){return n(m)}function d(m){return m===34||m===39||m===40?g5(e,f,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(m):p(m)}function f(m){return ls(m)?Uf(e,p)(m):p(m)}function p(m){return m===41?(e.enter("resourceMarker"),e.consume(m),e.exit("resourceMarker"),e.exit("resource"),t):n(m)}}function XH(e,t,n){const r=this;return s;function s(u){return m5.call(r,e,o,l,"reference","referenceMarker","referenceString")(u)}function o(u){return r.parser.defined.includes(Lu(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?t(u):n(u)}function l(u){return n(u)}}function JH(e,t,n){return r;function r(o){return e.enter("reference"),e.enter("referenceMarker"),e.consume(o),e.exit("referenceMarker"),s}function s(o){return o===93?(e.enter("referenceMarker"),e.consume(o),e.exit("referenceMarker"),e.exit("reference"),t):n(o)}}const ZH={name:"labelStartImage",resolveAll:c1.resolveAll,tokenize:eK};function eK(e,t,n){const r=this;return s;function s(u){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(u),e.exit("labelImageMarker"),o}function o(u){return u===91?(e.enter("labelMarker"),e.consume(u),e.exit("labelMarker"),e.exit("labelImage"),l):n(u)}function l(u){return u===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(u):t(u)}}const tK={name:"labelStartLink",resolveAll:c1.resolveAll,tokenize:nK};function nK(e,t,n){const r=this;return s;function s(l){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(l),e.exit("labelMarker"),e.exit("labelLink"),o}function o(l){return l===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(l):t(l)}}const Uy={name:"lineEnding",tokenize:rK};function rK(e,t){return n;function n(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),xn(e,t,"linePrefix")}}const qm={name:"thematicBreak",tokenize:sK};function sK(e,t,n){let r=0,s;return o;function o(f){return e.enter("thematicBreak"),l(f)}function l(f){return s=f,u(f)}function u(f){return f===s?(e.enter("thematicBreakSequence"),d(f)):r>=3&&(f===null||Pt(f))?(e.exit("thematicBreak"),t(f)):n(f)}function d(f){return f===s?(e.consume(f),r++,d):(e.exit("thematicBreakSequence"),tn(f)?xn(e,u,"whitespace")(f):u(f))}}const ns={continuation:{tokenize:lK},exit:uK,name:"list",tokenize:oK},iK={partial:!0,tokenize:dK},aK={partial:!0,tokenize:cK};function oK(e,t,n){const r=this,s=r.events[r.events.length-1];let o=s&&s[1].type==="linePrefix"?s[2].sliceSerialize(s[1],!0).length:0,l=0;return u;function u(v){const S=r.containerState.type||(v===42||v===43||v===45?"listUnordered":"listOrdered");if(S==="listUnordered"?!r.containerState.marker||v===r.containerState.marker:yb(v)){if(r.containerState.type||(r.containerState.type=S,e.enter(S,{_container:!0})),S==="listUnordered")return e.enter("listItemPrefix"),v===42||v===45?e.check(qm,n,f)(v):f(v);if(!r.interrupt||v===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),d(v)}return n(v)}function d(v){return yb(v)&&++l<10?(e.consume(v),d):(!r.interrupt||l<2)&&(r.containerState.marker?v===r.containerState.marker:v===41||v===46)?(e.exit("listItemValue"),f(v)):n(v)}function f(v){return e.enter("listItemMarker"),e.consume(v),e.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||v,e.check(kx,r.interrupt?n:p,e.attempt(iK,x,m))}function p(v){return r.containerState.initialBlankLine=!0,o++,x(v)}function m(v){return tn(v)?(e.enter("listItemPrefixWhitespace"),e.consume(v),e.exit("listItemPrefixWhitespace"),x):n(v)}function x(v){return r.containerState.size=o+r.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(v)}}function lK(e,t,n){const r=this;return r.containerState._closeFlow=void 0,e.check(kx,s,o);function s(u){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,xn(e,t,"listItemIndent",r.containerState.size+1)(u)}function o(u){return r.containerState.furtherBlankLines||!tn(u)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,l(u)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(aK,t,l)(u))}function l(u){return r.containerState._closeFlow=!0,r.interrupt=void 0,xn(e,e.attempt(ns,t,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(u)}}function cK(e,t,n){const r=this;return xn(e,s,"listItemIndent",r.containerState.size+1);function s(o){const l=r.events[r.events.length-1];return l&&l[1].type==="listItemIndent"&&l[2].sliceSerialize(l[1],!0).length===r.containerState.size?t(o):n(o)}}function uK(e){e.exit(this.containerState.type)}function dK(e,t,n){const r=this;return xn(e,s,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function s(o){const l=r.events[r.events.length-1];return!tn(o)&&l&&l[1].type==="listItemPrefixWhitespace"?t(o):n(o)}}const C_={name:"setextUnderline",resolveTo:fK,tokenize:hK};function fK(e,t){let n=e.length,r,s,o;for(;n--;)if(e[n][0]==="enter"){if(e[n][1].type==="content"){r=n;break}e[n][1].type==="paragraph"&&(s=n)}else e[n][1].type==="content"&&e.splice(n,1),!o&&e[n][1].type==="definition"&&(o=n);const l={type:"setextHeading",start:{...e[r][1].start},end:{...e[e.length-1][1].end}};return e[s][1].type="setextHeadingText",o?(e.splice(s,0,["enter",l,t]),e.splice(o+1,0,["exit",e[r][1],t]),e[r][1].end={...e[o][1].end}):e[r][1]=l,e.push(["exit",l,t]),e}function hK(e,t,n){const r=this;let s;return o;function o(f){let p=r.events.length,m;for(;p--;)if(r.events[p][1].type!=="lineEnding"&&r.events[p][1].type!=="linePrefix"&&r.events[p][1].type!=="content"){m=r.events[p][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||m)?(e.enter("setextHeadingLine"),s=f,l(f)):n(f)}function l(f){return e.enter("setextHeadingLineSequence"),u(f)}function u(f){return f===s?(e.consume(f),u):(e.exit("setextHeadingLineSequence"),tn(f)?xn(e,d,"lineSuffix")(f):d(f))}function d(f){return f===null||Pt(f)?(e.exit("setextHeadingLine"),t(f)):n(f)}}const pK={tokenize:mK};function mK(e){const t=this,n=e.attempt(kx,r,e.attempt(this.parser.constructs.flowInitial,s,xn(e,e.attempt(this.parser.constructs.flow,s,e.attempt(bH,s)),"linePrefix")));return n;function r(o){if(o===null){e.consume(o);return}return e.enter("lineEndingBlank"),e.consume(o),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n}function s(o){if(o===null){e.consume(o);return}return e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),t.currentConstruct=void 0,n}}const gK={resolveAll:y5()},xK=x5("string"),yK=x5("text");function x5(e){return{resolveAll:y5(e==="text"?vK:void 0),tokenize:t};function t(n){const r=this,s=this.parser.constructs[e],o=n.attempt(s,l,u);return l;function l(p){return f(p)?o(p):u(p)}function u(p){if(p===null){n.consume(p);return}return n.enter("data"),n.consume(p),d}function d(p){return f(p)?(n.exit("data"),o(p)):(n.consume(p),d)}function f(p){if(p===null)return!0;const m=s[p];let x=-1;if(m)for(;++x<m.length;){const v=m[x];if(!v.previous||v.previous.call(r,r.previous))return!0}return!1}}}function y5(e){return t;function t(n,r){let s=-1,o;for(;++s<=n.length;)o===void 0?n[s]&&n[s][1].type==="data"&&(o=s,s++):(!n[s]||n[s][1].type!=="data")&&(s!==o+2&&(n[o][1].end=n[s-1][1].end,n.splice(o+2,s-o-2),s=o+2),o=void 0);return e?e(n,r):n}}function vK(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||e[n][1].type==="lineEnding")&&e[n-1][1].type==="data"){const r=e[n-1][1],s=t.sliceStream(r);let o=s.length,l=-1,u=0,d;for(;o--;){const f=s[o];if(typeof f=="string"){for(l=f.length;f.charCodeAt(l-1)===32;)u++,l--;if(l)break;l=-1}else if(f===-2)d=!0,u++;else if(f!==-1){o++;break}}if(t._contentTypeTextTrailing&&n===e.length&&(u=0),u){const f={type:n===e.length||d||u<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:o?l:r.start._bufferIndex+l,_index:r.start._index+o,line:r.end.line,column:r.end.column-u,offset:r.end.offset-u},end:{...r.end}};r.end={...f.start},r.start.offset===r.end.offset?Object.assign(r,f):(e.splice(n,0,["enter",f,t],["exit",f,t]),n+=2)}n++}return e}const bK={42:ns,43:ns,45:ns,48:ns,49:ns,50:ns,51:ns,52:ns,53:ns,54:ns,55:ns,56:ns,57:ns,62:u5},wK={91:kH},jK={[-2]:zy,[-1]:zy,32:zy},NK={35:TH,42:qm,45:[C_,qm],60:OH,61:C_,95:qm,96:k_,126:k_},SK={38:f5,92:d5},kK={[-5]:Uy,[-4]:Uy,[-3]:Uy,33:ZH,38:f5,42:vb,60:[tH,UH],91:tK,92:[PH,d5],93:c1,95:vb,96:pH},_K={null:[vb,gK]},CK={null:[42,95]},EK={null:[]},PK=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:CK,contentInitial:wK,disable:EK,document:bK,flow:NK,flowInitial:jK,insideSpan:_K,string:SK,text:kK},Symbol.toStringTag,{value:"Module"}));function AK(e,t,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const s={},o=[];let l=[],u=[];const d={attempt:V(z),check:V($),consume:T,enter:I,exit:L,interrupt:V($,{interrupt:!0})},f={code:null,containerState:{},defineSkip:N,events:[],now:S,parser:e,previous:null,sliceSerialize:x,sliceStream:v,write:m};let p=t.tokenize.call(f,d);return t.resolveAll&&o.push(t),f;function m(H){return l=Bs(l,H),_(),l[l.length-1]!==null?[]:(W(t,0),f.events=l1(o,f.events,f),f.events)}function x(H,ee){return RK(v(H),ee)}function v(H){return TK(l,H)}function S(){const{_bufferIndex:H,_index:ee,line:ve,column:ae,offset:he}=r;return{_bufferIndex:H,_index:ee,line:ve,column:ae,offset:he}}function N(H){s[H.line]=H.column,Y()}function _(){let H;for(;r._index<l.length;){const ee=l[r._index];if(typeof ee=="string")for(H=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===H&&r._bufferIndex<ee.length;)P(ee.charCodeAt(r._bufferIndex));else P(ee)}}function P(H){p=p(H)}function T(H){Pt(H)?(r.line++,r.column=1,r.offset+=H===-3?2:1,Y()):H!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===l[r._index].length&&(r._bufferIndex=-1,r._index++)),f.previous=H}function I(H,ee){const ve=ee||{};return ve.type=H,ve.start=S(),f.events.push(["enter",ve,f]),u.push(ve),ve}function L(H){const ee=u.pop();return ee.end=S(),f.events.push(["exit",ee,f]),ee}function z(H,ee){W(H,ee.from)}function $(H,ee){ee.restore()}function V(H,ee){return ve;function ve(ae,he,ge){let Se,K,fe,A;return Array.isArray(ae)?X(ae):"tokenize"in ae?X([ae]):M(ae);function M(Te){return xe;function xe(Pe){const Ue=Pe!==null&&Te[Pe],Ce=Pe!==null&&Te.null,et=[...Array.isArray(Ue)?Ue:Ue?[Ue]:[],...Array.isArray(Ce)?Ce:Ce?[Ce]:[]];return X(et)(Pe)}}function X(Te){return Se=Te,K=0,Te.length===0?ge:B(Te[K])}function B(Te){return xe;function xe(Pe){return A=F(),fe=Te,Te.partial||(f.currentConstruct=Te),Te.name&&f.parser.constructs.disable.null.includes(Te.name)?De():Te.tokenize.call(ee?Object.assign(Object.create(f),ee):f,d,Ee,De)(Pe)}}function Ee(Te){return H(fe,A),he}function De(Te){return A.restore(),++K<Se.length?B(Se[K]):ge}}}function W(H,ee){H.resolveAll&&!o.includes(H)&&o.push(H),H.resolve&&ta(f.events,ee,f.events.length-ee,H.resolve(f.events.slice(ee),f)),H.resolveTo&&(f.events=H.resolveTo(f.events,f))}function F(){const H=S(),ee=f.previous,ve=f.currentConstruct,ae=f.events.length,he=Array.from(u);return{from:ae,restore:ge};function ge(){r=H,f.previous=ee,f.currentConstruct=ve,f.events.length=ae,u=he,Y()}}function Y(){r.line in s&&r.column<2&&(r.column=s[r.line],r.offset+=s[r.line]-1)}}function TK(e,t){const n=t.start._index,r=t.start._bufferIndex,s=t.end._index,o=t.end._bufferIndex;let l;if(n===s)l=[e[n].slice(r,o)];else{if(l=e.slice(n,s),r>-1){const u=l[0];typeof u=="string"?l[0]=u.slice(r):l.shift()}o>0&&l.push(e[s].slice(0,o))}return l}function RK(e,t){let n=-1;const r=[];let s;for(;++n<e.length;){const o=e[n];let l;if(typeof o=="string")l=o;else switch(o){case-5:{l="\r";break}case-4:{l=`
`;break}case-3:{l=`\r
`;break}case-2:{l=t?" ":"	";break}case-1:{if(!t&&s)continue;l=" ";break}default:l=String.fromCharCode(o)}s=o===-2,r.push(l)}return r.join("")}function IK(e){const r={constructs:Bq([PK,...(e||{}).extensions||[]]),content:s(Gq),defined:[],document:s(Qq),flow:s(pK),lazy:{},string:s(xK),text:s(yK)};return r;function s(o){return l;function l(u){return AK(r,o,u)}}}function MK(e){for(;!h5(e););return e}const E_=/[\0\t\n\r]/g;function OK(){let e=1,t="",n=!0,r;return s;function s(o,l,u){const d=[];let f,p,m,x,v;for(o=t+(typeof o=="string"?o.toString():new TextDecoder(l||void 0).decode(o)),m=0,t="",n&&(o.charCodeAt(0)===65279&&m++,n=void 0);m<o.length;){if(E_.lastIndex=m,f=E_.exec(o),x=f&&f.index!==void 0?f.index:o.length,v=o.charCodeAt(x),!f){t=o.slice(m);break}if(v===10&&m===x&&r)d.push(-3),r=void 0;else switch(r&&(d.push(-5),r=void 0),m<x&&(d.push(o.slice(m,x)),e+=x-m),v){case 0:{d.push(65533),e++;break}case 9:{for(p=Math.ceil(e/4)*4,d.push(-2);e++<p;)d.push(-1);break}case 10:{d.push(-4),e=1;break}default:r=!0,e=1}m=x+1}return u&&(r&&d.push(-5),t&&d.push(t),d.push(null)),d}}const DK=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function LK(e){return e.replace(DK,FK)}function FK(e,t,n){if(t)return t;if(n.charCodeAt(0)===35){const s=n.charCodeAt(1),o=s===120||s===88;return c5(n.slice(o?2:1),o?16:10)}return o1(n)||e}const v5={}.hasOwnProperty;function $K(e,t,n){return typeof t!="string"&&(n=t,t=void 0),BK(n)(MK(IK(n).document().write(OK()(e,t,!0))))}function BK(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:o(yn),autolinkProtocol:F,autolinkEmail:F,atxHeading:o($t),blockQuote:o(Ce),characterEscape:F,characterReference:F,codeFenced:o(et),codeFencedFenceInfo:l,codeFencedFenceMeta:l,codeIndented:o(et,l),codeText:o(Ve,l),codeTextData:F,data:F,codeFlowValue:F,definition:o(_t),definitionDestinationString:l,definitionLabelString:l,definitionTitleString:l,emphasis:o(yt),hardBreakEscape:o(dn),hardBreakTrailing:o(dn),htmlFlow:o(ln,l),htmlFlowData:F,htmlText:o(ln,l),htmlTextData:F,image:o(zn),label:l,link:o(yn),listItem:o(Pn),listItemValue:x,listOrdered:o(fn,m),listUnordered:o(fn),paragraph:o(ds),reference:B,referenceString:l,resourceDestinationString:l,resourceTitleString:l,setextHeading:o($t),strong:o(Cr),thematicBreak:o(Yr)},exit:{atxHeading:d(),atxHeadingSequence:z,autolink:d(),autolinkEmail:Ue,autolinkProtocol:Pe,blockQuote:d(),characterEscapeValue:Y,characterReferenceMarkerHexadecimal:De,characterReferenceMarkerNumeric:De,characterReferenceValue:Te,characterReference:xe,codeFenced:d(_),codeFencedFence:N,codeFencedFenceInfo:v,codeFencedFenceMeta:S,codeFlowValue:Y,codeIndented:d(P),codeText:d(he),codeTextData:Y,data:Y,definition:d(),definitionDestinationString:L,definitionLabelString:T,definitionTitleString:I,emphasis:d(),hardBreakEscape:d(ee),hardBreakTrailing:d(ee),htmlFlow:d(ve),htmlFlowData:Y,htmlText:d(ae),htmlTextData:Y,image:d(Se),label:fe,labelText:K,lineEnding:H,link:d(ge),listItem:d(),listOrdered:d(),listUnordered:d(),paragraph:d(),referenceString:Ee,resourceDestinationString:A,resourceTitleString:M,resource:X,setextHeading:d(W),setextHeadingLineSequence:V,setextHeadingText:$,strong:d(),thematicBreak:d()}};b5(t,(e||{}).mdastExtensions||[]);const n={};return r;function r(_e){let Fe={type:"root",children:[]};const re={stack:[Fe],tokenStack:[],config:t,enter:u,exit:f,buffer:l,resume:p,data:n},$e=[];let dt=-1;for(;++dt<_e.length;)if(_e[dt][1].type==="listOrdered"||_e[dt][1].type==="listUnordered")if(_e[dt][0]==="enter")$e.push(dt);else{const Tt=$e.pop();dt=s(_e,Tt,dt)}for(dt=-1;++dt<_e.length;){const Tt=t[_e[dt][0]];v5.call(Tt,_e[dt][1].type)&&Tt[_e[dt][1].type].call(Object.assign({sliceSerialize:_e[dt][2].sliceSerialize},re),_e[dt][1])}if(re.tokenStack.length>0){const Tt=re.tokenStack[re.tokenStack.length-1];(Tt[1]||P_).call(re,void 0,Tt[0])}for(Fe.position={start:Co(_e.length>0?_e[0][1].start:{line:1,column:1,offset:0}),end:Co(_e.length>0?_e[_e.length-2][1].end:{line:1,column:1,offset:0})},dt=-1;++dt<t.transforms.length;)Fe=t.transforms[dt](Fe)||Fe;return Fe}function s(_e,Fe,re){let $e=Fe-1,dt=-1,Tt=!1,rn,Kt,vn,Sn;for(;++$e<=re;){const He=_e[$e];switch(He[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{He[0]==="enter"?dt++:dt--,Sn=void 0;break}case"lineEndingBlank":{He[0]==="enter"&&(rn&&!Sn&&!dt&&!vn&&(vn=$e),Sn=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:Sn=void 0}if(!dt&&He[0]==="enter"&&He[1].type==="listItemPrefix"||dt===-1&&He[0]==="exit"&&(He[1].type==="listUnordered"||He[1].type==="listOrdered")){if(rn){let Fn=$e;for(Kt=void 0;Fn--;){const kn=_e[Fn];if(kn[1].type==="lineEnding"||kn[1].type==="lineEndingBlank"){if(kn[0]==="exit")continue;Kt&&(_e[Kt][1].type="lineEndingBlank",Tt=!0),kn[1].type="lineEnding",Kt=Fn}else if(!(kn[1].type==="linePrefix"||kn[1].type==="blockQuotePrefix"||kn[1].type==="blockQuotePrefixWhitespace"||kn[1].type==="blockQuoteMarker"||kn[1].type==="listItemIndent"))break}vn&&(!Kt||vn<Kt)&&(rn._spread=!0),rn.end=Object.assign({},Kt?_e[Kt][1].start:He[1].end),_e.splice(Kt||$e,0,["exit",rn,He[2]]),$e++,re++}if(He[1].type==="listItemPrefix"){const Fn={type:"listItem",_spread:!1,start:Object.assign({},He[1].start),end:void 0};rn=Fn,_e.splice($e,0,["enter",Fn,He[2]]),$e++,re++,vn=void 0,Sn=!0}}}return _e[Fe][1]._spread=Tt,re}function o(_e,Fe){return re;function re($e){u.call(this,_e($e),$e),Fe&&Fe.call(this,$e)}}function l(){this.stack.push({type:"fragment",children:[]})}function u(_e,Fe,re){this.stack[this.stack.length-1].children.push(_e),this.stack.push(_e),this.tokenStack.push([Fe,re||void 0]),_e.position={start:Co(Fe.start),end:void 0}}function d(_e){return Fe;function Fe(re){_e&&_e.call(this,re),f.call(this,re)}}function f(_e,Fe){const re=this.stack.pop(),$e=this.tokenStack.pop();if($e)$e[0].type!==_e.type&&(Fe?Fe.call(this,_e,$e[0]):($e[1]||P_).call(this,_e,$e[0]));else throw new Error("Cannot close `"+_e.type+"` ("+zf({start:_e.start,end:_e.end})+"): its not open");re.position.end=Co(_e.end)}function p(){return Fq(this.stack.pop())}function m(){this.data.expectingFirstListItemValue=!0}function x(_e){if(this.data.expectingFirstListItemValue){const Fe=this.stack[this.stack.length-2];Fe.start=Number.parseInt(this.sliceSerialize(_e),10),this.data.expectingFirstListItemValue=void 0}}function v(){const _e=this.resume(),Fe=this.stack[this.stack.length-1];Fe.lang=_e}function S(){const _e=this.resume(),Fe=this.stack[this.stack.length-1];Fe.meta=_e}function N(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function _(){const _e=this.resume(),Fe=this.stack[this.stack.length-1];Fe.value=_e.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function P(){const _e=this.resume(),Fe=this.stack[this.stack.length-1];Fe.value=_e.replace(/(\r?\n|\r)$/g,"")}function T(_e){const Fe=this.resume(),re=this.stack[this.stack.length-1];re.label=Fe,re.identifier=Lu(this.sliceSerialize(_e)).toLowerCase()}function I(){const _e=this.resume(),Fe=this.stack[this.stack.length-1];Fe.title=_e}function L(){const _e=this.resume(),Fe=this.stack[this.stack.length-1];Fe.url=_e}function z(_e){const Fe=this.stack[this.stack.length-1];if(!Fe.depth){const re=this.sliceSerialize(_e).length;Fe.depth=re}}function $(){this.data.setextHeadingSlurpLineEnding=!0}function V(_e){const Fe=this.stack[this.stack.length-1];Fe.depth=this.sliceSerialize(_e).codePointAt(0)===61?1:2}function W(){this.data.setextHeadingSlurpLineEnding=void 0}function F(_e){const re=this.stack[this.stack.length-1].children;let $e=re[re.length-1];(!$e||$e.type!=="text")&&($e=hn(),$e.position={start:Co(_e.start),end:void 0},re.push($e)),this.stack.push($e)}function Y(_e){const Fe=this.stack.pop();Fe.value+=this.sliceSerialize(_e),Fe.position.end=Co(_e.end)}function H(_e){const Fe=this.stack[this.stack.length-1];if(this.data.atHardBreak){const re=Fe.children[Fe.children.length-1];re.position.end=Co(_e.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(Fe.type)&&(F.call(this,_e),Y.call(this,_e))}function ee(){this.data.atHardBreak=!0}function ve(){const _e=this.resume(),Fe=this.stack[this.stack.length-1];Fe.value=_e}function ae(){const _e=this.resume(),Fe=this.stack[this.stack.length-1];Fe.value=_e}function he(){const _e=this.resume(),Fe=this.stack[this.stack.length-1];Fe.value=_e}function ge(){const _e=this.stack[this.stack.length-1];if(this.data.inReference){const Fe=this.data.referenceType||"shortcut";_e.type+="Reference",_e.referenceType=Fe,delete _e.url,delete _e.title}else delete _e.identifier,delete _e.label;this.data.referenceType=void 0}function Se(){const _e=this.stack[this.stack.length-1];if(this.data.inReference){const Fe=this.data.referenceType||"shortcut";_e.type+="Reference",_e.referenceType=Fe,delete _e.url,delete _e.title}else delete _e.identifier,delete _e.label;this.data.referenceType=void 0}function K(_e){const Fe=this.sliceSerialize(_e),re=this.stack[this.stack.length-2];re.label=LK(Fe),re.identifier=Lu(Fe).toLowerCase()}function fe(){const _e=this.stack[this.stack.length-1],Fe=this.resume(),re=this.stack[this.stack.length-1];if(this.data.inReference=!0,re.type==="link"){const $e=_e.children;re.children=$e}else re.alt=Fe}function A(){const _e=this.resume(),Fe=this.stack[this.stack.length-1];Fe.url=_e}function M(){const _e=this.resume(),Fe=this.stack[this.stack.length-1];Fe.title=_e}function X(){this.data.inReference=void 0}function B(){this.data.referenceType="collapsed"}function Ee(_e){const Fe=this.resume(),re=this.stack[this.stack.length-1];re.label=Fe,re.identifier=Lu(this.sliceSerialize(_e)).toLowerCase(),this.data.referenceType="full"}function De(_e){this.data.characterReferenceType=_e.type}function Te(_e){const Fe=this.sliceSerialize(_e),re=this.data.characterReferenceType;let $e;re?($e=c5(Fe,re==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):$e=o1(Fe);const dt=this.stack[this.stack.length-1];dt.value+=$e}function xe(_e){const Fe=this.stack.pop();Fe.position.end=Co(_e.end)}function Pe(_e){Y.call(this,_e);const Fe=this.stack[this.stack.length-1];Fe.url=this.sliceSerialize(_e)}function Ue(_e){Y.call(this,_e);const Fe=this.stack[this.stack.length-1];Fe.url="mailto:"+this.sliceSerialize(_e)}function Ce(){return{type:"blockquote",children:[]}}function et(){return{type:"code",lang:null,meta:null,value:""}}function Ve(){return{type:"inlineCode",value:""}}function _t(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function yt(){return{type:"emphasis",children:[]}}function $t(){return{type:"heading",depth:0,children:[]}}function dn(){return{type:"break"}}function ln(){return{type:"html",value:""}}function zn(){return{type:"image",title:null,url:"",alt:null}}function yn(){return{type:"link",title:null,url:"",children:[]}}function fn(_e){return{type:"list",ordered:_e.type==="listOrdered",start:null,spread:_e._spread,children:[]}}function Pn(_e){return{type:"listItem",spread:_e._spread,checked:null,children:[]}}function ds(){return{type:"paragraph",children:[]}}function Cr(){return{type:"strong",children:[]}}function hn(){return{type:"text",value:""}}function Yr(){return{type:"thematicBreak"}}}function Co(e){return{line:e.line,column:e.column,offset:e.offset}}function b5(e,t){let n=-1;for(;++n<t.length;){const r=t[n];Array.isArray(r)?b5(e,r):zK(e,r)}}function zK(e,t){let n;for(n in t)if(v5.call(t,n))switch(n){case"canContainEols":{const r=t[n];r&&e[n].push(...r);break}case"transforms":{const r=t[n];r&&e[n].push(...r);break}case"enter":case"exit":{const r=t[n];r&&Object.assign(e[n],r);break}}}function P_(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+zf({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+zf({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+zf({start:t.start,end:t.end})+") is still open")}function UK(e){const t=this;t.parser=n;function n(r){return $K(r,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function VK(e,t){const n={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,n),e.applyData(t,n)}function WK(e,t){const n={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,n),[e.applyData(t,n),{type:"text",value:`
`}]}function qK(e,t){const n=t.value?t.value+`
`:"",r={},s=t.lang?t.lang.split(/\s+/):[];s.length>0&&(r.className=["language-"+s[0]]);let o={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return t.meta&&(o.data={meta:t.meta}),e.patch(t,o),o=e.applyData(t,o),o={type:"element",tagName:"pre",properties:{},children:[o]},e.patch(t,o),o}function HK(e,t){const n={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function KK(e,t){const n={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function GK(e,t){const n=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",r=String(t.identifier).toUpperCase(),s=xd(r.toLowerCase()),o=e.footnoteOrder.indexOf(r);let l,u=e.footnoteCounts.get(r);u===void 0?(u=0,e.footnoteOrder.push(r),l=e.footnoteOrder.length):l=o+1,u+=1,e.footnoteCounts.set(r,u);const d={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+s,id:n+"fnref-"+s+(u>1?"-"+u:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(l)}]};e.patch(t,d);const f={type:"element",tagName:"sup",properties:{},children:[d]};return e.patch(t,f),e.applyData(t,f)}function YK(e,t){const n={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function QK(e,t){if(e.options.allowDangerousHtml){const n={type:"raw",value:t.value};return e.patch(t,n),e.applyData(t,n)}}function w5(e,t){const n=t.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+r}];const s=e.all(t),o=s[0];o&&o.type==="text"?o.value="["+o.value:s.unshift({type:"text",value:"["});const l=s[s.length-1];return l&&l.type==="text"?l.value+=r:s.push({type:"text",value:r}),s}function XK(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return w5(e,t);const s={src:xd(r.url||""),alt:t.alt};r.title!==null&&r.title!==void 0&&(s.title=r.title);const o={type:"element",tagName:"img",properties:s,children:[]};return e.patch(t,o),e.applyData(t,o)}function JK(e,t){const n={src:xd(t.url)};t.alt!==null&&t.alt!==void 0&&(n.alt=t.alt),t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"img",properties:n,children:[]};return e.patch(t,r),e.applyData(t,r)}function ZK(e,t){const n={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return e.patch(t,r),e.applyData(t,r)}function eG(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return w5(e,t);const s={href:xd(r.url||"")};r.title!==null&&r.title!==void 0&&(s.title=r.title);const o={type:"element",tagName:"a",properties:s,children:e.all(t)};return e.patch(t,o),e.applyData(t,o)}function tG(e,t){const n={href:xd(t.url)};t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"a",properties:n,children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function nG(e,t,n){const r=e.all(t),s=n?rG(n):j5(t),o={},l=[];if(typeof t.checked=="boolean"){const p=r[0];let m;p&&p.type==="element"&&p.tagName==="p"?m=p:(m={type:"element",tagName:"p",properties:{},children:[]},r.unshift(m)),m.children.length>0&&m.children.unshift({type:"text",value:" "}),m.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),o.className=["task-list-item"]}let u=-1;for(;++u<r.length;){const p=r[u];(s||u!==0||p.type!=="element"||p.tagName!=="p")&&l.push({type:"text",value:`
`}),p.type==="element"&&p.tagName==="p"&&!s?l.push(...p.children):l.push(p)}const d=r[r.length-1];d&&(s||d.type!=="element"||d.tagName!=="p")&&l.push({type:"text",value:`
`});const f={type:"element",tagName:"li",properties:o,children:l};return e.patch(t,f),e.applyData(t,f)}function rG(e){let t=!1;if(e.type==="list"){t=e.spread||!1;const n=e.children;let r=-1;for(;!t&&++r<n.length;)t=j5(n[r])}return t}function j5(e){const t=e.spread;return t??e.children.length>1}function sG(e,t){const n={},r=e.all(t);let s=-1;for(typeof t.start=="number"&&t.start!==1&&(n.start=t.start);++s<r.length;){const l=r[s];if(l.type==="element"&&l.tagName==="li"&&l.properties&&Array.isArray(l.properties.className)&&l.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const o={type:"element",tagName:t.ordered?"ol":"ul",properties:n,children:e.wrap(r,!0)};return e.patch(t,o),e.applyData(t,o)}function iG(e,t){const n={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function aG(e,t){const n={type:"root",children:e.wrap(e.all(t))};return e.patch(t,n),e.applyData(t,n)}function oG(e,t){const n={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function lG(e,t){const n=e.all(t),r=n.shift(),s=[];if(r){const l={type:"element",tagName:"thead",properties:{},children:e.wrap([r],!0)};e.patch(t.children[0],l),s.push(l)}if(n.length>0){const l={type:"element",tagName:"tbody",properties:{},children:e.wrap(n,!0)},u=r1(t.children[1]),d=n5(t.children[t.children.length-1]);u&&d&&(l.position={start:u,end:d}),s.push(l)}const o={type:"element",tagName:"table",properties:{},children:e.wrap(s,!0)};return e.patch(t,o),e.applyData(t,o)}function cG(e,t,n){const r=n?n.children:void 0,o=(r?r.indexOf(t):1)===0?"th":"td",l=n&&n.type==="table"?n.align:void 0,u=l?l.length:t.children.length;let d=-1;const f=[];for(;++d<u;){const m=t.children[d],x={},v=l?l[d]:void 0;v&&(x.align=v);let S={type:"element",tagName:o,properties:x,children:[]};m&&(S.children=e.all(m),e.patch(m,S),S=e.applyData(m,S)),f.push(S)}const p={type:"element",tagName:"tr",properties:{},children:e.wrap(f,!0)};return e.patch(t,p),e.applyData(t,p)}function uG(e,t){const n={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}const A_=9,T_=32;function dG(e){const t=String(e),n=/\r?\n|\r/g;let r=n.exec(t),s=0;const o=[];for(;r;)o.push(R_(t.slice(s,r.index),s>0,!0),r[0]),s=r.index+r[0].length,r=n.exec(t);return o.push(R_(t.slice(s),s>0,!1)),o.join("")}function R_(e,t,n){let r=0,s=e.length;if(t){let o=e.codePointAt(r);for(;o===A_||o===T_;)r++,o=e.codePointAt(r)}if(n){let o=e.codePointAt(s-1);for(;o===A_||o===T_;)s--,o=e.codePointAt(s-1)}return s>r?e.slice(r,s):""}function fG(e,t){const n={type:"text",value:dG(String(t.value))};return e.patch(t,n),e.applyData(t,n)}function hG(e,t){const n={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,n),e.applyData(t,n)}const pG={blockquote:VK,break:WK,code:qK,delete:HK,emphasis:KK,footnoteReference:GK,heading:YK,html:QK,imageReference:XK,image:JK,inlineCode:ZK,linkReference:eG,link:tG,listItem:nG,list:sG,paragraph:iG,root:aG,strong:oG,table:lG,tableCell:uG,tableRow:cG,text:fG,thematicBreak:hG,toml:vm,yaml:vm,definition:vm,footnoteDefinition:vm};function vm(){}const N5=-1,_x=0,Vf=1,Ag=2,u1=3,d1=4,f1=5,h1=6,S5=7,k5=8,I_=typeof self=="object"?self:globalThis,mG=(e,t)=>{const n=(s,o)=>(e.set(o,s),s),r=s=>{if(e.has(s))return e.get(s);const[o,l]=t[s];switch(o){case _x:case N5:return n(l,s);case Vf:{const u=n([],s);for(const d of l)u.push(r(d));return u}case Ag:{const u=n({},s);for(const[d,f]of l)u[r(d)]=r(f);return u}case u1:return n(new Date(l),s);case d1:{const{source:u,flags:d}=l;return n(new RegExp(u,d),s)}case f1:{const u=n(new Map,s);for(const[d,f]of l)u.set(r(d),r(f));return u}case h1:{const u=n(new Set,s);for(const d of l)u.add(r(d));return u}case S5:{const{name:u,message:d}=l;return n(new I_[u](d),s)}case k5:return n(BigInt(l),s);case"BigInt":return n(Object(BigInt(l)),s);case"ArrayBuffer":return n(new Uint8Array(l).buffer,l);case"DataView":{const{buffer:u}=new Uint8Array(l);return n(new DataView(u),l)}}return n(new I_[o](l),s)};return r},M_=e=>mG(new Map,e)(0),vu="",{toString:gG}={},{keys:xG}=Object,xf=e=>{const t=typeof e;if(t!=="object"||!e)return[_x,t];const n=gG.call(e).slice(8,-1);switch(n){case"Array":return[Vf,vu];case"Object":return[Ag,vu];case"Date":return[u1,vu];case"RegExp":return[d1,vu];case"Map":return[f1,vu];case"Set":return[h1,vu];case"DataView":return[Vf,n]}return n.includes("Array")?[Vf,n]:n.includes("Error")?[S5,n]:[Ag,n]},bm=([e,t])=>e===_x&&(t==="function"||t==="symbol"),yG=(e,t,n,r)=>{const s=(l,u)=>{const d=r.push(l)-1;return n.set(u,d),d},o=l=>{if(n.has(l))return n.get(l);let[u,d]=xf(l);switch(u){case _x:{let p=l;switch(d){case"bigint":u=k5,p=l.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+d);p=null;break;case"undefined":return s([N5],l)}return s([u,p],l)}case Vf:{if(d){let x=l;return d==="DataView"?x=new Uint8Array(l.buffer):d==="ArrayBuffer"&&(x=new Uint8Array(l)),s([d,[...x]],l)}const p=[],m=s([u,p],l);for(const x of l)p.push(o(x));return m}case Ag:{if(d)switch(d){case"BigInt":return s([d,l.toString()],l);case"Boolean":case"Number":case"String":return s([d,l.valueOf()],l)}if(t&&"toJSON"in l)return o(l.toJSON());const p=[],m=s([u,p],l);for(const x of xG(l))(e||!bm(xf(l[x])))&&p.push([o(x),o(l[x])]);return m}case u1:return s([u,l.toISOString()],l);case d1:{const{source:p,flags:m}=l;return s([u,{source:p,flags:m}],l)}case f1:{const p=[],m=s([u,p],l);for(const[x,v]of l)(e||!(bm(xf(x))||bm(xf(v))))&&p.push([o(x),o(v)]);return m}case h1:{const p=[],m=s([u,p],l);for(const x of l)(e||!bm(xf(x)))&&p.push(o(x));return m}}const{message:f}=l;return s([u,{name:d,message:f}],l)};return o},O_=(e,{json:t,lossy:n}={})=>{const r=[];return yG(!(t||n),!!t,new Map,r)(e),r},Tg=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?M_(O_(e,t)):structuredClone(e):(e,t)=>M_(O_(e,t));function vG(e,t){const n=[{type:"text",value:""}];return t>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),n}function bG(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}function wG(e){const t=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",n=e.options.footnoteBackContent||vG,r=e.options.footnoteBackLabel||bG,s=e.options.footnoteLabel||"Footnotes",o=e.options.footnoteLabelTagName||"h2",l=e.options.footnoteLabelProperties||{className:["sr-only"]},u=[];let d=-1;for(;++d<e.footnoteOrder.length;){const f=e.footnoteById.get(e.footnoteOrder[d]);if(!f)continue;const p=e.all(f),m=String(f.identifier).toUpperCase(),x=xd(m.toLowerCase());let v=0;const S=[],N=e.footnoteCounts.get(m);for(;N!==void 0&&++v<=N;){S.length>0&&S.push({type:"text",value:" "});let T=typeof n=="string"?n:n(d,v);typeof T=="string"&&(T={type:"text",value:T}),S.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+x+(v>1?"-"+v:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(d,v),className:["data-footnote-backref"]},children:Array.isArray(T)?T:[T]})}const _=p[p.length-1];if(_&&_.type==="element"&&_.tagName==="p"){const T=_.children[_.children.length-1];T&&T.type==="text"?T.value+=" ":_.children.push({type:"text",value:" "}),_.children.push(...S)}else p.push(...S);const P={type:"element",tagName:"li",properties:{id:t+"fn-"+x},children:e.wrap(p,!0)};e.patch(f,P),u.push(P)}if(u.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:o,properties:{...Tg(l),id:"footnote-label"},children:[{type:"text",value:s}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(u,!0)},{type:"text",value:`
`}]}}const _5=(function(e){if(e==null)return kG;if(typeof e=="function")return Cx(e);if(typeof e=="object")return Array.isArray(e)?jG(e):NG(e);if(typeof e=="string")return SG(e);throw new Error("Expected function, string, or object as test")});function jG(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=_5(e[n]);return Cx(r);function r(...s){let o=-1;for(;++o<t.length;)if(t[o].apply(this,s))return!0;return!1}}function NG(e){const t=e;return Cx(n);function n(r){const s=r;let o;for(o in e)if(s[o]!==t[o])return!1;return!0}}function SG(e){return Cx(t);function t(n){return n&&n.type===e}}function Cx(e){return t;function t(n,r,s){return!!(_G(n)&&e.call(this,n,typeof r=="number"?r:void 0,s||void 0))}}function kG(){return!0}function _G(e){return e!==null&&typeof e=="object"&&"type"in e}const C5=[],CG=!0,D_=!1,EG="skip";function PG(e,t,n,r){let s;typeof t=="function"&&typeof n!="function"?(r=n,n=t):s=t;const o=_5(s),l=r?-1:1;u(e,void 0,[])();function u(d,f,p){const m=d&&typeof d=="object"?d:{};if(typeof m.type=="string"){const v=typeof m.tagName=="string"?m.tagName:typeof m.name=="string"?m.name:void 0;Object.defineProperty(x,"name",{value:"node ("+(d.type+(v?"<"+v+">":""))+")"})}return x;function x(){let v=C5,S,N,_;if((!t||o(d,f,p[p.length-1]||void 0))&&(v=AG(n(d,p)),v[0]===D_))return v;if("children"in d&&d.children){const P=d;if(P.children&&v[0]!==EG)for(N=(r?P.children.length:-1)+l,_=p.concat(P);N>-1&&N<P.children.length;){const T=P.children[N];if(S=u(T,N,_)(),S[0]===D_)return S;N=typeof S[1]=="number"?S[1]:N+l}}return v}}}function AG(e){return Array.isArray(e)?e:typeof e=="number"?[CG,e]:e==null?C5:[e]}function E5(e,t,n,r){let s,o,l;typeof t=="function"&&typeof n!="function"?(o=void 0,l=t,s=n):(o=t,l=n,s=r),PG(e,o,u,s);function u(d,f){const p=f[f.length-1],m=p?p.children.indexOf(d):void 0;return l(d,m,p)}}const bb={}.hasOwnProperty,TG={};function RG(e,t){const n=t||TG,r=new Map,s=new Map,o=new Map,l={...pG,...n.handlers},u={all:f,applyData:MG,definitionById:r,footnoteById:s,footnoteCounts:o,footnoteOrder:[],handlers:l,one:d,options:n,patch:IG,wrap:DG};return E5(e,function(p){if(p.type==="definition"||p.type==="footnoteDefinition"){const m=p.type==="definition"?r:s,x=String(p.identifier).toUpperCase();m.has(x)||m.set(x,p)}}),u;function d(p,m){const x=p.type,v=u.handlers[x];if(bb.call(u.handlers,x)&&v)return v(u,p,m);if(u.options.passThrough&&u.options.passThrough.includes(x)){if("children"in p){const{children:N,..._}=p,P=Tg(_);return P.children=u.all(p),P}return Tg(p)}return(u.options.unknownHandler||OG)(u,p,m)}function f(p){const m=[];if("children"in p){const x=p.children;let v=-1;for(;++v<x.length;){const S=u.one(x[v],p);if(S){if(v&&x[v-1].type==="break"&&(!Array.isArray(S)&&S.type==="text"&&(S.value=L_(S.value)),!Array.isArray(S)&&S.type==="element")){const N=S.children[0];N&&N.type==="text"&&(N.value=L_(N.value))}Array.isArray(S)?m.push(...S):m.push(S)}}}return m}}function IG(e,t){e.position&&(t.position=gq(e))}function MG(e,t){let n=t;if(e&&e.data){const r=e.data.hName,s=e.data.hChildren,o=e.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const l="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:l}}n.type==="element"&&o&&Object.assign(n.properties,Tg(o)),"children"in n&&n.children&&s!==null&&s!==void 0&&(n.children=s)}return n}function OG(e,t){const n=t.data||{},r="value"in t&&!(bb.call(n,"hProperties")||bb.call(n,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function DG(e,t){const n=[];let r=-1;for(t&&n.push({type:"text",value:`
`});++r<e.length;)r&&n.push({type:"text",value:`
`}),n.push(e[r]);return t&&e.length>0&&n.push({type:"text",value:`
`}),n}function L_(e){let t=0,n=e.charCodeAt(t);for(;n===9||n===32;)t++,n=e.charCodeAt(t);return e.slice(t)}function F_(e,t){const n=RG(e,t),r=n.one(e,void 0),s=wG(n),o=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return s&&o.children.push({type:"text",value:`
`},s),o}function LG(e,t){return e&&"run"in e?async function(n,r){const s=F_(n,{file:r,...t});await e.run(s,r)}:function(n,r){return F_(n,{file:r,...e||t})}}function $_(e){if(e)throw e}var Vy,B_;function FG(){if(B_)return Vy;B_=1;var e=Object.prototype.hasOwnProperty,t=Object.prototype.toString,n=Object.defineProperty,r=Object.getOwnPropertyDescriptor,s=function(f){return typeof Array.isArray=="function"?Array.isArray(f):t.call(f)==="[object Array]"},o=function(f){if(!f||t.call(f)!=="[object Object]")return!1;var p=e.call(f,"constructor"),m=f.constructor&&f.constructor.prototype&&e.call(f.constructor.prototype,"isPrototypeOf");if(f.constructor&&!p&&!m)return!1;var x;for(x in f);return typeof x>"u"||e.call(f,x)},l=function(f,p){n&&p.name==="__proto__"?n(f,p.name,{enumerable:!0,configurable:!0,value:p.newValue,writable:!0}):f[p.name]=p.newValue},u=function(f,p){if(p==="__proto__")if(e.call(f,p)){if(r)return r(f,p).value}else return;return f[p]};return Vy=function d(){var f,p,m,x,v,S,N=arguments[0],_=1,P=arguments.length,T=!1;for(typeof N=="boolean"&&(T=N,N=arguments[1]||{},_=2),(N==null||typeof N!="object"&&typeof N!="function")&&(N={});_<P;++_)if(f=arguments[_],f!=null)for(p in f)m=u(N,p),x=u(f,p),N!==x&&(T&&x&&(o(x)||(v=s(x)))?(v?(v=!1,S=m&&s(m)?m:[]):S=m&&o(m)?m:{},l(N,{name:p,newValue:d(T,S,x)})):typeof x<"u"&&l(N,{name:p,newValue:x}));return N},Vy}var $G=FG();const Wy=ad($G);function wb(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function BG(){const e=[],t={run:n,use:r};return t;function n(...s){let o=-1;const l=s.pop();if(typeof l!="function")throw new TypeError("Expected function as last argument, not "+l);u(null,...s);function u(d,...f){const p=e[++o];let m=-1;if(d){l(d);return}for(;++m<s.length;)(f[m]===null||f[m]===void 0)&&(f[m]=s[m]);s=f,p?zG(p,u)(...f):l(null,...f)}}function r(s){if(typeof s!="function")throw new TypeError("Expected `middelware` to be a function, not "+s);return e.push(s),t}}function zG(e,t){let n;return r;function r(...l){const u=e.length>l.length;let d;u&&l.push(s);try{d=e.apply(this,l)}catch(f){const p=f;if(u&&n)throw p;return s(p)}u||(d&&d.then&&typeof d.then=="function"?d.then(o,s):d instanceof Error?s(d):o(d))}function s(l,...u){n||(n=!0,t(l,...u))}function o(l){s(null,l)}}const Di={basename:UG,dirname:VG,extname:WG,join:qG,sep:"/"};function UG(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');Mh(e);let n=0,r=-1,s=e.length,o;if(t===void 0||t.length===0||t.length>e.length){for(;s--;)if(e.codePointAt(s)===47){if(o){n=s+1;break}}else r<0&&(o=!0,r=s+1);return r<0?"":e.slice(n,r)}if(t===e)return"";let l=-1,u=t.length-1;for(;s--;)if(e.codePointAt(s)===47){if(o){n=s+1;break}}else l<0&&(o=!0,l=s+1),u>-1&&(e.codePointAt(s)===t.codePointAt(u--)?u<0&&(r=s):(u=-1,r=l));return n===r?r=l:r<0&&(r=e.length),e.slice(n,r)}function VG(e){if(Mh(e),e.length===0)return".";let t=-1,n=e.length,r;for(;--n;)if(e.codePointAt(n)===47){if(r){t=n;break}}else r||(r=!0);return t<0?e.codePointAt(0)===47?"/":".":t===1&&e.codePointAt(0)===47?"//":e.slice(0,t)}function WG(e){Mh(e);let t=e.length,n=-1,r=0,s=-1,o=0,l;for(;t--;){const u=e.codePointAt(t);if(u===47){if(l){r=t+1;break}continue}n<0&&(l=!0,n=t+1),u===46?s<0?s=t:o!==1&&(o=1):s>-1&&(o=-1)}return s<0||n<0||o===0||o===1&&s===n-1&&s===r+1?"":e.slice(s,n)}function qG(...e){let t=-1,n;for(;++t<e.length;)Mh(e[t]),e[t]&&(n=n===void 0?e[t]:n+"/"+e[t]);return n===void 0?".":HG(n)}function HG(e){Mh(e);const t=e.codePointAt(0)===47;let n=KG(e,!t);return n.length===0&&!t&&(n="."),n.length>0&&e.codePointAt(e.length-1)===47&&(n+="/"),t?"/"+n:n}function KG(e,t){let n="",r=0,s=-1,o=0,l=-1,u,d;for(;++l<=e.length;){if(l<e.length)u=e.codePointAt(l);else{if(u===47)break;u=47}if(u===47){if(!(s===l-1||o===1))if(s!==l-1&&o===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(d=n.lastIndexOf("/"),d!==n.length-1){d<0?(n="",r=0):(n=n.slice(0,d),r=n.length-1-n.lastIndexOf("/")),s=l,o=0;continue}}else if(n.length>0){n="",r=0,s=l,o=0;continue}}t&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+e.slice(s+1,l):n=e.slice(s+1,l),r=l-s-1;s=l,o=0}else u===46&&o>-1?o++:o=-1}return n}function Mh(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const GG={cwd:YG};function YG(){return"/"}function jb(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function QG(e){if(typeof e=="string")e=new URL(e);else if(!jb(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return XG(e)}function XG(e){if(e.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const t=e.pathname;let n=-1;for(;++n<t.length;)if(t.codePointAt(n)===37&&t.codePointAt(n+1)===50){const r=t.codePointAt(n+2);if(r===70||r===102){const s=new TypeError("File URL path must not include encoded / characters");throw s.code="ERR_INVALID_FILE_URL_PATH",s}}return decodeURIComponent(t)}const qy=["history","path","basename","stem","extname","dirname"];class P5{constructor(t){let n;t?jb(t)?n={path:t}:typeof t=="string"||JG(t)?n={value:t}:n=t:n={},this.cwd="cwd"in n?"":GG.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<qy.length;){const o=qy[r];o in n&&n[o]!==void 0&&n[o]!==null&&(this[o]=o==="history"?[...n[o]]:n[o])}let s;for(s in n)qy.includes(s)||(this[s]=n[s])}get basename(){return typeof this.path=="string"?Di.basename(this.path):void 0}set basename(t){Ky(t,"basename"),Hy(t,"basename"),this.path=Di.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?Di.dirname(this.path):void 0}set dirname(t){z_(this.basename,"dirname"),this.path=Di.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?Di.extname(this.path):void 0}set extname(t){if(Hy(t,"extname"),z_(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Di.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){jb(t)&&(t=QG(t)),Ky(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?Di.basename(this.path,this.extname):void 0}set stem(t){Ky(t,"stem"),Hy(t,"stem"),this.path=Di.join(this.dirname||"",t+(this.extname||""))}fail(t,n,r){const s=this.message(t,n,r);throw s.fatal=!0,s}info(t,n,r){const s=this.message(t,n,r);return s.fatal=void 0,s}message(t,n,r){const s=new Fr(t,n,r);return this.path&&(s.name=this.path+":"+s.name,s.file=this.path),s.fatal=!1,this.messages.push(s),s}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function Hy(e,t){if(e&&e.includes(Di.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+Di.sep+"`")}function Ky(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function z_(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function JG(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const ZG=(function(e){const r=this.constructor.prototype,s=r[e],o=function(){return s.apply(o,arguments)};return Object.setPrototypeOf(o,r),o}),eY={}.hasOwnProperty;class p1 extends ZG{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=BG()}copy(){const t=new p1;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];t.use(...r)}return t.data(Wy(!0,{},this.namespace)),t}data(t,n){return typeof t=="string"?arguments.length===2?(Qy("data",this.frozen),this.namespace[t]=n,this):eY.call(this.namespace,t)&&this.namespace[t]||void 0:t?(Qy("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const s=n.call(t,...r);typeof s=="function"&&this.transformers.use(s)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const n=wm(t),r=this.parser||this.Parser;return Gy("parse",r),r(String(n),n)}process(t,n){const r=this;return this.freeze(),Gy("process",this.parser||this.Parser),Yy("process",this.compiler||this.Compiler),n?s(void 0,n):new Promise(s);function s(o,l){const u=wm(t),d=r.parse(u);r.run(d,u,function(p,m,x){if(p||!m||!x)return f(p);const v=m,S=r.stringify(v,x);rY(S)?x.value=S:x.result=S,f(p,x)});function f(p,m){p||!m?l(p):o?o(m):n(void 0,m)}}}processSync(t){let n=!1,r;return this.freeze(),Gy("processSync",this.parser||this.Parser),Yy("processSync",this.compiler||this.Compiler),this.process(t,s),V_("processSync","process",n),r;function s(o,l){n=!0,$_(o),r=l}}run(t,n,r){U_(t),this.freeze();const s=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?o(void 0,r):new Promise(o);function o(l,u){const d=wm(n);s.run(t,d,f);function f(p,m,x){const v=m||t;p?u(p):l?l(v):r(void 0,v,x)}}}runSync(t,n){let r=!1,s;return this.run(t,n,o),V_("runSync","run",r),s;function o(l,u){$_(l),s=u,r=!0}}stringify(t,n){this.freeze();const r=wm(n),s=this.compiler||this.Compiler;return Yy("stringify",s),U_(t),s(t,r)}use(t,...n){const r=this.attachers,s=this.namespace;if(Qy("use",this.frozen),t!=null)if(typeof t=="function")d(t,n);else if(typeof t=="object")Array.isArray(t)?u(t):l(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function o(f){if(typeof f=="function")d(f,[]);else if(typeof f=="object")if(Array.isArray(f)){const[p,...m]=f;d(p,m)}else l(f);else throw new TypeError("Expected usable value, not `"+f+"`")}function l(f){if(!("plugins"in f)&&!("settings"in f))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");u(f.plugins),f.settings&&(s.settings=Wy(!0,s.settings,f.settings))}function u(f){let p=-1;if(f!=null)if(Array.isArray(f))for(;++p<f.length;){const m=f[p];o(m)}else throw new TypeError("Expected a list of plugins, not `"+f+"`")}function d(f,p){let m=-1,x=-1;for(;++m<r.length;)if(r[m][0]===f){x=m;break}if(x===-1)r.push([f,...p]);else if(p.length>0){let[v,...S]=p;const N=r[x][1];wb(N)&&wb(v)&&(v=Wy(!0,N,v)),r[x]=[f,v,...S]}}}}const tY=new p1().freeze();function Gy(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function Yy(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function Qy(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function U_(e){if(!wb(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function V_(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function wm(e){return nY(e)?e:new P5(e)}function nY(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function rY(e){return typeof e=="string"||sY(e)}function sY(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const iY="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",W_=[],q_={allowDangerousHtml:!0},aY=/^(https?|ircs?|mailto|xmpp)$/i,oY=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function Qo(e){const t=lY(e),n=cY(e);return uY(t.runSync(t.parse(n),n),e)}function lY(e){const t=e.rehypePlugins||W_,n=e.remarkPlugins||W_,r=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...q_}:q_;return tY().use(UK).use(n).use(LG,r).use(t)}function cY(e){const t=e.children||"",n=new P5;return typeof t=="string"&&(n.value=t),n}function uY(e,t){const n=t.allowedElements,r=t.allowElement,s=t.components,o=t.disallowedElements,l=t.skipHtml,u=t.unwrapDisallowed,d=t.urlTransform||dY;for(const p of oY)Object.hasOwn(t,p.from)&&(""+p.from+(p.to?"use `"+p.to+"` instead":"remove it")+iY+p.id,void 0);return t.className&&(e={type:"element",tagName:"div",properties:{className:t.className},children:e.type==="root"?e.children:[e]}),E5(e,f),wq(e,{Fragment:i.Fragment,components:s,ignoreInvalidStyle:!0,jsx:i.jsx,jsxs:i.jsxs,passKeys:!0,passNode:!0});function f(p,m,x){if(p.type==="raw"&&x&&typeof m=="number")return l?x.children.splice(m,1):x.children[m]={type:"text",value:p.value},m;if(p.type==="element"){let v;for(v in By)if(Object.hasOwn(By,v)&&Object.hasOwn(p.properties,v)){const S=p.properties[v],N=By[v];(N===null||N.includes(p.tagName))&&(p.properties[v]=d(String(S||""),v,p))}}if(p.type==="element"){let v=n?!n.includes(p.tagName):o?o.includes(p.tagName):!1;if(!v&&r&&typeof m=="number"&&(v=!r(p,m,x)),v&&x&&typeof m=="number")return u&&p.children?x.children.splice(m,1,...p.children):x.children.splice(m,1),m}}}function dY(e){const t=e.indexOf(":"),n=e.indexOf("?"),r=e.indexOf("#"),s=e.indexOf("/");return t===-1||s!==-1&&t>s||n!==-1&&t>n||r!==-1&&t>r||aY.test(e.slice(0,t))?e:""}const m1=b.createContext({});function g1(e){const t=b.useRef(null);return t.current===null&&(t.current=e()),t.current}const Ex=b.createContext(null),x1=b.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});class fY extends b.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function hY({children:e,isPresent:t}){const n=b.useId(),r=b.useRef(null),s=b.useRef({width:0,height:0,top:0,left:0}),{nonce:o}=b.useContext(x1);return b.useInsertionEffect(()=>{const{width:l,height:u,top:d,left:f}=s.current;if(t||!r.current||!l||!u)return;r.current.dataset.motionPopId=n;const p=document.createElement("style");return o&&(p.nonce=o),document.head.appendChild(p),p.sheet&&p.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${l}px !important;
            height: ${u}px !important;
            top: ${d}px !important;
            left: ${f}px !important;
          }
        `),()=>{document.head.removeChild(p)}},[t]),i.jsx(fY,{isPresent:t,childRef:r,sizeRef:s,children:b.cloneElement(e,{ref:r})})}const pY=({children:e,initial:t,isPresent:n,onExitComplete:r,custom:s,presenceAffectsLayout:o,mode:l})=>{const u=g1(mY),d=b.useId(),f=b.useCallback(m=>{u.set(m,!0);for(const x of u.values())if(!x)return;r&&r()},[u,r]),p=b.useMemo(()=>({id:d,initial:t,isPresent:n,custom:s,onExitComplete:f,register:m=>(u.set(m,!1),()=>u.delete(m))}),o?[Math.random(),f]:[n,f]);return b.useMemo(()=>{u.forEach((m,x)=>u.set(x,!1))},[n]),b.useEffect(()=>{!n&&!u.size&&r&&r()},[n]),l==="popLayout"&&(e=i.jsx(hY,{isPresent:n,children:e})),i.jsx(Ex.Provider,{value:p,children:e})};function mY(){return new Map}function A5(e=!0){const t=b.useContext(Ex);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:s}=t,o=b.useId();b.useEffect(()=>{e&&s(o)},[e]);const l=b.useCallback(()=>e&&r&&r(o),[o,r,e]);return!n&&r?[!1,l]:[!0]}const jm=e=>e.key||"";function H_(e){const t=[];return b.Children.forEach(e,n=>{b.isValidElement(n)&&t.push(n)}),t}const y1=typeof window<"u",T5=y1?b.useLayoutEffect:b.useEffect,Yi=({children:e,custom:t,initial:n=!0,onExitComplete:r,presenceAffectsLayout:s=!0,mode:o="sync",propagate:l=!1})=>{const[u,d]=A5(l),f=b.useMemo(()=>H_(e),[e]),p=l&&!u?[]:f.map(jm),m=b.useRef(!0),x=b.useRef(f),v=g1(()=>new Map),[S,N]=b.useState(f),[_,P]=b.useState(f);T5(()=>{m.current=!1,x.current=f;for(let L=0;L<_.length;L++){const z=jm(_[L]);p.includes(z)?v.delete(z):v.get(z)!==!0&&v.set(z,!1)}},[_,p.length,p.join("-")]);const T=[];if(f!==S){let L=[...f];for(let z=0;z<_.length;z++){const $=_[z],V=jm($);p.includes(V)||(L.splice(z,0,$),T.push($))}o==="wait"&&T.length&&(L=T),P(H_(L)),N(f);return}const{forceRender:I}=b.useContext(m1);return i.jsx(i.Fragment,{children:_.map(L=>{const z=jm(L),$=l&&!u?!1:f===_||p.includes(z),V=()=>{if(v.has(z))v.set(z,!0);else return;let W=!0;v.forEach(F=>{F||(W=!1)}),W&&(I==null||I(),P(x.current),l&&(d==null||d()),r&&r())};return i.jsx(pY,{isPresent:$,initial:!m.current||n?void 0:!1,custom:$?void 0:t,presenceAffectsLayout:s,mode:o,onExitComplete:$?void 0:V,children:L},z)})})},ks=e=>e;let R5=ks;function v1(e){let t;return()=>(t===void 0&&(t=e()),t)}const ed=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r},Fa=e=>e*1e3,$a=e=>e/1e3,gY={useManualTiming:!1};function xY(e){let t=new Set,n=new Set,r=!1,s=!1;const o=new WeakSet;let l={delta:0,timestamp:0,isProcessing:!1};function u(f){o.has(f)&&(d.schedule(f),e()),f(l)}const d={schedule:(f,p=!1,m=!1)=>{const v=m&&r?t:n;return p&&o.add(f),v.has(f)||v.add(f),f},cancel:f=>{n.delete(f),o.delete(f)},process:f=>{if(l=f,r){s=!0;return}r=!0,[t,n]=[n,t],t.forEach(u),t.clear(),r=!1,s&&(s=!1,d.process(f))}};return d}const Nm=["read","resolveKeyframes","update","preRender","render","postRender"],yY=40;function I5(e,t){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},o=()=>n=!0,l=Nm.reduce((P,T)=>(P[T]=xY(o),P),{}),{read:u,resolveKeyframes:d,update:f,preRender:p,render:m,postRender:x}=l,v=()=>{const P=performance.now();n=!1,s.delta=r?1e3/60:Math.max(Math.min(P-s.timestamp,yY),1),s.timestamp=P,s.isProcessing=!0,u.process(s),d.process(s),f.process(s),p.process(s),m.process(s),x.process(s),s.isProcessing=!1,n&&t&&(r=!1,e(v))},S=()=>{n=!0,r=!0,s.isProcessing||e(v)};return{schedule:Nm.reduce((P,T)=>{const I=l[T];return P[T]=(L,z=!1,$=!1)=>(n||S(),I.schedule(L,z,$)),P},{}),cancel:P=>{for(let T=0;T<Nm.length;T++)l[Nm[T]].cancel(P)},state:s,steps:l}}const{schedule:Nn,cancel:nl,state:br,steps:Xy}=I5(typeof requestAnimationFrame<"u"?requestAnimationFrame:ks,!0),M5=b.createContext({strict:!1}),K_={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},td={};for(const e in K_)td[e]={isEnabled:t=>K_[e].some(n=>!!t[n])};function vY(e){for(const t in e)td[t]={...td[t],...e[t]}}const bY=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Rg(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||bY.has(e)}let O5=e=>!Rg(e);function wY(e){e&&(O5=t=>t.startsWith("on")?!Rg(t):e(t))}try{wY(require("@emotion/is-prop-valid").default)}catch{}function jY(e,t,n){const r={};for(const s in e)s==="values"&&typeof e.values=="object"||(O5(s)||n===!0&&Rg(s)||!t&&!Rg(s)||e.draggable&&s.startsWith("onDrag"))&&(r[s]=e[s]);return r}function NY(e){if(typeof Proxy>"u")return e;const t=new Map,n=(...r)=>e(...r);return new Proxy(n,{get:(r,s)=>s==="create"?e:(t.has(s)||t.set(s,e(s)),t.get(s))})}const Px=b.createContext({});function lh(e){return typeof e=="string"||Array.isArray(e)}function Ax(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const b1=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],w1=["initial",...b1];function Tx(e){return Ax(e.animate)||w1.some(t=>lh(e[t]))}function D5(e){return!!(Tx(e)||e.variants)}function SY(e,t){if(Tx(e)){const{initial:n,animate:r}=e;return{initial:n===!1||lh(n)?n:void 0,animate:lh(r)?r:void 0}}return e.inherit!==!1?t:{}}function kY(e){const{initial:t,animate:n}=SY(e,b.useContext(Px));return b.useMemo(()=>({initial:t,animate:n}),[G_(t),G_(n)])}function G_(e){return Array.isArray(e)?e.join(" "):e}const _Y=Symbol.for("motionComponentSymbol");function Pu(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function CY(e,t,n){return b.useCallback(r=>{r&&e.onMount&&e.onMount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):Pu(n)&&(n.current=r))},[t])}const j1=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),EY="framerAppearId",L5="data-"+j1(EY),{schedule:N1}=I5(queueMicrotask,!1),F5=b.createContext({});function PY(e,t,n,r,s){var o,l;const{visualElement:u}=b.useContext(Px),d=b.useContext(M5),f=b.useContext(Ex),p=b.useContext(x1).reducedMotion,m=b.useRef(null);r=r||d.renderer,!m.current&&r&&(m.current=r(e,{visualState:t,parent:u,props:n,presenceContext:f,blockInitialAnimation:f?f.initial===!1:!1,reducedMotionConfig:p}));const x=m.current,v=b.useContext(F5);x&&!x.projection&&s&&(x.type==="html"||x.type==="svg")&&AY(m.current,n,s,v);const S=b.useRef(!1);b.useInsertionEffect(()=>{x&&S.current&&x.update(n,f)});const N=n[L5],_=b.useRef(!!N&&!(!((o=window.MotionHandoffIsComplete)===null||o===void 0)&&o.call(window,N))&&((l=window.MotionHasOptimisedAnimation)===null||l===void 0?void 0:l.call(window,N)));return T5(()=>{x&&(S.current=!0,window.MotionIsMounted=!0,x.updateFeatures(),N1.render(x.render),_.current&&x.animationState&&x.animationState.animateChanges())}),b.useEffect(()=>{x&&(!_.current&&x.animationState&&x.animationState.animateChanges(),_.current&&(queueMicrotask(()=>{var P;(P=window.MotionHandoffMarkAsComplete)===null||P===void 0||P.call(window,N)}),_.current=!1))}),x}function AY(e,t,n,r){const{layoutId:s,layout:o,drag:l,dragConstraints:u,layoutScroll:d,layoutRoot:f}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:$5(e.parent)),e.projection.setOptions({layoutId:s,layout:o,alwaysMeasureLayout:!!l||u&&Pu(u),visualElement:e,animationType:typeof o=="string"?o:"both",initialPromotionConfig:r,layoutScroll:d,layoutRoot:f})}function $5(e){if(e)return e.options.allowProjection!==!1?e.projection:$5(e.parent)}function TY({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:r,Component:s}){var o,l;e&&vY(e);function u(f,p){let m;const x={...b.useContext(x1),...f,layoutId:RY(f)},{isStatic:v}=x,S=kY(f),N=r(f,v);if(!v&&y1){IY();const _=MY(x);m=_.MeasureLayout,S.visualElement=PY(s,N,x,t,_.ProjectionNode)}return i.jsxs(Px.Provider,{value:S,children:[m&&S.visualElement?i.jsx(m,{visualElement:S.visualElement,...x}):null,n(s,f,CY(N,S.visualElement,p),N,v,S.visualElement)]})}u.displayName=`motion.${typeof s=="string"?s:`create(${(l=(o=s.displayName)!==null&&o!==void 0?o:s.name)!==null&&l!==void 0?l:""})`}`;const d=b.forwardRef(u);return d[_Y]=s,d}function RY({layoutId:e}){const t=b.useContext(m1).id;return t&&e!==void 0?t+"-"+e:e}function IY(e,t){b.useContext(M5).strict}function MY(e){const{drag:t,layout:n}=td;if(!t&&!n)return{};const r={...t,...n};return{MeasureLayout:t!=null&&t.isEnabled(e)||n!=null&&n.isEnabled(e)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const OY=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function S1(e){return typeof e!="string"||e.includes("-")?!1:!!(OY.indexOf(e)>-1||/[A-Z]/u.test(e))}function Y_(e){const t=[{},{}];return e==null||e.values.forEach((n,r)=>{t[0][r]=n.get(),t[1][r]=n.getVelocity()}),t}function k1(e,t,n,r){if(typeof t=="function"){const[s,o]=Y_(r);t=t(n!==void 0?n:e.custom,s,o)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[s,o]=Y_(r);t=t(n!==void 0?n:e.custom,s,o)}return t}const Nb=e=>Array.isArray(e),DY=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),LY=e=>Nb(e)?e[e.length-1]||0:e,Lr=e=>!!(e&&e.getVelocity);function Hm(e){const t=Lr(e)?e.get():e;return DY(t)?t.toValue():t}function FY({scrapeMotionValuesFromProps:e,createRenderState:t,onUpdate:n},r,s,o){const l={latestValues:$Y(r,s,o,e),renderState:t()};return n&&(l.onMount=u=>n({props:r,current:u,...l}),l.onUpdate=u=>n(u)),l}const B5=e=>(t,n)=>{const r=b.useContext(Px),s=b.useContext(Ex),o=()=>FY(e,t,r,s);return n?o():g1(o)};function $Y(e,t,n,r){const s={},o=r(e,{});for(const x in o)s[x]=Hm(o[x]);let{initial:l,animate:u}=e;const d=Tx(e),f=D5(e);t&&f&&!d&&e.inherit!==!1&&(l===void 0&&(l=t.initial),u===void 0&&(u=t.animate));let p=n?n.initial===!1:!1;p=p||l===!1;const m=p?u:l;if(m&&typeof m!="boolean"&&!Ax(m)){const x=Array.isArray(m)?m:[m];for(let v=0;v<x.length;v++){const S=k1(e,x[v]);if(S){const{transitionEnd:N,transition:_,...P}=S;for(const T in P){let I=P[T];if(Array.isArray(I)){const L=p?I.length-1:0;I=I[L]}I!==null&&(s[T]=I)}for(const T in N)s[T]=N[T]}}}return s}const yd=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Ec=new Set(yd),z5=e=>t=>typeof t=="string"&&t.startsWith(e),U5=z5("--"),BY=z5("var(--"),_1=e=>BY(e)?zY.test(e.split("/*")[0].trim()):!1,zY=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,V5=(e,t)=>t&&typeof e=="number"?t.transform(e):e,Wa=(e,t,n)=>n>t?t:n<e?e:n,vd={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},ch={...vd,transform:e=>Wa(0,1,e)},Sm={...vd,default:1},Oh=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Ao=Oh("deg"),Qi=Oh("%"),jt=Oh("px"),UY=Oh("vh"),VY=Oh("vw"),Q_={...Qi,parse:e=>Qi.parse(e)/100,transform:e=>Qi.transform(e*100)},WY={borderWidth:jt,borderTopWidth:jt,borderRightWidth:jt,borderBottomWidth:jt,borderLeftWidth:jt,borderRadius:jt,radius:jt,borderTopLeftRadius:jt,borderTopRightRadius:jt,borderBottomRightRadius:jt,borderBottomLeftRadius:jt,width:jt,maxWidth:jt,height:jt,maxHeight:jt,top:jt,right:jt,bottom:jt,left:jt,padding:jt,paddingTop:jt,paddingRight:jt,paddingBottom:jt,paddingLeft:jt,margin:jt,marginTop:jt,marginRight:jt,marginBottom:jt,marginLeft:jt,backgroundPositionX:jt,backgroundPositionY:jt},qY={rotate:Ao,rotateX:Ao,rotateY:Ao,rotateZ:Ao,scale:Sm,scaleX:Sm,scaleY:Sm,scaleZ:Sm,skew:Ao,skewX:Ao,skewY:Ao,distance:jt,translateX:jt,translateY:jt,translateZ:jt,x:jt,y:jt,z:jt,perspective:jt,transformPerspective:jt,opacity:ch,originX:Q_,originY:Q_,originZ:jt},X_={...vd,transform:Math.round},C1={...WY,...qY,zIndex:X_,size:jt,fillOpacity:ch,strokeOpacity:ch,numOctaves:X_},HY={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},KY=yd.length;function GY(e,t,n){let r="",s=!0;for(let o=0;o<KY;o++){const l=yd[o],u=e[l];if(u===void 0)continue;let d=!0;if(typeof u=="number"?d=u===(l.startsWith("scale")?1:0):d=parseFloat(u)===0,!d||n){const f=V5(u,C1[l]);if(!d){s=!1;const p=HY[l]||l;r+=`${p}(${f}) `}n&&(t[l]=f)}}return r=r.trim(),n?r=n(t,s?"":r):s&&(r="none"),r}function E1(e,t,n){const{style:r,vars:s,transformOrigin:o}=e;let l=!1,u=!1;for(const d in t){const f=t[d];if(Ec.has(d)){l=!0;continue}else if(U5(d)){s[d]=f;continue}else{const p=V5(f,C1[d]);d.startsWith("origin")?(u=!0,o[d]=p):r[d]=p}}if(t.transform||(l||n?r.transform=GY(t,e.transform,n):r.transform&&(r.transform="none")),u){const{originX:d="50%",originY:f="50%",originZ:p=0}=o;r.transformOrigin=`${d} ${f} ${p}`}}const YY={offset:"stroke-dashoffset",array:"stroke-dasharray"},QY={offset:"strokeDashoffset",array:"strokeDasharray"};function XY(e,t,n=1,r=0,s=!0){e.pathLength=1;const o=s?YY:QY;e[o.offset]=jt.transform(-r);const l=jt.transform(t),u=jt.transform(n);e[o.array]=`${l} ${u}`}function J_(e,t,n){return typeof e=="string"?e:jt.transform(t+n*e)}function JY(e,t,n){const r=J_(t,e.x,e.width),s=J_(n,e.y,e.height);return`${r} ${s}`}function P1(e,{attrX:t,attrY:n,attrScale:r,originX:s,originY:o,pathLength:l,pathSpacing:u=1,pathOffset:d=0,...f},p,m){if(E1(e,f,m),p){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:x,style:v,dimensions:S}=e;x.transform&&(S&&(v.transform=x.transform),delete x.transform),S&&(s!==void 0||o!==void 0||v.transform)&&(v.transformOrigin=JY(S,s!==void 0?s:.5,o!==void 0?o:.5)),t!==void 0&&(x.x=t),n!==void 0&&(x.y=n),r!==void 0&&(x.scale=r),l!==void 0&&XY(x,l,u,d,!1)}const A1=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),W5=()=>({...A1(),attrs:{}}),T1=e=>typeof e=="string"&&e.toLowerCase()==="svg";function q5(e,{style:t,vars:n},r,s){Object.assign(e.style,t,s&&s.getProjectionStyles(r));for(const o in n)e.style.setProperty(o,n[o])}const H5=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function K5(e,t,n,r){q5(e,t,void 0,r);for(const s in t.attrs)e.setAttribute(H5.has(s)?s:j1(s),t.attrs[s])}const Ig={};function ZY(e){Object.assign(Ig,e)}function G5(e,{layout:t,layoutId:n}){return Ec.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!Ig[e]||e==="opacity")}function R1(e,t,n){var r;const{style:s}=e,o={};for(const l in s)(Lr(s[l])||t.style&&Lr(t.style[l])||G5(l,e)||((r=n==null?void 0:n.getValue(l))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(o[l]=s[l]);return o}function Y5(e,t,n){const r=R1(e,t,n);for(const s in e)if(Lr(e[s])||Lr(t[s])){const o=yd.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;r[o]=e[s]}return r}function eQ(e,t){try{t.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{t.dimensions={x:0,y:0,width:0,height:0}}}const Z_=["x","y","width","height","cx","cy","r"],tQ={useVisualState:B5({scrapeMotionValuesFromProps:Y5,createRenderState:W5,onUpdate:({props:e,prevProps:t,current:n,renderState:r,latestValues:s})=>{if(!n)return;let o=!!e.drag;if(!o){for(const u in s)if(Ec.has(u)){o=!0;break}}if(!o)return;let l=!t;if(t)for(let u=0;u<Z_.length;u++){const d=Z_[u];e[d]!==t[d]&&(l=!0)}l&&Nn.read(()=>{eQ(n,r),Nn.render(()=>{P1(r,s,T1(n.tagName),e.transformTemplate),K5(n,r)})})}})},nQ={useVisualState:B5({scrapeMotionValuesFromProps:R1,createRenderState:A1})};function Q5(e,t,n){for(const r in t)!Lr(t[r])&&!G5(r,n)&&(e[r]=t[r])}function rQ({transformTemplate:e},t){return b.useMemo(()=>{const n=A1();return E1(n,t,e),Object.assign({},n.vars,n.style)},[t])}function sQ(e,t){const n=e.style||{},r={};return Q5(r,n,e),Object.assign(r,rQ(e,t)),r}function iQ(e,t){const n={},r=sQ(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=r,n}function aQ(e,t,n,r){const s=b.useMemo(()=>{const o=W5();return P1(o,t,T1(r),e.transformTemplate),{...o.attrs,style:{...o.style}}},[t]);if(e.style){const o={};Q5(o,e.style,e),s.style={...o,...s.style}}return s}function oQ(e=!1){return(n,r,s,{latestValues:o},l)=>{const d=(S1(n)?aQ:iQ)(r,o,l,n),f=jY(r,typeof n=="string",e),p=n!==b.Fragment?{...f,...d,ref:s}:{},{children:m}=r,x=b.useMemo(()=>Lr(m)?m.get():m,[m]);return b.createElement(n,{...p,children:x})}}function lQ(e,t){return function(r,{forwardMotionProps:s}={forwardMotionProps:!1}){const l={...S1(r)?tQ:nQ,preloadedFeatures:e,useRender:oQ(s),createVisualElement:t,Component:r};return TY(l)}}function X5(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function Rx(e,t,n){const r=e.getProps();return k1(r,t,n!==void 0?n:r.custom,e)}const cQ=v1(()=>window.ScrollTimeline!==void 0);class uQ{constructor(t){this.stop=()=>this.runAll("stop"),this.animations=t.filter(Boolean)}get finished(){return Promise.all(this.animations.map(t=>"finished"in t?t.finished:t))}getAll(t){return this.animations[0][t]}setAll(t,n){for(let r=0;r<this.animations.length;r++)this.animations[r][t]=n}attachTimeline(t,n){const r=this.animations.map(s=>{if(cQ()&&s.attachTimeline)return s.attachTimeline(t);if(typeof n=="function")return n(s)});return()=>{r.forEach((s,o)=>{s&&s(),this.animations[o].stop()})}}get time(){return this.getAll("time")}set time(t){this.setAll("time",t)}get speed(){return this.getAll("speed")}set speed(t){this.setAll("speed",t)}get startTime(){return this.getAll("startTime")}get duration(){let t=0;for(let n=0;n<this.animations.length;n++)t=Math.max(t,this.animations[n].duration);return t}runAll(t){this.animations.forEach(n=>n[t]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class dQ extends uQ{then(t,n){return Promise.all(this.animations).then(t).catch(n)}}function I1(e,t){return e?e[t]||e.default||e:void 0}const Sb=2e4;function J5(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<Sb;)t+=n,r=e.next(t);return t>=Sb?1/0:t}function M1(e){return typeof e=="function"}function e2(e,t){e.timeline=t,e.onfinish=null}const O1=e=>Array.isArray(e)&&typeof e[0]=="number",fQ={linearEasing:void 0};function hQ(e,t){const n=v1(e);return()=>{var r;return(r=fQ[t])!==null&&r!==void 0?r:n()}}const Mg=hQ(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Z5=(e,t,n=10)=>{let r="";const s=Math.max(Math.round(t/n),2);for(let o=0;o<s;o++)r+=e(ed(0,s-1,o))+", ";return`linear(${r.substring(0,r.length-2)})`};function eM(e){return!!(typeof e=="function"&&Mg()||!e||typeof e=="string"&&(e in kb||Mg())||O1(e)||Array.isArray(e)&&e.every(eM))}const If=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,kb={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:If([0,.65,.55,1]),circOut:If([.55,0,1,.45]),backIn:If([.31,.01,.66,-.59]),backOut:If([.33,1.53,.69,.99])};function tM(e,t){if(e)return typeof e=="function"&&Mg()?Z5(e,t):O1(e)?If(e):Array.isArray(e)?e.map(n=>tM(n,t)||kb.easeOut):kb[e]}const li={x:!1,y:!1};function nM(){return li.x||li.y}function pQ(e,t,n){var r;if(e instanceof Element)return[e];if(typeof e=="string"){let s=document;const o=(r=void 0)!==null&&r!==void 0?r:s.querySelectorAll(e);return o?Array.from(o):[]}return Array.from(e)}function rM(e,t){const n=pQ(e),r=new AbortController,s={passive:!0,...t,signal:r.signal};return[n,s,()=>r.abort()]}function t2(e){return t=>{t.pointerType==="touch"||nM()||e(t)}}function mQ(e,t,n={}){const[r,s,o]=rM(e,n),l=t2(u=>{const{target:d}=u,f=t(u);if(typeof f!="function"||!d)return;const p=t2(m=>{f(m),d.removeEventListener("pointerleave",p)});d.addEventListener("pointerleave",p,s)});return r.forEach(u=>{u.addEventListener("pointerenter",l,s)}),o}const sM=(e,t)=>t?e===t?!0:sM(e,t.parentElement):!1,D1=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,gQ=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function xQ(e){return gQ.has(e.tagName)||e.tabIndex!==-1}const Mf=new WeakSet;function n2(e){return t=>{t.key==="Enter"&&e(t)}}function Jy(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const yQ=(e,t)=>{const n=e.currentTarget;if(!n)return;const r=n2(()=>{if(Mf.has(n))return;Jy(n,"down");const s=n2(()=>{Jy(n,"up")}),o=()=>Jy(n,"cancel");n.addEventListener("keyup",s,t),n.addEventListener("blur",o,t)});n.addEventListener("keydown",r,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),t)};function r2(e){return D1(e)&&!nM()}function vQ(e,t,n={}){const[r,s,o]=rM(e,n),l=u=>{const d=u.currentTarget;if(!r2(u)||Mf.has(d))return;Mf.add(d);const f=t(u),p=(v,S)=>{window.removeEventListener("pointerup",m),window.removeEventListener("pointercancel",x),!(!r2(v)||!Mf.has(d))&&(Mf.delete(d),typeof f=="function"&&f(v,{success:S}))},m=v=>{p(v,n.useGlobalTarget||sM(d,v.target))},x=v=>{p(v,!1)};window.addEventListener("pointerup",m,s),window.addEventListener("pointercancel",x,s)};return r.forEach(u=>{!xQ(u)&&u.getAttribute("tabindex")===null&&(u.tabIndex=0),(n.useGlobalTarget?window:u).addEventListener("pointerdown",l,s),u.addEventListener("focus",f=>yQ(f,s),s)}),o}function bQ(e){return e==="x"||e==="y"?li[e]?null:(li[e]=!0,()=>{li[e]=!1}):li.x||li.y?null:(li.x=li.y=!0,()=>{li.x=li.y=!1})}const iM=new Set(["width","height","top","left","right","bottom",...yd]);let Km;function wQ(){Km=void 0}const Xi={now:()=>(Km===void 0&&Xi.set(br.isProcessing||gY.useManualTiming?br.timestamp:performance.now()),Km),set:e=>{Km=e,queueMicrotask(wQ)}};function L1(e,t){e.indexOf(t)===-1&&e.push(t)}function F1(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class $1{constructor(){this.subscriptions=[]}add(t){return L1(this.subscriptions,t),()=>F1(this.subscriptions,t)}notify(t,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](t,n,r);else for(let o=0;o<s;o++){const l=this.subscriptions[o];l&&l(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function aM(e,t){return t?e*(1e3/t):0}const s2=30,jQ=e=>!isNaN(parseFloat(e));class NQ{constructor(t,n={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,s=!0)=>{const o=Xi.now();this.updatedAt!==o&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),s&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=Xi.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=jQ(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new $1);const r=this.events[t].add(n);return t==="change"?()=>{r(),Nn.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=Xi.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>s2)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,s2);return aM(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function uh(e,t){return new NQ(e,t)}function SQ(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,uh(n))}function kQ(e,t){const n=Rx(e,t);let{transitionEnd:r={},transition:s={},...o}=n||{};o={...o,...r};for(const l in o){const u=LY(o[l]);SQ(e,l,u)}}function _Q(e){return!!(Lr(e)&&e.add)}function _b(e,t){const n=e.getValue("willChange");if(_Q(n))return n.add(t)}function oM(e){return e.props[L5]}const lM=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,CQ=1e-7,EQ=12;function PQ(e,t,n,r,s){let o,l,u=0;do l=t+(n-t)/2,o=lM(l,r,s)-e,o>0?n=l:t=l;while(Math.abs(o)>CQ&&++u<EQ);return l}function Dh(e,t,n,r){if(e===t&&n===r)return ks;const s=o=>PQ(o,0,1,e,n);return o=>o===0||o===1?o:lM(s(o),t,r)}const cM=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,uM=e=>t=>1-e(1-t),dM=Dh(.33,1.53,.69,.99),B1=uM(dM),fM=cM(B1),hM=e=>(e*=2)<1?.5*B1(e):.5*(2-Math.pow(2,-10*(e-1))),z1=e=>1-Math.sin(Math.acos(e)),pM=uM(z1),mM=cM(z1),gM=e=>/^0[^.\s]+$/u.test(e);function AQ(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||gM(e):!0}const Wf=e=>Math.round(e*1e5)/1e5,U1=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function TQ(e){return e==null}const RQ=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,V1=(e,t)=>n=>!!(typeof n=="string"&&RQ.test(n)&&n.startsWith(e)||t&&!TQ(n)&&Object.prototype.hasOwnProperty.call(n,t)),xM=(e,t,n)=>r=>{if(typeof r!="string")return r;const[s,o,l,u]=r.match(U1);return{[e]:parseFloat(s),[t]:parseFloat(o),[n]:parseFloat(l),alpha:u!==void 0?parseFloat(u):1}},IQ=e=>Wa(0,255,e),Zy={...vd,transform:e=>Math.round(IQ(e))},Zl={test:V1("rgb","red"),parse:xM("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+Zy.transform(e)+", "+Zy.transform(t)+", "+Zy.transform(n)+", "+Wf(ch.transform(r))+")"};function MQ(e){let t="",n="",r="",s="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),s=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),s=e.substring(4,5),t+=t,n+=n,r+=r,s+=s),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const Cb={test:V1("#"),parse:MQ,transform:Zl.transform},Au={test:V1("hsl","hue"),parse:xM("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+Qi.transform(Wf(t))+", "+Qi.transform(Wf(n))+", "+Wf(ch.transform(r))+")"},Or={test:e=>Zl.test(e)||Cb.test(e)||Au.test(e),parse:e=>Zl.test(e)?Zl.parse(e):Au.test(e)?Au.parse(e):Cb.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?Zl.transform(e):Au.transform(e)},OQ=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function DQ(e){var t,n;return isNaN(e)&&typeof e=="string"&&(((t=e.match(U1))===null||t===void 0?void 0:t.length)||0)+(((n=e.match(OQ))===null||n===void 0?void 0:n.length)||0)>0}const yM="number",vM="color",LQ="var",FQ="var(",i2="${}",$Q=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function dh(e){const t=e.toString(),n=[],r={color:[],number:[],var:[]},s=[];let o=0;const u=t.replace($Q,d=>(Or.test(d)?(r.color.push(o),s.push(vM),n.push(Or.parse(d))):d.startsWith(FQ)?(r.var.push(o),s.push(LQ),n.push(d)):(r.number.push(o),s.push(yM),n.push(parseFloat(d))),++o,i2)).split(i2);return{values:n,split:u,indexes:r,types:s}}function bM(e){return dh(e).values}function wM(e){const{split:t,types:n}=dh(e),r=t.length;return s=>{let o="";for(let l=0;l<r;l++)if(o+=t[l],s[l]!==void 0){const u=n[l];u===yM?o+=Wf(s[l]):u===vM?o+=Or.transform(s[l]):o+=s[l]}return o}}const BQ=e=>typeof e=="number"?0:e;function zQ(e){const t=bM(e);return wM(e)(t.map(BQ))}const rl={test:DQ,parse:bM,createTransformer:wM,getAnimatableNone:zQ},UQ=new Set(["brightness","contrast","saturate","opacity"]);function VQ(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(U1)||[];if(!r)return e;const s=n.replace(r,"");let o=UQ.has(t)?1:0;return r!==n&&(o*=100),t+"("+o+s+")"}const WQ=/\b([a-z-]*)\(.*?\)/gu,Eb={...rl,getAnimatableNone:e=>{const t=e.match(WQ);return t?t.map(VQ).join(" "):e}},qQ={...C1,color:Or,backgroundColor:Or,outlineColor:Or,fill:Or,stroke:Or,borderColor:Or,borderTopColor:Or,borderRightColor:Or,borderBottomColor:Or,borderLeftColor:Or,filter:Eb,WebkitFilter:Eb},W1=e=>qQ[e];function jM(e,t){let n=W1(e);return n!==Eb&&(n=rl),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const HQ=new Set(["auto","none","0"]);function KQ(e,t,n){let r=0,s;for(;r<e.length&&!s;){const o=e[r];typeof o=="string"&&!HQ.has(o)&&dh(o).values.length&&(s=e[r]),r++}if(s&&n)for(const o of t)e[o]=jM(n,s)}const a2=e=>e===vd||e===jt,o2=(e,t)=>parseFloat(e.split(", ")[t]),l2=(e,t)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const s=r.match(/^matrix3d\((.+)\)$/u);if(s)return o2(s[1],t);{const o=r.match(/^matrix\((.+)\)$/u);return o?o2(o[1],e):0}},GQ=new Set(["x","y","z"]),YQ=yd.filter(e=>!GQ.has(e));function QQ(e){const t=[];return YQ.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t}const nd={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:l2(4,13),y:l2(5,14)};nd.translateX=nd.x;nd.translateY=nd.y;const hc=new Set;let Pb=!1,Ab=!1;function NM(){if(Ab){const e=Array.from(hc).filter(r=>r.needsMeasurement),t=new Set(e.map(r=>r.element)),n=new Map;t.forEach(r=>{const s=QQ(r);s.length&&(n.set(r,s),r.render())}),e.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render();const s=n.get(r);s&&s.forEach(([o,l])=>{var u;(u=r.getValue(o))===null||u===void 0||u.set(l)})}),e.forEach(r=>r.measureEndState()),e.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Ab=!1,Pb=!1,hc.forEach(e=>e.complete()),hc.clear()}function SM(){hc.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(Ab=!0)})}function XQ(){SM(),NM()}class q1{constructor(t,n,r,s,o,l=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=r,this.motionValue=s,this.element=o,this.isAsync=l}scheduleResolve(){this.isScheduled=!0,this.isAsync?(hc.add(this),Pb||(Pb=!0,Nn.read(SM),Nn.resolveKeyframes(NM))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:r,motionValue:s}=this;for(let o=0;o<t.length;o++)if(t[o]===null)if(o===0){const l=s==null?void 0:s.get(),u=t[t.length-1];if(l!==void 0)t[0]=l;else if(r&&n){const d=r.readValue(n,u);d!=null&&(t[0]=d)}t[0]===void 0&&(t[0]=u),s&&l===void 0&&s.set(t[0])}else t[o]=t[o-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),hc.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,hc.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const kM=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e),JQ=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function ZQ(e){const t=JQ.exec(e);if(!t)return[,];const[,n,r,s]=t;return[`--${n??r}`,s]}function _M(e,t,n=1){const[r,s]=ZQ(e);if(!r)return;const o=window.getComputedStyle(t).getPropertyValue(r);if(o){const l=o.trim();return kM(l)?parseFloat(l):l}return _1(s)?_M(s,t,n+1):s}const CM=e=>t=>t.test(e),eX={test:e=>e==="auto",parse:e=>e},EM=[vd,jt,Qi,Ao,VY,UY,eX],c2=e=>EM.find(CM(e));class PM extends q1{constructor(t,n,r,s,o){super(t,n,r,s,o,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let d=0;d<t.length;d++){let f=t[d];if(typeof f=="string"&&(f=f.trim(),_1(f))){const p=_M(f,n.current);p!==void 0&&(t[d]=p),d===t.length-1&&(this.finalKeyframe=f)}}if(this.resolveNoneKeyframes(),!iM.has(r)||t.length!==2)return;const[s,o]=t,l=c2(s),u=c2(o);if(l!==u)if(a2(l)&&a2(u))for(let d=0;d<t.length;d++){const f=t[d];typeof f=="string"&&(t[d]=parseFloat(f))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,r=[];for(let s=0;s<t.length;s++)AQ(t[s])&&r.push(s);r.length&&KQ(t,r,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:r}=this;if(!t||!t.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=nd[r](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&t.getValue(r,s).jump(s,!1)}measureEndState(){var t;const{element:n,name:r,unresolvedKeyframes:s}=this;if(!n||!n.current)return;const o=n.getValue(r);o&&o.jump(this.measuredOrigin,!1);const l=s.length-1,u=s[l];s[l]=nd[r](n.measureViewportBox(),window.getComputedStyle(n.current)),u!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=u),!((t=this.removedTransforms)===null||t===void 0)&&t.length&&this.removedTransforms.forEach(([d,f])=>{n.getValue(d).set(f)}),this.resolveNoneKeyframes()}}const u2=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(rl.test(e)||e==="0")&&!e.startsWith("url("));function tX(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function nX(e,t,n,r){const s=e[0];if(s===null)return!1;if(t==="display"||t==="visibility")return!0;const o=e[e.length-1],l=u2(s,t),u=u2(o,t);return!l||!u?!1:tX(e)||(n==="spring"||M1(n))&&r}const rX=e=>e!==null;function Ix(e,{repeat:t,repeatType:n="loop"},r){const s=e.filter(rX),o=t&&n!=="loop"&&t%2===1?0:s.length-1;return!o||r===void 0?s[o]:r}const sX=40;class AM{constructor({autoplay:t=!0,delay:n=0,type:r="keyframes",repeat:s=0,repeatDelay:o=0,repeatType:l="loop",...u}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=Xi.now(),this.options={autoplay:t,delay:n,type:r,repeat:s,repeatDelay:o,repeatType:l,...u},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>sX?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&XQ(),this._resolved}onKeyframesResolved(t,n){this.resolvedAt=Xi.now(),this.hasAttemptedResolve=!0;const{name:r,type:s,velocity:o,delay:l,onComplete:u,onUpdate:d,isGenerator:f}=this.options;if(!f&&!nX(t,r,s,o))if(l)this.options.duration=0;else{d&&d(Ix(t,this.options,n)),u&&u(),this.resolveFinishedPromise();return}const p=this.initPlayback(t,n);p!==!1&&(this._resolved={keyframes:t,finalKeyframe:n,...p},this.onPostResolved())}onPostResolved(){}then(t,n){return this.currentFinishedPromise.then(t,n)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(t=>{this.resolveFinishedPromise=t})}}const Mn=(e,t,n)=>e+(t-e)*n;function ev(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function iX({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let s=0,o=0,l=0;if(!t)s=o=l=n;else{const u=n<.5?n*(1+t):n+t-n*t,d=2*n-u;s=ev(d,u,e+1/3),o=ev(d,u,e),l=ev(d,u,e-1/3)}return{red:Math.round(s*255),green:Math.round(o*255),blue:Math.round(l*255),alpha:r}}function Og(e,t){return n=>n>0?t:e}const tv=(e,t,n)=>{const r=e*e,s=n*(t*t-r)+r;return s<0?0:Math.sqrt(s)},aX=[Cb,Zl,Au],oX=e=>aX.find(t=>t.test(e));function d2(e){const t=oX(e);if(!t)return!1;let n=t.parse(e);return t===Au&&(n=iX(n)),n}const f2=(e,t)=>{const n=d2(e),r=d2(t);if(!n||!r)return Og(e,t);const s={...n};return o=>(s.red=tv(n.red,r.red,o),s.green=tv(n.green,r.green,o),s.blue=tv(n.blue,r.blue,o),s.alpha=Mn(n.alpha,r.alpha,o),Zl.transform(s))},lX=(e,t)=>n=>t(e(n)),Lh=(...e)=>e.reduce(lX),Tb=new Set(["none","hidden"]);function cX(e,t){return Tb.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function uX(e,t){return n=>Mn(e,t,n)}function H1(e){return typeof e=="number"?uX:typeof e=="string"?_1(e)?Og:Or.test(e)?f2:hX:Array.isArray(e)?TM:typeof e=="object"?Or.test(e)?f2:dX:Og}function TM(e,t){const n=[...e],r=n.length,s=e.map((o,l)=>H1(o)(o,t[l]));return o=>{for(let l=0;l<r;l++)n[l]=s[l](o);return n}}function dX(e,t){const n={...e,...t},r={};for(const s in n)e[s]!==void 0&&t[s]!==void 0&&(r[s]=H1(e[s])(e[s],t[s]));return s=>{for(const o in r)n[o]=r[o](s);return n}}function fX(e,t){var n;const r=[],s={color:0,var:0,number:0};for(let o=0;o<t.values.length;o++){const l=t.types[o],u=e.indexes[l][s[l]],d=(n=e.values[u])!==null&&n!==void 0?n:0;r[o]=d,s[l]++}return r}const hX=(e,t)=>{const n=rl.createTransformer(t),r=dh(e),s=dh(t);return r.indexes.var.length===s.indexes.var.length&&r.indexes.color.length===s.indexes.color.length&&r.indexes.number.length>=s.indexes.number.length?Tb.has(e)&&!s.values.length||Tb.has(t)&&!r.values.length?cX(e,t):Lh(TM(fX(r,s),s.values),n):Og(e,t)};function RM(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?Mn(e,t,n):H1(e)(e,t)}const pX=5;function IM(e,t,n){const r=Math.max(t-pX,0);return aM(n-e(r),t-r)}const Ln={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},nv=.001;function mX({duration:e=Ln.duration,bounce:t=Ln.bounce,velocity:n=Ln.velocity,mass:r=Ln.mass}){let s,o,l=1-t;l=Wa(Ln.minDamping,Ln.maxDamping,l),e=Wa(Ln.minDuration,Ln.maxDuration,$a(e)),l<1?(s=f=>{const p=f*l,m=p*e,x=p-n,v=Rb(f,l),S=Math.exp(-m);return nv-x/v*S},o=f=>{const m=f*l*e,x=m*n+n,v=Math.pow(l,2)*Math.pow(f,2)*e,S=Math.exp(-m),N=Rb(Math.pow(f,2),l);return(-s(f)+nv>0?-1:1)*((x-v)*S)/N}):(s=f=>{const p=Math.exp(-f*e),m=(f-n)*e+1;return-nv+p*m},o=f=>{const p=Math.exp(-f*e),m=(n-f)*(e*e);return p*m});const u=5/e,d=xX(s,o,u);if(e=Fa(e),isNaN(d))return{stiffness:Ln.stiffness,damping:Ln.damping,duration:e};{const f=Math.pow(d,2)*r;return{stiffness:f,damping:l*2*Math.sqrt(r*f),duration:e}}}const gX=12;function xX(e,t,n){let r=n;for(let s=1;s<gX;s++)r=r-e(r)/t(r);return r}function Rb(e,t){return e*Math.sqrt(1-t*t)}const yX=["duration","bounce"],vX=["stiffness","damping","mass"];function h2(e,t){return t.some(n=>e[n]!==void 0)}function bX(e){let t={velocity:Ln.velocity,stiffness:Ln.stiffness,damping:Ln.damping,mass:Ln.mass,isResolvedFromDuration:!1,...e};if(!h2(e,vX)&&h2(e,yX))if(e.visualDuration){const n=e.visualDuration,r=2*Math.PI/(n*1.2),s=r*r,o=2*Wa(.05,1,1-(e.bounce||0))*Math.sqrt(s);t={...t,mass:Ln.mass,stiffness:s,damping:o}}else{const n=mX(e);t={...t,...n,mass:Ln.mass},t.isResolvedFromDuration=!0}return t}function MM(e=Ln.visualDuration,t=Ln.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:r,restDelta:s}=n;const o=n.keyframes[0],l=n.keyframes[n.keyframes.length-1],u={done:!1,value:o},{stiffness:d,damping:f,mass:p,duration:m,velocity:x,isResolvedFromDuration:v}=bX({...n,velocity:-$a(n.velocity||0)}),S=x||0,N=f/(2*Math.sqrt(d*p)),_=l-o,P=$a(Math.sqrt(d/p)),T=Math.abs(_)<5;r||(r=T?Ln.restSpeed.granular:Ln.restSpeed.default),s||(s=T?Ln.restDelta.granular:Ln.restDelta.default);let I;if(N<1){const z=Rb(P,N);I=$=>{const V=Math.exp(-N*P*$);return l-V*((S+N*P*_)/z*Math.sin(z*$)+_*Math.cos(z*$))}}else if(N===1)I=z=>l-Math.exp(-P*z)*(_+(S+P*_)*z);else{const z=P*Math.sqrt(N*N-1);I=$=>{const V=Math.exp(-N*P*$),W=Math.min(z*$,300);return l-V*((S+N*P*_)*Math.sinh(W)+z*_*Math.cosh(W))/z}}const L={calculatedDuration:v&&m||null,next:z=>{const $=I(z);if(v)u.done=z>=m;else{let V=0;N<1&&(V=z===0?Fa(S):IM(I,z,$));const W=Math.abs(V)<=r,F=Math.abs(l-$)<=s;u.done=W&&F}return u.value=u.done?l:$,u},toString:()=>{const z=Math.min(J5(L),Sb),$=Z5(V=>L.next(z*V).value,z,30);return z+"ms "+$}};return L}function p2({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:o=500,modifyTarget:l,min:u,max:d,restDelta:f=.5,restSpeed:p}){const m=e[0],x={done:!1,value:m},v=W=>u!==void 0&&W<u||d!==void 0&&W>d,S=W=>u===void 0?d:d===void 0||Math.abs(u-W)<Math.abs(d-W)?u:d;let N=n*t;const _=m+N,P=l===void 0?_:l(_);P!==_&&(N=P-m);const T=W=>-N*Math.exp(-W/r),I=W=>P+T(W),L=W=>{const F=T(W),Y=I(W);x.done=Math.abs(F)<=f,x.value=x.done?P:Y};let z,$;const V=W=>{v(x.value)&&(z=W,$=MM({keyframes:[x.value,S(x.value)],velocity:IM(I,W,x.value),damping:s,stiffness:o,restDelta:f,restSpeed:p}))};return V(0),{calculatedDuration:null,next:W=>{let F=!1;return!$&&z===void 0&&(F=!0,L(W),V(W)),z!==void 0&&W>=z?$.next(W-z):(!F&&L(W),x)}}}const wX=Dh(.42,0,1,1),jX=Dh(0,0,.58,1),OM=Dh(.42,0,.58,1),NX=e=>Array.isArray(e)&&typeof e[0]!="number",SX={linear:ks,easeIn:wX,easeInOut:OM,easeOut:jX,circIn:z1,circInOut:mM,circOut:pM,backIn:B1,backInOut:fM,backOut:dM,anticipate:hM},m2=e=>{if(O1(e)){R5(e.length===4);const[t,n,r,s]=e;return Dh(t,n,r,s)}else if(typeof e=="string")return SX[e];return e};function kX(e,t,n){const r=[],s=n||RM,o=e.length-1;for(let l=0;l<o;l++){let u=s(e[l],e[l+1]);if(t){const d=Array.isArray(t)?t[l]||ks:t;u=Lh(d,u)}r.push(u)}return r}function _X(e,t,{clamp:n=!0,ease:r,mixer:s}={}){const o=e.length;if(R5(o===t.length),o===1)return()=>t[0];if(o===2&&t[0]===t[1])return()=>t[1];const l=e[0]===e[1];e[0]>e[o-1]&&(e=[...e].reverse(),t=[...t].reverse());const u=kX(t,r,s),d=u.length,f=p=>{if(l&&p<e[0])return t[0];let m=0;if(d>1)for(;m<e.length-2&&!(p<e[m+1]);m++);const x=ed(e[m],e[m+1],p);return u[m](x)};return n?p=>f(Wa(e[0],e[o-1],p)):f}function CX(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const s=ed(0,t,r);e.push(Mn(n,1,s))}}function EX(e){const t=[0];return CX(t,e.length-1),t}function PX(e,t){return e.map(n=>n*t)}function AX(e,t){return e.map(()=>t||OM).splice(0,e.length-1)}function Dg({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const s=NX(r)?r.map(m2):m2(r),o={done:!1,value:t[0]},l=PX(n&&n.length===t.length?n:EX(t),e),u=_X(l,t,{ease:Array.isArray(s)?s:AX(t,s)});return{calculatedDuration:e,next:d=>(o.value=u(d),o.done=d>=e,o)}}const TX=e=>{const t=({timestamp:n})=>e(n);return{start:()=>Nn.update(t,!0),stop:()=>nl(t),now:()=>br.isProcessing?br.timestamp:Xi.now()}},RX={decay:p2,inertia:p2,tween:Dg,keyframes:Dg,spring:MM},IX=e=>e/100;class K1 extends AM{constructor(t){super(t),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:d}=this.options;d&&d()};const{name:n,motionValue:r,element:s,keyframes:o}=this.options,l=(s==null?void 0:s.KeyframeResolver)||q1,u=(d,f)=>this.onKeyframesResolved(d,f);this.resolver=new l(o,u,n,r,s),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(t){const{type:n="keyframes",repeat:r=0,repeatDelay:s=0,repeatType:o,velocity:l=0}=this.options,u=M1(n)?n:RX[n]||Dg;let d,f;u!==Dg&&typeof t[0]!="number"&&(d=Lh(IX,RM(t[0],t[1])),t=[0,100]);const p=u({...this.options,keyframes:t});o==="mirror"&&(f=u({...this.options,keyframes:[...t].reverse(),velocity:-l})),p.calculatedDuration===null&&(p.calculatedDuration=J5(p));const{calculatedDuration:m}=p,x=m+s,v=x*(r+1)-s;return{generator:p,mirroredGenerator:f,mapPercentToKeyframes:d,calculatedDuration:m,resolvedDuration:x,totalDuration:v}}onPostResolved(){const{autoplay:t=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!t?this.pause():this.state=this.pendingPlayState}tick(t,n=!1){const{resolved:r}=this;if(!r){const{keyframes:W}=this.options;return{done:!0,value:W[W.length-1]}}const{finalKeyframe:s,generator:o,mirroredGenerator:l,mapPercentToKeyframes:u,keyframes:d,calculatedDuration:f,totalDuration:p,resolvedDuration:m}=r;if(this.startTime===null)return o.next(0);const{delay:x,repeat:v,repeatType:S,repeatDelay:N,onUpdate:_}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-p/this.speed,this.startTime)),n?this.currentTime=t:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(t-this.startTime)*this.speed;const P=this.currentTime-x*(this.speed>=0?1:-1),T=this.speed>=0?P<0:P>p;this.currentTime=Math.max(P,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=p);let I=this.currentTime,L=o;if(v){const W=Math.min(this.currentTime,p)/m;let F=Math.floor(W),Y=W%1;!Y&&W>=1&&(Y=1),Y===1&&F--,F=Math.min(F,v+1),!!(F%2)&&(S==="reverse"?(Y=1-Y,N&&(Y-=N/m)):S==="mirror"&&(L=l)),I=Wa(0,1,Y)*m}const z=T?{done:!1,value:d[0]}:L.next(I);u&&(z.value=u(z.value));let{done:$}=z;!T&&f!==null&&($=this.speed>=0?this.currentTime>=p:this.currentTime<=0);const V=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&$);return V&&s!==void 0&&(z.value=Ix(d,this.options,s)),_&&_(z.value),V&&this.finish(),z}get duration(){const{resolved:t}=this;return t?$a(t.calculatedDuration):0}get time(){return $a(this.currentTime)}set time(t){t=Fa(t),this.currentTime=t,this.holdTime!==null||this.speed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.speed)}get speed(){return this.playbackSpeed}set speed(t){const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=$a(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:t=TX,onPlay:n,startTime:r}=this.options;this.driver||(this.driver=t(o=>this.tick(o))),n&&n();const s=this.driver.now();this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=s):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var t;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(t=this.currentTime)!==null&&t!==void 0?t:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:t}=this.options;t&&t()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}}const MX=new Set(["opacity","clipPath","filter","transform"]);function OX(e,t,n,{delay:r=0,duration:s=300,repeat:o=0,repeatType:l="loop",ease:u="easeInOut",times:d}={}){const f={[t]:n};d&&(f.offset=d);const p=tM(u,s);return Array.isArray(p)&&(f.easing=p),e.animate(f,{delay:r,duration:s,easing:Array.isArray(p)?"linear":p,fill:"both",iterations:o+1,direction:l==="reverse"?"alternate":"normal"})}const DX=v1(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Lg=10,LX=2e4;function FX(e){return M1(e.type)||e.type==="spring"||!eM(e.ease)}function $X(e,t){const n=new K1({...t,keyframes:e,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:e[0]};const s=[];let o=0;for(;!r.done&&o<LX;)r=n.sample(o),s.push(r.value),o+=Lg;return{times:void 0,keyframes:s,duration:o-Lg,ease:"linear"}}const DM={anticipate:hM,backInOut:fM,circInOut:mM};function BX(e){return e in DM}class g2 extends AM{constructor(t){super(t);const{name:n,motionValue:r,element:s,keyframes:o}=this.options;this.resolver=new PM(o,(l,u)=>this.onKeyframesResolved(l,u),n,r,s),this.resolver.scheduleResolve()}initPlayback(t,n){let{duration:r=300,times:s,ease:o,type:l,motionValue:u,name:d,startTime:f}=this.options;if(!u.owner||!u.owner.current)return!1;if(typeof o=="string"&&Mg()&&BX(o)&&(o=DM[o]),FX(this.options)){const{onComplete:m,onUpdate:x,motionValue:v,element:S,...N}=this.options,_=$X(t,N);t=_.keyframes,t.length===1&&(t[1]=t[0]),r=_.duration,s=_.times,o=_.ease,l="keyframes"}const p=OX(u.owner.current,d,t,{...this.options,duration:r,times:s,ease:o});return p.startTime=f??this.calcStartTime(),this.pendingTimeline?(e2(p,this.pendingTimeline),this.pendingTimeline=void 0):p.onfinish=()=>{const{onComplete:m}=this.options;u.set(Ix(t,this.options,n)),m&&m(),this.cancel(),this.resolveFinishedPromise()},{animation:p,duration:r,times:s,type:l,ease:o,keyframes:t}}get duration(){const{resolved:t}=this;if(!t)return 0;const{duration:n}=t;return $a(n)}get time(){const{resolved:t}=this;if(!t)return 0;const{animation:n}=t;return $a(n.currentTime||0)}set time(t){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.currentTime=Fa(t)}get speed(){const{resolved:t}=this;if(!t)return 1;const{animation:n}=t;return n.playbackRate}set speed(t){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.playbackRate=t}get state(){const{resolved:t}=this;if(!t)return"idle";const{animation:n}=t;return n.playState}get startTime(){const{resolved:t}=this;if(!t)return null;const{animation:n}=t;return n.startTime}attachTimeline(t){if(!this._resolved)this.pendingTimeline=t;else{const{resolved:n}=this;if(!n)return ks;const{animation:r}=n;e2(r,t)}return ks}play(){if(this.isStopped)return;const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:t}=this;if(!t)return;const{animation:n,keyframes:r,duration:s,type:o,ease:l,times:u}=t;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:f,onUpdate:p,onComplete:m,element:x,...v}=this.options,S=new K1({...v,keyframes:r,duration:s,type:o,ease:l,times:u,isGenerator:!0}),N=Fa(this.time);f.setWithVelocity(S.sample(N-Lg).value,S.sample(N).value,Lg)}const{onStop:d}=this.options;d&&d(),this.cancel()}complete(){const{resolved:t}=this;t&&t.animation.finish()}cancel(){const{resolved:t}=this;t&&t.animation.cancel()}static supports(t){const{motionValue:n,name:r,repeatDelay:s,repeatType:o,damping:l,type:u}=t;if(!n||!n.owner||!(n.owner.current instanceof HTMLElement))return!1;const{onUpdate:d,transformTemplate:f}=n.owner.getProps();return DX()&&r&&MX.has(r)&&!d&&!f&&!s&&o!=="mirror"&&l!==0&&u!=="inertia"}}const zX={type:"spring",stiffness:500,damping:25,restSpeed:10},UX=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),VX={type:"keyframes",duration:.8},WX={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},qX=(e,{keyframes:t})=>t.length>2?VX:Ec.has(e)?e.startsWith("scale")?UX(t[1]):zX:WX;function HX({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:o,repeatType:l,repeatDelay:u,from:d,elapsed:f,...p}){return!!Object.keys(p).length}const G1=(e,t,n,r={},s,o)=>l=>{const u=I1(r,e)||{},d=u.delay||r.delay||0;let{elapsed:f=0}=r;f=f-Fa(d);let p={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...u,delay:-f,onUpdate:x=>{t.set(x),u.onUpdate&&u.onUpdate(x)},onComplete:()=>{l(),u.onComplete&&u.onComplete()},name:e,motionValue:t,element:o?void 0:s};HX(u)||(p={...p,...qX(e,p)}),p.duration&&(p.duration=Fa(p.duration)),p.repeatDelay&&(p.repeatDelay=Fa(p.repeatDelay)),p.from!==void 0&&(p.keyframes[0]=p.from);let m=!1;if((p.type===!1||p.duration===0&&!p.repeatDelay)&&(p.duration=0,p.delay===0&&(m=!0)),m&&!o&&t.get()!==void 0){const x=Ix(p.keyframes,u);if(x!==void 0)return Nn.update(()=>{p.onUpdate(x),p.onComplete()}),new dQ([])}return!o&&g2.supports(p)?new g2(p):new K1(p)};function KX({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function LM(e,t,{delay:n=0,transitionOverride:r,type:s}={}){var o;let{transition:l=e.getDefaultTransition(),transitionEnd:u,...d}=t;r&&(l=r);const f=[],p=s&&e.animationState&&e.animationState.getState()[s];for(const m in d){const x=e.getValue(m,(o=e.latestValues[m])!==null&&o!==void 0?o:null),v=d[m];if(v===void 0||p&&KX(p,m))continue;const S={delay:n,...I1(l||{},m)};let N=!1;if(window.MotionHandoffAnimation){const P=oM(e);if(P){const T=window.MotionHandoffAnimation(P,m,Nn);T!==null&&(S.startTime=T,N=!0)}}_b(e,m),x.start(G1(m,x,v,e.shouldReduceMotion&&iM.has(m)?{type:!1}:S,e,N));const _=x.animation;_&&f.push(_)}return u&&Promise.all(f).then(()=>{Nn.update(()=>{u&&kQ(e,u)})}),f}function Ib(e,t,n={}){var r;const s=Rx(e,t,n.type==="exit"?(r=e.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:o=e.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(o=n.transitionOverride);const l=s?()=>Promise.all(LM(e,s,n)):()=>Promise.resolve(),u=e.variantChildren&&e.variantChildren.size?(f=0)=>{const{delayChildren:p=0,staggerChildren:m,staggerDirection:x}=o;return GX(e,t,p+f,m,x,n)}:()=>Promise.resolve(),{when:d}=o;if(d){const[f,p]=d==="beforeChildren"?[l,u]:[u,l];return f().then(()=>p())}else return Promise.all([l(),u(n.delay)])}function GX(e,t,n=0,r=0,s=1,o){const l=[],u=(e.variantChildren.size-1)*r,d=s===1?(f=0)=>f*r:(f=0)=>u-f*r;return Array.from(e.variantChildren).sort(YX).forEach((f,p)=>{f.notify("AnimationStart",t),l.push(Ib(f,t,{...o,delay:n+d(p)}).then(()=>f.notify("AnimationComplete",t)))}),Promise.all(l)}function YX(e,t){return e.sortNodePosition(t)}function QX(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const s=t.map(o=>Ib(e,o,n));r=Promise.all(s)}else if(typeof t=="string")r=Ib(e,t,n);else{const s=typeof t=="function"?Rx(e,t,n.custom):t;r=Promise.all(LM(e,s,n))}return r.then(()=>{e.notify("AnimationComplete",t)})}const XX=w1.length;function FM(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?FM(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<XX;n++){const r=w1[n],s=e.props[r];(lh(s)||s===!1)&&(t[r]=s)}return t}const JX=[...b1].reverse(),ZX=b1.length;function eJ(e){return t=>Promise.all(t.map(({animation:n,options:r})=>QX(e,n,r)))}function tJ(e){let t=eJ(e),n=x2(),r=!0;const s=d=>(f,p)=>{var m;const x=Rx(e,p,d==="exit"?(m=e.presenceContext)===null||m===void 0?void 0:m.custom:void 0);if(x){const{transition:v,transitionEnd:S,...N}=x;f={...f,...N,...S}}return f};function o(d){t=d(e)}function l(d){const{props:f}=e,p=FM(e.parent)||{},m=[],x=new Set;let v={},S=1/0;for(let _=0;_<ZX;_++){const P=JX[_],T=n[P],I=f[P]!==void 0?f[P]:p[P],L=lh(I),z=P===d?T.isActive:null;z===!1&&(S=_);let $=I===p[P]&&I!==f[P]&&L;if($&&r&&e.manuallyAnimateOnMount&&($=!1),T.protectedKeys={...v},!T.isActive&&z===null||!I&&!T.prevProp||Ax(I)||typeof I=="boolean")continue;const V=nJ(T.prevProp,I);let W=V||P===d&&T.isActive&&!$&&L||_>S&&L,F=!1;const Y=Array.isArray(I)?I:[I];let H=Y.reduce(s(P),{});z===!1&&(H={});const{prevResolvedValues:ee={}}=T,ve={...ee,...H},ae=Se=>{W=!0,x.has(Se)&&(F=!0,x.delete(Se)),T.needsAnimating[Se]=!0;const K=e.getValue(Se);K&&(K.liveStyle=!1)};for(const Se in ve){const K=H[Se],fe=ee[Se];if(v.hasOwnProperty(Se))continue;let A=!1;Nb(K)&&Nb(fe)?A=!X5(K,fe):A=K!==fe,A?K!=null?ae(Se):x.add(Se):K!==void 0&&x.has(Se)?ae(Se):T.protectedKeys[Se]=!0}T.prevProp=I,T.prevResolvedValues=H,T.isActive&&(v={...v,...H}),r&&e.blockInitialAnimation&&(W=!1),W&&(!($&&V)||F)&&m.push(...Y.map(Se=>({animation:Se,options:{type:P}})))}if(x.size){const _={};x.forEach(P=>{const T=e.getBaseTarget(P),I=e.getValue(P);I&&(I.liveStyle=!0),_[P]=T??null}),m.push({animation:_})}let N=!!m.length;return r&&(f.initial===!1||f.initial===f.animate)&&!e.manuallyAnimateOnMount&&(N=!1),r=!1,N?t(m):Promise.resolve()}function u(d,f){var p;if(n[d].isActive===f)return Promise.resolve();(p=e.variantChildren)===null||p===void 0||p.forEach(x=>{var v;return(v=x.animationState)===null||v===void 0?void 0:v.setActive(d,f)}),n[d].isActive=f;const m=l(d);for(const x in n)n[x].protectedKeys={};return m}return{animateChanges:l,setActive:u,setAnimateFunction:o,getState:()=>n,reset:()=>{n=x2(),r=!0}}}function nJ(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!X5(t,e):!1}function Ul(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function x2(){return{animate:Ul(!0),whileInView:Ul(),whileHover:Ul(),whileTap:Ul(),whileDrag:Ul(),whileFocus:Ul(),exit:Ul()}}class cl{constructor(t){this.isMounted=!1,this.node=t}update(){}}class rJ extends cl{constructor(t){super(t),t.animationState||(t.animationState=tJ(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Ax(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)===null||t===void 0||t.call(this)}}let sJ=0;class iJ extends cl{constructor(){super(...arguments),this.id=sJ++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const s=this.node.animationState.setActive("exit",!t);n&&!t&&s.then(()=>n(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const aJ={animation:{Feature:rJ},exit:{Feature:iJ}};function fh(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}function Fh(e){return{point:{x:e.pageX,y:e.pageY}}}const oJ=e=>t=>D1(t)&&e(t,Fh(t));function qf(e,t,n,r){return fh(e,t,oJ(n),r)}const y2=(e,t)=>Math.abs(e-t);function lJ(e,t){const n=y2(e.x,t.x),r=y2(e.y,t.y);return Math.sqrt(n**2+r**2)}class $M{constructor(t,n,{transformPagePoint:r,contextWindow:s,dragSnapToOrigin:o=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const m=sv(this.lastMoveEventInfo,this.history),x=this.startEvent!==null,v=lJ(m.offset,{x:0,y:0})>=3;if(!x&&!v)return;const{point:S}=m,{timestamp:N}=br;this.history.push({...S,timestamp:N});const{onStart:_,onMove:P}=this.handlers;x||(_&&_(this.lastMoveEvent,m),this.startEvent=this.lastMoveEvent),P&&P(this.lastMoveEvent,m)},this.handlePointerMove=(m,x)=>{this.lastMoveEvent=m,this.lastMoveEventInfo=rv(x,this.transformPagePoint),Nn.update(this.updatePoint,!0)},this.handlePointerUp=(m,x)=>{this.end();const{onEnd:v,onSessionEnd:S,resumeAnimation:N}=this.handlers;if(this.dragSnapToOrigin&&N&&N(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const _=sv(m.type==="pointercancel"?this.lastMoveEventInfo:rv(x,this.transformPagePoint),this.history);this.startEvent&&v&&v(m,_),S&&S(m,_)},!D1(t))return;this.dragSnapToOrigin=o,this.handlers=n,this.transformPagePoint=r,this.contextWindow=s||window;const l=Fh(t),u=rv(l,this.transformPagePoint),{point:d}=u,{timestamp:f}=br;this.history=[{...d,timestamp:f}];const{onSessionStart:p}=n;p&&p(t,sv(u,this.history)),this.removeListeners=Lh(qf(this.contextWindow,"pointermove",this.handlePointerMove),qf(this.contextWindow,"pointerup",this.handlePointerUp),qf(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),nl(this.updatePoint)}}function rv(e,t){return t?{point:t(e.point)}:e}function v2(e,t){return{x:e.x-t.x,y:e.y-t.y}}function sv({point:e},t){return{point:e,delta:v2(e,BM(t)),offset:v2(e,cJ(t)),velocity:uJ(t,.1)}}function cJ(e){return e[0]}function BM(e){return e[e.length-1]}function uJ(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const s=BM(e);for(;n>=0&&(r=e[n],!(s.timestamp-r.timestamp>Fa(t)));)n--;if(!r)return{x:0,y:0};const o=$a(s.timestamp-r.timestamp);if(o===0)return{x:0,y:0};const l={x:(s.x-r.x)/o,y:(s.y-r.y)/o};return l.x===1/0&&(l.x=0),l.y===1/0&&(l.y=0),l}const zM=1e-4,dJ=1-zM,fJ=1+zM,UM=.01,hJ=0-UM,pJ=0+UM;function _s(e){return e.max-e.min}function mJ(e,t,n){return Math.abs(e-t)<=n}function b2(e,t,n,r=.5){e.origin=r,e.originPoint=Mn(t.min,t.max,e.origin),e.scale=_s(n)/_s(t),e.translate=Mn(n.min,n.max,e.origin)-e.originPoint,(e.scale>=dJ&&e.scale<=fJ||isNaN(e.scale))&&(e.scale=1),(e.translate>=hJ&&e.translate<=pJ||isNaN(e.translate))&&(e.translate=0)}function Hf(e,t,n,r){b2(e.x,t.x,n.x,r?r.originX:void 0),b2(e.y,t.y,n.y,r?r.originY:void 0)}function w2(e,t,n){e.min=n.min+t.min,e.max=e.min+_s(t)}function gJ(e,t,n){w2(e.x,t.x,n.x),w2(e.y,t.y,n.y)}function j2(e,t,n){e.min=t.min-n.min,e.max=e.min+_s(t)}function Kf(e,t,n){j2(e.x,t.x,n.x),j2(e.y,t.y,n.y)}function xJ(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?Mn(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?Mn(n,e,r.max):Math.min(e,n)),e}function N2(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function yJ(e,{top:t,left:n,bottom:r,right:s}){return{x:N2(e.x,n,s),y:N2(e.y,t,r)}}function S2(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function vJ(e,t){return{x:S2(e.x,t.x),y:S2(e.y,t.y)}}function bJ(e,t){let n=.5;const r=_s(e),s=_s(t);return s>r?n=ed(t.min,t.max-r,e.min):r>s&&(n=ed(e.min,e.max-s,t.min)),Wa(0,1,n)}function wJ(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const Mb=.35;function jJ(e=Mb){return e===!1?e=0:e===!0&&(e=Mb),{x:k2(e,"left","right"),y:k2(e,"top","bottom")}}function k2(e,t,n){return{min:_2(e,t),max:_2(e,n)}}function _2(e,t){return typeof e=="number"?e:e[t]||0}const C2=()=>({translate:0,scale:1,origin:0,originPoint:0}),Tu=()=>({x:C2(),y:C2()}),E2=()=>({min:0,max:0}),Bn=()=>({x:E2(),y:E2()});function Ds(e){return[e("x"),e("y")]}function VM({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function NJ({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function SJ(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function iv(e){return e===void 0||e===1}function Ob({scale:e,scaleX:t,scaleY:n}){return!iv(e)||!iv(t)||!iv(n)}function ql(e){return Ob(e)||WM(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function WM(e){return P2(e.x)||P2(e.y)}function P2(e){return e&&e!=="0%"}function Fg(e,t,n){const r=e-n,s=t*r;return n+s}function A2(e,t,n,r,s){return s!==void 0&&(e=Fg(e,s,r)),Fg(e,n,r)+t}function Db(e,t=0,n=1,r,s){e.min=A2(e.min,t,n,r,s),e.max=A2(e.max,t,n,r,s)}function qM(e,{x:t,y:n}){Db(e.x,t.translate,t.scale,t.originPoint),Db(e.y,n.translate,n.scale,n.originPoint)}const T2=.999999999999,R2=1.0000000000001;function kJ(e,t,n,r=!1){const s=n.length;if(!s)return;t.x=t.y=1;let o,l;for(let u=0;u<s;u++){o=n[u],l=o.projectionDelta;const{visualElement:d}=o.options;d&&d.props.style&&d.props.style.display==="contents"||(r&&o.options.layoutScroll&&o.scroll&&o!==o.root&&Iu(e,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),l&&(t.x*=l.x.scale,t.y*=l.y.scale,qM(e,l)),r&&ql(o.latestValues)&&Iu(e,o.latestValues))}t.x<R2&&t.x>T2&&(t.x=1),t.y<R2&&t.y>T2&&(t.y=1)}function Ru(e,t){e.min=e.min+t,e.max=e.max+t}function I2(e,t,n,r,s=.5){const o=Mn(e.min,e.max,s);Db(e,t,n,o,r)}function Iu(e,t){I2(e.x,t.x,t.scaleX,t.scale,t.originX),I2(e.y,t.y,t.scaleY,t.scale,t.originY)}function HM(e,t){return VM(SJ(e.getBoundingClientRect(),t))}function _J(e,t,n){const r=HM(e,n),{scroll:s}=t;return s&&(Ru(r.x,s.offset.x),Ru(r.y,s.offset.y)),r}const KM=({current:e})=>e?e.ownerDocument.defaultView:null,CJ=new WeakMap;class EJ{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Bn(),this.visualElement=t}start(t,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const s=p=>{const{dragSnapToOrigin:m}=this.getProps();m?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Fh(p).point)},o=(p,m)=>{const{drag:x,dragPropagation:v,onDragStart:S}=this.getProps();if(x&&!v&&(this.openDragLock&&this.openDragLock(),this.openDragLock=bQ(x),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Ds(_=>{let P=this.getAxisMotionValue(_).get()||0;if(Qi.test(P)){const{projection:T}=this.visualElement;if(T&&T.layout){const I=T.layout.layoutBox[_];I&&(P=_s(I)*(parseFloat(P)/100))}}this.originPoint[_]=P}),S&&Nn.postRender(()=>S(p,m)),_b(this.visualElement,"transform");const{animationState:N}=this.visualElement;N&&N.setActive("whileDrag",!0)},l=(p,m)=>{const{dragPropagation:x,dragDirectionLock:v,onDirectionLock:S,onDrag:N}=this.getProps();if(!x&&!this.openDragLock)return;const{offset:_}=m;if(v&&this.currentDirection===null){this.currentDirection=PJ(_),this.currentDirection!==null&&S&&S(this.currentDirection);return}this.updateAxis("x",m.point,_),this.updateAxis("y",m.point,_),this.visualElement.render(),N&&N(p,m)},u=(p,m)=>this.stop(p,m),d=()=>Ds(p=>{var m;return this.getAnimationState(p)==="paused"&&((m=this.getAxisMotionValue(p).animation)===null||m===void 0?void 0:m.play())}),{dragSnapToOrigin:f}=this.getProps();this.panSession=new $M(t,{onSessionStart:s,onStart:o,onMove:l,onSessionEnd:u,resumeAnimation:d},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:f,contextWindow:KM(this.visualElement)})}stop(t,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:s}=n;this.startAnimation(s);const{onDragEnd:o}=this.getProps();o&&Nn.postRender(()=>o(t,n))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:s}=this.getProps();if(!r||!km(t,s,this.currentDirection))return;const o=this.getAxisMotionValue(t);let l=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(l=xJ(l,this.constraints[t],this.elastic[t])),o.set(l)}resolveConstraints(){var t;const{dragConstraints:n,dragElastic:r}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,o=this.constraints;n&&Pu(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&s?this.constraints=yJ(s.layoutBox,n):this.constraints=!1,this.elastic=jJ(r),o!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&Ds(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=wJ(s.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!Pu(t))return!1;const r=t.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const o=_J(r,s.root,this.visualElement.getTransformPagePoint());let l=vJ(s.layout.layoutBox,o);if(n){const u=n(NJ(l));this.hasMutatedConstraints=!!u,u&&(l=VM(u))}return l}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:o,dragSnapToOrigin:l,onDragTransitionEnd:u}=this.getProps(),d=this.constraints||{},f=Ds(p=>{if(!km(p,n,this.currentDirection))return;let m=d&&d[p]||{};l&&(m={min:0,max:0});const x=s?200:1e6,v=s?40:1e7,S={type:"inertia",velocity:r?t[p]:0,bounceStiffness:x,bounceDamping:v,timeConstant:750,restDelta:1,restSpeed:10,...o,...m};return this.startAxisValueAnimation(p,S)});return Promise.all(f).then(u)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return _b(this.visualElement,t),r.start(G1(t,r,0,n,this.visualElement,!1))}stopAnimation(){Ds(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Ds(t=>{var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){Ds(n=>{const{drag:r}=this.getProps();if(!km(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,o=this.getAxisMotionValue(n);if(s&&s.layout){const{min:l,max:u}=s.layout.layoutBox[n];o.set(t[n]-Mn(l,u,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Pu(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};Ds(l=>{const u=this.getAxisMotionValue(l);if(u&&this.constraints!==!1){const d=u.get();s[l]=bJ({min:d,max:d},this.constraints[l])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Ds(l=>{if(!km(l,t,null))return;const u=this.getAxisMotionValue(l),{min:d,max:f}=this.constraints[l];u.set(Mn(d,f,s[l]))})}addListeners(){if(!this.visualElement.current)return;CJ.set(this.visualElement,this);const t=this.visualElement.current,n=qf(t,"pointerdown",d=>{const{drag:f,dragListener:p=!0}=this.getProps();f&&p&&this.start(d)}),r=()=>{const{dragConstraints:d}=this.getProps();Pu(d)&&d.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,o=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),Nn.read(r);const l=fh(window,"resize",()=>this.scalePositionWithinConstraints()),u=s.addEventListener("didUpdate",(({delta:d,hasLayoutChanged:f})=>{this.isDragging&&f&&(Ds(p=>{const m=this.getAxisMotionValue(p);m&&(this.originPoint[p]+=d[p].translate,m.set(m.get()+d[p].translate))}),this.visualElement.render())}));return()=>{l(),n(),o(),u&&u()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:o=!1,dragElastic:l=Mb,dragMomentum:u=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:o,dragElastic:l,dragMomentum:u}}}function km(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function PJ(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class AJ extends cl{constructor(t){super(t),this.removeGroupControls=ks,this.removeListeners=ks,this.controls=new EJ(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||ks}unmount(){this.removeGroupControls(),this.removeListeners()}}const M2=e=>(t,n)=>{e&&Nn.postRender(()=>e(t,n))};class TJ extends cl{constructor(){super(...arguments),this.removePointerDownListener=ks}onPointerDown(t){this.session=new $M(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:KM(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:M2(t),onStart:M2(n),onMove:r,onEnd:(o,l)=>{delete this.session,s&&Nn.postRender(()=>s(o,l))}}}mount(){this.removePointerDownListener=qf(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Gm={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function O2(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const yf={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(jt.test(e))e=parseFloat(e);else return e;const n=O2(e,t.target.x),r=O2(e,t.target.y);return`${n}% ${r}%`}},RJ={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,s=rl.parse(e);if(s.length>5)return r;const o=rl.createTransformer(e),l=typeof s[0]!="number"?1:0,u=n.x.scale*t.x,d=n.y.scale*t.y;s[0+l]/=u,s[1+l]/=d;const f=Mn(u,d,.5);return typeof s[2+l]=="number"&&(s[2+l]/=f),typeof s[3+l]=="number"&&(s[3+l]/=f),o(s)}};class IJ extends b.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:o}=t;ZY(MJ),o&&(n.group&&n.group.add(o),r&&r.register&&s&&r.register(o),o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),Gm.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:s,isPresent:o}=this.props,l=r.projection;return l&&(l.isPresent=o,s||t.layoutDependency!==n||n===void 0?l.willUpdate():this.safeToRemove(),t.isPresent!==o&&(o?l.promote():l.relegate()||Nn.postRender(()=>{const u=l.getStack();(!u||!u.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),N1.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=t;s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function GM(e){const[t,n]=A5(),r=b.useContext(m1);return i.jsx(IJ,{...e,layoutGroup:r,switchLayoutGroup:b.useContext(F5),isPresent:t,safeToRemove:n})}const MJ={borderRadius:{...yf,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:yf,borderTopRightRadius:yf,borderBottomLeftRadius:yf,borderBottomRightRadius:yf,boxShadow:RJ};function OJ(e,t,n){const r=Lr(e)?e:uh(e);return r.start(G1("",r,t,n)),r.animation}function DJ(e){return e instanceof SVGElement&&e.tagName!=="svg"}const LJ=(e,t)=>e.depth-t.depth;class FJ{constructor(){this.children=[],this.isDirty=!1}add(t){L1(this.children,t),this.isDirty=!0}remove(t){F1(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(LJ),this.isDirty=!1,this.children.forEach(t)}}function $J(e,t){const n=Xi.now(),r=({timestamp:s})=>{const o=s-n;o>=t&&(nl(r),e(o-t))};return Nn.read(r,!0),()=>nl(r)}const YM=["TopLeft","TopRight","BottomLeft","BottomRight"],BJ=YM.length,D2=e=>typeof e=="string"?parseFloat(e):e,L2=e=>typeof e=="number"||jt.test(e);function zJ(e,t,n,r,s,o){s?(e.opacity=Mn(0,n.opacity!==void 0?n.opacity:1,UJ(r)),e.opacityExit=Mn(t.opacity!==void 0?t.opacity:1,0,VJ(r))):o&&(e.opacity=Mn(t.opacity!==void 0?t.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let l=0;l<BJ;l++){const u=`border${YM[l]}Radius`;let d=F2(t,u),f=F2(n,u);if(d===void 0&&f===void 0)continue;d||(d=0),f||(f=0),d===0||f===0||L2(d)===L2(f)?(e[u]=Math.max(Mn(D2(d),D2(f),r),0),(Qi.test(f)||Qi.test(d))&&(e[u]+="%")):e[u]=f}(t.rotate||n.rotate)&&(e.rotate=Mn(t.rotate||0,n.rotate||0,r))}function F2(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const UJ=QM(0,.5,pM),VJ=QM(.5,.95,ks);function QM(e,t,n){return r=>r<e?0:r>t?1:n(ed(e,t,r))}function $2(e,t){e.min=t.min,e.max=t.max}function Os(e,t){$2(e.x,t.x),$2(e.y,t.y)}function B2(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function z2(e,t,n,r,s){return e-=t,e=Fg(e,1/n,r),s!==void 0&&(e=Fg(e,1/s,r)),e}function WJ(e,t=0,n=1,r=.5,s,o=e,l=e){if(Qi.test(t)&&(t=parseFloat(t),t=Mn(l.min,l.max,t/100)-l.min),typeof t!="number")return;let u=Mn(o.min,o.max,r);e===o&&(u-=t),e.min=z2(e.min,t,n,u,s),e.max=z2(e.max,t,n,u,s)}function U2(e,t,[n,r,s],o,l){WJ(e,t[n],t[r],t[s],t.scale,o,l)}const qJ=["x","scaleX","originX"],HJ=["y","scaleY","originY"];function V2(e,t,n,r){U2(e.x,t,qJ,n?n.x:void 0,r?r.x:void 0),U2(e.y,t,HJ,n?n.y:void 0,r?r.y:void 0)}function W2(e){return e.translate===0&&e.scale===1}function XM(e){return W2(e.x)&&W2(e.y)}function q2(e,t){return e.min===t.min&&e.max===t.max}function KJ(e,t){return q2(e.x,t.x)&&q2(e.y,t.y)}function H2(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function JM(e,t){return H2(e.x,t.x)&&H2(e.y,t.y)}function K2(e){return _s(e.x)/_s(e.y)}function G2(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class GJ{constructor(){this.members=[]}add(t){L1(this.members,t),t.scheduleRender()}remove(t){if(F1(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(s=>t===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const o=this.members[s];if(o.isPresent!==!1){r=o;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:s}=t.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function YJ(e,t,n){let r="";const s=e.x.translate/t.x,o=e.y.translate/t.y,l=(n==null?void 0:n.z)||0;if((s||o||l)&&(r=`translate3d(${s}px, ${o}px, ${l}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:f,rotate:p,rotateX:m,rotateY:x,skewX:v,skewY:S}=n;f&&(r=`perspective(${f}px) ${r}`),p&&(r+=`rotate(${p}deg) `),m&&(r+=`rotateX(${m}deg) `),x&&(r+=`rotateY(${x}deg) `),v&&(r+=`skewX(${v}deg) `),S&&(r+=`skewY(${S}deg) `)}const u=e.x.scale*t.x,d=e.y.scale*t.y;return(u!==1||d!==1)&&(r+=`scale(${u}, ${d})`),r||"none"}const Hl={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},Of=typeof window<"u"&&window.MotionDebug!==void 0,av=["","X","Y","Z"],QJ={visibility:"hidden"},Y2=1e3;let XJ=0;function ov(e,t,n,r){const{latestValues:s}=t;s[e]&&(n[e]=s[e],t.setStaticValue(e,0),r&&(r[e]=0))}function ZM(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=oM(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:o}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",Nn,!(s||o))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&ZM(r)}function eO({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(l={},u=t==null?void 0:t()){this.id=XJ++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Of&&(Hl.totalNodes=Hl.resolvedTargetDeltas=Hl.recalculatedProjection=0),this.nodes.forEach(eZ),this.nodes.forEach(iZ),this.nodes.forEach(aZ),this.nodes.forEach(tZ),Of&&window.MotionDebug.record(Hl)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=l,this.root=u?u.root||u:this,this.path=u?[...u.path,u]:[],this.parent=u,this.depth=u?u.depth+1:0;for(let d=0;d<this.path.length;d++)this.path[d].shouldResetTransform=!0;this.root===this&&(this.nodes=new FJ)}addEventListener(l,u){return this.eventHandlers.has(l)||this.eventHandlers.set(l,new $1),this.eventHandlers.get(l).add(u)}notifyListeners(l,...u){const d=this.eventHandlers.get(l);d&&d.notify(...u)}hasListeners(l){return this.eventHandlers.has(l)}mount(l,u=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=DJ(l),this.instance=l;const{layoutId:d,layout:f,visualElement:p}=this.options;if(p&&!p.current&&p.mount(l),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),u&&(f||d)&&(this.isLayoutDirty=!0),e){let m;const x=()=>this.root.updateBlockedByResize=!1;e(l,()=>{this.root.updateBlockedByResize=!0,m&&m(),m=$J(x,250),Gm.hasAnimatedSinceResize&&(Gm.hasAnimatedSinceResize=!1,this.nodes.forEach(X2))})}d&&this.root.registerSharedNode(d,this),this.options.animate!==!1&&p&&(d||f)&&this.addEventListener("didUpdate",({delta:m,hasLayoutChanged:x,hasRelativeTargetChanged:v,layout:S})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const N=this.options.transition||p.getDefaultTransition()||dZ,{onLayoutAnimationStart:_,onLayoutAnimationComplete:P}=p.getProps(),T=!this.targetLayout||!JM(this.targetLayout,S)||v,I=!x&&v;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||I||x&&(T||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(m,I);const L={...I1(N,"layout"),onPlay:_,onComplete:P};(p.shouldReduceMotion||this.options.layoutRoot)&&(L.delay=0,L.type=!1),this.startAnimation(L)}else x||X2(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=S})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const l=this.getStack();l&&l.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,nl(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(oZ),this.animationId++)}getTransformTemplate(){const{visualElement:l}=this.options;return l&&l.getProps().transformTemplate}willUpdate(l=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&ZM(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let p=0;p<this.path.length;p++){const m=this.path[p];m.shouldResetTransform=!0,m.updateScroll("snapshot"),m.options.layoutRoot&&m.willUpdate(!1)}const{layoutId:u,layout:d}=this.options;if(u===void 0&&!d)return;const f=this.getTransformTemplate();this.prevTransformTemplateValue=f?f(this.latestValues,""):void 0,this.updateSnapshot(),l&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Q2);return}this.isUpdating||this.nodes.forEach(rZ),this.isUpdating=!1,this.nodes.forEach(sZ),this.nodes.forEach(JJ),this.nodes.forEach(ZJ),this.clearAllSnapshots();const u=Xi.now();br.delta=Wa(0,1e3/60,u-br.timestamp),br.timestamp=u,br.isProcessing=!0,Xy.update.process(br),Xy.preRender.process(br),Xy.render.process(br),br.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,N1.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(nZ),this.sharedNodes.forEach(lZ)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Nn.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Nn.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let d=0;d<this.path.length;d++)this.path[d].updateScroll();const l=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Bn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:u}=this.options;u&&u.notify("LayoutMeasure",this.layout.layoutBox,l?l.layoutBox:void 0)}updateScroll(l="measure"){let u=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===l&&(u=!1),u){const d=r(this.instance);this.scroll={animationId:this.root.animationId,phase:l,isRoot:d,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:d}}}resetTransform(){if(!s)return;const l=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,u=this.projectionDelta&&!XM(this.projectionDelta),d=this.getTransformTemplate(),f=d?d(this.latestValues,""):void 0,p=f!==this.prevTransformTemplateValue;l&&(u||ql(this.latestValues)||p)&&(s(this.instance,f),this.shouldResetTransform=!1,this.scheduleRender())}measure(l=!0){const u=this.measurePageBox();let d=this.removeElementScroll(u);return l&&(d=this.removeTransform(d)),fZ(d),{animationId:this.root.animationId,measuredBox:u,layoutBox:d,latestValues:{},source:this.id}}measurePageBox(){var l;const{visualElement:u}=this.options;if(!u)return Bn();const d=u.measureViewportBox();if(!(((l=this.scroll)===null||l===void 0?void 0:l.wasRoot)||this.path.some(hZ))){const{scroll:p}=this.root;p&&(Ru(d.x,p.offset.x),Ru(d.y,p.offset.y))}return d}removeElementScroll(l){var u;const d=Bn();if(Os(d,l),!((u=this.scroll)===null||u===void 0)&&u.wasRoot)return d;for(let f=0;f<this.path.length;f++){const p=this.path[f],{scroll:m,options:x}=p;p!==this.root&&m&&x.layoutScroll&&(m.wasRoot&&Os(d,l),Ru(d.x,m.offset.x),Ru(d.y,m.offset.y))}return d}applyTransform(l,u=!1){const d=Bn();Os(d,l);for(let f=0;f<this.path.length;f++){const p=this.path[f];!u&&p.options.layoutScroll&&p.scroll&&p!==p.root&&Iu(d,{x:-p.scroll.offset.x,y:-p.scroll.offset.y}),ql(p.latestValues)&&Iu(d,p.latestValues)}return ql(this.latestValues)&&Iu(d,this.latestValues),d}removeTransform(l){const u=Bn();Os(u,l);for(let d=0;d<this.path.length;d++){const f=this.path[d];if(!f.instance||!ql(f.latestValues))continue;Ob(f.latestValues)&&f.updateSnapshot();const p=Bn(),m=f.measurePageBox();Os(p,m),V2(u,f.latestValues,f.snapshot?f.snapshot.layoutBox:void 0,p)}return ql(this.latestValues)&&V2(u,this.latestValues),u}setTargetDelta(l){this.targetDelta=l,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(l){this.options={...this.options,...l,crossfade:l.crossfade!==void 0?l.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==br.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(l=!1){var u;const d=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=d.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=d.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=d.isSharedProjectionDirty);const f=!!this.resumingFrom||this!==d;if(!(l||f&&this.isSharedProjectionDirty||this.isProjectionDirty||!((u=this.parent)===null||u===void 0)&&u.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:m,layoutId:x}=this.options;if(!(!this.layout||!(m||x))){if(this.resolvedRelativeTargetAt=br.timestamp,!this.targetDelta&&!this.relativeTarget){const v=this.getClosestProjectingParent();v&&v.layout&&this.animationProgress!==1?(this.relativeParent=v,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Bn(),this.relativeTargetOrigin=Bn(),Kf(this.relativeTargetOrigin,this.layout.layoutBox,v.layout.layoutBox),Os(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Bn(),this.targetWithTransforms=Bn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),gJ(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Os(this.target,this.layout.layoutBox),qM(this.target,this.targetDelta)):Os(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const v=this.getClosestProjectingParent();v&&!!v.resumingFrom==!!this.resumingFrom&&!v.options.layoutScroll&&v.target&&this.animationProgress!==1?(this.relativeParent=v,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Bn(),this.relativeTargetOrigin=Bn(),Kf(this.relativeTargetOrigin,this.target,v.target),Os(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Of&&Hl.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Ob(this.parent.latestValues)||WM(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var l;const u=this.getLead(),d=!!this.resumingFrom||this!==u;let f=!0;if((this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty)&&(f=!1),d&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(f=!1),this.resolvedRelativeTargetAt===br.timestamp&&(f=!1),f)return;const{layout:p,layoutId:m}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(p||m))return;Os(this.layoutCorrected,this.layout.layoutBox);const x=this.treeScale.x,v=this.treeScale.y;kJ(this.layoutCorrected,this.treeScale,this.path,d),u.layout&&!u.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(u.target=u.layout.layoutBox,u.targetWithTransforms=Bn());const{target:S}=u;if(!S){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(B2(this.prevProjectionDelta.x,this.projectionDelta.x),B2(this.prevProjectionDelta.y,this.projectionDelta.y)),Hf(this.projectionDelta,this.layoutCorrected,S,this.latestValues),(this.treeScale.x!==x||this.treeScale.y!==v||!G2(this.projectionDelta.x,this.prevProjectionDelta.x)||!G2(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",S)),Of&&Hl.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(l=!0){var u;if((u=this.options.visualElement)===null||u===void 0||u.scheduleRender(),l){const d=this.getStack();d&&d.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Tu(),this.projectionDelta=Tu(),this.projectionDeltaWithTransform=Tu()}setAnimationOrigin(l,u=!1){const d=this.snapshot,f=d?d.latestValues:{},p={...this.latestValues},m=Tu();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!u;const x=Bn(),v=d?d.source:void 0,S=this.layout?this.layout.source:void 0,N=v!==S,_=this.getStack(),P=!_||_.members.length<=1,T=!!(N&&!P&&this.options.crossfade===!0&&!this.path.some(uZ));this.animationProgress=0;let I;this.mixTargetDelta=L=>{const z=L/1e3;J2(m.x,l.x,z),J2(m.y,l.y,z),this.setTargetDelta(m),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Kf(x,this.layout.layoutBox,this.relativeParent.layout.layoutBox),cZ(this.relativeTarget,this.relativeTargetOrigin,x,z),I&&KJ(this.relativeTarget,I)&&(this.isProjectionDirty=!1),I||(I=Bn()),Os(I,this.relativeTarget)),N&&(this.animationValues=p,zJ(p,f,this.latestValues,z,T,P)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=z},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(l){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(nl(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Nn.update(()=>{Gm.hasAnimatedSinceResize=!0,this.currentAnimation=OJ(0,Y2,{...l,onUpdate:u=>{this.mixTargetDelta(u),l.onUpdate&&l.onUpdate(u)},onComplete:()=>{l.onComplete&&l.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const l=this.getStack();l&&l.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Y2),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const l=this.getLead();let{targetWithTransforms:u,target:d,layout:f,latestValues:p}=l;if(!(!u||!d||!f)){if(this!==l&&this.layout&&f&&tO(this.options.animationType,this.layout.layoutBox,f.layoutBox)){d=this.target||Bn();const m=_s(this.layout.layoutBox.x);d.x.min=l.target.x.min,d.x.max=d.x.min+m;const x=_s(this.layout.layoutBox.y);d.y.min=l.target.y.min,d.y.max=d.y.min+x}Os(u,d),Iu(u,p),Hf(this.projectionDeltaWithTransform,this.layoutCorrected,u,p)}}registerSharedNode(l,u){this.sharedNodes.has(l)||this.sharedNodes.set(l,new GJ),this.sharedNodes.get(l).add(u);const f=u.options.initialPromotionConfig;u.promote({transition:f?f.transition:void 0,preserveFollowOpacity:f&&f.shouldPreserveFollowOpacity?f.shouldPreserveFollowOpacity(u):void 0})}isLead(){const l=this.getStack();return l?l.lead===this:!0}getLead(){var l;const{layoutId:u}=this.options;return u?((l=this.getStack())===null||l===void 0?void 0:l.lead)||this:this}getPrevLead(){var l;const{layoutId:u}=this.options;return u?(l=this.getStack())===null||l===void 0?void 0:l.prevLead:void 0}getStack(){const{layoutId:l}=this.options;if(l)return this.root.sharedNodes.get(l)}promote({needsReset:l,transition:u,preserveFollowOpacity:d}={}){const f=this.getStack();f&&f.promote(this,d),l&&(this.projectionDelta=void 0,this.needsReset=!0),u&&this.setOptions({transition:u})}relegate(){const l=this.getStack();return l?l.relegate(this):!1}resetSkewAndRotation(){const{visualElement:l}=this.options;if(!l)return;let u=!1;const{latestValues:d}=l;if((d.z||d.rotate||d.rotateX||d.rotateY||d.rotateZ||d.skewX||d.skewY)&&(u=!0),!u)return;const f={};d.z&&ov("z",l,f,this.animationValues);for(let p=0;p<av.length;p++)ov(`rotate${av[p]}`,l,f,this.animationValues),ov(`skew${av[p]}`,l,f,this.animationValues);l.render();for(const p in f)l.setStaticValue(p,f[p]),this.animationValues&&(this.animationValues[p]=f[p]);l.scheduleRender()}getProjectionStyles(l){var u,d;if(!this.instance||this.isSVG)return;if(!this.isVisible)return QJ;const f={visibility:""},p=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,f.opacity="",f.pointerEvents=Hm(l==null?void 0:l.pointerEvents)||"",f.transform=p?p(this.latestValues,""):"none",f;const m=this.getLead();if(!this.projectionDelta||!this.layout||!m.target){const N={};return this.options.layoutId&&(N.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,N.pointerEvents=Hm(l==null?void 0:l.pointerEvents)||""),this.hasProjected&&!ql(this.latestValues)&&(N.transform=p?p({},""):"none",this.hasProjected=!1),N}const x=m.animationValues||m.latestValues;this.applyTransformsToTarget(),f.transform=YJ(this.projectionDeltaWithTransform,this.treeScale,x),p&&(f.transform=p(x,f.transform));const{x:v,y:S}=this.projectionDelta;f.transformOrigin=`${v.origin*100}% ${S.origin*100}% 0`,m.animationValues?f.opacity=m===this?(d=(u=x.opacity)!==null&&u!==void 0?u:this.latestValues.opacity)!==null&&d!==void 0?d:1:this.preserveOpacity?this.latestValues.opacity:x.opacityExit:f.opacity=m===this?x.opacity!==void 0?x.opacity:"":x.opacityExit!==void 0?x.opacityExit:0;for(const N in Ig){if(x[N]===void 0)continue;const{correct:_,applyTo:P}=Ig[N],T=f.transform==="none"?x[N]:_(x[N],m);if(P){const I=P.length;for(let L=0;L<I;L++)f[P[L]]=T}else f[N]=T}return this.options.layoutId&&(f.pointerEvents=m===this?Hm(l==null?void 0:l.pointerEvents)||"":"none"),f}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(l=>{var u;return(u=l.currentAnimation)===null||u===void 0?void 0:u.stop()}),this.root.nodes.forEach(Q2),this.root.sharedNodes.clear()}}}function JJ(e){e.updateLayout()}function ZJ(e){var t;const n=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=e.layout,{animationType:o}=e.options,l=n.source!==e.layout.source;o==="size"?Ds(m=>{const x=l?n.measuredBox[m]:n.layoutBox[m],v=_s(x);x.min=r[m].min,x.max=x.min+v}):tO(o,n.layoutBox,r)&&Ds(m=>{const x=l?n.measuredBox[m]:n.layoutBox[m],v=_s(r[m]);x.max=x.min+v,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[m].max=e.relativeTarget[m].min+v)});const u=Tu();Hf(u,r,n.layoutBox);const d=Tu();l?Hf(d,e.applyTransform(s,!0),n.measuredBox):Hf(d,r,n.layoutBox);const f=!XM(u);let p=!1;if(!e.resumeFrom){const m=e.getClosestProjectingParent();if(m&&!m.resumeFrom){const{snapshot:x,layout:v}=m;if(x&&v){const S=Bn();Kf(S,n.layoutBox,x.layoutBox);const N=Bn();Kf(N,r,v.layoutBox),JM(S,N)||(p=!0),m.options.layoutRoot&&(e.relativeTarget=N,e.relativeTargetOrigin=S,e.relativeParent=m)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:d,layoutDelta:u,hasLayoutChanged:f,hasRelativeTargetChanged:p})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function eZ(e){Of&&Hl.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function tZ(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function nZ(e){e.clearSnapshot()}function Q2(e){e.clearMeasurements()}function rZ(e){e.isLayoutDirty=!1}function sZ(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function X2(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function iZ(e){e.resolveTargetDelta()}function aZ(e){e.calcProjection()}function oZ(e){e.resetSkewAndRotation()}function lZ(e){e.removeLeadSnapshot()}function J2(e,t,n){e.translate=Mn(t.translate,0,n),e.scale=Mn(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function Z2(e,t,n,r){e.min=Mn(t.min,n.min,r),e.max=Mn(t.max,n.max,r)}function cZ(e,t,n,r){Z2(e.x,t.x,n.x,r),Z2(e.y,t.y,n.y,r)}function uZ(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const dZ={duration:.45,ease:[.4,0,.1,1]},eC=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),tC=eC("applewebkit/")&&!eC("chrome/")?Math.round:ks;function nC(e){e.min=tC(e.min),e.max=tC(e.max)}function fZ(e){nC(e.x),nC(e.y)}function tO(e,t,n){return e==="position"||e==="preserve-aspect"&&!mJ(K2(t),K2(n),.2)}function hZ(e){var t;return e!==e.root&&((t=e.scroll)===null||t===void 0?void 0:t.wasRoot)}const pZ=eO({attachResizeListener:(e,t)=>fh(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),lv={current:void 0},nO=eO({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!lv.current){const e=new pZ({});e.mount(window),e.setOptions({layoutScroll:!0}),lv.current=e}return lv.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),mZ={pan:{Feature:TJ},drag:{Feature:AJ,ProjectionNode:nO,MeasureLayout:GM}};function rC(e,t,n){const{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover",n==="Start");const s="onHover"+n,o=r[s];o&&Nn.postRender(()=>o(t,Fh(t)))}class gZ extends cl{mount(){const{current:t}=this.node;t&&(this.unmount=mQ(t,n=>(rC(this.node,n,"Start"),r=>rC(this.node,r,"End"))))}unmount(){}}class xZ extends cl{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Lh(fh(this.node.current,"focus",()=>this.onFocus()),fh(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function sC(e,t,n){const{props:r}=e;e.animationState&&r.whileTap&&e.animationState.setActive("whileTap",n==="Start");const s="onTap"+(n==="End"?"":n),o=r[s];o&&Nn.postRender(()=>o(t,Fh(t)))}class yZ extends cl{mount(){const{current:t}=this.node;t&&(this.unmount=vQ(t,n=>(sC(this.node,n,"Start"),(r,{success:s})=>sC(this.node,r,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Lb=new WeakMap,cv=new WeakMap,vZ=e=>{const t=Lb.get(e.target);t&&t(e)},bZ=e=>{e.forEach(vZ)};function wZ({root:e,...t}){const n=e||document;cv.has(n)||cv.set(n,{});const r=cv.get(n),s=JSON.stringify(t);return r[s]||(r[s]=new IntersectionObserver(bZ,{root:e,...t})),r[s]}function jZ(e,t,n){const r=wZ(t);return Lb.set(e,n),r.observe(e),()=>{Lb.delete(e),r.unobserve(e)}}const NZ={some:0,all:1};class SZ extends cl{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:o}=t,l={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:NZ[s]},u=d=>{const{isIntersecting:f}=d;if(this.isInView===f||(this.isInView=f,o&&!f&&this.hasEnteredView))return;f&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",f);const{onViewportEnter:p,onViewportLeave:m}=this.node.getProps(),x=f?p:m;x&&x(d)};return jZ(this.node.current,l,u)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(kZ(t,n))&&this.startObserver()}unmount(){}}function kZ({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const _Z={inView:{Feature:SZ},tap:{Feature:yZ},focus:{Feature:xZ},hover:{Feature:gZ}},CZ={layout:{ProjectionNode:nO,MeasureLayout:GM}},Fb={current:null},rO={current:!1};function EZ(){if(rO.current=!0,!!y1)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Fb.current=e.matches;e.addListener(t),t()}else Fb.current=!1}const PZ=[...EM,Or,rl],AZ=e=>PZ.find(CM(e)),iC=new WeakMap;function TZ(e,t,n){for(const r in t){const s=t[r],o=n[r];if(Lr(s))e.addValue(r,s);else if(Lr(o))e.addValue(r,uh(s,{owner:e}));else if(o!==s)if(e.hasValue(r)){const l=e.getValue(r);l.liveStyle===!0?l.jump(s):l.hasAnimated||l.set(s)}else{const l=e.getStaticValue(r);e.addValue(r,uh(l!==void 0?l:s,{owner:e}))}}for(const r in n)t[r]===void 0&&e.removeValue(r);return t}const aC=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class RZ{scrapeMotionValuesFromProps(t,n,r){return{}}constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:s,blockInitialAnimation:o,visualState:l},u={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=q1,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const v=Xi.now();this.renderScheduledAt<v&&(this.renderScheduledAt=v,Nn.render(this.render,!1,!0))};const{latestValues:d,renderState:f,onUpdate:p}=l;this.onUpdate=p,this.latestValues=d,this.baseTarget={...d},this.initialValues=n.initial?{...d}:{},this.renderState=f,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=s,this.options=u,this.blockInitialAnimation=!!o,this.isControllingVariants=Tx(n),this.isVariantNode=D5(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:m,...x}=this.scrapeMotionValuesFromProps(n,{},this);for(const v in x){const S=x[v];d[v]!==void 0&&Lr(S)&&S.set(d[v],!1)}}mount(t){this.current=t,iC.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),rO.current||EZ(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Fb.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){iC.delete(this.current),this.projection&&this.projection.unmount(),nl(this.notifyUpdate),nl(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const n=this.features[t];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const r=Ec.has(t),s=n.on("change",u=>{this.latestValues[t]=u,this.props.onUpdate&&Nn.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),o=n.on("renderRequest",this.scheduleRender);let l;window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{s(),o(),l&&l(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in td){const n=td[t];if(!n)continue;const{isEnabled:r,Feature:s}=n;if(!this.features[t]&&s&&r(this.props)&&(this.features[t]=new s(this)),this.features[t]){const o=this.features[t];o.isMounted?o.update():(o.mount(),o.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Bn()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<aC.length;r++){const s=aC[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const o="on"+s,l=t[o];l&&(this.propEventSubscriptions[s]=this.on(s,l))}this.prevMotionValues=TZ(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const r=this.values.get(t);n!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=uh(n===null?void 0:n,{owner:this}),this.addValue(t,r)),r}readValue(t,n){var r;let s=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(r=this.getBaseTargetFromProps(this.props,t))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,t,this.options);return s!=null&&(typeof s=="string"&&(kM(s)||gM(s))?s=parseFloat(s):!AZ(s)&&rl.test(n)&&(s=jM(t,n)),this.setBaseTarget(t,Lr(s)?s.get():s)),Lr(s)?s.get():s}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var n;const{initial:r}=this.props;let s;if(typeof r=="string"||typeof r=="object"){const l=k1(this.props,r,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);l&&(s=l[t])}if(r&&s!==void 0)return s;const o=this.getBaseTargetFromProps(this.props,t);return o!==void 0&&!Lr(o)?o:this.initialValues[t]!==void 0&&s===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new $1),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}}class sO extends RZ{constructor(){super(...arguments),this.KeyframeResolver=PM}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Lr(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function IZ(e){return window.getComputedStyle(e)}class MZ extends sO{constructor(){super(...arguments),this.type="html",this.renderInstance=q5}readValueFromInstance(t,n){if(Ec.has(n)){const r=W1(n);return r&&r.default||0}else{const r=IZ(t),s=(U5(n)?r.getPropertyValue(n):r[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(t,{transformPagePoint:n}){return HM(t,n)}build(t,n,r){E1(t,n,r.transformTemplate)}scrapeMotionValuesFromProps(t,n,r){return R1(t,n,r)}}class OZ extends sO{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Bn}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(Ec.has(n)){const r=W1(n);return r&&r.default||0}return n=H5.has(n)?n:j1(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,r){return Y5(t,n,r)}build(t,n,r){P1(t,n,this.isSVGTag,r.transformTemplate)}renderInstance(t,n,r,s){K5(t,n,r,s)}mount(t){this.isSVGTag=T1(t.tagName),super.mount(t)}}const DZ=(e,t)=>S1(e)?new OZ(t):new MZ(t,{allowProjection:e!==b.Fragment}),LZ=lQ({...aJ,..._Z,...mZ,...CZ},DZ),wt=NY(LZ);var Y1={};(function e(t,n,r,s){var o=!!(t.Worker&&t.Blob&&t.Promise&&t.OffscreenCanvas&&t.OffscreenCanvasRenderingContext2D&&t.HTMLCanvasElement&&t.HTMLCanvasElement.prototype.transferControlToOffscreen&&t.URL&&t.URL.createObjectURL),l=typeof Path2D=="function"&&typeof DOMMatrix=="function",u=(function(){if(!t.OffscreenCanvas)return!1;try{var A=new OffscreenCanvas(1,1),M=A.getContext("2d");M.fillRect(0,0,1,1);var X=A.transferToImageBitmap();M.createPattern(X,"no-repeat")}catch{return!1}return!0})();function d(){}function f(A){var M=n.exports.Promise,X=M!==void 0?M:t.Promise;return typeof X=="function"?new X(A):(A(d,d),null)}var p=(function(A,M){return{transform:function(X){if(A)return X;if(M.has(X))return M.get(X);var B=new OffscreenCanvas(X.width,X.height),Ee=B.getContext("2d");return Ee.drawImage(X,0,0),M.set(X,B),B},clear:function(){M.clear()}}})(u,new Map),m=(function(){var A=Math.floor(16.666666666666668),M,X,B={},Ee=0;return typeof requestAnimationFrame=="function"&&typeof cancelAnimationFrame=="function"?(M=function(De){var Te=Math.random();return B[Te]=requestAnimationFrame(function xe(Pe){Ee===Pe||Ee+A-1<Pe?(Ee=Pe,delete B[Te],De()):B[Te]=requestAnimationFrame(xe)}),Te},X=function(De){B[De]&&cancelAnimationFrame(B[De])}):(M=function(De){return setTimeout(De,A)},X=function(De){return clearTimeout(De)}),{frame:M,cancel:X}})(),x=(function(){var A,M,X={};function B(Ee){function De(Te,xe){Ee.postMessage({options:Te||{},callback:xe})}Ee.init=function(xe){var Pe=xe.transferControlToOffscreen();Ee.postMessage({canvas:Pe},[Pe])},Ee.fire=function(xe,Pe,Ue){if(M)return De(xe,null),M;var Ce=Math.random().toString(36).slice(2);return M=f(function(et){function Ve(_t){_t.data.callback===Ce&&(delete X[Ce],Ee.removeEventListener("message",Ve),M=null,p.clear(),Ue(),et())}Ee.addEventListener("message",Ve),De(xe,Ce),X[Ce]=Ve.bind(null,{data:{callback:Ce}})}),M},Ee.reset=function(){Ee.postMessage({reset:!0});for(var xe in X)X[xe](),delete X[xe]}}return function(){if(A)return A;if(!r&&o){var Ee=["var CONFETTI, SIZE = {}, module = {};","("+e.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {","  if (msg.data.options) {","    CONFETTI(msg.data.options).then(function () {","      if (msg.data.callback) {","        postMessage({ callback: msg.data.callback });","      }","    });","  } else if (msg.data.reset) {","    CONFETTI && CONFETTI.reset();","  } else if (msg.data.resize) {","    SIZE.width = msg.data.resize.width;","    SIZE.height = msg.data.resize.height;","  } else if (msg.data.canvas) {","    SIZE.width = msg.data.canvas.width;","    SIZE.height = msg.data.canvas.height;","    CONFETTI = module.exports.create(msg.data.canvas);","  }","}"].join(`
`);try{A=new Worker(URL.createObjectURL(new Blob([Ee])))}catch(De){return typeof console<"u"&&typeof console.warn=="function"&&console.warn(" Could not load worker",De),null}B(A)}return A}})(),v={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function S(A,M){return M?M(A):A}function N(A){return A!=null}function _(A,M,X){return S(A&&N(A[M])?A[M]:v[M],X)}function P(A){return A<0?0:Math.floor(A)}function T(A,M){return Math.floor(Math.random()*(M-A))+A}function I(A){return parseInt(A,16)}function L(A){return A.map(z)}function z(A){var M=String(A).replace(/[^0-9a-f]/gi,"");return M.length<6&&(M=M[0]+M[0]+M[1]+M[1]+M[2]+M[2]),{r:I(M.substring(0,2)),g:I(M.substring(2,4)),b:I(M.substring(4,6))}}function $(A){var M=_(A,"origin",Object);return M.x=_(M,"x",Number),M.y=_(M,"y",Number),M}function V(A){A.width=document.documentElement.clientWidth,A.height=document.documentElement.clientHeight}function W(A){var M=A.getBoundingClientRect();A.width=M.width,A.height=M.height}function F(A){var M=document.createElement("canvas");return M.style.position="fixed",M.style.top="0px",M.style.left="0px",M.style.pointerEvents="none",M.style.zIndex=A,M}function Y(A,M,X,B,Ee,De,Te,xe,Pe){A.save(),A.translate(M,X),A.rotate(De),A.scale(B,Ee),A.arc(0,0,1,Te,xe,Pe),A.restore()}function H(A){var M=A.angle*(Math.PI/180),X=A.spread*(Math.PI/180);return{x:A.x,y:A.y,wobble:Math.random()*10,wobbleSpeed:Math.min(.11,Math.random()*.1+.05),velocity:A.startVelocity*.5+Math.random()*A.startVelocity,angle2D:-M+(.5*X-Math.random()*X),tiltAngle:(Math.random()*(.75-.25)+.25)*Math.PI,color:A.color,shape:A.shape,tick:0,totalTicks:A.ticks,decay:A.decay,drift:A.drift,random:Math.random()+2,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:A.gravity*3,ovalScalar:.6,scalar:A.scalar,flat:A.flat}}function ee(A,M){M.x+=Math.cos(M.angle2D)*M.velocity+M.drift,M.y+=Math.sin(M.angle2D)*M.velocity+M.gravity,M.velocity*=M.decay,M.flat?(M.wobble=0,M.wobbleX=M.x+10*M.scalar,M.wobbleY=M.y+10*M.scalar,M.tiltSin=0,M.tiltCos=0,M.random=1):(M.wobble+=M.wobbleSpeed,M.wobbleX=M.x+10*M.scalar*Math.cos(M.wobble),M.wobbleY=M.y+10*M.scalar*Math.sin(M.wobble),M.tiltAngle+=.1,M.tiltSin=Math.sin(M.tiltAngle),M.tiltCos=Math.cos(M.tiltAngle),M.random=Math.random()+2);var X=M.tick++/M.totalTicks,B=M.x+M.random*M.tiltCos,Ee=M.y+M.random*M.tiltSin,De=M.wobbleX+M.random*M.tiltCos,Te=M.wobbleY+M.random*M.tiltSin;if(A.fillStyle="rgba("+M.color.r+", "+M.color.g+", "+M.color.b+", "+(1-X)+")",A.beginPath(),l&&M.shape.type==="path"&&typeof M.shape.path=="string"&&Array.isArray(M.shape.matrix))A.fill(Se(M.shape.path,M.shape.matrix,M.x,M.y,Math.abs(De-B)*.1,Math.abs(Te-Ee)*.1,Math.PI/10*M.wobble));else if(M.shape.type==="bitmap"){var xe=Math.PI/10*M.wobble,Pe=Math.abs(De-B)*.1,Ue=Math.abs(Te-Ee)*.1,Ce=M.shape.bitmap.width*M.scalar,et=M.shape.bitmap.height*M.scalar,Ve=new DOMMatrix([Math.cos(xe)*Pe,Math.sin(xe)*Pe,-Math.sin(xe)*Ue,Math.cos(xe)*Ue,M.x,M.y]);Ve.multiplySelf(new DOMMatrix(M.shape.matrix));var _t=A.createPattern(p.transform(M.shape.bitmap),"no-repeat");_t.setTransform(Ve),A.globalAlpha=1-X,A.fillStyle=_t,A.fillRect(M.x-Ce/2,M.y-et/2,Ce,et),A.globalAlpha=1}else if(M.shape==="circle")A.ellipse?A.ellipse(M.x,M.y,Math.abs(De-B)*M.ovalScalar,Math.abs(Te-Ee)*M.ovalScalar,Math.PI/10*M.wobble,0,2*Math.PI):Y(A,M.x,M.y,Math.abs(De-B)*M.ovalScalar,Math.abs(Te-Ee)*M.ovalScalar,Math.PI/10*M.wobble,0,2*Math.PI);else if(M.shape==="star")for(var yt=Math.PI/2*3,$t=4*M.scalar,dn=8*M.scalar,ln=M.x,zn=M.y,yn=5,fn=Math.PI/yn;yn--;)ln=M.x+Math.cos(yt)*dn,zn=M.y+Math.sin(yt)*dn,A.lineTo(ln,zn),yt+=fn,ln=M.x+Math.cos(yt)*$t,zn=M.y+Math.sin(yt)*$t,A.lineTo(ln,zn),yt+=fn;else A.moveTo(Math.floor(M.x),Math.floor(M.y)),A.lineTo(Math.floor(M.wobbleX),Math.floor(Ee)),A.lineTo(Math.floor(De),Math.floor(Te)),A.lineTo(Math.floor(B),Math.floor(M.wobbleY));return A.closePath(),A.fill(),M.tick<M.totalTicks}function ve(A,M,X,B,Ee){var De=M.slice(),Te=A.getContext("2d"),xe,Pe,Ue=f(function(Ce){function et(){xe=Pe=null,Te.clearRect(0,0,B.width,B.height),p.clear(),Ee(),Ce()}function Ve(){r&&!(B.width===s.width&&B.height===s.height)&&(B.width=A.width=s.width,B.height=A.height=s.height),!B.width&&!B.height&&(X(A),B.width=A.width,B.height=A.height),Te.clearRect(0,0,B.width,B.height),De=De.filter(function(_t){return ee(Te,_t)}),De.length?xe=m.frame(Ve):et()}xe=m.frame(Ve),Pe=et});return{addFettis:function(Ce){return De=De.concat(Ce),Ue},canvas:A,promise:Ue,reset:function(){xe&&m.cancel(xe),Pe&&Pe()}}}function ae(A,M){var X=!A,B=!!_(M||{},"resize"),Ee=!1,De=_(M,"disableForReducedMotion",Boolean),Te=o&&!!_(M||{},"useWorker"),xe=Te?x():null,Pe=X?V:W,Ue=A&&xe?!!A.__confetti_initialized:!1,Ce=typeof matchMedia=="function"&&matchMedia("(prefers-reduced-motion)").matches,et;function Ve(yt,$t,dn){for(var ln=_(yt,"particleCount",P),zn=_(yt,"angle",Number),yn=_(yt,"spread",Number),fn=_(yt,"startVelocity",Number),Pn=_(yt,"decay",Number),ds=_(yt,"gravity",Number),Cr=_(yt,"drift",Number),hn=_(yt,"colors",L),Yr=_(yt,"ticks",Number),_e=_(yt,"shapes"),Fe=_(yt,"scalar"),re=!!_(yt,"flat"),$e=$(yt),dt=ln,Tt=[],rn=A.width*$e.x,Kt=A.height*$e.y;dt--;)Tt.push(H({x:rn,y:Kt,angle:zn,spread:yn,startVelocity:fn,color:hn[dt%hn.length],shape:_e[T(0,_e.length)],ticks:Yr,decay:Pn,gravity:ds,drift:Cr,scalar:Fe,flat:re}));return et?et.addFettis(Tt):(et=ve(A,Tt,Pe,$t,dn),et.promise)}function _t(yt){var $t=De||_(yt,"disableForReducedMotion",Boolean),dn=_(yt,"zIndex",Number);if($t&&Ce)return f(function(fn){fn()});X&&et?A=et.canvas:X&&!A&&(A=F(dn),document.body.appendChild(A)),B&&!Ue&&Pe(A);var ln={width:A.width,height:A.height};xe&&!Ue&&xe.init(A),Ue=!0,xe&&(A.__confetti_initialized=!0);function zn(){if(xe){var fn={getBoundingClientRect:function(){if(!X)return A.getBoundingClientRect()}};Pe(fn),xe.postMessage({resize:{width:fn.width,height:fn.height}});return}ln.width=ln.height=null}function yn(){et=null,B&&(Ee=!1,t.removeEventListener("resize",zn)),X&&A&&(document.body.contains(A)&&document.body.removeChild(A),A=null,Ue=!1)}return B&&!Ee&&(Ee=!0,t.addEventListener("resize",zn,!1)),xe?xe.fire(yt,ln,yn):Ve(yt,ln,yn)}return _t.reset=function(){xe&&xe.reset(),et&&et.reset()},_t}var he;function ge(){return he||(he=ae(null,{useWorker:!0,resize:!0})),he}function Se(A,M,X,B,Ee,De,Te){var xe=new Path2D(A),Pe=new Path2D;Pe.addPath(xe,new DOMMatrix(M));var Ue=new Path2D;return Ue.addPath(Pe,new DOMMatrix([Math.cos(Te)*Ee,Math.sin(Te)*Ee,-Math.sin(Te)*De,Math.cos(Te)*De,X,B])),Ue}function K(A){if(!l)throw new Error("path confetti are not supported in this browser");var M,X;typeof A=="string"?M=A:(M=A.path,X=A.matrix);var B=new Path2D(M),Ee=document.createElement("canvas"),De=Ee.getContext("2d");if(!X){for(var Te=1e3,xe=Te,Pe=Te,Ue=0,Ce=0,et,Ve,_t=0;_t<Te;_t+=2)for(var yt=0;yt<Te;yt+=2)De.isPointInPath(B,_t,yt,"nonzero")&&(xe=Math.min(xe,_t),Pe=Math.min(Pe,yt),Ue=Math.max(Ue,_t),Ce=Math.max(Ce,yt));et=Ue-xe,Ve=Ce-Pe;var $t=10,dn=Math.min($t/et,$t/Ve);X=[dn,0,0,dn,-Math.round(et/2+xe)*dn,-Math.round(Ve/2+Pe)*dn]}return{type:"path",path:M,matrix:X}}function fe(A){var M,X=1,B="#000000",Ee='"Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji", "EmojiOne Color", "Android Emoji", "Twemoji Mozilla", "system emoji", sans-serif';typeof A=="string"?M=A:(M=A.text,X="scalar"in A?A.scalar:X,Ee="fontFamily"in A?A.fontFamily:Ee,B="color"in A?A.color:B);var De=10*X,Te=""+De+"px "+Ee,xe=new OffscreenCanvas(De,De),Pe=xe.getContext("2d");Pe.font=Te;var Ue=Pe.measureText(M),Ce=Math.ceil(Ue.actualBoundingBoxRight+Ue.actualBoundingBoxLeft),et=Math.ceil(Ue.actualBoundingBoxAscent+Ue.actualBoundingBoxDescent),Ve=2,_t=Ue.actualBoundingBoxLeft+Ve,yt=Ue.actualBoundingBoxAscent+Ve;Ce+=Ve+Ve,et+=Ve+Ve,xe=new OffscreenCanvas(Ce,et),Pe=xe.getContext("2d"),Pe.font=Te,Pe.fillStyle=B,Pe.fillText(M,_t,yt);var $t=1/X;return{type:"bitmap",bitmap:xe.transferToImageBitmap(),matrix:[$t,0,0,$t,-Ce*$t/2,-et*$t/2]}}n.exports=function(){return ge().apply(this,arguments)},n.exports.reset=function(){ge().reset()},n.exports.create=ae,n.exports.shapeFromPath=K,n.exports.shapeFromText=fe})((function(){return typeof window<"u"?window:typeof self<"u"?self:this||{}})(),Y1,!1);const Mx=Y1.exports;Y1.exports.create;const $h=({title:e="AI is thinking...",message:t="Processing your request with neural precision"})=>i.jsxs("div",{className:"flex flex-col items-center justify-center p-12 min-h-[400px] text-center space-y-8 bg-white/40 backdrop-blur-xl rounded-[3rem] border-2 border-white/60 shadow-3xl overflow-hidden relative",children:[i.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-indigo-500/5 via-purple-500/5 to-pink-500/5"}),i.jsx(wt.div,{animate:{scale:[1,1.2,1],opacity:[.3,.6,.3],x:[0,20,0],y:[0,-20,0]},transition:{duration:4,repeat:1/0,ease:"easeInOut"},className:"absolute top-10 left-10 w-32 h-32 bg-indigo-500/10 rounded-full blur-3xl"}),i.jsx(wt.div,{animate:{scale:[1.2,1,1.2],opacity:[.3,.6,.3],x:[0,-20,0],y:[0,20,0]},transition:{duration:5,repeat:1/0,ease:"easeInOut"},className:"absolute bottom-10 right-10 w-40 h-40 bg-purple-500/10 rounded-full blur-3xl"}),i.jsxs("div",{className:"relative",children:[i.jsxs("div",{className:"w-24 h-24 rounded-3xl bg-slate-900 flex items-center justify-center shadow-2xl relative z-10",children:[i.jsx(wt.div,{animate:{rotate:360,scale:[1,1.1,1]},transition:{rotate:{duration:8,repeat:1/0,ease:"linear"},scale:{duration:2,repeat:1/0,ease:"easeInOut"}},children:i.jsx(Kn,{className:"w-12 h-12 text-indigo-400"})}),i.jsx(wt.div,{animate:{scale:[1,1.5],opacity:[.5,0]},transition:{duration:2,repeat:1/0},className:"absolute inset-0 rounded-3xl border-2 border-indigo-500/50"}),i.jsx(wt.div,{animate:{scale:[1,1.8],opacity:[.3,0]},transition:{duration:2,repeat:1/0,delay:.5},className:"absolute inset-0 rounded-3xl border-2 border-purple-500/30"})]}),i.jsx(wt.div,{animate:{opacity:[0,1,0],scale:[.5,1,.5],rotate:[0,90,180]},transition:{duration:3,repeat:1/0},className:"absolute -top-4 -right-4 p-2 rounded-xl bg-white shadow-lg text-amber-500",children:i.jsx(Ft,{className:"w-4 h-4"})})]}),i.jsxs("div",{className:"relative z-10 space-y-4 max-w-sm",children:[i.jsx("h3",{className:"text-3xl font-black text-slate-900 tracking-tighter uppercase italic",children:e}),i.jsx("p",{className:"text-slate-500 font-bold leading-relaxed",children:t})]}),i.jsx("div",{className:"relative z-10 flex gap-4 pt-4",children:[En,qa,Kn].map((n,r)=>i.jsx(wt.div,{animate:{y:[0,-10,0],opacity:[.4,1,.4]},transition:{duration:2,repeat:1/0,delay:r*.4},className:"p-3 rounded-2xl bg-white/50 border border-white shadow-sm",children:i.jsx(n,{className:"w-5 h-5 text-indigo-600"})},r))}),i.jsx("div",{className:"absolute bottom-0 left-0 w-full h-1.5 bg-slate-100 overflow-hidden",children:i.jsx(wt.div,{animate:{x:["-100%","100%"]},transition:{duration:3,repeat:1/0,ease:"easeInOut"},className:"w-1/2 h-full bg-gradient-to-r from-transparent via-indigo-600 to-transparent shadow-[0_0_15px_rgba(79,70,229,0.5)]"})})]});function FZ({modules:e,materials:t}){const[n,r]=b.useState("text"),[s,o]=b.useState(""),[l,u]=b.useState(""),[d,f]=b.useState("medium"),[p,m]=b.useState("5"),[x,v]=b.useState(!1),[S,N]=b.useState(null),[_,P]=b.useState(0),[T,I]=b.useState(null),[L,z]=b.useState(!1),[$,V]=b.useState(0),[W,F]=b.useState(!1),Y=cs(),H=Ws({mutationFn:ge=>ke.entities.Quiz.create(ge),onSuccess:()=>Y.invalidateQueries({queryKey:["quizzes"]})}),ee=async()=>{v(!0);const ge=Date.now();try{let Se=s;if(n==="material"&&l){const B=t==null?void 0:t.find(Ee=>Ee.id===l);if(Se=(B==null?void 0:B.content)||(B==null?void 0:B.summary)||"",!Se){at.error("Selected material has no content"),v(!1);return}}if(!Se||Se.trim().length<10){at.error("Please provide more content to generate a quiz"),v(!1);return}console.log("Starting quiz generation with content length:",Se.length);const K=`You are a quiz generator. Create exactly ${p} multiple-choice questions at ${d} difficulty level.

IMPORTANT: Base ALL questions ONLY on the following content. Do NOT use external knowledge.

Content:
${Se}

Requirements:
- Generate EXACTLY ${p} questions
- Each question must have EXACTLY 4 options
- Questions must test understanding of the provided content
- The correct_answer must be a number (0, 1, 2, or 3) indicating the index of the correct option
- Include a brief explanation for each answer`;console.log("Calling InvokeLLM...");const fe=await ke.integrations.Core.InvokeLLM({prompt:K,response_json_schema:{type:"object",properties:{questions:{type:"array",items:{type:"object",properties:{question:{type:"string"},options:{type:"array",items:{type:"string"},minItems:4,maxItems:4},correct_answer:{type:"number",minimum:0,maximum:3},explanation:{type:"string"}},required:["question","options","correct_answer","explanation"]},minItems:parseInt(p)}},required:["questions"]}});console.log("Quiz response received:",JSON.stringify(fe,null,2));let A=[],M=fe;if(typeof fe=="string"&&(fe.trim().startsWith("{")||fe.trim().startsWith("[")))try{const B=fe.replace(/```json\n?|```/g,"").trim();M=JSON.parse(B)}catch{console.warn("Manual JSON parse failed in QuizGenerator, using raw response")}if(Array.isArray(M))A=M;else if(M!=null&&M.questions&&Array.isArray(M.questions))A=M.questions;else throw new Error("Invalid AI response format. The AI might be having trouble formatting the quiz structure. Please try again with less content or a different difficulty.");if(A.length===0){at.error("The AI couldn't generate any valid questions from the provided content."),v(!1);return}const X=A.filter(B=>B.question&&B.options&&Array.isArray(B.options)&&B.options.length===4&&typeof B.correct_answer=="number"&&B.correct_answer>=0&&B.correct_answer<=3);if(X.length===0){at.error("Invalid quiz format. Please try again."),v(!1);return}N(X),at.success(`Generated ${X.length} questions!`),P(0),I(null),z(!1),V(0),F(!1),window.quizStartTime=ge}catch(Se){console.error("Quiz generation error:",Se),at.error((Se==null?void 0:Se.message)||"Failed to generate quiz. Check console for details.")}finally{v(!1)}},ve=()=>{if(T===null)return;T===S[_].correct_answer&&V(Se=>Se+1),z(!0)},ae=async()=>{if(_<S.length-1)P(ge=>ge+1),I(null),z(!1);else{F(!0);const ge=Math.round($/S.length*100);ge>=70&&Mx({particleCount:150,spread:70,origin:{y:.6},colors:["#8B5CF6","#EC4899","#3B82F6"]});const Se=window.quizStartTime?Math.round((Date.now()-window.quizStartTime)/6e4):5;H.mutate({title:`Quiz - ${new Date().toLocaleDateString()}`,questions:S,difficulty:d,best_score:ge,attempts:1,last_attempted:new Date().toISOString()});try{const K=n==="material"&&l?t==null?void 0:t.find(fe=>fe.id===l):null;await ke.entities.LearningActivity.create({activity_type:"quiz",material_id:K==null?void 0:K.id,module_id:K==null?void 0:K.module_id,topic:(K==null?void 0:K.title)||"Custom quiz",performance_score:ge,time_spent_minutes:Se,difficulty_level:d,completed:!0})}catch(K){console.warn("Failed to log learning activity:",K)}try{ke.functions.invoke("checkAchievements",{})}catch{}}},he=()=>{N(null),P(0),I(null),z(!1),V(0),F(!1)};if(x)return i.jsx(wt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:i.jsx($h,{title:"Neural Architecting",message:`Constructing ${p} tailored questions from your ${n==="text"?"custom notes":"study materials"}. Precision evaluation in progress...`})});if(W){const ge=Math.round($/S.length*100),Se=ge>=90,K=ge>=70;return i.jsxs(wt.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"relative overflow-hidden",children:[i.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-violet-500/10 via-purple-500/10 to-pink-500/10"}),i.jsxs("div",{className:"relative bg-white/80 backdrop-blur-xl rounded-3xl border-2 border-violet-200/60 p-10 text-center shadow-2xl shadow-violet-500/20",children:[i.jsx("div",{className:"absolute top-0 left-1/2 -translate-x-1/2 -translate-y-1/2",children:i.jsx(wt.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.2,type:"spring"},className:Ne("w-24 h-24 rounded-full flex items-center justify-center shadow-xl",Se?"bg-gradient-to-br from-emerald-400 to-teal-500":K?"bg-gradient-to-br from-blue-400 to-indigo-500":"bg-gradient-to-br from-amber-400 to-orange-500"),children:i.jsx(Xu,{className:"w-12 h-12 text-white"})})}),i.jsxs("div",{className:"mt-8 mb-6",children:[i.jsx("h2",{className:"text-3xl font-bold bg-gradient-to-r from-violet-600 to-purple-600 bg-clip-text text-transparent mb-3",children:Se?"Outstanding! ":K?"Great Job! ":"Keep Learning! "}),i.jsxs("p",{className:"text-slate-600 text-lg",children:["You scored ",i.jsx("span",{className:"font-bold text-slate-900",children:$})," out of ",i.jsx("span",{className:"font-bold text-slate-900",children:S.length})," questions"]})]}),i.jsxs(wt.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.4},className:"relative mb-8",children:[i.jsx("div",{className:"text-7xl font-black mb-2",children:i.jsxs("span",{className:Ne("bg-gradient-to-br bg-clip-text text-transparent",Se?"from-emerald-500 to-teal-600":K?"from-blue-500 to-indigo-600":"from-amber-500 to-orange-600"),children:[ge,"%"]})}),i.jsx("div",{className:"flex justify-center gap-1",children:[...Array(5)].map((fe,A)=>i.jsx(wt.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.5+A*.1},className:Ne("w-3 h-3 rounded-full transition-all",A<Math.floor(ge/20)?Se?"bg-emerald-500 scale-125 shadow-lg shadow-emerald-500/50":K?"bg-blue-500 scale-110":"bg-amber-500":"bg-slate-200")},A))})]}),i.jsx("div",{className:"flex justify-center gap-3",children:i.jsxs(Oe,{onClick:he,size:"lg",className:"bg-gradient-to-r from-violet-600 to-purple-600 hover:from-violet-700 hover:to-purple-700 shadow-lg shadow-violet-500/30 font-bold px-8 py-6 rounded-2xl transition-all hover:scale-105 active:scale-95",children:[i.jsx(BC,{className:"w-5 h-5 mr-2"}),"New Quiz"]})})]})]})}if(S){const ge=S[_];return i.jsxs("div",{className:"relative overflow-hidden",children:[i.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-violet-500/5 via-purple-500/5 to-blue-500/5"}),i.jsx(Yi,{mode:"wait",children:i.jsxs(wt.div,{initial:{x:20,opacity:0},animate:{x:0,opacity:1},exit:{x:-20,opacity:0},transition:{duration:.3},className:"relative bg-white/90 backdrop-blur-sm rounded-3xl border-2 border-violet-200/60 shadow-xl shadow-violet-500/10",children:[i.jsxs("div",{className:"bg-gradient-to-r from-violet-600 to-purple-600 p-6 rounded-t-[1.4rem]",children:[i.jsxs("div",{className:"flex items-center justify-between text-white",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-10 h-10 rounded-xl bg-white/20 backdrop-blur-sm flex items-center justify-center",children:i.jsx("span",{className:"text-lg font-bold",children:_+1})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-violet-200 uppercase tracking-wider font-bold",children:"Progress"}),i.jsxs("p",{className:"font-semibold text-sm",children:[_+1," of ",S.length]})]})]}),i.jsxs("div",{className:"text-right",children:[i.jsx("p",{className:"text-xs text-violet-200 uppercase tracking-wider font-bold",children:"Current Score"}),i.jsxs("p",{className:"text-xl font-bold",children:[$," ",i.jsxs("span",{className:"opacity-50",children:["/ ",_+(L?1:0)]})]})]})]}),i.jsx("div",{className:"relative h-2 mt-4 bg-white/20 rounded-full overflow-hidden",children:i.jsx(wt.div,{initial:{width:0},animate:{width:`${(_+1)/S.length*100}%`},className:"absolute inset-x-0 top-0 h-full bg-white shadow-[0_0_10px_rgba(255,255,255,0.5)]"})})]}),i.jsxs("div",{className:"p-8",children:[i.jsx("div",{className:"text-xl font-bold text-slate-900 mb-8 leading-relaxed",children:i.jsx(Qo,{components:{p:({children:Se})=>i.jsx("p",{className:"mb-2",children:Se}),strong:({children:Se})=>i.jsx("strong",{className:"font-bold bg-gradient-to-r from-violet-600 to-purple-600 bg-clip-text text-transparent",children:Se}),code:({children:Se})=>i.jsx("code",{className:"bg-violet-100 text-violet-700 px-2 py-1 rounded-lg text-sm font-mono",children:Se})},children:ge.question})}),i.jsx("div",{className:"space-y-4",children:ge.options.map((Se,K)=>{const fe=K===ge.correct_answer,A=T===K;return i.jsxs(wt.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:K*.1},onClick:()=>!L&&I(K),className:Ne("group relative flex items-center gap-4 p-5 rounded-2xl border-2 cursor-pointer transition-all duration-300 overflow-hidden",L&&fe&&"border-emerald-400 bg-gradient-to-r from-emerald-50 to-teal-50 shadow-lg shadow-emerald-500/20",L&&A&&!fe&&"border-red-400 bg-gradient-to-r from-red-50 to-rose-50 shadow-lg shadow-red-500/20",!L&&A&&"border-violet-400 bg-gradient-to-r from-violet-50 to-purple-50 shadow-lg shadow-violet-500/20 scale-[1.02]",!L&&!A&&"border-slate-200 hover:border-violet-300 hover:bg-violet-50/30 hover:shadow-md"),children:[i.jsx("div",{className:Ne("relative w-7 h-7 rounded-xl border-2 flex items-center justify-center transition-all font-bold text-xs shrink-0",A?"border-violet-600 bg-violet-600 text-white":"border-slate-200 bg-slate-50 text-slate-400 group-hover:border-violet-300 group-hover:text-violet-500"),children:String.fromCharCode(65+K)}),i.jsx("div",{className:"flex-1 relative",children:i.jsx(Qo,{components:{p:({children:M})=>i.jsx("span",{className:"text-slate-800 font-semibold",children:M})},children:Se})}),L&&fe&&i.jsx("div",{className:"flex items-center gap-2",children:i.jsx(Us,{className:"w-6 h-6 text-emerald-600 shrink-0 animate-in zoom-in duration-500"})}),L&&A&&!fe&&i.jsx("div",{className:"flex items-center gap-2",children:i.jsx(RC,{className:"w-6 h-6 text-red-600 shrink-0 animate-in zoom-in duration-500"})})]},`${_}-${K}`)})}),i.jsx(Yi,{children:L&&i.jsxs(wt.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"mt-6 p-6 rounded-2xl bg-gradient-to-br from-blue-50 to-indigo-50 border-2 border-blue-200/60 shadow-inner",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[i.jsx("div",{className:"w-8 h-8 rounded-lg bg-blue-600 flex items-center justify-center",children:i.jsx(Ft,{className:"w-4 h-4 text-white"})}),i.jsx("p",{className:"font-bold text-blue-900",children:"Why this answer?"})]}),i.jsx("div",{className:"text-slate-700 leading-relaxed text-sm",children:i.jsx(Qo,{children:ge.explanation})})]})}),i.jsx("div",{className:"flex justify-end mt-8 pt-6 border-t-2 border-slate-100",children:L?i.jsxs(Oe,{onClick:ae,size:"lg",className:"bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 shadow-xl shadow-blue-500/30 px-10 py-7 rounded-2xl font-bold transition-all hover:scale-105 active:scale-95",children:[_<S.length-1?"Next Question":"See Results",i.jsx(Hi,{className:"w-5 h-5 ml-2"})]}):i.jsxs(Oe,{onClick:ve,disabled:T===null,size:"lg",className:"bg-gradient-to-r from-violet-600 to-purple-600 hover:from-violet-700 hover:to-purple-700 shadow-xl shadow-violet-500/30 px-10 py-7 rounded-2xl font-bold transition-all hover:scale-105 active:scale-95 disabled:opacity-50 disabled:scale-100",children:[i.jsx(Ft,{className:"w-5 h-5 mr-2"}),"Check Answer"]})})]})]},_)})]})}return i.jsxs("div",{className:"relative overflow-hidden",children:[i.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-violet-500/5 via-purple-500/5 to-pink-500/5"}),i.jsxs("div",{className:"relative bg-white/80 backdrop-blur-sm rounded-3xl border-2 border-violet-200/60 shadow-xl shadow-violet-500/10 p-8",children:[i.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4 mb-8",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("div",{className:"w-14 h-14 rounded-2xl bg-gradient-to-br from-violet-500 to-purple-600 flex items-center justify-center shadow-xl shadow-violet-500/30",children:i.jsx(Kn,{className:"w-8 h-8 text-white"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-bold text-2xl bg-gradient-to-r from-violet-600 to-purple-600 bg-clip-text text-transparent",children:"Quiz Generator"}),i.jsx("p",{className:"text-slate-500",children:"Master your subjects with active recall"})]})]}),i.jsxs("div",{className:"flex items-center gap-2 bg-violet-50 border border-violet-100 px-4 py-2 rounded-xl",children:[i.jsx(Ft,{className:"w-4 h-4 text-violet-500"}),i.jsx("span",{className:"text-xs font-bold text-violet-700 uppercase tracking-wider",children:"AI Powered"})]})]}),i.jsxs("div",{className:"space-y-6",children:[i.jsx("div",{className:"grid md:grid-cols-2 gap-6",children:i.jsxs("div",{className:"space-y-2",children:[i.jsx(kt,{className:"text-slate-700 font-bold ml-1",children:"Source Content"}),i.jsxs(hr,{value:n,onValueChange:r,children:[i.jsx(rr,{className:"h-12 rounded-xl border-slate-200 bg-white",children:i.jsx(pr,{})}),i.jsxs(sr,{children:[i.jsx(Vt,{value:"text",children:" Custom Text"}),i.jsx(Vt,{value:"material",children:" From My Materials"})]})]})]})}),n==="text"?i.jsxs(wt.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"space-y-2",children:[i.jsx(kt,{className:"text-slate-700 font-bold ml-1",children:"Study Content"}),i.jsx(ea,{value:s,onChange:ge=>o(ge.target.value),placeholder:"Paste your study notes, lecture content, or any text you want to be quizzed on...",rows:8,className:"rounded-2xl border-slate-200 bg-white focus:ring-violet-500 transition-all text-base leading-relaxed"})]}):i.jsxs(wt.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"space-y-2",children:[i.jsx(kt,{className:"text-slate-700 font-bold ml-1",children:"Select Study Material"}),i.jsxs(hr,{value:l,onValueChange:u,children:[i.jsx(rr,{className:"h-12 rounded-xl border-slate-200 bg-white",children:i.jsx(pr,{placeholder:"Choose a material from your library"})}),i.jsxs(sr,{children:[t==null?void 0:t.map(ge=>i.jsx(Vt,{value:ge.id,children:i.jsx("div",{className:"flex items-center gap-2",children:ge.title})},ge.id)),(!t||t.length===0)&&i.jsx("div",{className:"p-4 text-center text-sm text-slate-500",children:"No materials yet. Upload some first!"})]})]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(kt,{className:"text-slate-700 font-bold ml-1",children:"Difficulty"}),i.jsxs(hr,{value:d,onValueChange:f,children:[i.jsx(rr,{className:"h-12 rounded-xl border-slate-200 bg-white",children:i.jsx(pr,{})}),i.jsxs(sr,{children:[i.jsx(Vt,{value:"easy",children:" Easy"}),i.jsx(Vt,{value:"medium",children:" Medium"}),i.jsx(Vt,{value:"hard",children:" Hard"})]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(kt,{className:"text-slate-700 font-bold ml-1",children:"Questions"}),i.jsxs(hr,{value:p,onValueChange:m,children:[i.jsx(rr,{className:"h-12 rounded-xl border-slate-200 bg-white",children:i.jsx(pr,{})}),i.jsxs(sr,{children:[i.jsx(Vt,{value:"5",children:"05 Questions"}),i.jsx(Vt,{value:"10",children:"10 Questions"}),i.jsx(Vt,{value:"15",children:"15 Questions"})]})]})]})]}),i.jsxs("div",{className:"bg-blue-50/50 border border-blue-100 rounded-2xl p-4 flex items-start gap-3",children:[i.jsx(Jo,{className:"w-5 h-5 text-blue-500 shrink-0 mt-0.5"}),i.jsxs("p",{className:"text-xs text-blue-700 leading-relaxed",children:[i.jsx("strong",{children:"Tip:"})," The more content you provide, the better the quality of the questions generated. Try to include key definitions and concepts!"]})]}),i.jsx(Oe,{onClick:ee,disabled:x||(n==="text"?!s:!l),size:"lg",className:"w-full h-16 bg-gradient-to-r from-violet-600 via-purple-600 to-pink-600 hover:from-violet-700 hover:via-purple-700 hover:to-pink-700 shadow-2xl shadow-violet-500/40 text-white font-bold text-lg rounded-2xl transition-all hover:scale-[1.01] active:scale-[0.99] disabled:opacity-50",children:x?i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(jn,{className:"w-6 h-6 animate-spin"}),i.jsx("span",{children:"Crafting Your Personalized Quiz..."})]}):i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(Ft,{className:"w-6 h-6"}),i.jsx("span",{children:"Generate Quiz"})]})})]})]})]})}const Q1=({content:e,type:t="auto",title:n=null})=>{var p,m,x;const[r,s]=b.useState(!1);if(!e)return null;const o=()=>{const v=typeof e=="object"?JSON.stringify(e,null,2):e;navigator.clipboard.writeText(v),s(!0),setTimeout(()=>s(!1),2e3)};let l=null,u=!1;if(typeof e=="string"&&(e.trim().startsWith("{")||e.trim().startsWith("[")))try{l=JSON.parse(e),u=!0}catch{}else typeof e=="object"&&(l=e,u=!0);const d=({children:v})=>i.jsxs("div",{className:"relative animate-in fade-in duration-500",children:[i.jsxs("div",{className:"flex items-center justify-between mb-6 pb-4 border-b-2 border-blue-100/50",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-8 h-8 rounded-lg bg-blue-600 flex items-center justify-center shadow-lg shadow-blue-500/20",children:i.jsx(Ft,{className:"w-4 h-4 text-white"})}),i.jsx("h3",{className:"font-bold text-lg text-slate-900 tracking-tight",children:n||"AI Insight Overview"})]}),i.jsx(Oe,{variant:"ghost",size:"sm",onClick:o,className:"rounded-xl text-blue-600 hover:bg-blue-50 active:scale-95 transition-all",children:r?i.jsxs(i.Fragment,{children:[i.jsx(Ki,{className:"w-4 h-4 mr-2"}),"Copied!"]}):i.jsxs(i.Fragment,{children:[i.jsx(MC,{className:"w-4 h-4 mr-2"}),"Copy"]})})]}),v]});if(!u)return i.jsx(d,{children:i.jsx($Z,{content:e})});if(l.sections&&((x=(m=(p=l.sections[0])==null?void 0:p.notes)==null?void 0:m[0])!=null&&x.cue_column))return i.jsx(d,{children:i.jsx(BZ,{data:l})});if(l.sections)return i.jsx(d,{children:i.jsx(VZ,{data:l})});const f=Array.isArray(l)?l:l.flashcards||l.cards||[];if(Array.isArray(f)&&f.length>0){const v=f[0];if(v.question&&(v.answer||v.details)||v.term&&(v.definition||v.details)||v.front&&v.back)return i.jsx(d,{children:i.jsx(WZ,{data:f})})}return Array.isArray(l)&&l.length>0&&(l[0].cue||l[0].question)?i.jsx(d,{children:i.jsx(zZ,{data:l})}):l.outline||Array.isArray(l)&&l[0].level!==void 0?i.jsx(d,{children:i.jsx(UZ,{data:l.outline||l})}):i.jsx(d,{children:i.jsx(qZ,{data:l})})},$Z=({content:e})=>i.jsx("div",{className:"prose prose-slate max-w-none animate-in fade-in duration-700 pencil-scroll max-h-[80vh] pr-4",children:i.jsx(Qo,{components:{h1:({children:t})=>i.jsx("h1",{className:"text-3xl font-black bg-gradient-to-r from-blue-600 to-indigo-600 bg-clip-text text-transparent mt-8 mb-5 pb-2 border-b-2 border-blue-100",children:t}),h2:({children:t})=>i.jsxs("h2",{className:"text-2xl font-bold text-slate-800 mt-6 mb-4 flex items-center gap-2",children:[i.jsx("div",{className:"w-2 h-8 bg-blue-500 rounded-full shadow-[0_0_10px_rgba(59,130,246,0.5)]"}),t]}),h3:({children:t})=>i.jsxs("h3",{className:"text-xl font-semibold text-slate-900 mt-5 mb-3 flex items-center gap-2",children:[i.jsx("div",{className:"w-1.5 h-6 bg-indigo-400 rounded-full"}),t]}),p:({children:t})=>i.jsx("p",{className:"text-slate-700 mb-4 leading-relaxed text-base font-medium",children:t}),ul:({children:t})=>i.jsx("ul",{className:"pl-6 mb-5 space-y-3",children:t}),li:({children:t})=>i.jsx("li",{className:"text-slate-700 pl-2 relative before:content-[''] before:absolute before:left-[-20px] before:top-[10px] before:w-2 before:h-2 before:bg-blue-500 before:rounded-full shadow-blue-500/20",children:t}),strong:({children:t})=>i.jsx("strong",{className:"font-bold text-slate-900 bg-blue-50 px-1 rounded",children:t}),blockquote:({children:t})=>i.jsx("blockquote",{className:"border-l-4 border-blue-500 bg-gradient-to-r from-blue-50 to-transparent p-6 rounded-r-3xl my-6 italic text-slate-700 shadow-sm",children:i.jsxs("div",{className:"flex gap-2",children:[i.jsx(e3,{className:"w-5 h-5 text-blue-400 shrink-0"}),i.jsx("div",{children:t})]})})},children:e})}),BZ=({data:e})=>i.jsxs("div",{className:"space-y-8 animate-in fade-in slide-in-from-bottom-4 duration-700",children:[e.course_relevance&&i.jsxs(wt.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"p-5 bg-amber-50/50 border-2 border-amber-100 rounded-3xl flex gap-4 text-amber-900 shadow-sm",children:[i.jsx("div",{className:"w-10 h-10 rounded-2xl bg-amber-100 flex items-center justify-center shrink-0",children:i.jsx(qa,{className:"w-5 h-5 text-amber-600"})}),i.jsxs("div",{children:[i.jsx("span",{className:"font-black text-xs uppercase tracking-widest text-amber-600",children:"Relevance Analytics"}),i.jsx("p",{className:"text-sm mt-1 font-medium leading-relaxed",children:e.course_relevance})]})]}),i.jsxs("div",{className:"relative p-8 rounded-[2rem] bg-slate-900 text-white overflow-hidden shadow-2xl",children:[i.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-indigo-500/10 rounded-full blur-3xl -mr-32 -mt-32"}),i.jsxs("div",{className:"relative",children:[i.jsx("h2",{className:"text-3xl font-black tracking-tight mb-1",children:"Cornell Study Sheet"}),i.jsx("p",{className:"text-slate-400 font-medium",children:"Professional Recall Optimization"})]})]}),e.sections.map((t,n)=>i.jsxs("div",{className:"space-y-6",children:[i.jsxs("h3",{className:"text-2xl font-black text-slate-800 flex items-center gap-3 ml-2",children:[i.jsx("div",{className:"w-10 h-10 rounded-2xl bg-indigo-100 flex items-center justify-center text-indigo-600",children:i.jsx($C,{className:"w-5 h-5"})}),t.heading]}),i.jsx("div",{className:"border-2 border-slate-100 rounded-[2.5rem] overflow-hidden shadow-xl bg-white",children:i.jsxs("div",{className:"grid grid-cols-12 gap-0",children:[i.jsx("div",{className:"col-span-4 bg-slate-50/50 p-5 border-b border-r border-slate-100 text-[10px] font-black uppercase tracking-widest text-slate-400",children:"Cues / Recall"}),i.jsx("div",{className:"col-span-8 bg-white p-5 border-b border-slate-100 text-[10px] font-black uppercase tracking-widest text-slate-400",children:"Deep Notes"}),t.notes.map((r,s)=>i.jsxs(jr.Fragment,{children:[i.jsxs("div",{className:"col-span-4 p-6 bg-indigo-50/20 border-r border-b border-slate-50 group hover:bg-indigo-50 transition-colors",children:[i.jsx("p",{className:"font-bold text-indigo-900 leading-tight text-lg mb-2",children:r.cue_column||r.topic}),i.jsxs("div",{className:"inline-flex items-center gap-1.5 px-3 py-1 rounded-full bg-white border border-indigo-100 text-[9px] font-black text-indigo-500 uppercase tracking-tighter",children:[i.jsx(Kn,{className:"w-3 h-3"}),"Self-Test Topic"]})]}),i.jsxs("div",{className:"col-span-8 p-6 bg-white border-b border-slate-50 group-hover:bg-slate-50/30 transition-colors",children:[i.jsx("p",{className:"text-xl font-bold text-slate-900 mb-3 tracking-tight",children:r.topic}),i.jsx("div",{className:"text-slate-600 leading-relaxed font-medium space-y-3",children:i.jsx(Qo,{children:r.details})}),r.summary&&i.jsxs("div",{className:"mt-5 p-4 bg-emerald-50/50 rounded-2xl border border-emerald-100 text-sm text-emerald-800 flex gap-3 shadow-inner",children:[i.jsx(En,{className:"w-5 h-5 text-emerald-500 shrink-0"}),i.jsxs("p",{children:[i.jsx("strong",{className:"font-black uppercase text-[10px] tracking-widest block mb-0.5 opacity-60",children:"Synthesis"}),r.summary]})]})]})]},s))]})})]},n)),i.jsxs("div",{className:"p-10 bg-gradient-to-br from-indigo-700 via-blue-700 to-indigo-800 rounded-[3rem] text-white shadow-3xl shadow-indigo-600/30 relative overflow-hidden",children:[i.jsx("div",{className:"absolute inset-0 bg-[url('https://www.transparenttextures.com/patterns/carbon-fibre.png')] opacity-10"}),i.jsxs("h4",{className:"flex items-center gap-3 font-black text-2xl mb-6 relative",children:[i.jsx("div",{className:"w-12 h-12 rounded-2xl bg-white/20 backdrop-blur-md flex items-center justify-center",children:i.jsx(Ji,{className:"w-6 h-6"})}),"Mastery Summary"]}),i.jsx("div",{className:"prose prose-invert max-w-none text-blue-50 font-medium leading-loose relative",children:i.jsx(Qo,{children:e.final_summary||e.summary||"Synthesize these concepts to achieve mastery."})})]})]}),zZ=({data:e})=>i.jsx("div",{className:"grid md:grid-cols-2 gap-6 animate-in fade-in slide-in-from-bottom-5 duration-700",children:e.map((t,n)=>i.jsxs(wt.div,{whileHover:{y:-5},className:"group p-8 rounded-[2.5rem] bg-white border-2 border-slate-100 shadow-lg hover:shadow-2xl transition-all relative overflow-hidden",children:[i.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-blue-500/5 rounded-full -mr-16 -mt-16 group-hover:bg-blue-500/10 transition-colors"}),i.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[i.jsx("div",{className:"w-12 h-12 rounded-2xl bg-blue-600 flex items-center justify-center text-white shadow-lg shadow-blue-500/20 group-hover:scale-110 transition-transform",children:i.jsx(Ki,{className:"w-6 h-6"})}),i.jsxs(It,{variant:"secondary",className:"rounded-full bg-slate-100 text-slate-500 text-[10px] font-black uppercase",children:["Study Card ",n+1]})]}),i.jsx("h3",{className:"text-xl font-black text-slate-900 mb-4 leading-tight tracking-tight",children:t.cue||t.question||t.title||"Concept"}),i.jsx("div",{className:"text-slate-600 font-medium leading-relaxed border-l-4 border-blue-100 pl-4 py-1",children:i.jsx(Qo,{children:t.notes||t.answer||t.details||t.explanation})})]},n))}),UZ=({data:e})=>i.jsx("div",{className:"p-10 bg-white rounded-[3rem] border-2 border-slate-100 shadow-2xl space-y-6",children:e.map((t,n)=>i.jsx("div",{className:Ne("transition-all duration-300 rounded-3xl p-4",t.level===0?"mb-6":"ml-8 my-2 border-l border-slate-100 pl-6"),children:i.jsxs("div",{className:"flex items-start gap-3",children:[t.level===0?i.jsx("div",{className:"w-8 h-8 rounded-xl bg-indigo-600 flex items-center justify-center text-white shrink-0 shadow-lg shadow-indigo-500/20",children:i.jsx("span",{className:"font-bold text-xs",children:n+1})}):i.jsx(Hi,{className:"w-4 h-4 text-slate-300 mt-1 shrink-0"}),i.jsxs("div",{children:[i.jsx("p",{className:Ne("font-bold text-slate-900 leading-tight",t.level===0?"text-xl font-black tracking-tight":"text-base"),children:t.title||t.topic||t.content}),t.details&&i.jsx("p",{className:"mt-2 text-sm text-slate-500 font-medium leading-relaxed italic",children:t.details})]})]})},n))}),VZ=({data:e})=>i.jsxs("div",{className:"space-y-10 animate-in fade-in duration-700",children:[i.jsxs("div",{className:"flex items-center gap-6 mb-12 ml-4",children:[i.jsx("div",{className:"w-20 h-20 rounded-[2.5rem] bg-gradient-to-br from-blue-100 to-indigo-100 flex items-center justify-center text-blue-600 shadow-inner",children:i.jsx(Hn,{className:"w-10 h-10"})}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-4xl font-black text-slate-900 tracking-tighter leading-none",children:e.title||"Subject Analysis"}),i.jsxs("div",{className:"flex items-center gap-2 mt-3",children:[i.jsx(It,{className:"bg-blue-600 text-white border-none rounded-full px-4 py-1 text-[10px] font-black uppercase tracking-widest shadow-lg shadow-blue-500/20",children:"Advanced Insight"}),i.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-slate-200"}),i.jsx("span",{className:"text-slate-400 text-xs font-bold font-mono",children:"NODE_GEN: ALPHA_SUM"})]})]})]}),i.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8",children:e.sections.map((t,n)=>{var r;return i.jsxs(Nt,{className:"p-8 rounded-[2.5rem] border-slate-100 shadow-xl hover:shadow-2xl transition-all relative group overflow-hidden border-t-8 border-t-indigo-600",children:[i.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-indigo-500 to-blue-500"}),i.jsxs("h3",{className:"font-black text-2xl text-slate-900 mb-6 flex items-center gap-3",children:[i.jsx("div",{className:"w-3 h-3 rounded-full bg-indigo-500 group-hover:scale-150 transition-transform"}),t.heading]}),i.jsx("div",{className:"space-y-6",children:(r=t.notes)==null?void 0:r.map((s,o)=>i.jsxs("div",{className:"group/item",children:[i.jsx("p",{className:"font-black text-slate-800 text-base mb-2 group-hover/item:text-indigo-600 transition-colors tracking-tight leading-tight",children:s.topic||s}),s.details&&i.jsx("div",{className:"text-sm text-slate-500 font-medium leading-relaxed border-l-2 border-slate-100 pl-4 py-1 italic",children:i.jsx(Qo,{children:s.details})})]},o))})]},n)})})]}),WZ=({data:e})=>i.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8 animate-in fade-in duration-700",children:e.map((t,n)=>{const r=t.question||t.term||t.front||"Concept",s=t.answer||t.definition||t.back||t.details||"Details not provided";return i.jsx("div",{className:"group h-64 [perspective:2000px]",children:i.jsxs("div",{className:"relative h-full w-full rounded-[3rem] shadow-2xl transition-all duration-700 [transform-style:preserve-3d] group-hover:[transform:rotateY(180deg)] cursor-pointer",children:[i.jsxs("div",{className:"absolute inset-0 flex flex-col p-10 bg-white border-2 border-slate-100 rounded-[3rem] [backface-visibility:hidden] items-center justify-center text-center",children:[i.jsxs("h4",{className:"absolute top-8 text-[10px] font-black text-blue-600 uppercase tracking-[0.2em]",children:["Neural Link #",n+1]}),i.jsx("p",{className:"text-xl font-black text-slate-900 leading-snug line-clamp-4",children:r}),i.jsxs("div",{className:"absolute bottom-8 flex items-center gap-2 text-[10px] text-slate-300 font-black uppercase tracking-widest animate-pulse",children:[i.jsx(BC,{className:"w-3 h-3"}),"Flip to decode"]})]}),i.jsxs("div",{className:"absolute inset-0 h-full w-full rounded-[3rem] bg-slate-900 p-10 text-white [transform:rotateY(180deg)] [backface-visibility:hidden] flex flex-col items-center justify-center text-center",children:[i.jsx("h4",{className:"absolute top-8 text-[10px] font-black text-emerald-400 uppercase tracking-[0.2em]",children:"Validated Concept"}),i.jsx("div",{className:"overflow-auto pencil-scroll max-h-40 scrollbar-hide py-2",children:i.jsx("p",{className:"text-lg leading-relaxed text-slate-100 font-medium",children:s})}),i.jsxs("div",{className:"mt-6 flex items-center gap-2",children:[i.jsx("div",{className:"w-2 h-2 rounded-full bg-emerald-500 animate-ping"}),i.jsx("span",{className:"text-[10px] font-black text-emerald-500/70 uppercase",children:"Insight Loaded"})]})]})]})},n)})}),qZ=({data:e})=>i.jsxs("div",{className:"p-10 bg-slate-50/50 rounded-[3rem] border-2 border-dashed border-slate-200",children:[i.jsxs("div",{className:"flex items-center gap-4 mb-8 text-slate-400",children:[i.jsx($C,{className:"w-10 h-10"}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-black text-xl text-slate-600 tracking-tight",children:"Structured Analysis Layer"}),i.jsx("p",{className:"text-sm font-medium",children:"Decoding complex JSON architecture..."})]})]}),i.jsx("div",{className:"grid gap-6",children:Object.entries(e).map(([t,n])=>i.jsxs("div",{className:"p-6 bg-white rounded-3xl border border-slate-100 shadow-sm transition-all hover:shadow-md",children:[i.jsx("h4",{className:"text-[10px] font-black text-slate-300 uppercase tracking-[0.3em] mb-3",children:t.replace(/_/g," ")}),i.jsx("div",{className:"text-slate-800 font-bold",children:typeof n=="object"?i.jsx("pre",{className:"text-xs bg-slate-50 p-5 rounded-2xl overflow-auto pencil-scroll max-h-60 border border-slate-100 font-mono text-indigo-600 scrollbar-thin",children:JSON.stringify(n,null,2)}):i.jsx("p",{className:"text-lg leading-relaxed",children:String(n)})})]},t))})]});function HZ({materials:e,onGenerate:t}){const[n,r]=b.useState("text"),[s,o]=b.useState(""),[l,u]=b.useState(""),[d,f]=b.useState("structured"),[p,m]=b.useState(!1),[x,v]=b.useState(""),[S,N]=b.useState(!1),_=async()=>{var $;m(!0);const T=Date.now();let I=s;if(n==="material"&&l){const V=e==null?void 0:e.find(W=>W.id===l);I=(V==null?void 0:V.content)||"Summarize general study concepts"}const L={structured:{type:"object",properties:{title:{type:"string"},sections:{type:"array",items:{type:"object",properties:{heading:{type:"string"},notes:{type:"array",items:{type:"object",properties:{topic:{type:"string"},details:{type:"string"}}}}}}}}},cornell:{type:"object",properties:{course_relevance:{type:"string"},summary:{type:"string"},sections:{type:"array",items:{type:"object",properties:{heading:{type:"string"},notes:{type:"array",items:{type:"object",properties:{topic:{type:"string"},details:{type:"string"},cue_column:{type:"string"},summary:{type:"string"}}}}}}}}},flashcard:{type:"array",items:{type:"object",properties:{question:{type:"string"},answer:{type:"string"}},required:["question","answer"]}},outline:{type:"array",items:{type:"object",properties:{level:{type:"number"},title:{type:"string"},details:{type:"string"}},required:["level","title"]}}},z=`Hey! You're a helpful study buddy! Create awesome ${d} notes from this content:

${I}

${d==="cornell"?"IMPORTANT: Follow the Cornell note-taking method strictly. Provide cues/questions for the left column and detailed notes for the right.":""}

Make the notes:
 Fun and engaging to read
 Well-organized and easy to scan
 Focused on key concepts
 Include memory tricks where helpful
Return only the structured data as valid JSON. Do not include any other text or markdown blocks.`;try{const V=await ke.integrations.Core.InvokeLLM({prompt:z,systemPrompt:"You are a helpful study assistant specializing in note summarization. Always return valid JSON matching the requested schema.",response_json_schema:L[d]||null});let W=V;if(typeof V=="string"&&(V.trim().startsWith("{")||V.trim().startsWith("[")))try{W=JSON.parse(V.replace(/```json\n?|```/g,"").trim())}catch{console.warn("Manual JSON parse failed in NoteSummarizer, using raw response")}v(W),t==null||t(W);const F=Math.round((Date.now()-T)/6e4),Y=n==="material"&&l?e==null?void 0:e.find(H=>H.id===l):null;await ke.entities.LearningActivity.create({activity_type:"summary",material_id:Y==null?void 0:Y.id,module_id:Y==null?void 0:Y.module_id,topic:(Y==null?void 0:Y.title)||"Custom notes",time_spent_minutes:F,completed:!0,notes:`Style: ${d}`}),($=ke==null?void 0:ke.functions)!=null&&$.invoke&&ke.functions.invoke("checkAchievements",{}),Mx({particleCount:100,spread:70,origin:{y:.6},colors:["#3B82F6","#2DD4BF","#10B981"]})}catch(V){console.error("Error generating summary:",V),at.error("Failed to generate summary. The AI might be having trouble formatting the response. Please try again or use a different style.")}finally{m(!1)}},P=()=>{const T=typeof x=="object"?JSON.stringify(x,null,2):x;navigator.clipboard.writeText(T),N(!0),setTimeout(()=>N(!1),2e3)};return p?i.jsx(wt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:i.jsx($h,{title:"Cognitive Synthesis",message:`Deconstructing ${n==="text"?"custom notes":"study materials"} and rebuilding as a ${d} framework. Almost there...`})}):i.jsxs("div",{className:"space-y-8",children:[i.jsxs(wt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"relative overflow-hidden",children:[i.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-500/10 via-cyan-500/5 to-teal-500/10"}),i.jsx("div",{className:"absolute -top-24 -right-24 w-64 h-64 bg-blue-500/10 rounded-full blur-3xl animate-pulse"}),i.jsx("div",{className:"absolute -bottom-24 -left-24 w-64 h-64 bg-teal-500/10 rounded-full blur-3xl animate-pulse"}),i.jsxs("div",{className:"relative bg-white/40 backdrop-blur-xl rounded-[2.5rem] border-2 border-white/60 shadow-2xl shadow-blue-500/10 p-10",children:[i.jsxs("div",{className:"flex items-center gap-5 mb-10",children:[i.jsx("div",{className:"w-16 h-16 rounded-[2rem] bg-gradient-to-br from-blue-600 to-cyan-500 flex items-center justify-center shadow-2xl shadow-blue-500/40 transform -rotate-3 hover:rotate-0 transition-transform duration-500",children:i.jsx(Kn,{className:"w-8 h-8 text-white"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-black text-3xl tracking-tight bg-gradient-to-r from-blue-700 via-cyan-700 to-teal-700 bg-clip-text text-transparent",children:"Neuro-Summarizer"}),i.jsx("p",{className:"text-slate-500 font-medium text-lg",children:"AI-powered cognitive synthesis engine"})]})]}),i.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"space-y-3",children:[i.jsx(kt,{className:"text-sm font-bold uppercase tracking-widest text-slate-400 ml-1",children:"Input Source"}),i.jsxs(hr,{value:n,onValueChange:r,children:[i.jsx(rr,{className:"h-14 rounded-2xl border-slate-200 bg-white/50 focus:ring-blue-500 shadow-sm text-lg px-6 font-medium",children:i.jsx(pr,{})}),i.jsxs(sr,{className:"rounded-2xl",children:[i.jsx(Vt,{value:"text",className:"py-3 px-4",children:"Direct Text Entry"}),i.jsx(Vt,{value:"material",className:"py-3 px-4",children:"Existing Library Material"})]})]})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsx(kt,{className:"text-sm font-bold uppercase tracking-widest text-slate-400 ml-1",children:"Learning Architecture"}),i.jsxs(hr,{value:d,onValueChange:f,children:[i.jsx(rr,{className:"h-14 rounded-2xl border-slate-200 bg-white/50 focus:ring-blue-500 shadow-sm text-lg px-6 font-medium",children:i.jsx(pr,{})}),i.jsxs(sr,{className:"rounded-2xl",children:[i.jsx(Vt,{value:"structured",className:"py-3 px-4",children:"Structured Framework"}),i.jsx(Vt,{value:"cornell",className:"py-3 px-4",children:"Cornell Recall Method"}),i.jsx(Vt,{value:"outline",className:"py-3 px-4",children:"Hierarchical Outline"}),i.jsx(Vt,{value:"flashcard",className:"py-3 px-4",children:"Recall Cards"})]})]})]}),i.jsx(Yi,{mode:"wait",children:n==="material"&&i.jsxs(wt.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},exit:{opacity:0,x:10},className:"space-y-3",children:[i.jsx(kt,{className:"text-sm font-bold uppercase tracking-widest text-slate-400 ml-1",children:"Select Document"}),i.jsxs(hr,{value:l,onValueChange:u,children:[i.jsx(rr,{className:"h-14 rounded-2xl border-slate-200 bg-white/50 focus:ring-blue-500 shadow-sm text-lg px-6 font-medium",children:i.jsx(pr,{placeholder:"Select from library..."})}),i.jsx(sr,{className:"rounded-2xl",children:e==null?void 0:e.map(T=>i.jsx(Vt,{value:T.id,className:"py-3 px-4",children:T.title},T.id))})]})]})})]}),i.jsx("div",{className:"space-y-6",children:i.jsx(Yi,{mode:"wait",children:n==="text"?i.jsxs(wt.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"space-y-3 h-full flex flex-col",children:[i.jsx(kt,{className:"text-sm font-bold uppercase tracking-widest text-slate-400 ml-1",children:"Knowledge Content"}),i.jsx(ea,{value:s,onChange:T=>o(T.target.value),placeholder:"Paste your raw knowledge here... documents, notes, or web extracts.",className:"flex-1 min-h-[16rem] rounded-[2rem] border-slate-200 bg-white/50 focus:ring-blue-500 shadow-inner p-8 text-lg font-medium resize-none leading-relaxed"})]},"text-input"):i.jsx(wt.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"h-full flex items-center justify-center p-10 border-2 border-dashed border-slate-200 rounded-[2.5rem] bg-slate-50/50",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"w-20 h-20 rounded-3xl bg-blue-100 flex items-center justify-center mx-auto mb-4",children:i.jsx(Sr,{className:"w-10 h-10 text-blue-600"})}),i.jsx("p",{className:"text-slate-500 font-bold max-w-[200px]",children:"Material analysis mode active"})]})},"material-preview")})})]}),i.jsx(wt.div,{whileHover:{scale:1.01},whileTap:{scale:.99},className:"mt-10",children:i.jsx(Oe,{onClick:_,disabled:p||(n==="text"?!s:!l),size:"lg",className:"w-full bg-gradient-to-r from-blue-600 via-indigo-600 to-violet-600 hover:from-blue-700 hover:via-indigo-700 hover:to-violet-700 shadow-[0_20px_50px_rgba(37,99,235,0.3)] text-white font-black rounded-[2rem] h-20 text-xl tracking-tight group",children:p?i.jsxs(i.Fragment,{children:[i.jsx(jn,{className:"w-6 h-6 mr-3 animate-spin"}),"Synthesizing Cognitive Model..."]}):i.jsxs(i.Fragment,{children:[i.jsx(Ft,{className:"w-6 h-6 mr-3 group-hover:animate-spin"}),"Initialize Neural Synthesis"]})})})]})]}),i.jsx(Yi,{children:x&&i.jsxs(wt.div,{initial:{opacity:0,y:40},animate:{opacity:1,y:0},exit:{opacity:0,scale:.95},transition:{type:"spring",damping:20},className:"relative",children:[i.jsx("div",{className:"absolute -inset-4 bg-gradient-to-r from-blue-500/10 via-purple-500/10 to-teal-500/10 blur-3xl opacity-50"}),i.jsxs("div",{className:"relative bg-white/60 backdrop-blur-2xl rounded-[3rem] border-2 border-white/60 shadow-3xl shadow-blue-900/10 overflow-hidden",children:[i.jsxs("div",{className:"bg-slate-900 p-8 flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-5",children:[i.jsx("div",{className:"w-14 h-14 rounded-2xl bg-gradient-to-br from-indigo-500 to-blue-600 flex items-center justify-center shadow-lg shadow-indigo-500/30",children:i.jsx(Ji,{className:"w-7 h-7 text-white"})}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-black text-2xl text-white tracking-tight uppercase",children:"Mastery Synthesis Output"}),i.jsxs("div",{className:"flex gap-2 mt-1",children:[i.jsx("div",{className:"h-1.5 w-12 rounded-full bg-blue-500/50"}),i.jsx("div",{className:"h-1.5 w-6 rounded-full bg-indigo-500/50"})]})]})]}),i.jsx("div",{className:"flex gap-3",children:i.jsx(Oe,{variant:"ghost",size:"lg",onClick:P,className:"text-white hover:bg-white/10 rounded-2xl px-6 border border-white/10",children:S?i.jsxs(i.Fragment,{children:[i.jsx(Us,{className:"w-5 h-5 mr-2 text-emerald-400"}),"Copied to Brain"]}):i.jsxs(i.Fragment,{children:[i.jsx(MC,{className:"w-5 h-5 mr-2"}),"Copy Result"]})})})]}),i.jsxs("div",{className:"p-10 lg:p-14",children:[typeof x=="string"&&i.jsxs("div",{className:"mb-8 p-6 bg-amber-50 border-2 border-amber-200 rounded-2xl flex items-start gap-4",children:[i.jsx(Jm,{className:"w-6 h-6 text-amber-600 shrink-0 mt-1"}),i.jsxs("div",{children:[i.jsx("h5",{className:"font-bold text-amber-900 text-lg",children:"Format Limitation Insight"}),i.jsxs("p",{className:"text-amber-700 font-medium",children:["The AI provided a high-quality summary but couldn't fit it into the ",d," template. We're showing you the raw analysis below so you don't miss out!"]})]})]}),i.jsx(Q1,{content:x})]})]})]})})]})}function KZ(){const[e,t]=b.useState(""),[n,r]=b.useState(""),[s,o]=b.useState(!1),[l,u]=b.useState(""),[d,f]=b.useState(""),[p,m]=b.useState([]),x=async()=>{var _;if(!e)return;o(!0),m([]);const S=Date.now(),N=`You're an awesome teacher who makes learning FUN!  Explain "${e}" in a way that's super easy to understand and exciting!

${n?`Context: ${n}`:""}

Follow these steps:
1. ** Simple Explanation**: Explain like you're talking to a friend! Use fun analogies from everyday life (food, games, sports, etc.)
2. ** Key Components**: Break down the main parts - keep it simple and visual!
3. ** Real-World Example**: Show a relatable example that makes it click!
4. ** Why It Matters**: Explain the cool applications and why it's useful
5. ** Common Mistakes**: Clear up typical misunderstandings
6. ** Test Yourself**: End with 2-3 quick check questions

Keep it upbeat, use emojis occasionally, and make learning feel like an adventure! Use Markdown formatting.`;try{const P=await ke.integrations.Core.InvokeLLM({prompt:N,systemPrompt:"You are a world-class teacher specializing in the Feynman Technique."});u(P),m([{role:"user",content:`Explain: ${e}`},{role:"assistant",content:P}]);const T=Math.round((Date.now()-S)/6e4);await ke.entities.LearningActivity.create({activity_type:"deep_dive",topic:e,time_spent_minutes:T,completed:!0,notes:n||""}),(_=ke==null?void 0:ke.functions)!=null&&_.invoke&&ke.functions.invoke("checkAchievements",{}),Mx({particleCount:150,spread:100,origin:{y:.6},colors:["#10B981","#34D399","#059669"]})}catch(P){console.error("Deep Dive error:",P),at.error("Failed to generate Deep Dive explanation. Please try again.")}finally{o(!1)}},v=async()=>{if(!d||!l)return;const S=[...p,{role:"user",content:d}];m(S),f(""),o(!0);const N=`Context: We're exploring "${e}" together! 

Previous discussion: ${l.slice(0,500)}...

The student asks: "${d}"

Answer in a fun, engaging way! Use simple language, cool analogies, and make sure they understand. Keep it exciting and encouraging! Use Markdown formatting.`,_=await ke.integrations.Core.InvokeLLM({prompt:N,systemPrompt:"You are a helpful and encouraging tutor."});m([...S,{role:"assistant",content:_}]),o(!1)};return s&&!l?i.jsx(wt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:i.jsx($h,{title:"Knowledge Deconstruction",message:`Applying the Feynman Core to "${e}". Simplifying complexity into total clarity...`})}):i.jsx("div",{className:"space-y-8 max-w-7xl mx-auto",children:i.jsx(Yi,{mode:"wait",children:l?i.jsxs(wt.div,{initial:{opacity:0,y:100},animate:{opacity:1,y:0},exit:{opacity:0,scale:.95},className:"grid lg:grid-cols-4 gap-8",children:[i.jsx("div",{className:"lg:col-span-1 space-y-6",children:i.jsxs("div",{className:"bg-white/60 backdrop-blur-xl rounded-[2.5rem] p-8 border-2 border-white/60 shadow-xl",children:[i.jsxs("h4",{className:"font-black text-xs uppercase tracking-[0.2em] text-slate-400 mb-6 flex items-center gap-2",children:[i.jsx(Ji,{className:"w-4 h-4"})," Exploring"]}),i.jsxs("div",{className:"space-y-4",children:[i.jsx("div",{className:"p-4 rounded-2xl bg-emerald-50 border border-emerald-100",children:i.jsx("p",{className:"text-emerald-900 font-black text-lg leading-tight",children:e})}),i.jsxs(Oe,{variant:"outline",className:"w-full rounded-2xl h-12 font-bold border-2 hover:bg-slate-50",onClick:()=>u(""),children:[i.jsx(pc,{className:"w-4 h-4 mr-2"})," New Subject"]})]})]})}),i.jsx("div",{className:"lg:col-span-3",children:i.jsxs("div",{className:"relative bg-white/60 backdrop-blur-2xl rounded-[3rem] border-2 border-white/60 shadow-3xl shadow-emerald-900/10 overflow-hidden flex flex-col h-[800px]",children:[i.jsx("div",{className:"bg-slate-900 p-8 flex items-center justify-between",children:i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("div",{className:"w-12 h-12 rounded-2xl bg-gradient-to-br from-emerald-500 to-teal-600 flex items-center justify-center shadow-lg",children:i.jsx(dy,{className:"w-6 h-6 text-white"})}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-black text-xl text-white tracking-tight",children:"AI Feynman Tutor"}),i.jsx("p",{className:"text-[10px] uppercase font-black tracking-widest text-emerald-500",children:"Active Synthesis Mode"})]})]})}),i.jsxs("div",{className:"flex-1 overflow-y-auto p-10 space-y-10 pencil-scroll scroll-smooth",children:[p.map((S,N)=>i.jsxs(wt.div,{initial:{opacity:0,y:30,scale:.95},animate:{opacity:1,y:0,scale:1},transition:{duration:.4,delay:N*.1},className:Ne("flex gap-6 max-w-[90%]",S.role==="user"?"ml-auto flex-row-reverse":"mr-auto"),children:[i.jsx("div",{className:Ne("w-12 h-12 rounded-2xl flex items-center justify-center flex-shrink-0 shadow-xl group-hover:scale-110 transition-transform",S.role==="user"?"bg-gradient-to-br from-indigo-500 to-blue-600":"bg-gradient-to-br from-emerald-500 to-teal-600"),children:S.role==="user"?i.jsx(qg,{className:"w-6 h-6 text-white"}):i.jsx(dy,{className:"w-6 h-6 text-white"})}),i.jsxs("div",{className:Ne("flex-1 rounded-[2.5rem] p-8 shadow-2xl relative overflow-hidden",S.role==="user"?"bg-white border-2 border-slate-100":"bg-white border-2 border-emerald-100 shadow-emerald-500/5"),children:[S.role==="assistant"&&i.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-emerald-500/5 rounded-full -mr-16 -mt-16"}),S.role==="user"?i.jsx("p",{className:"text-slate-900 text-xl font-bold leading-relaxed",children:S.content}):i.jsx(Q1,{content:S.content})]})]},N)),s&&i.jsxs(wt.div,{initial:{opacity:0},animate:{opacity:1},className:"flex gap-6 mr-auto",children:[i.jsx("div",{className:"w-12 h-12 rounded-2xl bg-gradient-to-br from-emerald-500 to-teal-600 flex items-center justify-center animate-bounce",children:i.jsx(dy,{className:"w-6 h-6 text-white"})}),i.jsxs("div",{className:"bg-white/50 backdrop-blur-sm border-2 border-emerald-100 rounded-[2.5rem] p-8 px-12 flex items-center gap-4 shadow-xl",children:[i.jsx("div",{className:"flex gap-1.5",children:[0,1,2].map(S=>i.jsx(wt.div,{animate:{scale:[1,1.5,1],opacity:[.3,1,.3]},transition:{repeat:1/0,duration:1,delay:S*.2},className:"w-2.5 h-2.5 rounded-full bg-emerald-500"},S))}),i.jsx("span",{className:"text-emerald-700 font-black uppercase text-xs tracking-widest",children:"Cognitive Processing"})]})]})]}),i.jsxs("div",{className:"p-8 bg-white border-t-2 border-slate-50",children:[i.jsxs("div",{className:"relative flex items-center gap-4 max-w-4xl mx-auto",children:[i.jsx(un,{value:d,onChange:S=>f(S.target.value),placeholder:"Ask the Tutor anything...",onKeyDown:S=>S.key==="Enter"&&!s&&v(),disabled:s,className:"text-xl py-8 rounded-[2rem] border-2 border-slate-100 focus:border-emerald-400 bg-slate-50/50 shadow-inner px-10 h-16 font-medium pr-24"}),i.jsx(Oe,{onClick:v,disabled:s||!d,size:"lg",className:"absolute right-2 bg-gradient-to-r from-emerald-600 to-teal-600 hover:from-emerald-700 hover:to-teal-700 shadow-xl shadow-emerald-500/40 w-12 h-12 rounded-2xl p-0",children:i.jsx(zi,{className:"w-5 h-5"})})]}),i.jsx("p",{className:"text-center text-[10px] text-slate-400 font-bold uppercase tracking-[0.3em] mt-4",children:"Iterative Learning Cycle Active"})]})]})})]},"chat-screen"):i.jsxs(wt.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:1.05},className:"relative overflow-hidden",children:[i.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-emerald-500/10 via-teal-500/5 to-cyan-500/10"}),i.jsx("div",{className:"absolute -top-32 -right-32 w-80 h-80 bg-emerald-500/10 rounded-full blur-[100px] animate-pulse"}),i.jsxs("div",{className:"relative bg-white/40 backdrop-blur-2xl rounded-[3rem] border-2 border-white/60 shadow-3xl p-10 lg:p-14",children:[i.jsxs("div",{className:"flex items-center gap-6 mb-12",children:[i.jsx("div",{className:"w-20 h-20 rounded-[2rem] bg-gradient-to-br from-emerald-500 to-teal-600 flex items-center justify-center shadow-2xl shadow-emerald-500/40 transform -rotate-6 hover:rotate-0 transition-transform duration-500",children:i.jsx(Ho,{className:"w-10 h-10 text-white"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-black text-4xl tracking-tighter bg-gradient-to-r from-emerald-700 via-teal-700 to-cyan-700 bg-clip-text text-transparent",children:"Neural Deep Dive"}),i.jsx("p",{className:"text-slate-500 font-bold text-lg mt-1",children:"Harnessing the Feynman Core for total mastery"})]})]}),i.jsxs("div",{className:"grid lg:grid-cols-5 gap-10",children:[i.jsxs("div",{className:"lg:col-span-3 space-y-10",children:[i.jsxs("div",{className:"space-y-4",children:[i.jsx(kt,{className:"text-xs font-black uppercase tracking-[0.2em] text-emerald-600/70 ml-1",children:"Concept Identification"}),i.jsx(un,{value:e,onChange:S=>t(S.target.value),placeholder:"What complex idea should we simplify?",className:"text-2xl py-8 rounded-[1.5rem] border-slate-200 bg-white/50 focus:ring-emerald-500 shadow-inner px-8 font-black tracking-tight"})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsx(kt,{className:"text-xs font-black uppercase tracking-[0.2em] text-emerald-600/70 ml-1",children:"Contextual Background (Optional)"}),i.jsx(ea,{value:n,onChange:S=>r(S.target.value),placeholder:"Add snippets of your understanding or specific pain points...",rows:4,className:"rounded-[2rem] border-slate-200 bg-white/50 focus:ring-emerald-500 shadow-inner p-8 text-lg font-medium leading-relaxed resize-none"})]})]}),i.jsx("div",{className:"lg:col-span-2 space-y-6",children:i.jsxs("div",{className:"relative overflow-hidden p-8 rounded-[2.5rem] bg-slate-900 text-white shadow-2xl h-full flex flex-col justify-center",children:[i.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-emerald-500/20 rounded-full blur-3xl -mr-16 -mt-16"}),i.jsxs("div",{className:"relative",children:[i.jsxs("h4",{className:"font-black text-xl mb-4 flex items-center gap-3",children:[i.jsx("div",{className:"w-10 h-10 rounded-xl bg-emerald-500 flex items-center justify-center",children:i.jsx(Kn,{className:"w-5 h-5"})}),"Feynman Logic"]}),i.jsx("p",{className:"text-slate-300 leading-relaxed font-medium",children:`"If you can't explain it simply, you don't understand it well enough."`}),i.jsx("div",{className:"mt-6 flex flex-wrap gap-2",children:["Analogy Core","Deconstruction","Simplification"].map(S=>i.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest px-3 py-1 rounded-full bg-white/10 border border-white/10 text-emerald-400",children:S},S))})]})]})})]}),i.jsx(wt.div,{whileHover:{scale:1.01},whileTap:{scale:.99},className:"mt-12",children:i.jsx(Oe,{onClick:x,disabled:s||!e,size:"lg",className:"w-full bg-gradient-to-r from-emerald-600 via-teal-600 to-cyan-600 hover:from-emerald-700 hover:via-teal-700 hover:to-cyan-700 shadow-[0_20px_50px_rgba(16,185,129,0.3)] text-white font-black rounded-[2rem] h-20 text-2xl tracking-tighter group transition-all duration-300",children:s?i.jsxs(i.Fragment,{children:[i.jsx(jn,{className:"w-7 h-7 mr-4 animate-spin"}),"Deconstructing Knowledge..."]}):i.jsxs(i.Fragment,{children:[i.jsx(En,{className:"w-7 h-7 mr-4 group-hover:animate-bounce"}),"Initialize Neural Exploration"]})})})]})]},"input-screen")})})}const GZ=async e=>await ke.entities.StudyMaterial.create(e);function YZ({modules:e}){const[t,n]=b.useState(""),[r,s]=b.useState(""),[o,l]=b.useState(""),[u,d]=b.useState(!1),[f,p]=b.useState(!1),[m,x]=b.useState(!1),v=cs(),S=Ws({mutationFn:GZ,onSuccess:()=>{v.invalidateQueries({queryKey:["materials"]}),at.success("Study material added successfully!"),p(!0),setTimeout(()=>{n(""),s(""),l(""),p(!1)},2e3)}}),N=async()=>{var P;if(!t){at.error("Please enter a URL");return}d(!0);const _=t.toLowerCase().endsWith(".pdf");try{if(_&&((P=window.electron)!=null&&P.downloadUrl)){at.loading("Downloading PDF...");const T=`${(r||"imported_doc").replace(/[^a-z0-9]/gi,"_")}.pdf`,I=await window.electron.downloadUrl({url:t,name:T});await S.mutateAsync({title:r||"Imported PDF",content:"Downloaded from: "+t,type:"pdf",file_url:t,local_file_name:I.name,module_id:o||void 0,is_processed:!1,tags:["pdf-import"]})}else{const T=await ke.integrations.Core.InvokeLLM({prompt:`Extract the main educational content from this webpage. Focus on:
- Main text content (exclude navigation, ads, footers)
- Key concepts and explanations
- Any formulas, definitions, or examples
- Remove any HTML tags and formatting

Keep the content clean and readable for studying.

URL: ${t}`,add_context_from_internet:!0,response_json_schema:{type:"object",properties:{content:{type:"string"},suggested_title:{type:"string"},summary:{type:"string"}}}});let I=T;if(typeof T=="string"&&(T.trim().startsWith("{")||T.trim().startsWith("[")))try{const L=T.replace(/```json\n?|```/g,"").trim();I=JSON.parse(L)}catch{console.warn("Manual JSON parse failed in WebContentImporter")}if(!(I!=null&&I.content)){at.error("Could not extract content from URL. The AI might be having trouble with this site.");return}await S.mutateAsync({title:r||I.suggested_title||"Web Content",content:I.content,summary:I.summary,type:"link",file_url:t,module_id:o||void 0,is_processed:!0,tags:["web-import"]})}}catch(T){console.error("Import error:",T),at.error("Failed to import content. Please try again.")}finally{d(!1)}};return i.jsxs("div",{className:"relative overflow-hidden",children:[i.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-500/5 via-indigo-500/5 to-purple-500/5"}),i.jsxs("div",{className:"relative bg-white/80 backdrop-blur-sm rounded-3xl border-2 border-blue-200/60 shadow-xl shadow-blue-500/10 p-8",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-8",children:[i.jsx("div",{className:"w-12 h-12 rounded-2xl bg-gradient-to-br from-blue-500 to-indigo-600 flex items-center justify-center shadow-lg shadow-blue-500/30",children:i.jsx(Ns,{className:"w-6 h-6 text-white"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-bold text-xl bg-gradient-to-r from-blue-600 to-indigo-600 bg-clip-text text-transparent",children:"Import from Web"}),i.jsx("p",{className:"text-sm text-slate-600",children:"Grab study materials from any website"})]})]}),f?i.jsxs("div",{className:"text-center py-12",children:[i.jsx("div",{className:"w-20 h-20 rounded-full bg-gradient-to-br from-emerald-400 to-teal-500 flex items-center justify-center mx-auto mb-4 animate-bounce",children:i.jsx(Us,{className:"w-10 h-10 text-white"})}),i.jsx("h4",{className:"text-xl font-bold text-slate-900 mb-2",children:"Content Imported! "}),i.jsx("p",{className:"text-slate-600",children:"Your study material has been added"})]}):i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(kt,{children:"URL"}),i.jsxs("div",{className:"relative",children:[i.jsx(o3,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),i.jsx(un,{value:t,onChange:_=>n(_.target.value),placeholder:"https://example.com/study-notes",className:"pl-10"})]}),i.jsx("p",{className:"text-xs text-slate-500",children:" Try: old exam papers, textbook pages, study guides, Wikipedia articles"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(kt,{children:"Title (optional)"}),i.jsxs("div",{className:"relative",children:[i.jsx(Sr,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),i.jsx(un,{value:r,onChange:_=>s(_.target.value),placeholder:"Material title (auto-generated if empty)",className:"pl-10"})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(kt,{children:"Module (optional)"}),i.jsxs("div",{className:"relative",children:[i.jsx(Hn,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400 z-10"}),i.jsxs(hr,{value:o,onValueChange:l,children:[i.jsx(rr,{className:"pl-10",children:i.jsx(pr,{placeholder:"Select a module"})}),i.jsxs(sr,{children:[i.jsx(Vt,{value:null,children:"No module"}),e==null?void 0:e.map(_=>i.jsxs(Vt,{value:_.id,children:[_.code," - ",_.title]},_.id))]})]})]})]}),i.jsxs("div",{className:"flex gap-3",children:[i.jsxs(Oe,{onClick:()=>x(!0),disabled:!t,variant:"outline",size:"lg",className:"flex-1 rounded-xl border-2",children:[i.jsx(Wg,{className:"w-5 h-5 mr-2"}),"Preview in App"]}),i.jsx(Oe,{onClick:N,disabled:u||!t,size:"lg",className:"flex-[2] bg-gradient-to-r from-blue-600 via-indigo-600 to-purple-600 hover:from-blue-700 hover:via-indigo-700 hover:to-purple-700 shadow-xl shadow-blue-500/30",children:u?i.jsxs(i.Fragment,{children:[i.jsx(jn,{className:"w-5 h-5 mr-2 animate-spin"}),"Importing..."]}):i.jsxs(i.Fragment,{children:[i.jsx(Ns,{className:"w-5 h-5 mr-2"}),"Import Now"]})})]}),i.jsxs("div",{className:"bg-blue-50 border-2 border-blue-200 rounded-xl p-4",children:[i.jsx("p",{className:"text-sm text-blue-900 font-medium mb-2",children:" Pro Tips:"}),i.jsxs("ul",{className:"text-xs text-blue-800 space-y-1.5 list-disc pl-5",children:[i.jsx("li",{children:"Works with most educational websites and articles"}),i.jsx("li",{children:"Great for importing exam papers, study guides, and notes"}),i.jsx("li",{children:"AI extracts the main content automatically"}),i.jsx("li",{children:"Use for Wikipedia, Khan Academy, textbook sites, etc."})]})]})]})]}),m&&i.jsx("div",{className:"fixed inset-0 z-[100] bg-slate-950/80 backdrop-blur-sm flex items-center justify-center p-4 md:p-8",children:i.jsxs("div",{className:"w-full h-full max-w-6xl bg-white rounded-3xl overflow-hidden shadow-2xl flex flex-col",children:[i.jsxs("div",{className:"p-4 bg-slate-900 text-white flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-8 h-8 rounded-lg bg-blue-600 flex items-center justify-center",children:i.jsx(Ns,{className:"w-5 h-5 text-white"})}),i.jsx("div",{children:i.jsx("h4",{className:"font-bold text-sm truncate max-w-md",children:t})})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(Oe,{size:"sm",className:"bg-blue-600 hover:bg-blue-700 h-9 rounded-xl",onClick:()=>{x(!1),N()},disabled:u,children:"Import this Site"}),i.jsx(Oe,{variant:"ghost",size:"icon",onClick:()=>x(!1),className:"text-white hover:bg-white/10 rounded-xl",children:i.jsx(Dr,{className:"w-5 h-5"})})]})]}),i.jsxs("div",{className:"flex-1 bg-slate-100 relative",children:[i.jsx("iframe",{src:t,className:"w-full h-full border-none",title:"Browser Preview"}),i.jsx("div",{className:"absolute top-2 right-2 flex flex-col gap-2",children:i.jsx("p",{className:"bg-slate-900/50 backdrop-blur-md text-[10px] text-white px-2 py-1 rounded-md",children:"Note: Some websites may block in-app viewing."})})]})]})})]})}function QZ(){var T,I,L;const[e,t]=b.useState(""),[n,r]=b.useState(""),[s,o]=b.useState(""),[l,u]=b.useState(""),[d,f]=b.useState(!1),[p,m]=b.useState(null),x=cs(),{data:v}=zt({queryKey:["modules"],queryFn:()=>ke.entities.Module.list()}),{data:S}=zt({queryKey:["essays"],queryFn:()=>ke.entities.Essay.list("-submitted_date")}),N=async()=>{var z;f(!0);try{const $=s.trim().split(/\s+/).length,V=await ke.integrations.Core.InvokeLLM({prompt:`You are an expert essay grader and writing coach. Analyze this student essay and provide comprehensive, constructive feedback.

**Essay Prompt:** ${e}

**Student's Essay:**
${s}

Provide detailed feedback evaluating:
1. **Content** (0-100): Relevance, depth, accuracy, and evidence
2. **Structure** (0-100): Organization, flow, paragraph coherence
3. **Clarity** (0-100): Clear expression, conciseness, readability
4. **Grammar** (0-100): Grammar, spelling, punctuation, syntax

Be encouraging but honest. Provide specific, actionable suggestions for improvement.`,response_json_schema:{type:"object",properties:{overall_score:{type:"number",description:"Overall score 0-100"},content_score:{type:"number"},structure_score:{type:"number"},clarity_score:{type:"number"},grammar_score:{type:"number"},feedback:{type:"string",description:"Overall constructive feedback"},strengths:{type:"array",items:{type:"string"},description:"3-4 specific strengths"},improvements:{type:"array",items:{type:"string"},description:"3-4 areas for improvement"},specific_suggestions:{type:"array",items:{type:"string"},description:"5-6 specific actionable suggestions"}}}});let W=V;if(typeof V=="string"&&(V.trim().startsWith("{")||V.trim().startsWith("[")))try{const H=V.replace(/```json\n?|```/g,"").trim();W=JSON.parse(H)}catch{console.warn("Manual JSON parse failed in EssayAssessment, using raw response")}m(W);const F=typeof W=="object"?W:{feedback:W,overall_score:0};await ke.entities.Essay.create({title:n,module_id:l,prompt:e,content:s,word_count:$,ai_feedback:F,status:"graded",submitted_date:new Date().toISOString()});const Y=[];typeof F=="object"&&F.overall_score!==void 0&&(F.content_score<70&&Y.push({category:"comprehension",skill:"Content Development",score:F.content_score}),F.structure_score<70&&Y.push({category:"writing",skill:"Essay Structure",score:F.structure_score}),F.clarity_score<70&&Y.push({category:"writing",skill:"Clear Expression",score:F.clarity_score}),F.grammar_score<70&&Y.push({category:"writing",skill:"Grammar & Mechanics",score:F.grammar_score}));for(const H of Y){const ee=await ke.integrations.Core.InvokeLLM({prompt:`Create 2-3 micro-learning modules to help a student improve in: ${H.skill}

Each module should be:
- 5-15 minutes long
- Focused on one specific aspect
- Include practical exercises`,response_json_schema:{type:"object",properties:{modules:{type:"array",items:{type:"object",properties:{title:{type:"string"},description:{type:"string"},estimated_time:{type:"string"},resources:{type:"array",items:{type:"string"}}}}}}}});let ve=ee;if(typeof ee=="string")try{ve=JSON.parse(ee.replace(/```json\n?|```/g,"").trim())}catch{ve={modules:[{title:H.skill,description:ee}]}}await ke.entities.SkillGap.create({skill_name:H.skill,module_id:l,category:H.category,severity:H.score<50?"significant":H.score<60?"moderate":"minor",identified_from:"Essay Assessment",description:`Score: ${H.score}/100. Identified from essay assessment.`,micro_learning_modules:ve.modules,status:"active"})}x.invalidateQueries({queryKey:["essays"]}),await ke.entities.LearningActivity.create({activity_type:"deep_dive",module_id:l,topic:n,performance_score:F.overall_score||0,time_spent_minutes:15,completed:!0,notes:"Essay Assessment"}),(z=ke==null?void 0:ke.functions)!=null&&z.invoke&&ke.functions.invoke("checkAchievements",{}),Mx({particleCount:150,spread:100,origin:{y:.6},colors:["#3B82F6","#6366F1","#8B5CF6"]})}catch($){console.error("Error grading essay:",$),at.error("Failed to evaluate essay. The AI experienced a format limitation or processing error.")}finally{f(!1)}},_=z=>z>=80?"text-green-600":z>=60?"text-amber-600":"text-red-600",P=z=>z>=80?"bg-green-100":z>=60?"bg-amber-100":"bg-red-100";return d?i.jsx(wt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:i.jsx($h,{title:"Manuscript Analysis",message:`Conducting an elite linguistic and structural audit of "${n||"your essay"}". Identifying mastery points and growth vectors...`})}):i.jsxs("div",{className:"space-y-10 max-w-7xl mx-auto",children:[i.jsx(wt.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"flex flex-col md:flex-row md:items-end justify-between gap-6",children:i.jsx("div",{className:"space-y-3",children:i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("div",{className:"w-14 h-14 rounded-2xl bg-gradient-to-br from-indigo-600 to-blue-500 shadow-xl shadow-indigo-500/20 flex items-center justify-center",children:i.jsx(Vb,{className:"w-7 h-7 text-white"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-4xl font-black text-slate-900 tracking-tighter",children:"AI Essay Grader"}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"h-1.5 w-12 rounded-full bg-indigo-500"}),i.jsx("div",{className:"h-1.5 w-6 rounded-full bg-blue-400"}),i.jsx("p",{className:"text-sm font-black uppercase tracking-widest text-slate-400 ml-2",children:"Elite Writing Evaluator"})]})]})]})})}),i.jsx(Yi,{mode:"wait",children:p?i.jsxs(wt.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:1.1},className:"space-y-10",children:[typeof p=="string"&&i.jsxs("div",{className:"relative overflow-hidden p-12 lg:p-16 rounded-[4rem] bg-white border-2 border-amber-100 shadow-3xl",children:[i.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[i.jsx(Jo,{className:"w-8 h-8 text-amber-600"}),i.jsx("h2",{className:"text-3xl font-black text-slate-900 tracking-tighter",children:"Narrative Feedback Matrix"})]}),i.jsx("div",{className:"p-10 rounded-[2.5rem] bg-amber-50/50 border-2 border-amber-100 prose prose-indigo max-w-none text-xl font-medium leading-relaxed italic",children:p}),i.jsx("div",{className:"mt-8 flex justify-center",children:i.jsx(Oe,{onClick:()=>m(null),variant:"outline",className:"rounded-full px-12 h-14 border-2 border-amber-200 text-amber-700 hover:bg-amber-100 font-bold",children:"Start New Assessment"})})]}),typeof p=="object"&&p!==null&&i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"relative overflow-hidden p-12 lg:p-16 rounded-[4rem] bg-white border-2 border-slate-100 shadow-3xl",children:[i.jsx("div",{className:"absolute top-0 right-0 w-96 h-96 bg-indigo-500/5 rounded-full blur-[100px] -mr-48 -mt-48"}),i.jsxs("div",{className:"flex flex-col lg:flex-row gap-16 items-center",children:[i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"w-56 h-56 rounded-full border-[10px] border-slate-50 flex items-center justify-center shadow-inner",children:i.jsxs("div",{className:"text-center",children:[i.jsx("span",{className:Ne("text-7xl font-black tracking-tighter",_(p.overall_score)),children:p.overall_score}),i.jsx("p",{className:"text-xs font-black uppercase tracking-[0.3em] text-slate-400 mt-1",children:"Mastery Score"})]})}),i.jsx(wt.div,{animate:{rotate:360},transition:{repeat:1/0,duration:20,ease:"linear"},className:"absolute inset-0 rounded-full border-t-4 border-indigo-500 border-dashed opacity-20"})]}),i.jsxs("div",{className:"flex-1 space-y-8",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-4xl font-black text-slate-900 tracking-tighter mb-4",children:n}),i.jsxs("div",{className:"p-8 rounded-[2.5rem] bg-slate-50 border-2 border-slate-100 italic text-slate-600 text-lg leading-relaxed font-medium",children:['"',p.feedback,'"']})]}),i.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6",children:[{label:"Critical Content",score:p.content_score},{label:"Architecture",score:p.structure_score},{label:"Articulation",score:p.clarity_score},{label:"Mechanics",score:p.grammar_score}].map((z,$)=>i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex justify-between items-end",children:[i.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest text-slate-400",children:z.label}),i.jsxs("span",{className:Ne("font-black text-sm",_(z.score)),children:[z.score,"%"]})]}),i.jsx(Kg,{value:z.score,className:"h-2.5 rounded-full bg-slate-100"})]},$))})]})]})]}),i.jsxs("div",{className:"grid lg:grid-cols-2 gap-10",children:[i.jsxs(wt.div,{initial:{opacity:0,x:-30},animate:{opacity:1,x:0},transition:{delay:.3},className:"p-10 rounded-[3.5rem] bg-emerald-50/50 border-2 border-emerald-100 shadow-2xl relative overflow-hidden",children:[i.jsx("div",{className:"absolute top-0 right-0 p-8 opacity-10",children:i.jsx(Us,{className:"w-32 h-32 text-emerald-600"})}),i.jsxs("h4",{className:"text-2xl font-black text-emerald-900 mb-8 flex items-center gap-3",children:[i.jsx("div",{className:"w-10 h-10 rounded-xl bg-emerald-600 flex items-center justify-center text-white",children:i.jsx(sl,{className:"w-5 h-5"})}),"Success Matrix"]}),i.jsx("ul",{className:"space-y-6",children:(T=p.strengths)==null?void 0:T.map((z,$)=>i.jsxs("li",{className:"flex gap-4 group",children:[i.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-emerald-400 mt-2.5 group-hover:scale-150 transition-transform"}),i.jsx("span",{className:"text-emerald-800 text-lg font-bold leading-tight",children:z})]},$))})]}),i.jsxs(wt.div,{initial:{opacity:0,x:30},animate:{opacity:1,x:0},transition:{delay:.4},className:"p-10 rounded-[3.5rem] bg-indigo-50/50 border-2 border-indigo-100 shadow-2xl relative overflow-hidden",children:[i.jsx("div",{className:"absolute top-0 right-0 p-8 opacity-10",children:i.jsx(Ft,{className:"w-32 h-32 text-indigo-600"})}),i.jsxs("h4",{className:"text-2xl font-black text-indigo-900 mb-8 flex items-center gap-3",children:[i.jsx("div",{className:"w-10 h-10 rounded-xl bg-indigo-600 flex items-center justify-center text-white",children:i.jsx(En,{className:"w-5 h-5"})}),"Growth Opportunities"]}),i.jsx("ul",{className:"space-y-6",children:(I=p.improvements)==null?void 0:I.map((z,$)=>i.jsxs("li",{className:"flex gap-4 group",children:[i.jsx(Hi,{className:"w-5 h-5 text-indigo-400 mt-1 flex-shrink-0"}),i.jsx("span",{className:"text-indigo-800 text-lg font-bold leading-tight",children:z})]},$))})]})]}),i.jsxs(wt.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{delay:.5},className:"p-12 rounded-[4rem] bg-slate-900 text-white shadow-3xl relative overflow-hidden",children:[i.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-indigo-500/10 to-transparent"}),i.jsxs("h4",{className:"text-3xl font-black mb-10 flex items-center gap-4 relative",children:[i.jsx("div",{className:"w-14 h-14 rounded-2xl bg-indigo-500/20 backdrop-blur-md flex items-center justify-center border border-indigo-500/30",children:i.jsx(Ji,{className:"w-8 h-8 text-indigo-400"})}),"Strategy for Perfection"]}),i.jsx("div",{className:"grid md:grid-cols-2 gap-x-12 gap-y-10 relative",children:(L=p.specific_suggestions)==null?void 0:L.map((z,$)=>i.jsxs("div",{className:"flex gap-6 items-start group",children:[i.jsx("span",{className:"text-4xl font-black text-indigo-500/20 group-hover:text-indigo-500 transition-colors duration-500 italic",children:($+1).toString().padStart(2,"0")}),i.jsx("p",{className:"text-slate-200 text-lg font-medium leading-relaxed group-hover:text-white transition-colors",children:z})]},$))}),i.jsx("div",{className:"mt-16 pt-10 border-t border-white/10 flex justify-center",children:i.jsxs(Oe,{onClick:()=>{m(null),r(""),t(""),o(""),u("")},variant:"ghost",className:"rounded-full px-12 h-16 text-indigo-400 hover:text-white hover:bg-white/10 font-black text-lg",children:[i.jsx(pc,{className:"w-5 h-5 mr-3"})," Grade New Manuscript"]})})]})]})]},"essay-feedback"):i.jsxs(wt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,scale:.95},className:"relative overflow-hidden",children:[i.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-500/5 via-indigo-500/5 to-violet-500/5"}),i.jsx("div",{className:"relative bg-white/40 backdrop-blur-2xl rounded-[3rem] border-2 border-white/60 shadow-3xl p-10 lg:p-14",children:i.jsxs("div",{className:"grid lg:grid-cols-5 gap-12",children:[i.jsxs("div",{className:"lg:col-span-3 space-y-8",children:[i.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[i.jsxs("div",{className:"space-y-3",children:[i.jsx(kt,{className:"text-xs font-black uppercase tracking-[0.2em] text-indigo-600/70 ml-1",children:"Composition Title"}),i.jsx(un,{placeholder:"Name your masterpiece...",value:n,onChange:z=>r(z.target.value),className:"h-14 rounded-2xl border-slate-200 bg-white/50 focus:ring-indigo-500 shadow-sm text-lg px-6 font-bold"})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsx(kt,{className:"text-xs font-black uppercase tracking-[0.2em] text-indigo-600/70 ml-1",children:"Academic Context"}),i.jsxs(hr,{value:l,onValueChange:u,children:[i.jsx(rr,{className:"h-14 rounded-2xl border-slate-200 bg-white/50 focus:ring-indigo-500 shadow-sm text-lg px-6 font-bold",children:i.jsx(pr,{placeholder:"Associate with module..."})}),i.jsx(sr,{className:"rounded-2xl",children:v==null?void 0:v.map(z=>i.jsxs(Vt,{value:z.id,className:"py-3 px-4",children:[z.code," - ",z.title]},z.id))})]})]})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsx(kt,{className:"text-xs font-black uppercase tracking-[0.2em] text-indigo-600/70 ml-1",children:"The Writing Prompt"}),i.jsx(ea,{placeholder:"Paste the core requirements or question here...",value:e,onChange:z=>t(z.target.value),className:"rounded-[1.5rem] border-slate-200 bg-white/50 focus:ring-indigo-500 shadow-inner p-6 text-lg font-medium leading-relaxed resize-none h-24"})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex justify-between items-center ml-1",children:[i.jsx(kt,{className:"text-xs font-black uppercase tracking-[0.2em] text-indigo-600/70",children:"Manuscript Content"}),i.jsxs("span",{className:Ne("text-[10px] font-black uppercase tracking-widest px-3 py-1 rounded-full",s.trim().split(/\s+/).length<50?"bg-amber-100 text-amber-600":"bg-emerald-100 text-emerald-600"),children:[s.trim()?s.trim().split(/\s+/).length:0," / 50 Words"]})]}),i.jsx(ea,{placeholder:"Pour your thoughts onto the digital canvas...",value:s,onChange:z=>o(z.target.value),className:"min-h-[400px] rounded-[2.5rem] border-slate-200 bg-white/50 focus:ring-indigo-500 shadow-inner p-10 text-xl font-medium leading-[1.8] resize-none scrollbar-modern"})]})]}),i.jsx("div",{className:"lg:col-span-2 space-y-8",children:i.jsxs("div",{className:"p-8 rounded-[3rem] bg-slate-900 text-white shadow-3xl h-full flex flex-col relative overflow-hidden",children:[i.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-indigo-500/10 rounded-full blur-3xl -mr-32 -mt-32"}),i.jsxs("div",{className:"relative flex-1",children:[i.jsxs("h4",{className:"text-2xl font-black mb-6 tracking-tight flex items-center gap-3",children:[i.jsx(Kn,{className:"w-8 h-8 text-indigo-400"}),"Analysis Matrix"]}),i.jsx("div",{className:"space-y-6",children:[{label:"Linguistic Analysis",sub:"Grammar, Syntax, Vocabulary"},{label:"Structural Audit",sub:"Coherence, Flow, Logic"},{label:"Content Depth",sub:"Evidence, Reasoning, Bias"}].map((z,$)=>i.jsxs("div",{className:"flex gap-4",children:[i.jsx("div",{className:"w-2 h-12 rounded-full bg-gradient-to-b from-indigo-500 to-transparent"}),i.jsxs("div",{children:[i.jsx("p",{className:"font-bold text-slate-100",children:z.label}),i.jsx("p",{className:"text-xs text-slate-400 font-medium uppercase tracking-widest",children:z.sub})]})]},$))})]}),i.jsx("div",{className:"relative pt-8 mt-8 border-t border-white/10",children:i.jsx(wt.div,{whileHover:{scale:1.02},whileTap:{scale:.98},children:i.jsx(Oe,{onClick:N,disabled:!n||!e||!s||s.trim().split(/\s+/).length<50||d,className:"w-full bg-gradient-to-r from-indigo-600 via-blue-600 to-indigo-600 hover:from-indigo-700 hover:via-blue-700 hover:to-indigo-700 shadow-2xl shadow-indigo-500/40 text-white font-black rounded-[2rem] h-20 text-xl tracking-tighter group transition-all duration-300",children:d?i.jsxs(i.Fragment,{children:[i.jsx(jn,{className:"w-6 h-6 mr-3 animate-spin"}),"Processing Neural Data..."]}):i.jsxs(i.Fragment,{children:[i.jsx(Ft,{className:"w-6 h-6 mr-3 group-hover:animate-pulse"}),"Initialize Evaluation"]})})})})]})})]})})]},"essay-input")}),!p&&(S==null?void 0:S.length)>0&&i.jsxs(wt.div,{initial:{opacity:0},animate:{opacity:1},className:"bg-white/40 backdrop-blur-xl rounded-[3rem] p-10 border-2 border-white/60 shadow-xl",children:[i.jsx("h4",{className:"text-xs font-black uppercase tracking-[0.3em] text-slate-400 mb-8 ml-2",children:"Recent Evaluations"}),i.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:S.slice(0,6).map(z=>i.jsx(wt.div,{whileHover:{y:-5},className:"p-6 rounded-[2rem] bg-white shadow-lg border border-slate-100 flex flex-col justify-between",children:i.jsxs("div",{children:[i.jsxs("div",{className:"flex justify-between items-start mb-4",children:[i.jsx("div",{className:"w-10 h-10 rounded-xl bg-slate-50 flex items-center justify-center text-slate-400",children:i.jsx(Sr,{className:"w-5 h-5"})}),z.ai_feedback&&i.jsxs("div",{className:Ne("px-3 py-1 rounded-full text-[10px] font-black",P(z.ai_feedback.overall_score)),children:[z.ai_feedback.overall_score,"/100"]})]}),i.jsx("h5",{className:"font-black text-slate-800 mb-2 truncate",children:z.title}),i.jsxs("p",{className:"text-[10px] text-slate-400 font-bold uppercase tracking-widest",children:[new Date(z.submitted_date).toLocaleDateString(),"  ",z.word_count," words"]})]})},z.id))})]})]})}function XZ(){var x,v,S,N,_,P,T,I,L,z;const[e,t]=b.useState(!1),[n,r]=b.useState(null),{data:s}=zt({queryKey:["quizzes"],queryFn:()=>ke.entities.Quiz.list("-created_date")}),{data:o}=zt({queryKey:["learning-activities"],queryFn:()=>ke.entities.LearningActivity.list("-created_date",100)}),{data:l}=zt({queryKey:["essays"],queryFn:()=>ke.entities.Essay.list("-submitted_date")}),{data:u}=zt({queryKey:["skill-gaps"],queryFn:()=>ke.entities.SkillGap.filter({status:"active"})}),{data:d}=zt({queryKey:["assignments"],queryFn:()=>ke.entities.Assignment.list()}),{data:f}=zt({queryKey:["study-sessions"],queryFn:()=>ke.entities.StudySession.list("-date")}),p=async()=>{var $;t(!0);try{const V=(s==null?void 0:s.map(ae=>({title:ae.title,score:ae.score,created:ae.created_date})))||[],W=(o==null?void 0:o.map(ae=>({type:ae.activity_type,topic:ae.topic,score:ae.performance_score,time:ae.time_spent_minutes})))||[],F=(l==null?void 0:l.map(ae=>({title:ae.title,scores:ae.ai_feedback?ae.ai_feedback:null})))||[],Y=(($=d==null?void 0:d.filter(ae=>ae.grade&&ae.max_grade))==null?void 0:$.map(ae=>({title:ae.title,grade:ae.grade,max:ae.max_grade,percentage:ae.grade/ae.max_grade*100})))||[],H=(f==null?void 0:f.slice(0,50).map(ae=>({date:ae.date,duration:ae.duration_minutes,module:ae.module_id,path:ae.path})))||[],ee=await ke.integrations.Core.InvokeLLM({prompt:`You're an expert learning analytics AI. Analyze this student's comprehensive performance data and provide granular insights.

**Quiz Performance:**
${JSON.stringify(V,null,2)}

**Learning Activities:**
${JSON.stringify(W,null,2)}

**Essay Assessments:**
${JSON.stringify(F,null,2)}

**Assignment Grades:**
${JSON.stringify(Y,null,2)}

**Platform Engagement (Study Sessions):**
${JSON.stringify(H,null,2)}

Provide deep analysis including:
1. **Overall Performance Trends**: Patterns over time in engagement and scores.
2. **Granular Skill Gaps**: Specific skills needing work based on session paths and scores.
3. **Micro-Learning Modules**: 5-7 targeted 10-minute modules to address gaps.
4. **Strengths to Leverage**: How to build on existing strengths.
5. **Study Efficiency Analysis**: Are they spending time on the right things?
6. **Actionable Next Steps**: Concrete actions prioritized by impact.`,systemPrompt:"You are a senior educational data analyst. Be precise, encouraging, and data-driven. Always return valid JSON.",response_json_schema:{type:"object",properties:{performance_trend:{type:"object",properties:{direction:{type:"string"},summary:{type:"string"}}},skill_gaps:{type:"array",items:{type:"object",properties:{skill:{type:"string"},severity:{type:"string"},evidence:{type:"string"},impact:{type:"string"}}}},micro_learning_modules:{type:"array",items:{type:"object",properties:{title:{type:"string"},focus_area:{type:"string"},duration:{type:"string"},description:{type:"string"},activities:{type:"array",items:{type:"string"}}}}},strengths:{type:"array",items:{type:"object",properties:{strength:{type:"string"},leverage_strategy:{type:"string"}}}},efficiency_insights:{type:"object",properties:{average_study_time:{type:"string"},productivity_pattern:{type:"string"},optimization_tips:{type:"array",items:{type:"string"}}}},next_steps:{type:"array",items:{type:"object",properties:{action:{type:"string"},priority:{type:"string"},expected_impact:{type:"string"},time_required:{type:"string"}}}}}}});let ve=ee;if(typeof ee=="string"&&(ee.trim().startsWith("{")||ee.trim().startsWith("[")))try{const ae=ee.replace(/```json\n?|```/g,"").trim();ve=JSON.parse(ae)}catch{console.warn("Manual JSON parse failed in PerformanceAnalysis, using raw response")}r(ve),at.success("Intelligence sync complete! Personalized insights loaded.")}catch(V){console.error("Error analyzing performance:",V),at.error("Failed to synchronize intelligence data. The data set might be too large or the AI keys are invalid.")}finally{t(!1)}},m=$=>{const V=$==null?void 0:$.toLowerCase();return V==="high"||V==="significant"?"bg-red-100 text-red-700":V==="medium"||V==="moderate"?"bg-amber-100 text-amber-700":"bg-blue-100 text-blue-700"};return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-xl font-bold text-slate-900 mb-2",children:"AI Performance Analysis "}),i.jsx("p",{className:"text-slate-600",children:"Sync your local study data with AI to identify gaps and get personalized growth plans."})]}),u&&u.length>0&&i.jsxs(Nt,{className:"p-6",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[i.jsx(Jo,{className:"w-5 h-5 text-amber-600"}),i.jsx("h4",{className:"font-bold text-slate-900",children:"Actively Tracking Gaps"})]}),i.jsx("div",{className:"grid gap-3",children:u.map($=>i.jsx("div",{className:"bg-slate-50 border border-slate-200 rounded-lg p-4",children:i.jsxs("div",{className:"flex items-start justify-between",children:[i.jsxs("div",{children:[i.jsx("h5",{className:"font-semibold text-slate-900",children:$.skill_name}),i.jsx("p",{className:"text-sm text-slate-600 mt-1",children:$.description})]}),i.jsx(It,{className:m($.severity),children:$.severity})]})},$.id))})]}),n?i.jsxs("div",{className:"space-y-6",children:[typeof n=="string"&&i.jsxs("div",{className:"p-6 bg-amber-50 border-2 border-amber-200 rounded-2xl flex items-start gap-4",children:[i.jsx(Jo,{className:"w-6 h-6 text-amber-600 shrink-0 mt-1"}),i.jsxs("div",{children:[i.jsx("h5",{className:"font-bold text-amber-900 text-lg",children:"Analysis Generation Insight"}),i.jsx("p",{className:"text-amber-700 font-medium",children:"We've successfully analyzed your data, but the AI provided a narrative summary instead of a structured report. View the full analysis below."}),i.jsx("div",{className:"mt-4 p-6 bg-white rounded-xl border border-amber-100 prose prose-slate max-w-none",children:n})]})]}),typeof n=="object"&&n!==null&&i.jsxs(i.Fragment,{children:[i.jsxs(Nt,{className:Ne("p-6 border-2",((x=n.performance_trend)==null?void 0:x.direction)==="improving"?"bg-green-50 border-green-200":((v=n.performance_trend)==null?void 0:v.direction)==="stable"?"bg-blue-50 border-blue-200":"bg-amber-50 border-amber-200"),children:[i.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[i.jsx(sl,{className:"w-6 h-6 text-slate-700"}),i.jsx("h4",{className:"font-bold text-lg text-slate-900",children:"Learning Vector"})]}),i.jsx("p",{className:"text-slate-700 leading-relaxed font-medium",children:(S=n.performance_trend)==null?void 0:S.summary})]}),i.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[i.jsxs(Nt,{className:"p-6",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[i.jsx(Ji,{className:"w-6 h-6 text-red-600"}),i.jsx("h4",{className:"font-bold text-lg text-slate-900",children:"Identified Gaps"})]}),i.jsx("div",{className:"space-y-4",children:(N=n.skill_gaps)==null?void 0:N.map(($,V)=>i.jsxs("div",{className:"bg-slate-50 rounded-xl p-4 border border-slate-200",children:[i.jsxs("div",{className:"flex items-start justify-between mb-2",children:[i.jsx("h5",{className:"font-semibold text-slate-900",children:$.skill}),i.jsx(It,{className:m($.severity),children:$.severity})]}),i.jsxs("p",{className:"text-xs text-slate-600 mb-1 italic",children:['"',$.evidence,'"']}),i.jsxs("p",{className:"text-sm text-slate-700",children:[i.jsx("strong",{children:"Impact:"})," ",$.impact]})]},V))})]}),i.jsxs(Nt,{className:"p-6",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[i.jsx(Us,{className:"w-6 h-6 text-green-600"}),i.jsx("h4",{className:"font-bold text-lg text-slate-900",children:"Strengths"})]}),i.jsx("div",{className:"space-y-3",children:(_=n.strengths)==null?void 0:_.map(($,V)=>i.jsxs("div",{className:"bg-green-50 rounded-xl p-4 border border-green-200",children:[i.jsx("h5",{className:"font-semibold text-green-900 mb-1",children:$.strength}),i.jsx("p",{className:"text-sm text-green-700",children:$.leverage_strategy})]},V))})]})]}),i.jsxs(Nt,{className:"p-6 bg-slate-900 text-white overflow-hidden relative",children:[i.jsx("div",{className:"absolute top-0 right-0 p-8 opacity-10",children:i.jsx(Kn,{className:"w-32 h-32"})}),i.jsxs("div",{className:"relative",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[i.jsx(En,{className:"w-6 h-6 text-yellow-400"}),i.jsx("h4",{className:"font-bold text-xl",children:"Targeted Learning Modules "})]}),i.jsx("div",{className:"grid gap-4",children:(P=n.micro_learning_modules)==null?void 0:P.map(($,V)=>{var W;return i.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-5 border border-white/20 hover:bg-white/15 transition-colors",children:[i.jsxs("div",{className:"flex items-center justify-between mb-3",children:[i.jsx("h5",{className:"font-bold text-white",children:$.title}),i.jsxs(It,{variant:"secondary",className:"bg-yellow-400/20 text-yellow-300 border-yellow-400/30",children:[i.jsx(pi,{className:"w-3 h-3 mr-1"}),$.duration]})]}),i.jsx("p",{className:"text-sm text-slate-300 mb-3",children:$.description}),i.jsx("div",{className:"flex flex-wrap gap-2",children:(W=$.activities)==null?void 0:W.map((F,Y)=>i.jsx(It,{variant:"outline",className:"text-[10px] py-0 border-white/30 text-white/70",children:F},Y))})]},V)})})]})]}),i.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[i.jsxs(Nt,{className:"p-6",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[i.jsx(pi,{className:"w-6 h-6 text-blue-600"}),i.jsx("h4",{className:"font-bold text-lg text-slate-900",children:"Efficiency Insights"})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"p-4 bg-blue-50/50 rounded-lg",children:[i.jsx("p",{className:"text-sm text-slate-700 mb-1",children:i.jsx("strong",{children:"Productivity Pattern:"})}),i.jsx("p",{className:"text-sm font-medium text-blue-900",children:(T=n.efficiency_insights)==null?void 0:T.productivity_pattern})]}),i.jsx("ul",{className:"space-y-2",children:(L=(I=n.efficiency_insights)==null?void 0:I.optimization_tips)==null?void 0:L.map(($,V)=>i.jsxs("li",{className:"text-sm text-slate-600 flex items-start gap-2",children:[i.jsx(Ho,{className:"w-4 h-4 text-amber-500 flex-shrink-0 mt-0.5"}),i.jsx("span",{children:$})]},V))})]})]}),i.jsxs(Nt,{className:"p-6 border-indigo-200 bg-indigo-50/20",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[i.jsx(JZ,{className:"w-6 h-6 text-indigo-600"}),i.jsx("h4",{className:"font-bold text-lg text-slate-900",children:"Priority Roadmap "})]}),i.jsx("div",{className:"space-y-3",children:(z=n.next_steps)==null?void 0:z.map(($,V)=>{var W;return i.jsxs("div",{className:"flex gap-4 p-4 bg-white border border-indigo-100 rounded-xl shadow-sm",children:[i.jsx("div",{className:"w-8 h-8 rounded-full bg-indigo-600 text-white flex items-center justify-center font-bold flex-shrink-0",children:V+1}),i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[i.jsx("h5",{className:"font-bold text-slate-900",children:$.action}),i.jsx(It,{className:((W=$.priority)==null?void 0:W.toLowerCase())==="high"?"bg-red-50 text-red-600 border-red-100":"bg-blue-50 text-blue-600 border-blue-100",variant:"outline",children:$.priority})]}),i.jsx("p",{className:"text-xs text-slate-500",children:$.expected_impact})]})]},V)})})]})]}),i.jsx(Oe,{onClick:()=>r(null),variant:"outline",className:"w-full h-12 border-2 border-slate-200 rounded-xl",children:"Reset Analysis View"})]})]}):i.jsxs(Nt,{className:"p-12 text-center bg-gradient-to-br from-indigo-50/50 to-purple-50/50",children:[i.jsx("div",{className:"w-20 h-20 rounded-full bg-gradient-to-br from-purple-500 to-pink-600 flex items-center justify-center mx-auto mb-6 shadow-lg shadow-purple-500/20",children:i.jsx(Kn,{className:"w-10 h-10 text-white"})}),i.jsx("h3",{className:"text-2xl font-bold text-slate-900 mb-3",children:"Generate Data-Driven Insights"}),i.jsxs("p",{className:"text-slate-600 mb-8 max-w-2xl mx-auto",children:["Analyze your ",(s==null?void 0:s.length)||0," quizzes, ",(f==null?void 0:f.length)||0," study sessions, and ",(d==null?void 0:d.length)||0," assignments to see exactly where you stand and how to optimize your learning."]}),i.jsx(Oe,{onClick:p,disabled:e,size:"lg",className:"bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700",children:e?i.jsxs(i.Fragment,{children:[i.jsx(jn,{className:"w-5 h-5 mr-2 animate-spin"}),"Analyzing Data..."]}):i.jsxs(i.Fragment,{children:[i.jsx(En,{className:"w-5 h-5 mr-2"}),"Run Full Sync Analysis"]})})]})]})}function JZ({className:e}){return i.jsxs("svg",{className:e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[i.jsx("path",{d:"M5 12h14"}),i.jsx("path",{d:"m12 5 7 7-7 7"})]})}function ZZ({modules:e}){const[t,n]=b.useState(""),[r,s]=b.useState(!1),[o,l]=b.useState([]),[u,d]=b.useState(new Set),[f,p]=b.useState(null),[m,x]=b.useState(null);b.useEffect(()=>{(async()=>{const T=await ke.entities.StudyMaterial.list(),I=(T==null?void 0:T.map(L=>L.file_url).filter(Boolean))||[];d(new Set(I))})()},[]);const v=async P=>{if(P.preventDefault(),!!t.trim()){s(!0);try{const T=await ke.integrations.Core.InvokeLLM({prompt:`Find 6-8 extremely high-quality, free educational resources (PDFs, study guides, YouTube playlists, interactive tools, or university repos) for the topic: "${t}".
        Focus on UNISA, Khan Academy, Coursera (Audit/Free), OpenStax, and reputable university portals.
        
        Return ONLY valid JSON array with this structure:
        [{
            "title": "Clear Resource Title",
            "url": "https://...",
            "description": "2-sentence summary of value",
            "type": "video" | "pdf" | "article" | "course",
            "provider": "e.g. YouTube, Khan Academy"
        }]`,systemPrompt:"You are an elite academic librarian skilled in finding free, premium-quality study materials.",response_json_schema:{type:"array",items:{type:"object",properties:{title:{type:"string"},url:{type:"string"},description:{type:"string"},type:{type:"string"},provider:{type:"string"}}}}});l(Array.isArray(T)?T:[])}catch(T){console.error("Search failed:",T),at.error("Cloud search failed. Please try again.")}finally{s(!1)}}},S=async P=>{var T;x(P.url);try{const I=P.url.toLowerCase().endsWith(".pdf")||P.type==="pdf";let L=null,z=`${P.title.replace(/[^a-z0-9]/gi,"_").toLowerCase()}.pdf`;I&&((T=window.electron)!=null&&T.downloadUrl)&&(at.loading("Downloading material to local storage..."),L=(await window.electron.downloadUrl({url:P.url,name:z})).name),await ke.entities.StudyMaterial.create({title:P.title,content:P.description,type:I?"pdf":"link",file_url:P.url,local_file_name:L,is_processed:!1,tags:["web-discovery",P.type]}),d($=>new Set([...$,P.url])),at.success(I?"PDF downloaded and imported!":"Resource link saved!")}catch(I){console.error("Import failed:",I),at.error("Failed to import resource locally.")}finally{x(null)}},N=P=>{p(P)},_=P=>{switch(P==null?void 0:P.toLowerCase()){case"video":return i.jsx(UC,{className:"w-4 h-4"});case"pdf":return i.jsx(Sr,{className:"w-4 h-4"});case"course":return i.jsx(sD,{className:"w-4 h-4"});default:return i.jsx(Ns,{className:"w-4 h-4"})}};return i.jsxs("div",{className:"space-y-6",children:[i.jsxs(Nt,{className:"p-8 bg-slate-900 text-white border-none shadow-2xl relative overflow-hidden group",children:[i.jsx("div",{className:"absolute top-0 right-0 p-12 opacity-5 scale-150 rotate-12 group-hover:scale-175 transition-transform duration-700",children:i.jsx(Ns,{className:"w-48 h-48"})}),i.jsxs("div",{className:"relative",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[i.jsx("div",{className:"w-12 h-12 rounded-2xl bg-gradient-to-br from-blue-500 to-indigo-600 flex items-center justify-center shadow-lg shadow-blue-500/20",children:i.jsx(qa,{className:"w-6 h-6 text-white"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-2xl font-bold tracking-tight",children:"Global Resource Discovery"}),i.jsx("p",{className:"text-slate-400 text-sm",children:"Find premium free materials from across the web"})]})]}),i.jsxs("form",{onSubmit:v,className:"flex gap-3",children:[i.jsx(un,{value:t,onChange:P=>n(P.target.value),placeholder:"Search by topic, module code, or subject (e.g. MIP1501 calculus tips)...",className:"flex-1 h-14 bg-white/10 border-white/20 text-white placeholder:text-white/40 rounded-2xl focus:ring-blue-500 focus:border-blue-500 text-lg px-6"}),i.jsx(Oe,{type:"submit",disabled:r,className:"h-14 px-8 rounded-2xl bg-blue-600 hover:bg-blue-700 shadow-xl shadow-blue-500/30 transition-all active:scale-95",children:r?i.jsx(jn,{className:"w-6 h-6 animate-spin"}):i.jsx(En,{className:"w-6 h-6"})})]})]})]}),i.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6 mt-10",children:[r&&i.jsx("div",{className:"md:col-span-2 lg:col-span-3",children:i.jsx($h,{title:"Discovery Engine Active",message:`Scanning global repositories for premium materials on "${t}". Filtering for high-quality academic sources...`})}),!r&&o.map((P,T)=>i.jsxs(Nt,{className:"flex flex-col h-full rounded-3xl border-slate-200/60 shadow-lg hover:shadow-xl hover:border-blue-200 transition-all group overflow-hidden bg-white",children:[i.jsxs("div",{className:"p-6 flex-1",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsxs(It,{variant:"secondary",className:"bg-slate-100 text-slate-700 border-none px-3 py-1 flex items-center gap-2",children:[_(P.type),P.provider||P.type]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(Oe,{variant:"ghost",size:"icon",className:"w-9 h-9 rounded-xl bg-slate-50 text-slate-500 hover:bg-blue-600 hover:text-white transition-colors",onClick:()=>N(P),children:i.jsx(Wg,{className:"w-4 h-4"})}),i.jsx("a",{href:P.url,target:"_blank",rel:"noopener noreferrer",className:"w-9 h-9 rounded-xl bg-blue-50 text-blue-600 hover:bg-blue-600 hover:text-white flex items-center justify-center transition-colors",children:i.jsx(cc,{className:"w-4 h-4"})})]})]}),i.jsx("h4",{className:"font-bold text-slate-900 leading-tight mb-2 line-clamp-2 group-hover:text-blue-600 transition-colors",children:P.title}),i.jsx("p",{className:"text-sm text-slate-500 line-clamp-3 leading-relaxed",children:P.description})]}),i.jsxs("div",{className:"p-4 bg-slate-50/50 border-t border-slate-100 flex items-center justify-between",children:[i.jsxs(Oe,{variant:"ghost",size:"sm",className:Ne("rounded-xl gap-2",u.has(P.url)?"text-emerald-600 bg-emerald-50":"text-slate-600 hover:bg-white hover:text-blue-600 shadow-sm border border-slate-200 bg-white"),onClick:()=>S(P),disabled:u.has(P.url)||m===P.url,children:[m===P.url?i.jsx(jn,{className:"w-4 h-4 animate-spin"}):u.has(P.url)?i.jsx(Qu,{className:"w-4 h-4"}):i.jsx(aD,{className:"w-4 h-4"}),u.has(P.url)?"Imported":m===P.url?"Importing...":"Import to Lab"]}),i.jsx(It,{variant:"outline",className:"text-[10px] uppercase tracking-wider text-slate-400 font-bold border-slate-200",children:P.type})]})]},T)),!r&&o.length===0&&t&&i.jsxs("div",{className:"md:col-span-2 lg:col-span-3 text-center py-20 opacity-40",children:[i.jsx(Ns,{className:"w-20 h-20 mx-auto mb-4"}),i.jsx("p",{className:"text-xl font-medium",children:"No results found for your query."})]})]}),f&&i.jsx("div",{className:"fixed inset-0 z-[100] bg-slate-950/80 backdrop-blur-sm flex items-center justify-center p-4 md:p-8",children:i.jsxs("div",{className:"w-full h-full max-w-6xl bg-white rounded-3xl overflow-hidden shadow-2xl flex flex-col",children:[i.jsxs("div",{className:"p-4 bg-slate-900 text-white flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-8 h-8 rounded-lg bg-blue-600 flex items-center justify-center",children:_(f.type)}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-bold text-sm truncate max-w-md",children:f.title}),i.jsx("p",{className:"text-[10px] text-slate-400",children:f.url})]})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(Oe,{size:"sm",className:"bg-blue-600 hover:bg-blue-700 h-9 rounded-xl",onClick:()=>{S(f)},disabled:u.has(f.url)||m===f.url,children:u.has(f.url)?"Imported":"Import to My Lab"}),i.jsx(Oe,{variant:"ghost",size:"icon",onClick:()=>p(null),className:"text-white hover:bg-white/10 rounded-xl",children:i.jsx(Dr,{className:"w-5 h-5"})})]})]}),i.jsxs("div",{className:"flex-1 bg-slate-100 relative",children:[i.jsx("iframe",{src:f.url,className:"w-full h-full border-none",title:"Browser Preview"}),i.jsx("div",{className:"absolute top-2 right-2 flex flex-col gap-2",children:i.jsx("p",{className:"bg-slate-900/50 backdrop-blur-md text-[10px] text-white px-2 py-1 rounded-md",children:"Note: Some websites may block in-app viewing."})})]})]})})]})}function eee({modules:e}){const[t,n]=b.useState(""),[r,s]=b.useState(!1),[o,l]=b.useState([]),[u,d]=b.useState(new Set),[f,p]=b.useState(null),[m,x]=b.useState(null);b.useEffect(()=>{(async()=>{const _=await ke.entities.StudyMaterial.list(),P=(_==null?void 0:_.map(T=>T.file_url).filter(Boolean))||[];d(new Set(P))})()},[]);const v=async N=>{N.preventDefault();const _=t.trim();if(_){s(!0);try{const P=await ke.integrations.Core.InvokeLLM({prompt:`I am looking for educational resources (PDFs, notes, manuals) specifically on Telegram for this topic: "${_}".
                
                Suggest 5-8 REALISTIC Telegram channel names or specific usernames (e.g. @unisa_group, @coding_materials) that are known to host such materials. 
                Focus on regions like South Africa (UNISA), Global Open Source, and Library Genesis bots.
                
                Return ONLY a valid JSON array of objects:
                [{
                    "title": "Channel/Group Name",
                    "url": "https://t.me/username_or_link",
                    "description": "What they typically share",
                    "type": "channel" | "group" | "bot",
                    "verified": true/false
                }]`,systemPrompt:"You are an expert at navigating Telegram's educational ecosystem and finding public resource repositories."});let T=P;if(typeof P=="string"&&(P.trim().startsWith("{")||P.trim().startsWith("[")))try{const L=P.replace(/```json\n?|```/g,"").trim();T=JSON.parse(L)}catch{console.warn("Manual JSON parse failed in TelegramDiscovery, using raw response")}let I=[];Array.isArray(T)?I=T:T!=null&&T.results&&Array.isArray(T.results)?I=T.results:T!=null&&T.channels&&Array.isArray(T.channels)&&(I=T.channels),l(I),I.length===0&&!r&&at.info("No communities found. Try a broader search term.")}catch(P){console.error("Telegram search failed:",P),at.error("Discovery engine failed. Please try again.")}finally{s(!1)}}},S=async N=>{x(N.url);try{await ke.entities.StudyMaterial.create({title:N.title,content:`Telegram Resource: ${N.description}`,type:"link",file_url:N.url,is_processed:!0,tags:["telegram-discovery",N.type]}),d(_=>new Set([..._,N.url])),at.success("Telegram link added to your lab!")}catch{at.error("Failed to save telegram link.")}finally{x(null)}};return i.jsxs("div",{className:"space-y-6",children:[i.jsxs(Nt,{className:"p-8 bg-sky-900 text-white border-none shadow-2xl relative overflow-hidden group",children:[i.jsx("div",{className:"absolute top-0 right-0 p-12 opacity-10 scale-150 -rotate-12 group-hover:scale-175 transition-transform duration-700",children:i.jsx(zi,{className:"w-48 h-48"})}),i.jsxs("div",{className:"relative",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[i.jsx("div",{className:"w-12 h-12 rounded-2xl bg-sky-500 flex items-center justify-center shadow-lg shadow-sky-500/20",children:i.jsx(zi,{className:"w-6 h-6 text-white"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-2xl font-bold tracking-tight",children:"Telegram AI Discovery"}),i.jsx("p",{className:"text-sky-200 text-sm",children:"Find hidden study groups and material repositories"})]})]}),i.jsxs("form",{onSubmit:v,className:"flex gap-3",children:[i.jsx(un,{value:t,onChange:N=>n(N.target.value),placeholder:"Enter module code or topic (e.g. FAC1501, Python 101)...",className:"flex-1 h-14 bg-white/10 border-white/20 text-white placeholder:text-sky-200/40 rounded-2xl focus:ring-sky-400 focus:border-sky-400 text-lg px-6"}),i.jsx(Oe,{type:"submit",disabled:r,className:"h-14 px-8 rounded-2xl bg-sky-500 hover:bg-sky-600 shadow-xl shadow-sky-500/30 transition-all active:scale-95",children:r?i.jsx(jn,{className:"w-6 h-6 animate-spin"}):i.jsx(qa,{className:"w-6 h-6"})})]}),i.jsx("div",{className:"mt-6 flex flex-wrap gap-2",children:e==null?void 0:e.slice(0,4).map(N=>i.jsxs(Oe,{variant:"outline",size:"sm",onClick:()=>{n(N.code),v({preventDefault:()=>{}})},className:"bg-white/5 border-white/10 text-sky-100 hover:bg-white/10 hover:text-white rounded-xl text-[10px] h-8",children:["Scan ",N.code]},N.id))}),i.jsxs("div",{className:"mt-4 flex items-center gap-2 text-[10px] text-sky-200/60 uppercase tracking-widest font-bold",children:[i.jsx(zC,{className:"w-3 h-3"}),"Production DC: 149.154.167.50:443"]})]})]}),i.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:[r&&i.jsxs("div",{className:"md:col-span-2 lg:col-span-3 text-center py-20",children:[i.jsx(jn,{className:"w-12 h-12 animate-spin text-sky-500 mx-auto mb-4"}),i.jsx("p",{className:"text-slate-500 font-medium",children:"Querying secure repositories..."})]}),!r&&o.map((N,_)=>i.jsxs(Nt,{className:"flex flex-col h-full rounded-3xl border-slate-200/60 shadow-lg hover:shadow-xl hover:border-sky-200 transition-all group overflow-hidden bg-white",children:[i.jsxs("div",{className:"p-6 flex-1",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsxs(It,{variant:"secondary",className:"bg-sky-50 text-sky-700 border-none px-3 py-1 flex items-center gap-2",children:[N.type==="bot"?i.jsx(x3,{className:"w-3 h-3"}):i.jsx(zi,{className:"w-3 h-3"}),N.type]}),N.verified&&i.jsx(It,{className:"bg-emerald-50 text-emerald-600 border-none",children:"Verified"})]}),i.jsx("h4",{className:"font-bold text-slate-900 leading-tight mb-2 line-clamp-2 group-hover:text-sky-600 transition-colors",children:N.title}),i.jsx("p",{className:"text-sm text-slate-500 line-clamp-3 leading-relaxed",children:N.description})]}),i.jsxs("div",{className:"p-4 bg-slate-50/50 border-t border-slate-100 flex items-center justify-between gap-3",children:[i.jsxs(Oe,{variant:"outline",size:"sm",className:"flex-1 rounded-xl h-9 text-sky-600 border-sky-200 hover:bg-sky-50",onClick:()=>p(N),children:[i.jsx(Wg,{className:"w-4 h-4 mr-2"}),"View"]}),i.jsx(Oe,{size:"sm",className:Ne("flex-1 rounded-xl h-9",u.has(N.url)?"bg-emerald-50 text-emerald-600 hover:bg-emerald-50":"bg-sky-600 hover:bg-sky-700 text-white"),onClick:()=>S(N),disabled:u.has(N.url)||m===N.url,children:m===N.url?i.jsx(jn,{className:"w-4 h-4 animate-spin"}):u.has(N.url)?i.jsx(Qu,{className:"w-4 h-4"}):i.jsx(Ub,{className:"w-4 h-4"})})]})]},_)),!r&&o.length===0&&!t&&i.jsxs("div",{className:"md:col-span-2 lg:col-span-3 text-center py-20 opacity-40",children:[i.jsx(zi,{className:"w-20 h-20 mx-auto mb-4 text-sky-500"}),i.jsx("p",{className:"text-xl font-medium",children:"Search for modules to find Telegram communities."})]})]}),f&&i.jsx("div",{className:"fixed inset-0 z-[100] bg-slate-950/80 backdrop-blur-sm flex items-center justify-center p-4 md:p-8",children:i.jsxs("div",{className:"w-full h-full max-w-6xl bg-white rounded-3xl overflow-hidden shadow-2xl flex flex-col",children:[i.jsxs("div",{className:"p-4 bg-sky-900 text-white flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-8 h-8 rounded-lg bg-sky-500 flex items-center justify-center",children:i.jsx(zi,{className:"w-4 h-4 text-white"})}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-bold text-sm truncate max-w-md",children:f.title}),i.jsx("p",{className:"text-[10px] text-sky-300",children:f.url})]})]}),i.jsx(Oe,{variant:"ghost",size:"icon",onClick:()=>p(null),className:"text-white hover:bg-white/10 rounded-xl",children:i.jsx(Dr,{className:"w-5 h-5"})})]}),i.jsxs("div",{className:"flex-1 bg-slate-100 flex flex-col items-center justify-center p-12 text-center",children:[i.jsx("div",{className:"w-24 h-24 rounded-3xl bg-sky-100 flex items-center justify-center mb-6",children:i.jsx(cc,{className:"w-10 h-10 text-sky-600"})}),i.jsx("h3",{className:"text-2xl font-bold text-slate-900 mb-2",children:"Open in Telegram"}),i.jsxs("p",{className:"text-slate-600 max-w-md mb-8",children:["For security and privacy, you must view this ",f.type," directly in the Telegram app."]}),i.jsxs("div",{className:"flex gap-4",children:[i.jsx(Oe,{onClick:()=>window.open(f.url,"_blank"),size:"lg",className:"bg-sky-600 hover:bg-sky-700 rounded-2xl h-14 px-8",children:"Launch Telegram"}),i.jsx(Oe,{variant:"outline",onClick:()=>p(null),size:"lg",className:"rounded-2xl h-14 px-8",children:"Go Back"})]})]})]})})]})}const oC=[{id:"quiz",label:"Quiz Generator",icon:Kn,color:"text-violet-600",bg:"bg-violet-100"},{id:"notes",label:"Summarize Notes",icon:Sr,color:"text-blue-600",bg:"bg-blue-100"},{id:"deepdive",label:"Deep Dive",icon:Ho,color:"text-emerald-600",bg:"bg-emerald-100"},{id:"essay",label:"Essay Grader",icon:Vb,color:"text-rose-600",bg:"bg-rose-100"},{id:"analysis",label:"Performance Analysis",icon:sl,color:"text-purple-600",bg:"bg-purple-100"},{id:"webdiscovery",label:"Web Discovery",icon:Ns,color:"text-indigo-600",bg:"bg-indigo-100"},{id:"webimport",label:"Import URL",icon:Ns,color:"text-slate-600",bg:"bg-slate-100"},{id:"telegram",label:"Telegram Discovery",icon:Ft,color:"text-sky-500",bg:"bg-sky-50"},{id:"materials",label:"Materials",icon:LC,color:"text-orange-600",bg:"bg-orange-100"}];function tee(){const[e,t]=b.useState("quiz"),[n,r]=b.useState(null),[s,o]=b.useState(!1);b.useEffect(()=>{const p=new URLSearchParams(window.location.search).get("tab");p&&oC.some(m=>m.id===p)&&t(p)},[]);const{data:l}=zt({queryKey:["modules"],queryFn:()=>ke.entities.Module.list()}),{data:u,isLoading:d}=zt({queryKey:["materials"],queryFn:()=>ke.entities.StudyMaterial.list("-created_date")});return i.jsxs("div",{className:"max-w-6xl mx-auto space-y-8",children:[i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center gap-2 text-violet-600 mb-2",children:[i.jsx(Ft,{className:"w-4 h-4"}),i.jsx("span",{className:"text-sm font-medium",children:"AI-Powered"})]}),i.jsx("h1",{className:"text-3xl font-bold text-slate-900 tracking-tight",children:"Study Lab"}),i.jsx("p",{className:"text-slate-500 mt-1",children:"Generate quizzes, summarize notes, and get in-depth explanations"})]}),i.jsxs(tw,{value:e,onValueChange:t,children:[i.jsx(Qg,{className:"bg-white border border-slate-200/60 p-1 h-auto flex-wrap",children:oC.map(f=>i.jsxs(Ju,{value:f.id,className:Ne("data-[state=active]:bg-slate-900 data-[state=active]:text-white","flex items-center gap-2 px-4 py-2.5"),children:[i.jsx(f.icon,{className:"w-4 h-4"}),i.jsx("span",{className:"hidden sm:inline",children:f.label})]},f.id))}),i.jsxs("div",{className:"mt-8",children:[i.jsx(is,{value:"quiz",className:"mt-0",children:i.jsxs("div",{className:"space-y-8",children:[i.jsxs("div",{className:"bg-gradient-to-r from-violet-500/10 to-purple-500/10 rounded-2xl p-6 border border-violet-200/50 flex items-center gap-4 animate-in fade-in slide-in-from-top-4 duration-500",children:[i.jsx("div",{className:"w-12 h-12 rounded-xl bg-violet-600 flex items-center justify-center shadow-lg shadow-violet-500/20 shrink-0",children:i.jsx(Kn,{className:"w-6 h-6 text-white"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-bold text-slate-900",children:"Active Recall"}),i.jsx("p",{className:"text-sm text-slate-600",children:"Quiz yourself to strengthen memory retention. Studies show active recall improves learning by up to 50%."})]})]}),i.jsx(FZ,{modules:l,materials:u})]})}),i.jsx(is,{value:"notes",className:"mt-0",children:i.jsxs("div",{className:"space-y-8",children:[i.jsxs("div",{className:"bg-gradient-to-r from-blue-500/10 to-cyan-500/10 rounded-2xl p-6 border border-blue-200/50 flex items-center gap-4 animate-in fade-in slide-in-from-top-4 duration-500",children:[i.jsx("div",{className:"w-12 h-12 rounded-xl bg-blue-600 flex items-center justify-center shadow-lg shadow-blue-500/20 shrink-0",children:i.jsx(Sr,{className:"w-6 h-6 text-white"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-bold text-slate-900",children:"Smart Summaries"}),i.jsx("p",{className:"text-sm text-slate-600",children:"Transform lengthy lectures into structured, easy-to-review notes using AI-powered summarization."})]})]}),i.jsx(HZ,{materials:u,onGenerate:r}),n&&i.jsx("div",{className:"w-full animate-in fade-in slide-in-from-bottom-5 duration-500",children:i.jsxs("div",{className:"relative bg-white/90 backdrop-blur-sm rounded-3xl border-2 border-blue-200/60 shadow-2xl shadow-blue-500/10 overflow-hidden",children:[i.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 p-6 flex items-center justify-between",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-10 h-10 rounded-xl bg-white/20 backdrop-blur-sm flex items-center justify-center",children:i.jsx(Ft,{className:"w-5 h-5 text-white"})}),i.jsx("h4",{className:"font-bold text-xl text-white",children:"Your Beautiful Notes"})]})}),i.jsx("div",{className:"p-8",children:i.jsx(Q1,{content:n})})]})})]})}),i.jsx(is,{value:"deepdive",className:"mt-0",children:i.jsxs("div",{className:"grid lg:grid-cols-3 gap-6",children:[i.jsx("div",{className:"lg:col-span-2",children:i.jsx(KZ,{})}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"bg-gradient-to-br from-emerald-500 to-teal-600 rounded-2xl p-6 text-white",children:[i.jsx(Ho,{className:"w-8 h-8 mb-4"}),i.jsx("h3",{className:"font-semibold text-lg mb-2",children:"Feynman Technique"}),i.jsx("p",{className:"text-sm text-emerald-100",children:`"If you can't explain it simply, you don't understand it well enough." Get concepts broken down into simple, clear explanations.`})]}),i.jsxs("div",{className:"bg-white rounded-2xl border border-slate-200/60 p-6",children:[i.jsx("h4",{className:"font-semibold text-slate-900 mb-3",children:"Try Asking About:"}),i.jsx("div",{className:"flex flex-wrap gap-2",children:["Thermodynamics","Machine Learning","Gravity Storage","Neural Networks","Blockchain"].map(f=>i.jsx(It,{variant:"secondary",className:"bg-slate-100",children:f},f))})]})]})]})}),i.jsx(is,{value:"essay",className:"mt-0",children:i.jsxs("div",{className:"grid lg:grid-cols-3 gap-6",children:[i.jsx("div",{className:"lg:col-span-2",children:i.jsx(QZ,{})}),i.jsx("div",{className:"space-y-6",children:i.jsxs("div",{className:"bg-gradient-to-br from-rose-500 to-pink-600 rounded-2xl p-6 text-white",children:[i.jsx(Vb,{className:"w-8 h-8 mb-4"}),i.jsx("h3",{className:"font-semibold text-lg mb-2",children:"AI Essay Feedback"}),i.jsx("p",{className:"text-sm text-rose-100",children:"Get detailed, constructive feedback on content, structure, clarity, and grammar. Improve your writing with AI-powered analysis."})]})})]})}),i.jsx(is,{value:"analysis",className:"mt-0",children:i.jsxs("div",{className:"grid lg:grid-cols-3 gap-6",children:[i.jsx("div",{className:"lg:col-span-2",children:i.jsx(XZ,{})}),i.jsx("div",{className:"space-y-6",children:i.jsxs("div",{className:"bg-gradient-to-br from-purple-500 to-violet-600 rounded-2xl p-6 text-white",children:[i.jsx(sl,{className:"w-8 h-8 mb-4"}),i.jsx("h3",{className:"font-semibold text-lg mb-2",children:"Deep Insights"}),i.jsx("p",{className:"text-sm text-purple-100",children:"Identify granular skill gaps and get targeted micro-learning modules tailored to your needs. Data-driven learning optimization."})]})})]})}),i.jsx(is,{value:"webdiscovery",className:"mt-0",children:i.jsx(ZZ,{modules:l})}),i.jsx(is,{value:"telegram",className:"mt-0",children:i.jsx(eee,{modules:l})}),i.jsx(is,{value:"webimport",className:"mt-0",children:i.jsxs("div",{className:"grid lg:grid-cols-3 gap-6",children:[i.jsx("div",{className:"lg:col-span-2",children:i.jsx(YZ,{modules:l})}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"bg-gradient-to-br from-indigo-500 to-blue-600 rounded-2xl p-6 text-white",children:[i.jsx(Ns,{className:"w-8 h-8 mb-4"}),i.jsx("h3",{className:"font-semibold text-lg mb-2",children:"Learn from the Web"}),i.jsx("p",{className:"text-sm text-indigo-100",children:"Import study materials from Wikipedia, Khan Academy, past papers, textbooks online, and educational websites!"})]}),i.jsxs("div",{className:"bg-white rounded-2xl border border-slate-200/60 p-6",children:[i.jsx("h4",{className:"font-semibold text-slate-900 mb-3",children:"Try These Resources:"}),i.jsxs("div",{className:"space-y-2 text-sm text-slate-600",children:[i.jsx("div",{children:" Wikipedia articles"}),i.jsx("div",{children:" Past exam papers online"}),i.jsx("div",{children:" OpenStax textbooks"}),i.jsx("div",{children:" Khan Academy lessons"}),i.jsx("div",{children:" Study guides & tutorials"})]})]})]})]})}),i.jsx(is,{value:"materials",className:"mt-0",children:i.jsxs("div",{className:"grid lg:grid-cols-3 gap-6",children:[i.jsx("div",{children:i.jsx(HW,{modules:l,onSuccess:()=>{}})}),i.jsx("div",{className:"lg:col-span-2",children:i.jsxs("div",{className:"bg-white rounded-2xl border border-slate-200/60",children:[i.jsxs("div",{className:"p-5 border-b border-slate-100",children:[i.jsx("h3",{className:"font-semibold text-slate-900",children:"Your Materials"}),i.jsxs("p",{className:"text-sm text-slate-500",children:[(u==null?void 0:u.length)||0," uploaded files"]})]}),!u||u.length===0?i.jsxs("div",{className:"p-12 text-center",children:[i.jsx("div",{className:"w-16 h-16 rounded-2xl bg-slate-100 flex items-center justify-center mx-auto mb-4",children:i.jsx(os,{className:"w-8 h-8 text-slate-400"})}),i.jsx("h4",{className:"font-medium text-slate-900 mb-1",children:"No materials yet"}),i.jsx("p",{className:"text-sm text-slate-500",children:"Upload PDFs or notes to generate quizzes and summaries"})]}):i.jsx("div",{className:"divide-y divide-slate-100",children:u.map(f=>{var S,N,_,P;const p=l==null?void 0:l.find(T=>T.id===f.module_id),m=(S=f.tags)==null?void 0:S.includes("telegram"),x=(N=f.tags)==null?void 0:N.includes("auto-discovered"),v=async(T,I)=>{var L,z;if(T==="view"||T==="open")(L=window.electron)!=null&&L.openExternalUrl?window.electron.openExternalUrl(I.file_url):window.open(I.file_url,"_blank");else if(T==="download"&&I.type==="pdf"&&(z=window.electron)!=null&&z.downloadUrl){const $=`${I.title.replace(/[^a-z0-9]/gi,"_")}.pdf`;at.loading("Starting download...");try{await window.electron.downloadUrl({url:I.file_url,name:$}),at.success("Download complete! File saved in your lab storage.")}catch{at.error("Download failed.")}}};return i.jsx("div",{className:"p-5 hover:bg-slate-50 transition-colors group",children:i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("div",{className:Ne("w-12 h-12 rounded-2xl flex items-center justify-center shrink-0 shadow-sm",m?"bg-sky-100 text-sky-600 border border-sky-200":f.type==="pdf"?"bg-red-50 text-red-600 border border-red-100":f.type==="link"?"bg-indigo-50 text-indigo-600 border border-indigo-100":f.type==="video"?"bg-amber-50 text-amber-600 border border-amber-100":"bg-slate-50 text-slate-600 border border-slate-100"),children:m?i.jsx(zi,{className:"w-6 h-6"}):f.type==="pdf"?i.jsx(Sr,{className:"w-6 h-6"}):f.type==="link"?i.jsx(Ns,{className:"w-6 h-6"}):f.type==="video"?i.jsx(UC,{className:"w-6 h-6"}):i.jsx(LC,{className:"w-6 h-6"})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[i.jsx("p",{className:"font-bold text-slate-900 truncate group-hover:text-blue-600 transition-colors",children:f.title}),x&&i.jsx(It,{variant:"outline",className:"text-[9px] h-4 px-1.5 border-emerald-200 bg-emerald-50 text-emerald-600 uppercase font-extrabold tracking-tight",children:"AI Auto"})]}),i.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[p?i.jsx(It,{className:"bg-blue-50 text-blue-600 border-blue-100 text-[10px] font-bold",children:p.code}):i.jsx(It,{variant:"outline",className:"text-[10px] border-slate-200 text-slate-400",children:"Unassigned"}),(P=(_=f.tags)==null?void 0:_.filter(T=>T!=="auto-discovered"&&T!==f.type))==null?void 0:P.map(T=>i.jsx(It,{variant:"outline",className:"text-[10px] text-slate-500 bg-slate-100/30 border-slate-200/60 px-1.5 h-5 rounded-md capitalize",children:T},T)),i.jsxs("div",{className:"flex items-center gap-1.5 text-[11px] text-slate-400 ml-auto",children:[i.jsx(pi,{className:"w-3.5 h-3.5"}),fc(new Date(f.created_date),"MMM d")]})]})]}),i.jsxs("div",{className:"flex items-center gap-2 ml-4 opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap",children:[(f.type==="pdf"||f.local_file_name)&&i.jsxs(i.Fragment,{children:[i.jsxs(Oe,{size:"sm",variant:"outline",className:"h-9 px-3 rounded-xl border-slate-200 hover:bg-white hover:text-blue-600 hover:border-blue-200 shadow-sm transition-all",onClick:()=>v("view",f),children:[i.jsx(Wg,{className:"w-4 h-4 mr-2"}),"View"]}),!f.local_file_name&&i.jsx(Oe,{size:"sm",variant:"outline",className:"h-9 px-3 rounded-xl border-slate-200 hover:bg-white hover:text-emerald-600 hover:border-emerald-200 shadow-sm transition-all",onClick:()=>v("download",f),children:i.jsx(Ub,{className:"w-4 h-4"})})]}),(f.type==="link"||f.type==="video")&&i.jsxs(Oe,{size:"sm",className:"h-9 px-4 rounded-xl bg-indigo-600 hover:bg-indigo-700 text-white shadow-md shadow-indigo-600/10 transition-all font-semibold",onClick:()=>v("open",f),children:[i.jsx(cc,{className:"w-4 h-4 mr-2"}),m?"Join Community":"Open Link"]})]})]})},f.id)})})]})})]})})]})]})]})}const Ym=""+new URL("logo-CI1wwR1C.png",import.meta.url).href;function nee(){const e=Aw(),[t,n]=b.useState(1),[r,s]=b.useState(!1),[o,l]=b.useState(""),[u,d]=b.useState(""),[f,p]=b.useState(""),[m,x]=b.useState(null),[v,S]=b.useState(!1),[N,_]=b.useState(!1),P=async V=>{V.preventDefault(),s(!0);try{await ke.auth.updateMe({student_id:o,major:u,year:f,onboarded:!0}),at.success("Profile updated!"),n(2)}catch{at.error("Failed to update profile")}finally{s(!1)}},T=V=>{V.preventDefault(),V.stopPropagation(),V.type==="dragenter"||V.type==="dragover"?S(!0):V.type==="dragleave"&&S(!1)},I=V=>{V.preventDefault(),V.stopPropagation(),S(!1),V.dataTransfer.files&&V.dataTransfer.files[0]&&x(V.dataTransfer.files[0])},L=V=>{V.target.files&&V.target.files[0]&&x(V.target.files[0])},z=async()=>{if(!m){at.error("Please select a document first");return}_(!0);try{const{file_url:V}=await ke.integrations.Core.UploadFile({file:m}),F=await ke.integrations.Core.InvokeLLM({prompt:`Extract course modules and assignments from this document. 
      
Return a JSON object with this structure:
{
  "modules": [
    {
      "code": "Course code (e.g., CS301)",
      "title": "Full course title",
      "instructor": "Professor name if available",
      "credits": number of credits (as a number),
      "semester": "Current or upcoming semester"
    }
  ],
  "assignments": [
    {
      "title": "Assignment title",
      "module_code": "Associated course code",
      "due_date": "Due date in ISO format (YYYY-MM-DD or YYYY-MM-DDTHH:MM:SS)",
      "description": "Assignment description if available"
    }
  ]
}

Extract all modules and assignments you can find. If some fields are missing, use reasonable defaults.`,file_urls:[V],response_json_schema:{type:"object",properties:{modules:{type:"array",items:{type:"object",properties:{code:{type:"string"},title:{type:"string"},instructor:{type:"string"},credits:{type:"number"},semester:{type:"string"}}}},assignments:{type:"array",items:{type:"object",properties:{title:{type:"string"},module_code:{type:"string"},due_date:{type:"string"},description:{type:"string"}}}}}}});if(F&&F.modules){const{modules:Y,assignments:H}=F,ee=[];if(Y&&Y.length>0)for(const ve of Y)try{const ae=await ke.entities.Module.create({code:ve.code||"N/A",title:ve.title||"Untitled Module",instructor:ve.instructor||"TBA",credits:ve.credits||3,semester:ve.semester||"Spring 2025",progress:0});ee.push(ae)}catch(ae){console.error("Failed to create module:",ae)}if(H&&H.length>0)for(const ve of H)try{const ae=ee.find(he=>he.code===ve.module_code);ae&&await ke.entities.Assignment.create({title:ve.title||"Untitled Assignment",module_id:ae.id,description:ve.description||"",due_date:ve.due_date,status:"not_started",priority:"medium"})}catch(ae){console.error("Failed to create assignment:",ae)}at.success(`Imported ${ee.length} modules and ${(H==null?void 0:H.length)||0} assignments!`),e(qn("Dashboard"))}else at.error("No data found in document")}catch(V){at.error(V.message||"Failed to process document"),console.error(V)}finally{_(!1)}},$=()=>{e(qn("Dashboard"))};return i.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50 flex items-center justify-center p-4",children:i.jsxs("div",{className:"w-full max-w-2xl",children:[i.jsxs("div",{className:"text-center mb-8",children:[i.jsx("div",{className:"w-24 h-24 flex items-center justify-center mx-auto mb-4",children:i.jsx("img",{src:Ym,alt:"Study Buddy",className:"w-full h-full object-contain"})}),i.jsx("h1",{className:"text-3xl font-bold text-slate-900 mb-2",children:"Welcome to Study Buddy"}),i.jsx("p",{className:"text-slate-500",children:"Your intelligent academic companion by Nabster Tsr"})]}),i.jsxs("div",{className:"flex items-center justify-center gap-4 mb-8",children:[i.jsxs("div",{className:`flex items-center gap-2 ${t>=1?"text-blue-600":"text-slate-400"}`,children:[i.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${t>=1?"bg-blue-600 text-white":"bg-slate-200"}`,children:t>1?i.jsx(Us,{className:"w-5 h-5"}):"1"}),i.jsx("span",{className:"text-sm font-medium hidden sm:inline",children:"Your Details"})]}),i.jsx("div",{className:"w-12 h-0.5 bg-slate-200"}),i.jsxs("div",{className:`flex items-center gap-2 ${t>=2?"text-blue-600":"text-slate-400"}`,children:[i.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${t>=2?"bg-blue-600 text-white":"bg-slate-200"}`,children:"2"}),i.jsx("span",{className:"text-sm font-medium hidden sm:inline",children:"Import Data"})]})]}),t===1&&i.jsxs(Nt,{className:"border-slate-200",children:[i.jsxs(Bo,{children:[i.jsxs(zo,{className:"flex items-center gap-2",children:[i.jsx(qg,{className:"w-5 h-5 text-blue-600"}),"Your Details"]}),i.jsx(dc,{children:"Tell us a bit about yourself"})]}),i.jsx(zs,{children:i.jsxs("form",{onSubmit:P,className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx(kt,{htmlFor:"studentId",children:"Student ID"}),i.jsx(un,{id:"studentId",value:o,onChange:V=>l(V.target.value),placeholder:"e.g., 2024001",required:!0})]}),i.jsxs("div",{children:[i.jsx(kt,{htmlFor:"major",children:"Major / Field of Study"}),i.jsx(un,{id:"major",value:u,onChange:V=>d(V.target.value),placeholder:"e.g., Computer Science",required:!0})]}),i.jsxs("div",{children:[i.jsx(kt,{htmlFor:"year",children:"Academic Year"}),i.jsx(un,{id:"year",value:f,onChange:V=>p(V.target.value),placeholder:"e.g., 3rd Year",required:!0})]}),i.jsxs("div",{className:"flex gap-3 pt-4",children:[i.jsx(Oe,{type:"submit",className:"flex-1",disabled:r,children:r?i.jsx(jn,{className:"w-4 h-4 animate-spin"}):"Continue"}),i.jsx(Oe,{type:"button",variant:"outline",onClick:$,children:"Skip"})]})]})})]}),t===2&&i.jsxs(Nt,{className:"border-slate-200",children:[i.jsxs(Bo,{children:[i.jsxs(zo,{className:"flex items-center gap-2",children:[i.jsx(iS,{className:"w-5 h-5 text-blue-600"}),"Import Your Schedule"]}),i.jsx(dc,{children:"Upload a document with your modules and assignments (PDF, image, or text)"})]}),i.jsxs(zs,{className:"space-y-4",children:[i.jsx("div",{className:`border-2 border-dashed rounded-xl p-8 text-center transition-colors ${v?"border-blue-500 bg-blue-50":"border-slate-300"}`,onDragEnter:T,onDragLeave:T,onDragOver:T,onDrop:I,children:m?i.jsxs("div",{className:"space-y-3",children:[i.jsx(Sr,{className:"w-12 h-12 text-blue-600 mx-auto"}),i.jsx("p",{className:"font-medium text-slate-900",children:m.name}),i.jsxs("p",{className:"text-sm text-slate-500",children:[(m.size/1024).toFixed(1)," KB"]}),i.jsx(Oe,{variant:"outline",size:"sm",onClick:()=>x(null),children:"Remove"})]}):i.jsxs(i.Fragment,{children:[i.jsx(os,{className:"w-12 h-12 text-slate-400 mx-auto mb-3"}),i.jsx("p",{className:"text-slate-600 mb-2",children:"Drag and drop your document here"}),i.jsx("p",{className:"text-sm text-slate-400 mb-4",children:"or"}),i.jsx("label",{htmlFor:"file-upload",children:i.jsx(Oe,{variant:"outline",asChild:!0,children:i.jsx("span",{children:"Browse Files"})})}),i.jsx("input",{id:"file-upload",type:"file",className:"hidden",onChange:L,accept:".pdf,.png,.jpg,.jpeg,.txt"})]})}),i.jsxs("div",{className:"flex gap-3",children:[i.jsx(Oe,{onClick:z,className:"flex-1",disabled:!m||N,children:N?i.jsxs(i.Fragment,{children:[i.jsx(jn,{className:"w-4 h-4 mr-2 animate-spin"}),"Processing..."]}):i.jsxs(i.Fragment,{children:[i.jsx(iS,{className:"w-4 h-4 mr-2"}),"Scan & Import"]})}),i.jsx(Oe,{variant:"outline",onClick:$,children:"Skip for now"})]}),i.jsx("div",{className:"bg-blue-50 rounded-lg p-4 mt-4",children:i.jsxs("p",{className:"text-xs text-blue-800",children:[i.jsx("strong",{children:"Tip:"})," Upload your course registration document or assignment schedule. Our AI will automatically extract modules, assignments, and deadlines."]})})]})]})]})})}function ree(){const[e,t]=jr.useState("all"),{data:n,isLoading:r}=zt({queryKey:["prescribed-books"],queryFn:()=>ke.entities.PrescribedBook.list("-created_date")}),{data:s}=zt({queryKey:["modules"],queryFn:()=>ke.entities.Module.list()}),o=(n==null?void 0:n.filter(d=>e==="all"||d.module_id===e))||[],l=d=>s==null?void 0:s.find(f=>f.id===d),u=o.reduce((d,f)=>{const p=f.module_id||"unassigned";return d[p]||(d[p]=[]),d[p].push(f),d},{});return i.jsxs("div",{className:"max-w-6xl mx-auto space-y-6",children:[i.jsxs("div",{className:"flex items-start justify-between",children:[i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center gap-2 text-blue-600 mb-2",children:[i.jsx(Hn,{className:"w-5 h-5"}),i.jsx("span",{className:"text-sm font-medium",children:"Resource Library"})]}),i.jsx("h1",{className:"text-3xl font-bold text-slate-900 tracking-tight",children:"Prescribed Books"}),i.jsx("p",{className:"text-slate-500 mt-1",children:"All prescribed textbooks and resources from your modules"})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(DC,{className:"w-4 h-4 text-slate-400"}),i.jsxs(hr,{value:e,onValueChange:t,children:[i.jsx(rr,{className:"w-48",children:i.jsx(pr,{placeholder:"All Modules"})}),i.jsxs(sr,{children:[i.jsx(Vt,{value:"all",children:"All Modules"}),s==null?void 0:s.map(d=>i.jsx(Vt,{value:d.id,children:d.code},d.id))]})]})]})]}),i.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[i.jsxs(Nt,{className:"p-4",children:[i.jsx("p",{className:"text-sm text-slate-600",children:"Total Books"}),i.jsx("p",{className:"text-2xl font-bold text-slate-900 mt-1",children:(n==null?void 0:n.length)||0})]}),i.jsxs(Nt,{className:"p-4",children:[i.jsx("p",{className:"text-sm text-slate-600",children:"With Resources"}),i.jsx("p",{className:"text-2xl font-bold text-slate-900 mt-1",children:(n==null?void 0:n.filter(d=>d.resources&&d.resources.length>0).length)||0})]}),i.jsxs(Nt,{className:"p-4",children:[i.jsx("p",{className:"text-sm text-slate-600",children:"Modules Covered"}),i.jsx("p",{className:"text-2xl font-bold text-slate-900 mt-1",children:new Set(n==null?void 0:n.map(d=>d.module_id).filter(Boolean)).size||0})]})]}),r?i.jsx(Nt,{className:"p-12 text-center",children:i.jsx("p",{className:"text-slate-500",children:"Loading books..."})}):o.length===0?i.jsxs(Nt,{className:"p-12 text-center",children:[i.jsx(Hn,{className:"w-16 h-16 text-slate-300 mx-auto mb-4"}),i.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-2",children:"No Books Yet"}),i.jsx("p",{className:"text-slate-500",children:"Upload course documents to automatically detect prescribed books"})]}):i.jsx("div",{className:"space-y-6",children:Object.entries(u).map(([d,f])=>{const p=l(d);return i.jsxs(Nt,{className:"p-6",children:[i.jsx("div",{className:"flex items-center gap-3 mb-4 pb-4 border-b border-slate-200",children:p?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-blue-500 to-indigo-600 flex items-center justify-center text-white font-bold",children:p.code.substring(0,2)}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-lg font-bold text-slate-900",children:p.code}),i.jsx("p",{className:"text-sm text-slate-600",children:p.title})]}),i.jsxs(It,{className:"ml-auto",children:[f.length," books"]})]}):i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"w-12 h-12 rounded-xl bg-slate-200 flex items-center justify-center text-slate-500 font-bold",children:"?"}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-lg font-bold text-slate-900",children:"Unassigned"}),i.jsx("p",{className:"text-sm text-slate-600",children:"No module specified"})]}),i.jsxs(It,{variant:"outline",className:"ml-auto",children:[f.length," books"]})]})}),i.jsx("div",{className:"grid md:grid-cols-2 gap-4",children:f.map(m=>{var x;return i.jsx("div",{className:"bg-slate-50 rounded-xl p-4 border border-slate-200",children:i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx("div",{className:"w-10 h-10 rounded-lg bg-blue-100 flex items-center justify-center flex-shrink-0",children:i.jsx(Hn,{className:"w-5 h-5 text-blue-600"})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("h3",{className:"font-semibold text-slate-900",children:m.title}),i.jsxs("p",{className:"text-sm text-slate-600 mt-1",children:[m.author,m.edition&&`  ${m.edition}`]}),m.source_document&&i.jsxs("p",{className:"text-xs text-slate-500 mt-1",children:["From: ",m.source_document]}),m.resources&&m.resources.length>0&&i.jsxs("div",{className:"mt-3 space-y-2",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("p",{className:"text-xs font-semibold text-slate-700",children:["Free Resources (",((x=m.resources)==null?void 0:x.length)||0,"):"]}),i.jsxs("a",{href:`https://libgen.rs/search.php?req=${encodeURIComponent(m.title+" "+m.author)}`,target:"_blank",rel:"noopener noreferrer",className:"text-[10px] font-bold text-blue-600 hover:text-blue-800 flex items-center gap-1 bg-blue-50 px-2 py-1 rounded-md border border-blue-100 transition-colors",children:[i.jsx(cc,{className:"w-3 h-3"}),"Search LibGen.rs"]})]}),m.resources.map((v,S)=>i.jsxs("a",{href:v.url,target:"_blank",rel:"noopener noreferrer",className:"flex items-start gap-2 p-2 bg-white rounded-lg hover:bg-blue-50 transition-colors border border-slate-200 group",children:[i.jsx(cc,{className:"w-3.5 h-3.5 text-blue-600 flex-shrink-0 mt-0.5"}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"text-xs font-medium text-blue-700 group-hover:text-blue-800 truncate",children:v.source}),i.jsx("p",{className:"text-xs text-slate-600 line-clamp-1",children:v.description})]})]},S))]}),(!m.resources||m.resources.length===0)&&i.jsxs("div",{className:"mt-3 flex items-center justify-between p-2 bg-amber-50 rounded-lg border border-amber-200",children:[i.jsx("p",{className:"text-xs text-amber-700",children:"No free resources found"}),i.jsxs("a",{href:`https://libgen.rs/search.php?req=${encodeURIComponent(m.title+" "+m.author)}`,target:"_blank",rel:"noopener noreferrer",className:"text-[10px] font-bold text-amber-700 hover:text-amber-900 flex items-center gap-1 bg-white px-2 py-1 rounded-md border border-amber-200 transition-colors",children:[i.jsx(cc,{className:"w-3 h-3"}),"Search LibGen"]})]})]})]})},m.id)})})]},d)})})]})}function see(){const[e,t]=b.useState([]),[n,r]=b.useState(!1),[s,o]=b.useState([]),[l,u]=b.useState(!1),d=cs(),f=b.useCallback(v=>{v.preventDefault(),v.stopPropagation(),v.type==="dragenter"||v.type==="dragover"?u(!0):v.type==="dragleave"&&u(!1)},[]),p=async v=>{r(!0);const S=[];for(const N of v)try{at.info(`Processing ${N.name}...`);const _=await ke.integrations.Organizer.AutoOrganizeUpload(N);S.push({name:N.name,status:"success",data:_.data}),at.success(`Successfully organized ${N.name}`)}catch(_){console.error("Auto-organize error:",_),S.push({name:N.name,status:"error",error:_.message}),at.error(`Failed to organize ${N.name}`)}o(N=>[...S,...N]),r(!1),t([]),d.invalidateQueries({queryKey:["modules"]}),d.invalidateQueries({queryKey:["assignments"]}),d.invalidateQueries({queryKey:["materials"]}),d.invalidateQueries({queryKey:["prescribed-books"]})},m=b.useCallback(async v=>{if(v.preventDefault(),v.stopPropagation(),u(!1),v.dataTransfer.files&&v.dataTransfer.files.length>0){const S=Array.from(v.dataTransfer.files);t(S),await p(S)}},[]),x=async v=>{if(v.target.files&&v.target.files.length>0){const S=Array.from(v.target.files);t(S),await p(S)}};return i.jsxs("div",{className:"max-w-6xl mx-auto space-y-8 animate-in fade-in duration-700",children:[i.jsxs("div",{className:"flex flex-col md:flex-row md:items-end justify-between gap-6",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center gap-2 text-indigo-600",children:[i.jsx(cD,{className:"w-5 h-5"}),i.jsx("span",{className:"text-sm font-semibold uppercase tracking-wider",children:"Intelligence Core"})]}),i.jsx("h1",{className:"text-4xl font-extrabold text-slate-900 tracking-tight",children:"AI Auto-Organizer"}),i.jsx("p",{className:"text-slate-500 text-lg max-w-2xl",children:"Drop your documents, lecture slides, or textbooks. Our AI extracts module codes, detects assignments, and finds prescribed books automatically."})]}),i.jsxs("div",{className:"flex items-center gap-3 bg-white p-2 rounded-2xl border border-slate-200 shadow-sm",children:[i.jsx("div",{className:"flex -space-x-2",children:[1,2,3].map(v=>i.jsx("div",{className:"w-8 h-8 rounded-full border-2 border-white bg-slate-100 flex items-center justify-center overflow-hidden",children:i.jsx("div",{className:"w-full h-full bg-gradient-to-br from-indigo-500 to-purple-500 opacity-20"})},v))}),i.jsxs("p",{className:"text-xs font-medium text-slate-600",children:[i.jsx("span",{className:"text-indigo-600 font-bold",children:"500+"})," files organized today"]})]})]}),i.jsxs("div",{onDragEnter:f,onDragLeave:f,onDragOver:f,onDrop:m,className:Ne("relative group overflow-hidden transition-all duration-500 rounded-[32px] border-4 border-dashed",l?"border-indigo-500 bg-indigo-50/50 scale-[0.99]":"border-slate-200 hover:border-indigo-400 bg-white shadow-xl shadow-slate-200/50",n&&"pointer-events-none opacity-80"),children:[i.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-indigo-500/5 via-transparent to-purple-500/5 opacity-0 group-hover:opacity-100 transition-opacity"}),i.jsx("div",{className:"relative p-12 md:p-24 text-center",children:n?i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"relative w-24 h-24 mx-auto",children:[i.jsx("div",{className:"absolute inset-0 rounded-full border-4 border-indigo-100 animate-pulse"}),i.jsx("div",{className:"absolute inset-0 rounded-full border-t-4 border-indigo-600 animate-spin"}),i.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:i.jsx(Ft,{className:"w-10 h-10 text-indigo-600 animate-bounce"})})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("h3",{className:"text-2xl font-bold text-slate-900",children:"AI is Analyzing..."}),i.jsx("p",{className:"text-slate-500",children:"Extracting structure, modules, and assignments..."})]})]}):i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"w-24 h-24 rounded-3xl bg-gradient-to-br from-indigo-50 to-purple-50 flex items-center justify-center mx-auto mb-8 group-hover:scale-110 group-hover:rotate-3 transition-transform duration-500 shadow-inner",children:i.jsx(os,{className:"w-10 h-10 text-indigo-600"})}),i.jsx("h3",{className:"text-3xl font-bold text-slate-900 mb-4 tracking-tight",children:"Drop your study materials here"}),i.jsx("p",{className:"text-slate-500 text-lg mb-10 max-w-md mx-auto leading-relaxed",children:"We'll automatically create modules, populate assignments, and link textbooks for you."}),i.jsxs("label",{className:"cursor-pointer group",children:[i.jsx("input",{type:"file",multiple:!0,accept:".pdf,.jpg,.jpeg,.png,.txt,.md",onChange:x,className:"hidden"}),i.jsxs("div",{className:"inline-flex items-center gap-3 bg-slate-900 text-white px-10 py-5 rounded-2xl font-bold text-lg hover:bg-indigo-600 hover:scale-105 transition-all shadow-xl shadow-indigo-200 active:scale-95",children:[i.jsx(BD,{className:"w-6 h-6"}),"Select Multiple Files"]})]}),i.jsx("div",{className:"mt-10 flex items-center justify-center gap-8",children:["PDF Support","OCR Engine","Textbooks","Auto-Scan"].map(v=>i.jsxs("div",{className:"flex items-center gap-2 text-xs font-bold text-slate-400 uppercase tracking-widest",children:[i.jsx(Ki,{className:"w-4 h-4 text-emerald-500"}),v]},v))})]})})]}),s.length>0&&i.jsxs("div",{className:"space-y-6 animate-in slide-in-from-bottom-5 duration-700 delay-200",children:[i.jsxs("div",{className:"flex items-center justify-between border-b border-slate-200 pb-4",children:[i.jsxs("h2",{className:"text-2xl font-bold text-slate-900 flex items-center gap-3",children:[i.jsx(FC,{className:"w-7 h-7 text-indigo-600"}),"Organization Timeline"]}),i.jsx(Oe,{variant:"ghost",onClick:()=>o([]),className:"text-slate-500 hover:text-red-500",children:"Clear History"})]}),i.jsx("div",{className:"grid gap-6",children:s.map((v,S)=>{var N,_,P,T,I,L,z,$;return i.jsx("div",{className:Ne("relative overflow-hidden bg-white rounded-3xl border transition-all hover:shadow-xl",v.status==="success"?"border-slate-200":"border-red-200 bg-red-50"),children:i.jsxs("div",{className:"p-1 flex items-center gap-6 p-6",children:[i.jsx("div",{className:Ne("w-16 h-16 rounded-2xl flex items-center justify-center shrink-0 shadow-inner",v.status==="success"?"bg-emerald-50 text-emerald-600":"bg-red-100 text-red-600"),children:v.status==="success"?i.jsx(Ki,{className:"w-8 h-8"}):i.jsx(Dr,{className:"w-8 h-8"})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-1",children:[i.jsx("h4",{className:"font-bold text-slate-900 text-xl truncate",children:v.name}),v.status==="success"&&i.jsx(It,{variant:"outline",className:"bg-emerald-50 text-emerald-700 border-emerald-200 uppercase text-[10px] tracking-widest px-2",children:"Auto-Organized"})]}),v.status==="success"?i.jsxs("div",{className:"flex flex-wrap gap-4 mt-3",children:[i.jsxs("div",{className:"flex items-center gap-2 bg-slate-50 px-3 py-1.5 rounded-xl border border-slate-100",children:[i.jsx(Hn,{className:"w-4 h-4 text-indigo-500"}),i.jsxs("span",{className:"text-sm font-semibold text-slate-700",children:[((N=v.data)==null?void 0:N.code)||"Unknown",": ",((_=v.data)==null?void 0:_.title)||"New Material"]})]}),((T=(P=v.data)==null?void 0:P.assignments_found)==null?void 0:T.length)>0&&i.jsxs("div",{className:"flex items-center gap-2 bg-violet-50 px-3 py-1.5 rounded-xl border border-violet-100",children:[i.jsx(Xo,{className:"w-4 h-4 text-violet-500"}),i.jsxs("span",{className:"text-sm font-semibold text-violet-700",children:[v.data.assignments_found.length," Assignments Detected"]})]}),((L=(I=v.data)==null?void 0:I.prescribed_books)==null?void 0:L.length)>0&&i.jsxs("div",{className:"flex items-center gap-2 bg-blue-50 px-3 py-1.5 rounded-xl border border-blue-100",children:[i.jsx(qa,{className:"w-4 h-4 text-blue-500"}),i.jsxs("span",{className:"text-sm font-semibold text-blue-700",children:[v.data.prescribed_books.length," Books Extracted"]})]}),((z=v.data)==null?void 0:z.institution)&&i.jsxs("div",{className:"flex items-center gap-2 bg-amber-50 px-3 py-1.5 rounded-xl border border-amber-100",children:[i.jsx(YD,{className:"w-4 h-4 text-amber-500"}),i.jsx("span",{className:"text-sm font-semibold text-amber-700",children:v.data.institution})]})]}):i.jsx("p",{className:"text-red-600 text-sm font-medium",children:v.error})]}),i.jsx("div",{className:"hidden md:flex items-center gap-4",children:v.status==="success"&&(($=v.data)==null?void 0:$.code)&&i.jsx(Oe,{asChild:!0,variant:"outline",className:"rounded-xl border-slate-200 hover:bg-slate-50 group shadow-sm transition-all hover:scale-105",children:i.jsxs(Mr,{to:`/Modules?code=${v.data.code}`,children:["Review Module",i.jsx(TC,{className:"w-4 h-4 ml-2 transition-transform group-hover:translate-x-1"})]})})})]})},S)})})]}),i.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[i.jsxs("div",{className:"bg-white p-8 rounded-[32px] border border-slate-200/60 shadow-sm space-y-4",children:[i.jsx("div",{className:"w-12 h-12 rounded-2xl bg-indigo-50 flex items-center justify-center",children:i.jsx(sl,{className:"w-6 h-6 text-indigo-600"})}),i.jsx("h3",{className:"font-bold text-slate-900",children:"Efficiency Boost"}),i.jsxs("p",{className:"text-slate-500 text-sm",children:["AI organization saves an average of ",i.jsx("span",{className:"text-indigo-600 font-bold",children:"12 minutes"})," per document compared to manual entry."]})]}),i.jsxs("div",{className:"bg-white p-8 rounded-[32px] border border-slate-200/60 shadow-sm space-y-4",children:[i.jsx("div",{className:"w-12 h-12 rounded-2xl bg-emerald-50 flex items-center justify-center",children:i.jsx(Ki,{className:"w-6 h-6 text-emerald-600"})}),i.jsx("h3",{className:"font-bold text-slate-900",children:"OCR Precision"}),i.jsxs("p",{className:"text-slate-500 text-sm",children:["Our vision models extract data with ",i.jsx("span",{className:"text-emerald-600 font-bold",children:"98%+ accuracy"})," from handwritten or digital notes."]})]}),i.jsxs("div",{className:"bg-gradient-to-br from-indigo-600 to-purple-700 p-8 rounded-[32px] text-white shadow-xl shadow-indigo-200 space-y-4",children:[i.jsx("div",{className:"w-12 h-12 rounded-2xl bg-white/20 backdrop-blur-sm flex items-center justify-center",children:i.jsx(Ft,{className:"w-6 h-6 text-white"})}),i.jsx("h3",{className:"font-bold",children:"Pro Tip"}),i.jsx("p",{className:"text-indigo-100 text-sm leading-relaxed",children:"Upload your entire semester schedule as an image to instantly populate your dashboard timeline!"})]})]})]})}const iee=b.forwardRef(({className:e,...t},n)=>i.jsx("div",{className:"relative w-full overflow-auto",children:i.jsx("table",{ref:n,className:Ne("w-full caption-bottom text-sm",e),...t})}));iee.displayName="Table";const aee=b.forwardRef(({className:e,...t},n)=>i.jsx("thead",{ref:n,className:Ne("[&_tr]:border-b",e),...t}));aee.displayName="TableHeader";const oee=b.forwardRef(({className:e,...t},n)=>i.jsx("tbody",{ref:n,className:Ne("[&_tr:last-child]:border-0",e),...t}));oee.displayName="TableBody";const lee=b.forwardRef(({className:e,...t},n)=>i.jsx("tfoot",{ref:n,className:Ne("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));lee.displayName="TableFooter";const cee=b.forwardRef(({className:e,...t},n)=>i.jsx("tr",{ref:n,className:Ne("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));cee.displayName="TableRow";const uee=b.forwardRef(({className:e,...t},n)=>i.jsx("th",{ref:n,className:Ne("h-10 px-2 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...t}));uee.displayName="TableHead";const dee=b.forwardRef(({className:e,...t},n)=>i.jsx("td",{ref:n,className:Ne("p-2 align-middle [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...t}));dee.displayName="TableCell";const fee=b.forwardRef(({className:e,...t},n)=>i.jsx("caption",{ref:n,className:Ne("mt-4 text-sm text-muted-foreground",e),...t}));fee.displayName="TableCaption";function hee(){const[e,t]=b.useState([]),[n,r]=b.useState(!0),[s,o]=b.useState("online"),[l,u]=b.useState({totalInteractions:0,uniquePages:0,aiCalls:0,uptime:"99.9%"}),d=async()=>{r(!0);try{const p=await ke.entities.LearningActivity.list("-created_date",50);t(p);const m=p.filter(v=>{var S,N;return((S=v.activity_type)==null?void 0:S.includes("ai"))||((N=v.activity_type)==null?void 0:N.includes("generation"))}).length,x=new Set(p.filter(v=>v.activity_type==="page_render").map(v=>v.topic)).size;u({totalInteractions:p.length,uniquePages:x,aiCalls:m,uptime:"Active"})}catch(p){console.error("Failed to load audit logs:",p)}finally{r(!1)}};b.useEffect(()=>{d();const p=setInterval(d,1e4);return()=>clearInterval(p)},[]);const f=p=>{switch(p){case"page_render":return i.jsx($3,{className:"w-4 h-4 text-blue-500"});case"ai_generate":return i.jsx(En,{className:"w-4 h-4 text-amber-500"});case"click":return i.jsx(v3,{className:"w-4 h-4 text-emerald-500"});default:return i.jsx(uy,{className:"w-4 h-4 text-slate-400"})}};return i.jsxs("div",{className:"space-y-8 animate-in fade-in duration-700",children:[i.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[i.jsxs("div",{children:[i.jsxs("h2",{className:"text-4xl font-black tracking-tighter text-slate-900 flex items-center gap-3",children:[i.jsx(Xm,{className:"w-10 h-10 text-indigo-600"}),"Interaction Auditor"]}),i.jsxs("p",{className:"text-slate-500 font-bold uppercase text-[10px] tracking-widest mt-2 flex items-center gap-2",children:[i.jsx(pi,{className:"w-3 h-3"})," Real-time System Monitoring Active"]})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsxs("div",{className:"flex flex-col items-end",children:[i.jsx("span",{className:"text-[10px] font-black text-slate-400 uppercase",children:"Credits Mode"}),i.jsx(It,{variant:"outline",className:"bg-emerald-50 text-emerald-700 border-emerald-200 font-black",children:"UNLIMITED ELITE"})]}),i.jsx(Oe,{variant:"outline",size:"icon",onClick:d,disabled:n,className:"rounded-xl border-2 h-12 w-12",children:i.jsx(pc,{className:`w-5 h-5 ${n?"animate-spin":""}`})})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[i.jsx(Nt,{className:"border-2 border-slate-100 shadow-xl shadow-slate-200/40 rounded-[2rem] overflow-hidden group",children:i.jsxs(zs,{className:"p-8",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("div",{className:"w-12 h-12 rounded-2xl bg-blue-50 flex items-center justify-center text-blue-600",children:i.jsx(uy,{className:"w-6 h-6"})}),i.jsx("span",{className:"text-[10px] font-black text-slate-400 uppercase",children:"Live Feed"})]}),i.jsx("h4",{className:"text-3xl font-black text-slate-900",children:l.totalInteractions}),i.jsx("p",{className:"text-xs font-bold text-slate-500 mt-1 uppercase tracking-wider",children:"Captured Logs"})]})}),i.jsx(Nt,{className:"border-2 border-slate-100 shadow-xl shadow-slate-200/40 rounded-[2rem] overflow-hidden",children:i.jsxs(zs,{className:"p-8",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("div",{className:"w-12 h-12 rounded-2xl bg-amber-50 flex items-center justify-center text-amber-600",children:i.jsx(En,{className:"w-6 h-6"})}),i.jsx("span",{className:"text-[10px] font-black text-slate-400 uppercase",children:"Engine"})]}),i.jsx("h4",{className:"text-3xl font-black text-slate-900",children:l.aiCalls}),i.jsx("p",{className:"text-xs font-bold text-slate-500 mt-1 uppercase tracking-wider",children:"AI Deductions"})]})}),i.jsx(Nt,{className:"border-2 border-slate-100 shadow-xl shadow-slate-200/40 rounded-[2rem] overflow-hidden",children:i.jsxs(zs,{className:"p-8",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("div",{className:"w-12 h-12 rounded-2xl bg-indigo-50 flex items-center justify-center text-indigo-600",children:i.jsx(hD,{className:"w-6 h-6"})}),i.jsx("span",{className:"text-[10px] font-black text-slate-400 uppercase",children:"Coverage"})]}),i.jsx("h4",{className:"text-3xl font-black text-slate-900",children:l.uniquePages}),i.jsx("p",{className:"text-xs font-bold text-slate-500 mt-1 uppercase tracking-wider",children:"Active Modules"})]})}),i.jsx(Nt,{className:"border-2 bg-slate-900 text-white shadow-xl shadow-indigo-900/10 rounded-[2rem] overflow-hidden",children:i.jsxs(zs,{className:"p-8",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("div",{className:"w-12 h-12 rounded-2xl bg-emerald-500/20 flex items-center justify-center text-emerald-400",children:i.jsx(H3,{className:"w-6 h-6"})}),i.jsx("span",{className:"text-[10px] font-black text-slate-400 uppercase",children:"Latency"})]}),i.jsx("h4",{className:"text-3xl font-black text-white",children:l.uptime}),i.jsx("p",{className:"text-xs font-bold text-slate-400 mt-1 uppercase tracking-wider",children:"System State"})]})})]}),i.jsxs(Nt,{className:"border-2 border-slate-100 shadow-2xl shadow-slate-200/60 rounded-[2.5rem] overflow-hidden bg-white",children:[i.jsx(Bo,{className:"p-8 border-b border-slate-50",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsxs(zo,{className:"text-2xl font-black tracking-tight flex items-center gap-2",children:[i.jsx(qa,{className:"w-6 h-6 text-slate-400"}),"Activity Audit Trail"]}),i.jsx(dc,{className:"text-xs font-bold uppercase tracking-widest text-slate-400 mt-1",children:"Every interaction is captured and verified"})]}),i.jsx(It,{variant:"secondary",className:"px-3 py-1 rounded-lg bg-slate-100 text-slate-600 font-bold uppercase text-[9px]",children:"Last 50 Events"})]})}),i.jsx(zs,{className:"p-0",children:i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"w-full text-sm text-left",children:[i.jsx("thead",{className:"bg-slate-50/50 border-b border-slate-100",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-8 py-4 font-black uppercase text-[10px] tracking-widest text-slate-500",children:"Type"}),i.jsx("th",{className:"px-4 py-4 font-black uppercase text-[10px] tracking-widest text-slate-500",children:"Entity / Page"}),i.jsx("th",{className:"px-4 py-4 font-black uppercase text-[10px] tracking-widest text-slate-500",children:"Timestamp"}),i.jsx("th",{className:"px-8 py-4 font-black uppercase text-[10px] tracking-widest text-slate-500 text-right",children:"Audit ID"})]})}),i.jsxs("tbody",{children:[i.jsx(Yi,{mode:"popLayout",children:e.map(p=>i.jsxs(wt.tr,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,scale:.95},className:"group hover:bg-slate-50/50 border-b border-slate-50 last:border-none transition-colors",children:[i.jsx("td",{className:"px-8 py-5",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-8 h-8 rounded-lg bg-slate-100 flex items-center justify-center group-hover:scale-110 transition-transform",children:f(p.activity_type)}),i.jsx("span",{className:"font-bold text-slate-900 text-sm capitalize",children:(p.activity_type||"system").replace(/_/g," ")})]})}),i.jsx("td",{className:"py-5 px-4",children:i.jsx("span",{className:"px-3 py-1 rounded-full bg-slate-50 text-slate-600 text-[10px] font-black uppercase tracking-wider border border-slate-200",children:p.topic||"Unknown Page"})}),i.jsx("td",{className:"py-5 px-4",children:i.jsxs("div",{className:"flex flex-col",children:[i.jsx("span",{className:"text-xs font-bold text-slate-700",children:fc(new Date(p.created_date),"HH:mm:ss")}),i.jsx("span",{className:"text-[10px] text-slate-400 font-medium",children:fc(new Date(p.created_date),"MMM dd, yyyy")})]})}),i.jsx("td",{className:"py-5 text-right px-8",children:i.jsxs("code",{className:"text-[10px] font-bold bg-slate-100 px-2 py-0.5 rounded text-slate-400 uppercase tracking-tighter",children:["AUD-",p.id||"N/A"]})})]},p.id))}),e.length===0&&i.jsx("tr",{children:i.jsx("td",{colSpan:4,className:"h-64 text-center",children:i.jsxs("div",{className:"flex flex-col items-center gap-3 opacity-20",children:[i.jsx(uy,{className:"w-12 h-12"}),i.jsx("p",{className:"font-black uppercase tracking-widest text-xs",children:"No interactions documented yet"})]})})})]})]})})})]}),i.jsxs("div",{className:"bg-indigo-600 rounded-[2rem] p-10 text-white relative overflow-hidden shadow-2xl shadow-indigo-500/30",children:[i.jsx("div",{className:"absolute top-0 right-0 p-20 opacity-10 -rotate-12 translate-x-10 -translate-y-10 group-hover:rotate-0 transition-transform duration-700",children:i.jsx(Xm,{className:"w-64 h-64"})}),i.jsxs("div",{className:"relative",children:[i.jsxs("h3",{className:"text-2xl font-black mb-2 flex items-center gap-3",children:[i.jsx(En,{className:"w-6 h-6 text-amber-400 fill-current"}),"Interaction Engine V3.0"]}),i.jsx("p",{className:"text-indigo-100 font-bold max-w-2xl text-sm leading-relaxed",children:"The auditor captures high-precision forensic data of all platform usage. In unlimited mode, we track logic flows rather than credit depletion to maintain system integrity."}),i.jsx("div",{className:"flex flex-wrap gap-4 mt-8",children:["Force Sync","Purge Audit","Export Log"].map(p=>i.jsx(Oe,{variant:"outline",className:"bg-white/10 border-white/20 text-white hover:bg-white hover:text-indigo-600 rounded-xl font-bold uppercase text-[10px] tracking-widest h-10 px-6 transition-all",children:p},p))})]})]})]})}function pee(e){const t=mee(e),n=b.forwardRef((r,s)=>{const{children:o,...l}=r,u=b.Children.toArray(o),d=u.find(xee);if(d){const f=d.props.children,p=u.map(m=>m===d?b.Children.count(f)>1?b.Children.only(null):b.isValidElement(f)?f.props.children:null:m);return i.jsx(t,{...l,ref:s,children:b.isValidElement(f)?b.cloneElement(f,void 0,p):null})}return i.jsx(t,{...l,ref:s,children:o})});return n.displayName=`${e}.Slot`,n}function mee(e){const t=b.forwardRef((n,r)=>{const{children:s,...o}=n;if(b.isValidElement(s)){const l=vee(s),u=yee(o,s.props);return s.type!==b.Fragment&&(u.ref=r?na(r,l):l),b.cloneElement(s,u)}return b.Children.count(s)>1?b.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var gee=Symbol("radix.slottable");function xee(e){return b.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===gee}function yee(e,t){const n={...t};for(const r in t){const s=e[r],o=t[r];/^on[A-Z]/.test(r)?s&&o?n[r]=(...u)=>{const d=o(...u);return s(...u),d}:s&&(n[r]=s):r==="style"?n[r]={...s,...o}:r==="className"&&(n[r]=[s,o].filter(Boolean).join(" "))}return{...e,...n}}function vee(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var Ox="Popover",[iO]=xi(Ox,[fd]),Bh=fd(),[bee,ul]=iO(Ox),aO=e=>{const{__scopePopover:t,children:n,open:r,defaultOpen:s,onOpenChange:o,modal:l=!1}=e,u=Bh(t),d=b.useRef(null),[f,p]=b.useState(!1),[m,x]=Zo({prop:r,defaultProp:s??!1,onChange:o,caller:Ox});return i.jsx(mw,{...u,children:i.jsx(bee,{scope:t,contentId:hi(),triggerRef:d,open:m,onOpenChange:x,onOpenToggle:b.useCallback(()=>x(v=>!v),[x]),hasCustomAnchor:f,onCustomAnchorAdd:b.useCallback(()=>p(!0),[]),onCustomAnchorRemove:b.useCallback(()=>p(!1),[]),modal:l,children:n})})};aO.displayName=Ox;var oO="PopoverAnchor",wee=b.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,s=ul(oO,n),o=Bh(n),{onCustomAnchorAdd:l,onCustomAnchorRemove:u}=s;return b.useEffect(()=>(l(),()=>u()),[l,u]),i.jsx(ix,{...o,...r,ref:t})});wee.displayName=oO;var lO="PopoverTrigger",cO=b.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,s=ul(lO,n),o=Bh(n),l=qt(t,s.triggerRef),u=i.jsx(At.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":pO(s.open),...r,ref:l,onClick:nt(e.onClick,s.onOpenToggle)});return s.hasCustomAnchor?u:i.jsx(ix,{asChild:!0,...o,children:u})});cO.displayName=lO;var X1="PopoverPortal",[jee,Nee]=iO(X1,{forceMount:void 0}),uO=e=>{const{__scopePopover:t,forceMount:n,children:r,container:s}=e,o=ul(X1,t);return i.jsx(jee,{scope:t,forceMount:n,children:i.jsx(Kr,{present:n||o.open,children:i.jsx(Sh,{asChild:!0,container:s,children:r})})})};uO.displayName=X1;var rd="PopoverContent",dO=b.forwardRef((e,t)=>{const n=Nee(rd,e.__scopePopover),{forceMount:r=n.forceMount,...s}=e,o=ul(rd,e.__scopePopover);return i.jsx(Kr,{present:r||o.open,children:o.modal?i.jsx(kee,{...s,ref:t}):i.jsx(_ee,{...s,ref:t})})});dO.displayName=rd;var See=pee("PopoverContent.RemoveScroll"),kee=b.forwardRef((e,t)=>{const n=ul(rd,e.__scopePopover),r=b.useRef(null),s=qt(t,r),o=b.useRef(!1);return b.useEffect(()=>{const l=r.current;if(l)return Zg(l)},[]),i.jsx(kh,{as:See,allowPinchZoom:!0,children:i.jsx(fO,{...e,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:nt(e.onCloseAutoFocus,l=>{var u;l.preventDefault(),o.current||(u=n.triggerRef.current)==null||u.focus()}),onPointerDownOutside:nt(e.onPointerDownOutside,l=>{const u=l.detail.originalEvent,d=u.button===0&&u.ctrlKey===!0,f=u.button===2||d;o.current=f},{checkForDefaultPrevented:!1}),onFocusOutside:nt(e.onFocusOutside,l=>l.preventDefault(),{checkForDefaultPrevented:!1})})})}),_ee=b.forwardRef((e,t)=>{const n=ul(rd,e.__scopePopover),r=b.useRef(!1),s=b.useRef(!1);return i.jsx(fO,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var l,u;(l=e.onCloseAutoFocus)==null||l.call(e,o),o.defaultPrevented||(r.current||(u=n.triggerRef.current)==null||u.focus(),o.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:o=>{var d,f;(d=e.onInteractOutside)==null||d.call(e,o),o.defaultPrevented||(r.current=!0,o.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const l=o.target;((f=n.triggerRef.current)==null?void 0:f.contains(l))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&s.current&&o.preventDefault()}})}),fO=b.forwardRef((e,t)=>{const{__scopePopover:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:o,disableOutsidePointerEvents:l,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:p,...m}=e,x=ul(rd,n),v=Bh(n);return Xg(),i.jsx(Nh,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:o,children:i.jsx(jh,{asChild:!0,disableOutsidePointerEvents:l,onInteractOutside:p,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onDismiss:()=>x.onOpenChange(!1),children:i.jsx(gw,{"data-state":pO(x.open),role:"dialog",id:x.contentId,...v,...m,ref:t,style:{...m.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),hO="PopoverClose",Cee=b.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,s=ul(hO,n);return i.jsx(At.button,{type:"button",...r,ref:t,onClick:nt(e.onClick,()=>s.onOpenChange(!1))})});Cee.displayName=hO;var Eee="PopoverArrow",Pee=b.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,s=Bh(n);return i.jsx(xw,{...s,...r,ref:t})});Pee.displayName=Eee;function pO(e){return e?"open":"closed"}var Aee=aO,Tee=cO,Ree=uO,mO=dO;const Iee=Aee,Mee=Tee,gO=b.forwardRef(({className:e,align:t="center",sideOffset:n=4,...r},s)=>i.jsx(Ree,{children:i.jsx(mO,{ref:s,align:t,sideOffset:n,className:Ne("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r})}));gO.displayName=mO.displayName;function Oee(e,t){return b.useReducer((n,r)=>t[n][r]??n,e)}var J1="ScrollArea",[xO]=xi(J1),[Dee,Hs]=xO(J1),yO=b.forwardRef((e,t)=>{const{__scopeScrollArea:n,type:r="hover",dir:s,scrollHideDelay:o=600,...l}=e,[u,d]=b.useState(null),[f,p]=b.useState(null),[m,x]=b.useState(null),[v,S]=b.useState(null),[N,_]=b.useState(null),[P,T]=b.useState(0),[I,L]=b.useState(0),[z,$]=b.useState(!1),[V,W]=b.useState(!1),F=qt(t,H=>d(H)),Y=vh(s);return i.jsx(Dee,{scope:n,type:r,dir:Y,scrollHideDelay:o,scrollArea:u,viewport:f,onViewportChange:p,content:m,onContentChange:x,scrollbarX:v,onScrollbarXChange:S,scrollbarXEnabled:z,onScrollbarXEnabledChange:$,scrollbarY:N,onScrollbarYChange:_,scrollbarYEnabled:V,onScrollbarYEnabledChange:W,onCornerWidthChange:T,onCornerHeightChange:L,children:i.jsx(At.div,{dir:Y,...l,ref:F,style:{position:"relative","--radix-scroll-area-corner-width":P+"px","--radix-scroll-area-corner-height":I+"px",...e.style}})})});yO.displayName=J1;var vO="ScrollAreaViewport",bO=b.forwardRef((e,t)=>{const{__scopeScrollArea:n,children:r,nonce:s,...o}=e,l=Hs(vO,n),u=b.useRef(null),d=qt(t,u,l.onViewportChange);return i.jsxs(i.Fragment,{children:[i.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),i.jsx(At.div,{"data-radix-scroll-area-viewport":"",...o,ref:d,style:{overflowX:l.scrollbarXEnabled?"scroll":"hidden",overflowY:l.scrollbarYEnabled?"scroll":"hidden",...e.style},children:i.jsx("div",{ref:l.onContentChange,style:{minWidth:"100%",display:"table"},children:r})})]})});bO.displayName=vO;var sa="ScrollAreaScrollbar",Z1=b.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=Hs(sa,e.__scopeScrollArea),{onScrollbarXEnabledChange:o,onScrollbarYEnabledChange:l}=s,u=e.orientation==="horizontal";return b.useEffect(()=>(u?o(!0):l(!0),()=>{u?o(!1):l(!1)}),[u,o,l]),s.type==="hover"?i.jsx(Lee,{...r,ref:t,forceMount:n}):s.type==="scroll"?i.jsx(Fee,{...r,ref:t,forceMount:n}):s.type==="auto"?i.jsx(wO,{...r,ref:t,forceMount:n}):s.type==="always"?i.jsx(ej,{...r,ref:t}):null});Z1.displayName=sa;var Lee=b.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=Hs(sa,e.__scopeScrollArea),[o,l]=b.useState(!1);return b.useEffect(()=>{const u=s.scrollArea;let d=0;if(u){const f=()=>{window.clearTimeout(d),l(!0)},p=()=>{d=window.setTimeout(()=>l(!1),s.scrollHideDelay)};return u.addEventListener("pointerenter",f),u.addEventListener("pointerleave",p),()=>{window.clearTimeout(d),u.removeEventListener("pointerenter",f),u.removeEventListener("pointerleave",p)}}},[s.scrollArea,s.scrollHideDelay]),i.jsx(Kr,{present:n||o,children:i.jsx(wO,{"data-state":o?"visible":"hidden",...r,ref:t})})}),Fee=b.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=Hs(sa,e.__scopeScrollArea),o=e.orientation==="horizontal",l=Lx(()=>d("SCROLL_END"),100),[u,d]=Oee("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return b.useEffect(()=>{if(u==="idle"){const f=window.setTimeout(()=>d("HIDE"),s.scrollHideDelay);return()=>window.clearTimeout(f)}},[u,s.scrollHideDelay,d]),b.useEffect(()=>{const f=s.viewport,p=o?"scrollLeft":"scrollTop";if(f){let m=f[p];const x=()=>{const v=f[p];m!==v&&(d("SCROLL"),l()),m=v};return f.addEventListener("scroll",x),()=>f.removeEventListener("scroll",x)}},[s.viewport,o,d,l]),i.jsx(Kr,{present:n||u!=="hidden",children:i.jsx(ej,{"data-state":u==="hidden"?"hidden":"visible",...r,ref:t,onPointerEnter:nt(e.onPointerEnter,()=>d("POINTER_ENTER")),onPointerLeave:nt(e.onPointerLeave,()=>d("POINTER_LEAVE"))})})}),wO=b.forwardRef((e,t)=>{const n=Hs(sa,e.__scopeScrollArea),{forceMount:r,...s}=e,[o,l]=b.useState(!1),u=e.orientation==="horizontal",d=Lx(()=>{if(n.viewport){const f=n.viewport.offsetWidth<n.viewport.scrollWidth,p=n.viewport.offsetHeight<n.viewport.scrollHeight;l(u?f:p)}},10);return sd(n.viewport,d),sd(n.content,d),i.jsx(Kr,{present:r||o,children:i.jsx(ej,{"data-state":o?"visible":"hidden",...s,ref:t})})}),ej=b.forwardRef((e,t)=>{const{orientation:n="vertical",...r}=e,s=Hs(sa,e.__scopeScrollArea),o=b.useRef(null),l=b.useRef(0),[u,d]=b.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),f=_O(u.viewport,u.content),p={...r,sizes:u,onSizesChange:d,hasThumb:f>0&&f<1,onThumbChange:x=>o.current=x,onThumbPointerUp:()=>l.current=0,onThumbPointerDown:x=>l.current=x};function m(x,v){return Wee(x,l.current,u,v)}return n==="horizontal"?i.jsx($ee,{...p,ref:t,onThumbPositionChange:()=>{if(s.viewport&&o.current){const x=s.viewport.scrollLeft,v=lC(x,u,s.dir);o.current.style.transform=`translate3d(${v}px, 0, 0)`}},onWheelScroll:x=>{s.viewport&&(s.viewport.scrollLeft=x)},onDragScroll:x=>{s.viewport&&(s.viewport.scrollLeft=m(x,s.dir))}}):n==="vertical"?i.jsx(Bee,{...p,ref:t,onThumbPositionChange:()=>{if(s.viewport&&o.current){const x=s.viewport.scrollTop,v=lC(x,u);o.current.style.transform=`translate3d(0, ${v}px, 0)`}},onWheelScroll:x=>{s.viewport&&(s.viewport.scrollTop=x)},onDragScroll:x=>{s.viewport&&(s.viewport.scrollTop=m(x))}}):null}),$ee=b.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...s}=e,o=Hs(sa,e.__scopeScrollArea),[l,u]=b.useState(),d=b.useRef(null),f=qt(t,d,o.onScrollbarXChange);return b.useEffect(()=>{d.current&&u(getComputedStyle(d.current))},[d]),i.jsx(NO,{"data-orientation":"horizontal",...s,ref:f,sizes:n,style:{bottom:0,left:o.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:o.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Dx(n)+"px",...e.style},onThumbPointerDown:p=>e.onThumbPointerDown(p.x),onDragScroll:p=>e.onDragScroll(p.x),onWheelScroll:(p,m)=>{if(o.viewport){const x=o.viewport.scrollLeft+p.deltaX;e.onWheelScroll(x),EO(x,m)&&p.preventDefault()}},onResize:()=>{d.current&&o.viewport&&l&&r({content:o.viewport.scrollWidth,viewport:o.viewport.offsetWidth,scrollbar:{size:d.current.clientWidth,paddingStart:Bg(l.paddingLeft),paddingEnd:Bg(l.paddingRight)}})}})}),Bee=b.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...s}=e,o=Hs(sa,e.__scopeScrollArea),[l,u]=b.useState(),d=b.useRef(null),f=qt(t,d,o.onScrollbarYChange);return b.useEffect(()=>{d.current&&u(getComputedStyle(d.current))},[d]),i.jsx(NO,{"data-orientation":"vertical",...s,ref:f,sizes:n,style:{top:0,right:o.dir==="ltr"?0:void 0,left:o.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Dx(n)+"px",...e.style},onThumbPointerDown:p=>e.onThumbPointerDown(p.y),onDragScroll:p=>e.onDragScroll(p.y),onWheelScroll:(p,m)=>{if(o.viewport){const x=o.viewport.scrollTop+p.deltaY;e.onWheelScroll(x),EO(x,m)&&p.preventDefault()}},onResize:()=>{d.current&&o.viewport&&l&&r({content:o.viewport.scrollHeight,viewport:o.viewport.offsetHeight,scrollbar:{size:d.current.clientHeight,paddingStart:Bg(l.paddingTop),paddingEnd:Bg(l.paddingBottom)}})}})}),[zee,jO]=xO(sa),NO=b.forwardRef((e,t)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:s,onThumbChange:o,onThumbPointerUp:l,onThumbPointerDown:u,onThumbPositionChange:d,onDragScroll:f,onWheelScroll:p,onResize:m,...x}=e,v=Hs(sa,n),[S,N]=b.useState(null),_=qt(t,F=>N(F)),P=b.useRef(null),T=b.useRef(""),I=v.viewport,L=r.content-r.viewport,z=Nr(p),$=Nr(d),V=Lx(m,10);function W(F){if(P.current){const Y=F.clientX-P.current.left,H=F.clientY-P.current.top;f({x:Y,y:H})}}return b.useEffect(()=>{const F=Y=>{const H=Y.target;(S==null?void 0:S.contains(H))&&z(Y,L)};return document.addEventListener("wheel",F,{passive:!1}),()=>document.removeEventListener("wheel",F,{passive:!1})},[I,S,L,z]),b.useEffect($,[r,$]),sd(S,V),sd(v.content,V),i.jsx(zee,{scope:n,scrollbar:S,hasThumb:s,onThumbChange:Nr(o),onThumbPointerUp:Nr(l),onThumbPositionChange:$,onThumbPointerDown:Nr(u),children:i.jsx(At.div,{...x,ref:_,style:{position:"absolute",...x.style},onPointerDown:nt(e.onPointerDown,F=>{F.button===0&&(F.target.setPointerCapture(F.pointerId),P.current=S.getBoundingClientRect(),T.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",v.viewport&&(v.viewport.style.scrollBehavior="auto"),W(F))}),onPointerMove:nt(e.onPointerMove,W),onPointerUp:nt(e.onPointerUp,F=>{const Y=F.target;Y.hasPointerCapture(F.pointerId)&&Y.releasePointerCapture(F.pointerId),document.body.style.webkitUserSelect=T.current,v.viewport&&(v.viewport.style.scrollBehavior=""),P.current=null})})})}),$g="ScrollAreaThumb",SO=b.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=jO($g,e.__scopeScrollArea);return i.jsx(Kr,{present:n||s.hasThumb,children:i.jsx(Uee,{ref:t,...r})})}),Uee=b.forwardRef((e,t)=>{const{__scopeScrollArea:n,style:r,...s}=e,o=Hs($g,n),l=jO($g,n),{onThumbPositionChange:u}=l,d=qt(t,m=>l.onThumbChange(m)),f=b.useRef(void 0),p=Lx(()=>{f.current&&(f.current(),f.current=void 0)},100);return b.useEffect(()=>{const m=o.viewport;if(m){const x=()=>{if(p(),!f.current){const v=qee(m,u);f.current=v,u()}};return u(),m.addEventListener("scroll",x),()=>m.removeEventListener("scroll",x)}},[o.viewport,p,u]),i.jsx(At.div,{"data-state":l.hasThumb?"visible":"hidden",...s,ref:d,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:nt(e.onPointerDownCapture,m=>{const v=m.target.getBoundingClientRect(),S=m.clientX-v.left,N=m.clientY-v.top;l.onThumbPointerDown({x:S,y:N})}),onPointerUp:nt(e.onPointerUp,l.onThumbPointerUp)})});SO.displayName=$g;var tj="ScrollAreaCorner",kO=b.forwardRef((e,t)=>{const n=Hs(tj,e.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?i.jsx(Vee,{...e,ref:t}):null});kO.displayName=tj;var Vee=b.forwardRef((e,t)=>{const{__scopeScrollArea:n,...r}=e,s=Hs(tj,n),[o,l]=b.useState(0),[u,d]=b.useState(0),f=!!(o&&u);return sd(s.scrollbarX,()=>{var m;const p=((m=s.scrollbarX)==null?void 0:m.offsetHeight)||0;s.onCornerHeightChange(p),d(p)}),sd(s.scrollbarY,()=>{var m;const p=((m=s.scrollbarY)==null?void 0:m.offsetWidth)||0;s.onCornerWidthChange(p),l(p)}),f?i.jsx(At.div,{...r,ref:t,style:{width:o,height:u,position:"absolute",right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function Bg(e){return e?parseInt(e,10):0}function _O(e,t){const n=e/t;return isNaN(n)?0:n}function Dx(e){const t=_O(e.viewport,e.content),n=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,r=(e.scrollbar.size-n)*t;return Math.max(r,18)}function Wee(e,t,n,r="ltr"){const s=Dx(n),o=s/2,l=t||o,u=s-l,d=n.scrollbar.paddingStart+l,f=n.scrollbar.size-n.scrollbar.paddingEnd-u,p=n.content-n.viewport,m=r==="ltr"?[0,p]:[p*-1,0];return CO([d,f],m)(e)}function lC(e,t,n="ltr"){const r=Dx(t),s=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,o=t.scrollbar.size-s,l=t.content-t.viewport,u=o-r,d=n==="ltr"?[0,l]:[l*-1,0],f=Uv(e,d);return CO([0,l],[0,u])(f)}function CO(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}function EO(e,t){return e>0&&e<t}var qee=(e,t=()=>{})=>{let n={left:e.scrollLeft,top:e.scrollTop},r=0;return(function s(){const o={left:e.scrollLeft,top:e.scrollTop},l=n.left!==o.left,u=n.top!==o.top;(l||u)&&t(),n=o,r=window.requestAnimationFrame(s)})(),()=>window.cancelAnimationFrame(r)};function Lx(e,t){const n=Nr(e),r=b.useRef(0);return b.useEffect(()=>()=>window.clearTimeout(r.current),[]),b.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,t)},[n,t])}function sd(e,t){const n=Nr(t);kr(()=>{let r=0;if(e){const s=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return s.observe(e),()=>{window.cancelAnimationFrame(r),s.unobserve(e)}}},[e,n])}var PO=yO,Hee=bO,Kee=kO;const AO=b.forwardRef(({className:e,children:t,...n},r)=>i.jsxs(PO,{ref:r,className:Ne("relative overflow-hidden",e),...n,children:[i.jsx(Hee,{className:"h-full w-full rounded-[inherit]",children:t}),i.jsx(TO,{}),i.jsx(Kee,{})]}));AO.displayName=PO.displayName;const TO=b.forwardRef(({className:e,orientation:t="vertical",...n},r)=>i.jsx(Z1,{ref:r,orientation:t,className:Ne("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...n,children:i.jsx(SO,{className:"relative flex-1 rounded-full bg-border"})}));TO.displayName=Z1.displayName;const Gee=()=>{const{notifications:e,unreadCount:t,refreshNotifications:n}=Cw(),[r,s]=b.useState(!1),o=async(x,v)=>{v.stopPropagation(),await wE(x),await n()},l=async(x,v)=>{v.stopPropagation(),await NE(x),await n()},u=async()=>{await jE(),await n()},d=e.filter(x=>!x.dismissed).slice(0,5),f=d.filter(x=>!x.read),p=x=>{switch(x){case"assignment_deadline":case"assignment_overdue":return"";case"assignment_graded":return"";case"material_added":return"";default:return""}},m=x=>{switch(x){case"urgent":return"text-red-600 bg-red-50 border-red-200";case"high":return"text-orange-600 bg-orange-50 border-orange-200";case"medium":return"text-blue-600 bg-blue-50 border-blue-200";default:return"text-slate-600 bg-slate-50 border-slate-200"}};return i.jsxs(Iee,{open:r,onOpenChange:s,children:[i.jsx(Mee,{asChild:!0,children:i.jsxs(Oe,{variant:"ghost",size:"icon",className:"relative",children:[t>0?i.jsx(eD,{className:"w-5 h-5 text-blue-600 animate-pulse"}):i.jsx(fv,{className:"w-5 h-5"}),t>0&&i.jsx(It,{variant:"destructive",className:"absolute -top-1 -right-1 h-5 w-5 flex items-center justify-center p-0 text-xs",children:t>9?"9+":t})]})}),i.jsxs(gO,{className:"w-96 p-0",align:"end",children:[i.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[i.jsx("h3",{className:"font-semibold text-slate-900",children:"Notifications"}),f.length>0&&i.jsxs(Oe,{variant:"ghost",size:"sm",onClick:u,className:"text-xs text-blue-600 hover:text-blue-700",children:[i.jsx(Qu,{className:"w-3 h-3 mr-1"}),"Mark all read"]})]}),i.jsx(AO,{className:"h-[400px]",children:d.length===0?i.jsxs("div",{className:"flex flex-col items-center justify-center py-12 px-4 text-center",children:[i.jsx("div",{className:"w-16 h-16 rounded-full bg-slate-100 flex items-center justify-center mb-3",children:i.jsx(fv,{className:"w-8 h-8 text-slate-400"})}),i.jsx("p",{className:"font-medium text-slate-900",children:"No notifications"}),i.jsx("p",{className:"text-sm text-slate-500 mt-1",children:"You're all caught up!"})]}):i.jsx("div",{className:"divide-y divide-slate-100",children:d.map(x=>i.jsxs("div",{className:Ne("p-4 hover:bg-slate-50 transition-colors relative",!x.read&&"bg-blue-50/50"),children:[i.jsxs("div",{className:"flex gap-3",children:[i.jsx("div",{className:"flex-shrink-0 text-2xl",children:p(x.type)}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs("div",{className:"flex items-start justify-between gap-2",children:[i.jsx("h4",{className:"font-medium text-sm text-slate-900",children:x.title}),i.jsxs("div",{className:"flex items-center gap-1 flex-shrink-0",children:[!x.read&&i.jsx(Oe,{variant:"ghost",size:"icon",className:"h-6 w-6",onClick:v=>o(x.id,v),title:"Mark as read",children:i.jsx(Qu,{className:"w-3 h-3"})}),i.jsx(Oe,{variant:"ghost",size:"icon",className:"h-6 w-6 text-slate-400 hover:text-red-600",onClick:v=>l(x.id,v),title:"Dismiss",children:i.jsx(Dr,{className:"w-3 h-3"})})]})]}),i.jsx("p",{className:"text-sm text-slate-600 mt-1",children:x.message}),i.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[i.jsx(It,{variant:"outline",className:Ne("text-xs",m(x.priority)),children:x.priority}),i.jsx("span",{className:"text-xs text-slate-400",children:rw(new Date(x.created_date),{addSuffix:!0})})]})]})]}),!x.read&&i.jsx("div",{className:"absolute left-0 top-0 bottom-0 w-1 bg-blue-600"})]},x.id))})}),d.length>0&&i.jsxs(i.Fragment,{children:[i.jsx(Pg,{}),i.jsx("div",{className:"p-2",children:i.jsx(Oe,{variant:"ghost",className:"w-full text-sm text-blue-600 hover:text-blue-700",children:"View all notifications"})})]})]})]})},uv=[{name:"Dashboard",icon:s3,page:"Dashboard"},{name:"Modules",icon:Hn,page:"Modules"},{name:"Organizer",icon:FC,page:"AutoOrganizer"},{name:"Study Lab",icon:Kn,page:"StudyLab"},{name:"Monitoring",icon:Xm,page:"Monitoring"},{name:"Learning",icon:En,page:"LearningPath"},{name:"Books",icon:Hn,page:"PrescribedBooks"},{name:"Assignments",icon:Xo,page:"Assignments"}];function Yee({children:e,currentPageName:t}){const[n,r]=b.useState(0),[s,o]=b.useState(!1),[l,u]=b.useState(!1),[d,f]=b.useState(null);return b.useEffect(()=>{ke.wallet.getBalance().then(r);const p=setInterval(()=>{ke.wallet.getBalance().then(r)},5e3);return()=>clearInterval(p)},[]),i.jsxs("div",{className:"min-h-screen bg-slate-50 flex overflow-hidden",children:[i.jsx("style",{children:`
        .glass-sidebar {
          backdrop-filter: blur(25px);
          background: rgba(255, 255, 255, 0.9);
        }
        .gradient-border {
          border-image: linear-gradient(135deg, #3b82f633 0%, #8b5cf633 100%) 1;
        }
        .active-link {
          background: linear-gradient(90deg, #0f172a 0%, #1e293b 100%);
          box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
        }
      `}),i.jsxs("aside",{className:"hidden xl:flex flex-col w-20 h-screen glass-sidebar border-r border-slate-200/80 sticky top-0 z-[120] transition-all duration-500 hover:w-72 group/sidebar overflow-hidden",children:[i.jsx("div",{className:"p-4 flex flex-col items-center group-hover/sidebar:items-start group-hover/sidebar:p-8",children:i.jsxs(Mr,{to:qn("Dashboard"),className:"flex items-center gap-4 group",children:[i.jsx("div",{className:"w-12 h-12 rounded-2xl flex items-center justify-center p-2 bg-white shadow-xl shadow-blue-500/10 transition-transform group-hover:scale-105",children:i.jsx("img",{src:Ym,alt:"Study Buddy",className:"w-full h-full object-contain"})}),i.jsxs("div",{className:"opacity-0 group-hover/sidebar:opacity-100 transition-opacity duration-300",children:[i.jsx("h1",{className:"text-xl font-black text-slate-900 tracking-tight leading-none",children:"STUDY"}),i.jsx("h1",{className:"text-xl font-black text-blue-600 tracking-tight leading-none mt-1",children:"BUDDY"})]})]})}),i.jsx("nav",{className:"flex-1 px-4 py-8 space-y-4 overflow-y-auto pencil-scroll overflow-x-hidden",children:uv.map(p=>{const m=t===p.page;return i.jsxs(Mr,{to:qn(p.page),className:Ne("flex items-center gap-3 px-3 py-3.5 rounded-2xl transition-all duration-300 group/item relative",m?"active-link text-white":"text-slate-500 hover:bg-slate-100 hover:text-slate-900"),children:[i.jsx(p.icon,{className:Ne("w-6 h-6 min-w-[24px] transition-transform group-hover/item:scale-110",m?"text-blue-400":"text-slate-400")}),i.jsx("span",{className:"opacity-0 group-hover/sidebar:opacity-100 transition-opacity absolute left-16 whitespace-nowrap font-bold text-sm",children:p.name}),m&&i.jsx("div",{className:"absolute right-0 w-1 h-6 bg-blue-500 rounded-l-full group-hover/sidebar:hidden"})]},p.name)})}),i.jsx("div",{className:"p-4 mt-auto",children:i.jsxs("button",{onClick:()=>u(!l),className:Ne("w-12 h-12 group-hover/sidebar:w-full group-hover/sidebar:h-14 rounded-2xl flex items-center justify-center gap-3 shadow-xl transition-all",l?"bg-blue-600 text-white shadow-blue-500/30":"bg-slate-900 text-white hover:bg-black"),children:[l?i.jsx(Dr,{className:"w-6 h-6"}):i.jsx(sS,{className:"w-6 h-6"}),i.jsx("span",{className:"hidden group-hover/sidebar:inline font-bold text-sm",children:l?"Close Tools":"Explore Tools"})]})})]}),i.jsxs("main",{className:"flex-1 h-screen overflow-hidden flex flex-col relative w-full",children:[i.jsxs("header",{className:"hidden xl:flex h-20 bg-white/80 backdrop-blur-xl border-b border-slate-200 sticky top-0 z-[110] items-center justify-between px-10 flex-shrink-0",children:[i.jsxs("div",{className:"flex items-center gap-8",children:[i.jsxs("button",{onClick:()=>u(!l),className:Ne("flex items-center gap-2 px-6 py-2.5 rounded-full text-sm font-black transition-all active:scale-95 shadow-xl",l?"bg-blue-600 text-white shadow-blue-500/20":"bg-slate-900 text-white shadow-slate-900/10 hover:bg-slate-800"),children:[i.jsx(En,{className:Ne("w-4 h-4 transition-colors",l?"text-white":"text-amber-500 fill-current")}),l?"Closing Tools...":"Explore Tools",i.jsx(Vg,{className:Ne("w-4 h-4 transition-transform duration-300",l&&"rotate-180")})]}),i.jsx("div",{className:"h-8 w-px bg-slate-200"}),i.jsxs("div",{className:"flex items-center gap-6",children:[i.jsx(Mr,{to:qn("Dashboard"),className:Ne("text-xs font-black uppercase tracking-widest transition-colors",t==="Dashboard"?"text-blue-600":"text-slate-400 hover:text-slate-900"),children:"Feed"}),i.jsx(Mr,{to:qn("StudyLab"),className:Ne("text-xs font-black uppercase tracking-widest transition-colors",t==="StudyLab"?"text-blue-600":"text-slate-400 hover:text-slate-900"),children:"Lab"}),i.jsx(Mr,{to:qn("LearningPath"),className:Ne("text-xs font-black uppercase tracking-widest transition-colors",t==="LearningPath"?"text-blue-600":"text-slate-400 hover:text-slate-900"),children:"Upgrade"})]})]}),i.jsxs("div",{className:"flex items-center gap-6",children:[i.jsxs("div",{className:"flex items-center gap-3 px-4 py-2 bg-blue-900 text-white rounded-2xl shadow-lg",children:[i.jsx(aS,{className:"w-4 h-4 text-blue-400"}),i.jsxs("span",{className:"text-sm font-black tracking-tighter",children:[n," ",i.jsx("span",{className:"text-[8px] opacity-70",children:"CREDITS"})]}),i.jsx(Mr,{to:qn("Payment"),className:"ml-2 hover:scale-110 transition-transform",children:i.jsx(kD,{className:"w-4 h-4 text-emerald-400"})})]}),i.jsx(Gee,{}),i.jsx(Mr,{to:qn("Settings"),className:"w-10 h-10 rounded-full bg-slate-100 border border-slate-200 flex items-center justify-center hover:bg-slate-200 transition-colors",children:i.jsx(T3,{className:"w-5 h-5 text-slate-600"})})]})]}),i.jsxs("header",{className:"xl:hidden h-16 glass-sidebar border-b border-slate-200 sticky top-0 z-50 flex items-center justify-between px-6 flex-shrink-0",children:[i.jsx("button",{onClick:()=>o(!s),className:"p-2 -ml-2 rounded-xl text-slate-600 hover:bg-slate-100",children:s?i.jsx(Dr,{className:"w-6 h-6"}):i.jsx(sS,{className:"w-6 h-6"})}),i.jsx("img",{src:Ym,alt:"Logo",className:"w-8 h-8 object-contain"}),i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("span",{className:"text-sm font-black text-slate-900",children:n}),i.jsx("div",{className:"w-8 h-8 rounded-lg bg-gradient-to-br from-indigo-500 to-purple-600 flex items-center justify-center text-white text-xs font-black",children:"S"})]})]}),i.jsxs("div",{className:"flex-1 overflow-y-auto pencil-scroll scroll-smooth p-6 xl:p-10",children:[i.jsx("div",{className:"max-w-[1600px] mx-auto min-h-[calc(100vh-200px)]",children:e}),i.jsxs("footer",{className:"mt-20 pt-10 border-t border-slate-100 flex flex-col sm:flex-row items-center justify-between gap-4 text-slate-400 text-[10px] font-bold uppercase tracking-widest pb-10",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("span",{children:" 2026 Nabster Tsr"}),i.jsxs("span",{className:"flex items-center gap-1",children:[i.jsx(En,{className:"w-3 h-3 text-amber-500"})," Professional Tier"]})]}),i.jsxs("div",{className:"flex items-center gap-6",children:[i.jsx("a",{href:"#",className:"hover:text-slate-900 transition-colors",children:"Privacy"}),i.jsx("a",{href:"#",className:"hover:text-slate-900 transition-colors",children:"Terms"}),i.jsx(Mr,{to:qn("Payment"),className:"text-blue-600 hover:text-blue-700 font-black",children:"Upgrade Now"})]})]})]}),i.jsx("footer",{className:"w-full bg-white border-t border-slate-200 p-4 flex-shrink-0 z-40",children:i.jsxs("div",{className:"max-w-[1920px] mx-auto flex items-center justify-between text-[10px] text-slate-400 font-bold uppercase tracking-widest px-4",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("span",{children:" 2026 Nabster Tsr"}),i.jsxs("span",{className:"flex items-center gap-1",children:[i.jsx(En,{className:"w-3 h-3 text-amber-500"})," System Active"]})]}),i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsxs("span",{children:["Credits: ",n," / "]}),i.jsx(Mr,{to:qn("Payment"),className:"text-blue-600 hover:underline",children:"Upgrade Plan"})]})]})}),i.jsx(Yi,{children:s&&i.jsxs("div",{className:"xl:hidden fixed inset-0 z-[60] flex",children:[i.jsx(wt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-slate-900/60 backdrop-blur-sm",onClick:()=>o(!1)}),i.jsxs(wt.div,{initial:{x:"-100%"},animate:{x:0},exit:{x:"-100%"},transition:{type:"spring",damping:25,stiffness:200},className:"relative w-4/5 max-w-sm h-full bg-white shadow-2xl flex flex-col",children:[i.jsxs("div",{className:"p-8 flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("img",{src:Ym,alt:"Logo",className:"w-10 h-10 object-contain"}),i.jsx("span",{className:"font-black text-xl tracking-tight",children:"STUDY BUDDY"})]}),i.jsx("button",{onClick:()=>o(!1),className:"p-2 rounded-xl bg-slate-100",children:i.jsx(Dr,{className:"w-5 h-5"})})]}),i.jsx("nav",{className:"flex-1 px-4 space-y-1 overflow-y-auto",children:uv.map(p=>i.jsxs(Mr,{to:qn(p.page),onClick:()=>o(!1),className:Ne("flex items-center gap-4 px-6 py-4 rounded-2xl text-lg font-black transition-all",t===p.page?"active-link text-white shadow-lg":"text-slate-600 hover:bg-slate-50"),children:[i.jsx(p.icon,{className:"w-6 h-6"}),i.jsx("span",{children:p.name})]},p.name))})]})]})})]}),i.jsx(Yi,{children:l&&i.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 lg:p-10 pt-24 lg:pt-32",children:[i.jsx(wt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-slate-950/90 backdrop-blur-2xl",onClick:()=>u(!1)}),i.jsxs(wt.div,{initial:{opacity:0,scale:.9,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:20},className:"relative w-full max-w-7xl h-full lg:h-[75vh] bg-white rounded-[3rem] lg:rounded-[4rem] shadow-[0_50px_100px_rgba(0,0,0,0.5)] border border-white/20 overflow-hidden flex flex-col lg:flex-row",children:[i.jsxs("div",{className:"flex-1 p-8 lg:p-14 overflow-y-auto pencil-scroll",children:[i.jsxs("div",{className:"flex items-center justify-between mb-10",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("div",{className:"w-14 h-14 rounded-2xl bg-indigo-600 flex items-center justify-center shadow-xl shadow-indigo-200/50",children:i.jsx(Ft,{className:"w-7 h-7 text-white"})}),i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("h3",{className:"text-2xl font-black text-slate-900 tracking-tight uppercase leading-none",children:"AI Study Suite"}),i.jsx("span",{className:"px-2 py-0.5 rounded-full bg-blue-100 text-blue-600 text-[8px] font-black uppercase tracking-widest",children:"Enhanced V2"})]}),i.jsx("p",{className:"text-slate-400 font-bold text-[10px] uppercase tracking-widest mt-2",children:"Professional Learning Ecosystem"})]})]}),i.jsx("button",{onClick:()=>u(!1),className:"p-3 rounded-2xl bg-slate-100 hover:bg-slate-200 transition-colors lg:hidden",children:i.jsx(Dr,{className:"w-6 h-6 text-slate-600"})})]}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 pb-10",children:uv.map(p=>{const m=t===p.page;return i.jsxs(Mr,{to:qn(p.page),onClick:()=>u(!1),className:Ne("group/item flex items-center gap-5 p-5 rounded-[2rem] transition-all border shadow-sm hover:shadow-xl hover:-translate-y-0.5",m?"bg-blue-50 border-blue-200 shadow-blue-500/5":"bg-white hover:bg-slate-50 border-slate-100 hover:border-blue-400"),children:[i.jsx("div",{className:Ne("w-16 h-16 rounded-[1.5rem] border flex items-center justify-center transition-all group-hover/item:scale-105 group-hover/item:-rotate-3 group-hover/item:shadow-md",m?"bg-white border-blue-200 shadow-sm":"bg-slate-50 border-slate-100 group-hover/item:bg-white group-hover/item:border-blue-200"),children:i.jsx(p.icon,{className:Ne("w-7 h-7 transition-colors",m?"text-blue-600":"text-slate-400 group-hover/item:text-blue-500")})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:Ne("text-lg font-black leading-none transition-colors",m?"text-blue-700":"text-slate-900 group-hover/item:text-blue-600"),children:p.name}),i.jsxs("div",{className:"flex items-center gap-2 mt-2.5",children:[i.jsx("span",{className:Ne("h-1 w-6 rounded-full transition-colors",m?"bg-blue-600":"bg-slate-100 group-hover/item:bg-blue-400")}),i.jsx("p",{className:"text-[9px] text-slate-400 font-black uppercase tracking-widest truncate",children:m?"Currently Viewing":"Access Tool"})]})]}),i.jsx(Hi,{className:Ne("w-4 h-4 transition-all",m?"text-blue-500":"text-slate-200 group-hover/item:text-blue-500 group-hover/item:translate-x-1")})]},p.name)})}),i.jsxs("div",{className:"mt-4 pt-8 border-t border-slate-100 hidden lg:flex items-center gap-10",children:[i.jsxs("div",{className:"flex flex-col",children:[i.jsx("span",{className:"text-[9px] font-black text-slate-400 uppercase tracking-widest",children:"Platform Version"}),i.jsx("span",{className:"text-xs font-black text-slate-900",children:"ACADEMIC v19.0.2"})]}),i.jsxs("div",{className:"flex flex-col",children:[i.jsx("span",{className:"text-[9px] font-black text-slate-400 uppercase tracking-widest",children:"Backend Nodes"}),i.jsx("span",{className:"text-xs font-black text-slate-600",children:"3/3 ACTIVE"})]})]})]}),i.jsxs("div",{className:"w-full lg:w-[420px] bg-slate-50/80 backdrop-blur-md p-8 lg:p-14 border-l border-slate-100 flex flex-col overflow-y-auto pencil-scroll",children:[i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[i.jsx("div",{className:"p-3 bg-amber-50 rounded-2xl shadow-sm border border-amber-100",children:i.jsx(aS,{className:"w-7 h-7 text-amber-600"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-xl font-black text-slate-900 tracking-tight uppercase leading-none",children:"Wallet"}),i.jsx("p",{className:"text-slate-400 font-bold text-[9px] uppercase tracking-widest mt-2 px-0.5",children:"Control Panel"})]})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsx("p",{className:"text-[9px] font-black text-slate-400 uppercase tracking-widest px-1",children:"Acquire Credits"}),i.jsxs("a",{href:"https://www.paypal.com/ncp/payment/BSLN4YNSY3WH2",target:"_blank",className:"flex items-center justify-between p-6 bg-white rounded-[1.75rem] border-2 border-slate-100 hover:border-amber-400 hover:shadow-2xl transition-all group/pay shadow-sm",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("div",{className:"w-12 h-12 rounded-xl bg-amber-50 flex items-center justify-center",children:i.jsx("img",{src:"https://www.paypalobjects.com/webstatic/mktg/logo/pp_cc_mark_37x23.jpg",className:"h-5",alt:"PayPal"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-base font-black text-slate-900",children:"PayPal"}),i.jsx("p",{className:"text-[9px] text-slate-400 font-bold uppercase mt-1",children:"Global Standard"})]})]}),i.jsx(Hi,{className:"w-5 h-5 text-slate-200 group-hover/pay:text-amber-500 transition-all"})]}),i.jsxs("a",{href:"https://pay.yoco.com/r/7XPopK",target:"_blank",className:"flex items-center justify-between p-6 bg-white rounded-[1.75rem] border-2 border-slate-100 hover:border-blue-400 hover:shadow-2xl transition-all group/pay shadow-sm",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("div",{className:"w-12 h-12 rounded-xl bg-blue-50 flex items-center justify-center text-blue-600",children:i.jsx(OC,{className:"w-6 h-6"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-base font-black text-slate-900",children:"Card (Yoco)"}),i.jsx("p",{className:"text-[9px] text-slate-400 font-bold uppercase mt-1",children:"Secure Local Pay"})]})]}),i.jsx(Hi,{className:"w-5 h-5 text-slate-200 group-hover/pay:text-blue-500 transition-all"})]})]})]}),i.jsxs("div",{className:"mt-10 space-y-5",children:[i.jsxs("div",{className:"bg-white rounded-[1.75rem] p-7 border border-slate-100 shadow-xl shadow-slate-200/20 flex items-end justify-between relative overflow-hidden",children:[i.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-5",children:i.jsx(En,{className:"w-16 h-16"})}),i.jsxs("div",{className:"relative",children:[i.jsx("span",{className:"text-[9px] font-black text-slate-400 uppercase tracking-widest block mb-2",children:"My Balance"}),i.jsx("span",{className:"text-5xl font-black text-slate-900 tracking-tighter",children:n})]}),i.jsx("span",{className:"text-[9px] font-black text-slate-400 uppercase tracking-widest pb-1 relative",children:"Available"})]}),i.jsxs("p",{className:"text-[8px] text-slate-400 font-bold text-center leading-relaxed tracking-wider uppercase opacity-60",children:["Trusted by 10k+ Learners",i.jsx("br",{}),"Instant Credit Distribution"]})]})]})]})]})})]})}const Qee={Achievements:OF,Assignments:KU,Dashboard:NW,LearningPath:_W,Modules:PW,Payment:AW,Settings:zW,StudyLab:tee,Welcome:nee,PrescribedBooks:ree,AutoOrganizer:see,Monitoring:hee},RO={mainPage:"Dashboard",Pages:Qee,Layout:Yee};function Xee({}){var s;const t=_c().pathname.substring(1),{data:n,isFetched:r}=zt({queryKey:["user"],queryFn:async()=>{try{return{user:await ke.auth.me(),isAuthenticated:!0}}catch{return{user:null,isAuthenticated:!1}}}});return i.jsx("div",{className:"min-h-screen flex items-center justify-center p-6 bg-slate-50",children:i.jsx("div",{className:"max-w-md w-full",children:i.jsxs("div",{className:"text-center space-y-6",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx("h1",{className:"text-7xl font-light text-slate-300",children:"404"}),i.jsx("div",{className:"h-0.5 w-16 bg-slate-200 mx-auto"})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsx("h2",{className:"text-2xl font-medium text-slate-800",children:"Page Not Found"}),i.jsxs("p",{className:"text-slate-600 leading-relaxed",children:["The page ",i.jsxs("span",{className:"font-medium text-slate-700",children:['"',t,'"']})," could not be found in this application."]})]}),r&&n.isAuthenticated&&((s=n.user)==null?void 0:s.role)==="admin"&&i.jsx("div",{className:"mt-8 p-4 bg-slate-100 rounded-lg border border-slate-200",children:i.jsxs("div",{className:"flex items-start space-x-3",children:[i.jsx("div",{className:"flex-shrink-0 w-5 h-5 rounded-full bg-orange-100 flex items-center justify-center mt-0.5",children:i.jsx("div",{className:"w-2 h-2 rounded-full bg-orange-400"})}),i.jsxs("div",{className:"text-left space-y-1",children:[i.jsx("p",{className:"text-sm font-medium text-slate-700",children:"Admin Note"}),i.jsx("p",{className:"text-sm text-slate-600 leading-relaxed",children:"This could mean that the AI hasn't implemented this page yet. Ask it to implement it in the chat."})]})]})}),i.jsx("div",{className:"pt-6",children:i.jsxs("button",{onClick:()=>window.location.href="/",className:"inline-flex items-center px-4 py-2 text-sm font-medium text-slate-700 bg-white border border-slate-200 rounded-lg hover:bg-slate-50 hover:border-slate-300 transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-slate-500",children:[i.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})}),"Go Home"]})})]})})})}const IO=typeof window>"u",Jee=IO?{localStorage:new Map}:window,Gf=Jee.localStorage,Zee=e=>e.replace(/([A-Z])/g,"_$1").toLowerCase(),bu=(e,{defaultValue:t=void 0,removeFromUrl:n=!1}={})=>{if(IO)return t;const r=`base44_${Zee(e)}`,s=new URLSearchParams(window.location.search),o=s.get(e);if(n){s.delete(e);const u=`${window.location.pathname}${s.toString()?`?${s.toString()}`:""}${window.location.hash}`;window.history.replaceState({},document.title,u)}if(o)return Gf.setItem(r,o),o;if(t)return Gf.setItem(r,t),t;const l=Gf.getItem(r);return l||null},ete=()=>(bu("clear_access_token")==="true"&&(Gf.removeItem("base44_access_token"),Gf.removeItem("token")),{appId:bu("app_id",{defaultValue:void 0}),token:bu("access_token",{removeFromUrl:!0}),fromUrl:bu("from_url",{defaultValue:window.location.href}),functionsVersion:bu("functions_version",{defaultValue:void 0}),appBaseUrl:bu("app_base_url",{defaultValue:void 0})});({...ete()});const nj=b.createContext(null),tte=({children:e})=>{const[t,n]=b.useState(null),[r,s]=b.useState(!1),[o,l]=b.useState(!0),[u,d]=b.useState(!0),[f,p]=b.useState(null),[m,x]=b.useState(null);b.useEffect(()=>{v()},[]);const v=async()=>{try{d(!0),p(null),console.log("Running in standalone mode - skipping Base44 app state check"),x({appId:"ai-study-buddy-local",name:"AI Study Buddy",standalone:!0}),n({id:"user_123",full_name:"Study Buddy",email:"student@studybuddy.ai"}),s(!0),l(!1),d(!1)}catch(_){console.error("Unexpected error in checkAppState:",_),d(!1),l(!1)}},S=(_=!0)=>{n(null),s(!1),ke.auth.logout()},N=()=>{ke.auth.redirectToLogin(window.location.href)};return i.jsx(nj.Provider,{value:{user:t,isAuthenticated:r,isLoadingAuth:o,isLoadingPublicSettings:u,authError:f,appPublicSettings:m,logout:S,navigateToLogin:N,checkAppState:v},children:e})},nte=()=>{const e=b.useContext(nj);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e};function rte(){const e=_c(),{isAuthenticated:t}=nte(),{Pages:n,mainPage:r}=RO,s=r;return b.useEffect(()=>{const o=e.pathname;let l;if(o==="/"||o==="")l=s;else{const u=o.replace(/^\//,"").split("/")[0];l=Object.keys(n).find(p=>p.toLowerCase()===u.toLowerCase())||null}l&&ke.appLogs.logUserInApp(l).catch(()=>{})},[e,t,n,s]),null}function ste(){const e=_c(),{id:t}=kV(),n=b.useContext(nj),r=n==null?void 0:n.user,s=b.useRef(r),o=b.useRef(t),l=b.useRef(Date.now()),u=b.useRef(e.pathname);return b.useEffect(()=>{s.current=r,o.current=t},[r,t]),b.useEffect(()=>{const d=async()=>{var v;const m=Date.now()-l.current,x=Math.round(m/6e4);if(x>=1){const S=u.current;let N=o.current;if(!N&&S.includes("/modules/")){const _=S.split("/");N=_[_.indexOf("modules")+1]}try{await Wt.table("studySessions").add({date:new Date().toISOString(),duration_minutes:x,module_id:N||"general",path:S,user_id:((v=s.current)==null?void 0:v.id)||"anonymous"}),console.log(`Logged study session: ${x} mins on ${S}`)}catch(_){console.error("Failed to log study session:",_)}}l.current=Date.now()};u.current!==e.pathname&&(d(),u.current=e.pathname);const f=()=>{document.visibilityState==="hidden"?d():l.current=Date.now()};return document.addEventListener("visibilitychange",f),window.addEventListener("beforeunload",d),()=>{d(),document.removeEventListener("visibilitychange",f),window.removeEventListener("beforeunload",d)}},[e.pathname]),null}const{Pages:MO,Layout:cC,mainPage:ite}=RO,OO=ite,ate=MO[OO],uC=({children:e,currentPageName:t})=>cC?i.jsx(cC,{currentPageName:t,children:e}):i.jsx(i.Fragment,{children:e}),ote=()=>i.jsxs(zV,{children:[i.jsx(Om,{path:"/",element:i.jsx(uC,{currentPageName:OO,children:i.jsx(ate,{})})}),Object.entries(MO).map(([e,t])=>i.jsx(Om,{path:`/${e}`,element:i.jsx(uC,{currentPageName:e,children:i.jsx(t,{})})},e)),i.jsx(Om,{path:"*",element:i.jsx(Xee,{})})]});function lte(){return i.jsx(hL,{client:kL,children:i.jsx(tte,{children:i.jsxs(HU,{children:[i.jsxs(GV,{children:[i.jsx(rte,{}),i.jsx(ste,{}),i.jsx(ote,{})]}),i.jsx(U6,{})]})})})}class cte extends jr.Component{constructor(t){super(t),this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(t){return{hasError:!0}}componentDidCatch(t,n){this.setState({error:t,errorInfo:n}),console.error("Uncaught error:",t,n)}render(){return this.state.hasError?i.jsx("div",{className:"min-h-screen bg-slate-50 flex items-center justify-center p-6",children:i.jsxs("div",{className:"max-w-md w-full bg-white rounded-[2.5rem] shadow-2xl overflow-hidden border border-slate-100",children:[i.jsx("div",{className:"bg-rose-500 p-8 flex justify-center",children:i.jsx("div",{className:"w-20 h-20 rounded-2xl bg-white/20 backdrop-blur-md flex items-center justify-center border border-white/30",children:i.jsx(Jo,{className:"w-10 h-10 text-white"})})}),i.jsxs("div",{className:"p-8 text-center space-y-6",children:[i.jsx("h2",{className:"text-2xl font-black text-slate-900 tracking-tight",children:"Something went wrong"}),i.jsx("p",{className:"text-slate-600 leading-relaxed font-medium",children:"The application encountered an unexpected error. Don't worry, your data is safe."}),this.state.error&&i.jsx("div",{className:"p-4 bg-slate-50 rounded-2xl border border-slate-100 text-left",children:i.jsx("p",{className:"text-xs font-mono text-slate-500 break-all",children:this.state.error.toString()})}),i.jsxs("div",{className:"flex flex-col gap-3",children:[i.jsxs(Oe,{onClick:()=>window.location.reload(),className:"w-full bg-slate-900 text-white hover:bg-slate-800 h-14 rounded-2xl font-bold flex items-center justify-center gap-2 group",children:[i.jsx(pc,{className:"w-5 h-5 group-hover:rotate-180 transition-transform duration-500"}),"Restart Application"]}),i.jsxs(Oe,{variant:"ghost",onClick:()=>window.location.href="/",className:"w-full h-14 rounded-2xl font-bold text-slate-500 hover:text-slate-900 flex items-center justify-center gap-2",children:[i.jsx(JD,{className:"w-5 h-5"}),"Return Home"]})]})]}),i.jsx("div",{className:"px-8 py-4 bg-slate-50 border-t border-slate-100 text-center",children:i.jsx("p",{className:"text-[10px] font-black uppercase tracking-[0.2em] text-slate-400",children:"Error Intelligence Protocol Active"})})]})}):this.props.children}}const ute=({children:e})=>{const[t,n]=b.useState(!1),[r,s]=b.useState(!0),[o,l]=b.useState(!1);b.useEffect(()=>{localStorage.getItem("eula_accepted_v1")==="true"&&n(!0),s(!1)},[]);const u=()=>{o&&(localStorage.setItem("eula_accepted_v1","true"),n(!0))};return r?null:t?e:i.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",background:"#0f172a",color:"#f1f5f9",display:"flex",justifyContent:"center",alignItems:"center",zIndex:9999999,fontFamily:"system-ui, -apple-system, sans-serif",padding:"20px"},children:i.jsxs("div",{style:{background:"#1e293b",padding:"40px",borderRadius:"24px",maxWidth:"840px",width:"100%",maxHeight:"85vh",display:"flex",flexDirection:"column",boxShadow:"0 25px 50px -12px rgba(0, 0, 0, 0.5), 0 0 40px rgba(59, 130, 246, 0.1)",border:"1px solid rgba(255,255,255,0.05)",position:"relative",overflow:"hidden"},children:[i.jsx("div",{style:{position:"absolute",top:"-100px",right:"-100px",width:"300px",height:"300px",background:"radial-gradient(circle, rgba(59, 130, 246, 0.15) 0%, transparent 70%)",zIndex:0}}),i.jsxs("div",{style:{position:"relative",zIndex:1,display:"flex",flexDirection:"column",height:"100%"},children:[i.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"15px",marginBottom:"25px"},children:[i.jsx("div",{style:{fontSize:"32px"},children:""}),i.jsx("h1",{style:{fontSize:"28px",fontWeight:"800",margin:0,color:"#f8fafc",letterSpacing:"-0.5px"},children:"License Agreement"})]}),i.jsxs("div",{style:{flex:1,overflowY:"auto",background:"rgba(15, 23, 42, 0.6)",padding:"24px",borderRadius:"16px",fontSize:"15px",lineHeight:"1.7",color:"#94a3b8",marginBottom:"20px",border:"1px solid rgba(255,255,255,0.05)",boxShadow:"inset 0 2px 4px rgba(0,0,0,0.2)"},children:[i.jsx("h2",{style:{color:"#3b82f6",marginBottom:"16px",fontSize:"18px",fontWeight:"600"},children:"Nabster Tsr Study Buddy EULA"}),i.jsxs("p",{style:{marginBottom:"12px"},children:['This End-User License Agreement ("EULA") is a legal agreement between you and ',i.jsx("b",{children:"Nabster Tsr"}),"."]}),i.jsx("div",{style:{background:"rgba(59, 130, 246, 0.05)",padding:"16px",borderRadius:"12px",borderLeft:"4px solid #3b82f6",marginBottom:"20px"},children:i.jsx("p",{style:{margin:0,color:"#cbd5e1",fontWeight:"500"},children:"By agreeing, you acknowledge that:"})}),i.jsxs("ul",{style:{paddingLeft:"20px",marginBottom:"20px"},children:[i.jsxs("li",{style:{marginBottom:"8px"},children:["The software is provided ",i.jsx("b",{children:'"AS IS"'})," without warranty."]}),i.jsx("li",{style:{marginBottom:"8px"},children:"Academic accuracy is not guaranteed; verify all AI content."}),i.jsx("li",{style:{marginBottom:"8px"},children:"Your study documents are processed locally via sidecars."}),i.jsx("li",{style:{marginBottom:"8px"},children:"Usage data is stored locally in your Application Data folder."})]}),i.jsx("p",{style:{fontSize:"13px",fontStyle:"italic",color:"#64748b"},children:"A full copy of the EULA.md is included in your application folder."})]}),i.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"25px",padding:"10px 0",cursor:"pointer"},onClick:()=>l(!o),children:[i.jsx("input",{type:"checkbox",checked:o,onChange:()=>{},style:{width:"20px",height:"20px",cursor:"pointer",accentColor:"#3b82f6"}}),i.jsx("label",{style:{fontSize:"15px",color:"#cbd5e1",cursor:"pointer"},children:"I have read and agree to the End-User License Agreement"})]}),i.jsxs("div",{style:{display:"flex",gap:"20px",alignItems:"center"},children:[i.jsx("button",{onClick:u,disabled:!o,style:{background:o?"linear-gradient(135deg, #3b82f6 0%, #2563eb 100%)":"#334155",color:o?"white":"#94a3b8",border:"none",padding:"16px 32px",borderRadius:"12px",fontWeight:"700",fontSize:"16px",cursor:o?"pointer":"not-allowed",flex:2,boxShadow:o?"0 10px 15px -3px rgba(59, 130, 246, 0.4)":"none",transition:"all 0.2s ease",opacity:o?1:.6},children:"I Agree & Continue"}),i.jsx("button",{onClick:()=>window.close(),style:{background:"transparent",color:"#94a3b8",border:"1px solid #334155",padding:"16px 24px",borderRadius:"12px",fontWeight:"600",cursor:"pointer",flex:1,transition:"all 0.2s ease"},children:"Decline"})]})]})]})})};/*! Capacitor: https://capacitorjs.com/ - MIT License */var id;(function(e){e.Unimplemented="UNIMPLEMENTED",e.Unavailable="UNAVAILABLE"})(id||(id={}));class dv extends Error{constructor(t,n,r){super(t),this.message=t,this.code=n,this.data=r}}const dte=e=>{var t,n;return e!=null&&e.androidBridge?"android":!((n=(t=e==null?void 0:e.webkit)===null||t===void 0?void 0:t.messageHandlers)===null||n===void 0)&&n.bridge?"ios":"web"},fte=e=>{const t=e.CapacitorCustomPlatform||null,n=e.Capacitor||{},r=n.Plugins=n.Plugins||{},s=()=>t!==null?t.name:dte(e),o=()=>s()!=="web",l=m=>{const x=f.get(m);return!!(x!=null&&x.platforms.has(s())||u(m))},u=m=>{var x;return(x=n.PluginHeaders)===null||x===void 0?void 0:x.find(v=>v.name===m)},d=m=>e.console.error(m),f=new Map,p=(m,x={})=>{const v=f.get(m);if(v)return console.warn(`Capacitor plugin "${m}" already registered. Cannot register plugins twice.`),v.proxy;const S=s(),N=u(m);let _;const P=async()=>(!_&&S in x?_=typeof x[S]=="function"?_=await x[S]():_=x[S]:t!==null&&!_&&"web"in x&&(_=typeof x.web=="function"?_=await x.web():_=x.web),_),T=(W,F)=>{var Y,H;if(N){const ee=N==null?void 0:N.methods.find(ve=>F===ve.name);if(ee)return ee.rtype==="promise"?ve=>n.nativePromise(m,F.toString(),ve):(ve,ae)=>n.nativeCallback(m,F.toString(),ve,ae);if(W)return(Y=W[F])===null||Y===void 0?void 0:Y.bind(W)}else{if(W)return(H=W[F])===null||H===void 0?void 0:H.bind(W);throw new dv(`"${m}" plugin is not implemented on ${S}`,id.Unimplemented)}},I=W=>{let F;const Y=(...H)=>{const ee=P().then(ve=>{const ae=T(ve,W);if(ae){const he=ae(...H);return F=he==null?void 0:he.remove,he}else throw new dv(`"${m}.${W}()" is not implemented on ${S}`,id.Unimplemented)});return W==="addListener"&&(ee.remove=async()=>F()),ee};return Y.toString=()=>`${W.toString()}() { [capacitor code] }`,Object.defineProperty(Y,"name",{value:W,writable:!1,configurable:!1}),Y},L=I("addListener"),z=I("removeListener"),$=(W,F)=>{const Y=L({eventName:W},F),H=async()=>{const ve=await Y;z({eventName:W,callbackId:ve},F)},ee=new Promise(ve=>Y.then(()=>ve({remove:H})));return ee.remove=async()=>{console.warn("Using addListener() without 'await' is deprecated."),await H()},ee},V=new Proxy({},{get(W,F){switch(F){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return N?$:L;case"removeListener":return z;default:return I(F)}}});return r[m]=V,f.set(m,{name:m,proxy:V,platforms:new Set([...Object.keys(x),...N?[S]:[]])}),V};return n.convertFileSrc||(n.convertFileSrc=m=>m),n.getPlatform=s,n.handleError=d,n.isNativePlatform=o,n.isPluginAvailable=l,n.registerPlugin=p,n.Exception=dv,n.DEBUG=!!n.DEBUG,n.isLoggingEnabled=!!n.isLoggingEnabled,n},hte=e=>e.Capacitor=fte(e),$b=hte(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),Fx=$b.registerPlugin;class rj{constructor(){this.listeners={},this.retainedEventArguments={},this.windowListeners={}}addListener(t,n){let r=!1;this.listeners[t]||(this.listeners[t]=[],r=!0),this.listeners[t].push(n);const o=this.windowListeners[t];o&&!o.registered&&this.addWindowListener(o),r&&this.sendRetainedArgumentsForEvent(t);const l=async()=>this.removeListener(t,n);return Promise.resolve({remove:l})}async removeAllListeners(){this.listeners={};for(const t in this.windowListeners)this.removeWindowListener(this.windowListeners[t]);this.windowListeners={}}notifyListeners(t,n,r){const s=this.listeners[t];if(!s){if(r){let o=this.retainedEventArguments[t];o||(o=[]),o.push(n),this.retainedEventArguments[t]=o}return}s.forEach(o=>o(n))}hasListeners(t){var n;return!!(!((n=this.listeners[t])===null||n===void 0)&&n.length)}registerWindowListener(t,n){this.windowListeners[n]={registered:!1,windowEventName:t,pluginEventName:n,handler:r=>{this.notifyListeners(n,r)}}}unimplemented(t="not implemented"){return new $b.Exception(t,id.Unimplemented)}unavailable(t="not available"){return new $b.Exception(t,id.Unavailable)}async removeListener(t,n){const r=this.listeners[t];if(!r)return;const s=r.indexOf(n);this.listeners[t].splice(s,1),this.listeners[t].length||this.removeWindowListener(this.windowListeners[t])}addWindowListener(t){window.addEventListener(t.windowEventName,t.handler),t.registered=!0}removeWindowListener(t){t&&(window.removeEventListener(t.windowEventName,t.handler),t.registered=!1)}sendRetainedArgumentsForEvent(t){const n=this.retainedEventArguments[t];n&&(delete this.retainedEventArguments[t],n.forEach(r=>{this.notifyListeners(t,r)}))}}const dC=e=>encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),fC=e=>e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class pte extends rj{async getCookies(){const t=document.cookie,n={};return t.split(";").forEach(r=>{if(r.length<=0)return;let[s,o]=r.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");s=fC(s).trim(),o=fC(o).trim(),n[s]=o}),n}async setCookie(t){try{const n=dC(t.key),r=dC(t.value),s=`; expires=${(t.expires||"").replace("expires=","")}`,o=(t.path||"/").replace("path=",""),l=t.url!=null&&t.url.length>0?`domain=${t.url}`:"";document.cookie=`${n}=${r||""}${s}; path=${o}; ${l};`}catch(n){return Promise.reject(n)}}async deleteCookie(t){try{document.cookie=`${t.key}=; Max-Age=0`}catch(n){return Promise.reject(n)}}async clearCookies(){try{const t=document.cookie.split(";")||[];for(const n of t)document.cookie=n.replace(/^ +/,"").replace(/=.*/,`=;expires=${new Date().toUTCString()};path=/`)}catch(t){return Promise.reject(t)}}async clearAllCookies(){try{await this.clearCookies()}catch(t){return Promise.reject(t)}}}Fx("CapacitorCookies",{web:()=>new pte});const mte=async e=>new Promise((t,n)=>{const r=new FileReader;r.onload=()=>{const s=r.result;t(s.indexOf(",")>=0?s.split(",")[1]:s)},r.onerror=s=>n(s),r.readAsDataURL(e)}),gte=(e={})=>{const t=Object.keys(e);return Object.keys(e).map(s=>s.toLocaleLowerCase()).reduce((s,o,l)=>(s[o]=e[t[l]],s),{})},xte=(e,t=!0)=>e?Object.entries(e).reduce((r,s)=>{const[o,l]=s;let u,d;return Array.isArray(l)?(d="",l.forEach(f=>{u=t?encodeURIComponent(f):f,d+=`${o}=${u}&`}),d.slice(0,-1)):(u=t?encodeURIComponent(l):l,d=`${o}=${u}`),`${r}&${d}`},"").substr(1):null,yte=(e,t={})=>{const n=Object.assign({method:e.method||"GET",headers:e.headers},t),s=gte(e.headers)["content-type"]||"";if(typeof e.data=="string")n.body=e.data;else if(s.includes("application/x-www-form-urlencoded")){const o=new URLSearchParams;for(const[l,u]of Object.entries(e.data||{}))o.set(l,u);n.body=o.toString()}else if(s.includes("multipart/form-data")||e.data instanceof FormData){const o=new FormData;if(e.data instanceof FormData)e.data.forEach((u,d)=>{o.append(d,u)});else for(const u of Object.keys(e.data))o.append(u,e.data[u]);n.body=o;const l=new Headers(n.headers);l.delete("content-type"),n.headers=l}else(s.includes("application/json")||typeof e.data=="object")&&(n.body=JSON.stringify(e.data));return n};class vte extends rj{async request(t){const n=yte(t,t.webFetchExtra),r=xte(t.params,t.shouldEncodeUrlParams),s=r?`${t.url}?${r}`:t.url,o=await fetch(s,n),l=o.headers.get("content-type")||"";let{responseType:u="text"}=o.ok?t:{};l.includes("application/json")&&(u="json");let d,f;switch(u){case"arraybuffer":case"blob":f=await o.blob(),d=await mte(f);break;case"json":d=await o.json();break;case"document":case"text":default:d=await o.text()}const p={};return o.headers.forEach((m,x)=>{p[x]=m}),{data:d,headers:p,status:o.status,url:o.url}}async get(t){return this.request(Object.assign(Object.assign({},t),{method:"GET"}))}async post(t){return this.request(Object.assign(Object.assign({},t),{method:"POST"}))}async put(t){return this.request(Object.assign(Object.assign({},t),{method:"PUT"}))}async patch(t){return this.request(Object.assign(Object.assign({},t),{method:"PATCH"}))}async delete(t){return this.request(Object.assign(Object.assign({},t),{method:"DELETE"}))}}Fx("CapacitorHttp",{web:()=>new vte});var hC;(function(e){e.Dark="DARK",e.Light="LIGHT",e.Default="DEFAULT"})(hC||(hC={}));var pC;(function(e){e.StatusBar="StatusBar",e.NavigationBar="NavigationBar"})(pC||(pC={}));class bte extends rj{async setStyle(){this.unavailable("not available for web")}async setAnimation(){this.unavailable("not available for web")}async show(){this.unavailable("not available for web")}async hide(){this.unavailable("not available for web")}}Fx("SystemBars",{web:()=>new bte});const mC=Fx("App",{web:()=>bs(()=>import("./web-DN34Ja3j.js"),[],import.meta.url).then(e=>new e.AppWeb)});mC.addListener("backButton",({canGoBack:e})=>{e?window.history.back():mC.exitApp()});L4.createRoot(document.getElementById("root")).render(i.jsx(cte,{children:i.jsx(ute,{children:i.jsx(lte,{})})}));export{rj as W};
